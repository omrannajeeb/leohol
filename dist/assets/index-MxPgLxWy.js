const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/whatsappService-utnH2MkR.js","assets/react-G-HSLdLB.js","assets/vendor-ByivMYyX.js"])))=>i.map(i=>d[i]);
var xH=Object.defineProperty;var yH=(e,t,r)=>t in e?xH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var c_=(e,t,r)=>yH(e,typeof t!="symbol"?t+"":t,r);import{r as N,R as ne,a as Af,L as Vn,u as Ea,c as js,b as Nd,d as T2,N as DP,g as yr,e as vH,f as RP,h as MP,i as Pl,j as Lm,k as bH,O as wH,l as jH}from"./react-G-HSLdLB.js";import{a as Lx}from"./vendor-ByivMYyX.js";function NH(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var LP={exports:{}},Cv={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SH=N,kH=Symbol.for("react.element"),CH=Symbol.for("react.fragment"),AH=Object.prototype.hasOwnProperty,_H=SH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EH={key:!0,ref:!0,__self:!0,__source:!0};function $P(e,t,r){var a,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)AH.call(t,a)&&!EH.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:kH,type:e,key:i,ref:o,props:s,_owner:_H.current}}Cv.Fragment=CH;Cv.jsx=$P;Cv.jsxs=$P;LP.exports=Cv;var n=LP.exports;const TH=N.createContext(null),Y1={didCatch:!1,error:null};let OH=class extends N.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Y1}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var r,a,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];(r=(a=this.props).onReset)===null||r===void 0||r.call(a,{args:i,reason:"imperative-api"}),this.setState(Y1)}}componentDidCatch(t,r){var a,s;(a=(s=this.props).onError)===null||a===void 0||a.call(s,t,r)}componentDidUpdate(t,r){const{didCatch:a}=this.state,{resetKeys:s}=this.props;if(a&&r.error!==null&&PH(t.resetKeys,s)){var i,o;(i=(o=this.props).onReset)===null||i===void 0||i.call(o,{next:s,prev:t.resetKeys,reason:"keys"}),this.setState(Y1)}}render(){const{children:t,fallbackRender:r,FallbackComponent:a,fallback:s}=this.props,{didCatch:i,error:o}=this.state;let l=t;if(i){const c={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")l=r(c);else if(a)l=N.createElement(a,c);else if(s!==void 0)l=s;else throw o}return N.createElement(TH.Provider,{value:{didCatch:i,error:o,resetErrorBoundary:this.resetErrorBoundary}},l)}};function PH(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((r,a)=>!Object.is(r,t[a]))}function IH({error:e,resetErrorBoundary:t}){return n.jsxs("div",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem",direction:"ltr"},children:[n.jsx("h1",{style:{fontSize:"1.25rem",fontWeight:600,marginBottom:"0.75rem"},children:"Something went wrong"}),n.jsx("p",{style:{marginBottom:"1rem"},children:"An unexpected error occurred while loading the application."}),!1,n.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[n.jsx("button",{onClick:()=>window.location.reload(),style:J1,children:"Reload"}),n.jsx("button",{onClick:t,style:{...J1,background:"#6b7280"},children:"Try Again"}),n.jsx("button",{onClick:FH,style:{...J1,background:"#0d9488"},children:"Copy Diagnostics"})]})]})}const J1={background:"#DC2626",color:"#fff",border:"none",padding:"0.6rem 1rem",borderRadius:6,cursor:"pointer",fontSize:14,fontWeight:500};function FH(){try{const e=localStorage.getItem("__app_diagnostics__")||"No diagnostics stored";navigator.clipboard.writeText(e),alert("Diagnostics copied to clipboard")}catch(e){}}const DH=({children:e})=>(ne.useEffect(()=>{function t(s,i){try{const o=localStorage.getItem("__app_diagnostics__"),l=`[${new Date().toISOString()}] ${s}: ${i}`,c=o?`${o}
${l}`:l;localStorage.setItem("__app_diagnostics__",c.slice(-8e3))}catch(o){}}const r=s=>t("error",`${s.message} @ ${s.filename}:${s.lineno}:${s.colno}`),a=s=>{var i;return t("unhandledrejection",String(((i=s.reason)==null?void 0:i.stack)||s.reason))};return window.addEventListener("error",r),window.addEventListener("unhandledrejection",a),()=>{window.removeEventListener("error",r),window.removeEventListener("unhandledrejection",a)}},[]),n.jsx(OH,{FallbackComponent:IH,onReset:()=>{},children:e}));var BP,d_=Af;BP=d_.createRoot,d_.hydrateRoot;let RH={data:""},MH=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||RH,LH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$H=/\/\*[^]*?\*\/|  +/g,u_=/\n+/g,Dl=(e,t)=>{let r="",a="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":a+=i[1]=="f"?Dl(o,i):i+"{"+Dl(o,i[1]=="k"?"":t)+"}":typeof o=="object"?a+=Dl(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Dl.p?Dl.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+a},Wo={},UP=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+UP(e[r]);return t}return e},BH=(e,t,r,a,s)=>{let i=UP(e),o=Wo[i]||(Wo[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Wo[o]){let c=i!==e?e:(d=>{let u,f,h=[{}];for(;u=LH.exec(d.replace($H,""));)u[4]?h.shift():u[3]?(f=u[3].replace(u_," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(u_," ").trim();return h[0]})(e);Wo[o]=Dl(s?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Wo.g?Wo.g:null;return r&&(Wo.g=Wo[o]),((c,d,u,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Wo[o],t,a,l),o},UH=(e,t,r)=>e.reduce((a,s,i)=>{let o=t[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Dl(l,""):l===!1?"":l}return a+s+(o==null?"":o)},"");function Av(e){let t=this||{},r=e.call?e(t.p):e;return BH(r.unshift?r.raw?UH(r,[].slice.call(arguments,1),t.p):r.reduce((a,s)=>Object.assign(a,s&&s.call?s(t.p):s),{}):r,MH(t.target),t.g,t.o,t.k)}let WP,vj,bj;Av.bind({g:1});let sl=Av.bind({k:1});function WH(e,t,r,a){Dl.p=t,WP=e,vj=r,bj=a}function lc(e,t){let r=this||{};return function(){let a=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:vj&&vj()},l),r.o=/ *go\d+/.test(c),l.className=Av.apply(r,a)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),bj&&d[0]&&bj(l),WP(d,l)}return s}}var zH=e=>typeof e=="function",$x=(e,t)=>zH(e)?e(t):e,HH=(()=>{let e=0;return()=>(++e).toString()})(),zP=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),VH=20,O2="default",HP=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:a}=t;return HP(e,{type:e.toasts.find(o=>o.id===a.id)?1:0,toast:a});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Tx=[],VP={toasts:[],pausedAt:void 0,settings:{toastLimit:VH}},go={},GP=(e,t=O2)=>{go[t]=HP(go[t]||VP,e),Tx.forEach(([r,a])=>{r===t&&a(go[t])})},qP=e=>Object.keys(go).forEach(t=>GP(e,t)),GH=e=>Object.keys(go).find(t=>go[t].toasts.some(r=>r.id===e)),_v=(e=O2)=>t=>{GP(t,e)},qH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},KH=(e={},t=O2)=>{let[r,a]=N.useState(go[t]||VP),s=N.useRef(go[t]);N.useEffect(()=>(s.current!==go[t]&&a(go[t]),Tx.push([t,a]),()=>{let o=Tx.findIndex(([l])=>l===t);o>-1&&Tx.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var l,c,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||qH[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...r,toasts:i}},XH=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||HH()}),tp=e=>(t,r)=>{let a=XH(t,e,r);return _v(a.toasterId||GH(a.id))({type:2,toast:a}),a.id},z=(e,t)=>tp("blank")(e,t);z.error=tp("error");z.success=tp("success");z.loading=tp("loading");z.custom=tp("custom");z.dismiss=(e,t)=>{let r={type:3,toastId:e};t?_v(t)(r):qP(r)};z.dismissAll=e=>z.dismiss(void 0,e);z.remove=(e,t)=>{let r={type:4,toastId:e};t?_v(t)(r):qP(r)};z.removeAll=e=>z.remove(void 0,e);z.promise=(e,t,r)=>{let a=z.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?$x(t.success,s):void 0;return i?z.success(i,{id:a,...r,...r==null?void 0:r.success}):z.dismiss(a),s}).catch(s=>{let i=t.error?$x(t.error,s):void 0;i?z.error(i,{id:a,...r,...r==null?void 0:r.error}):z.dismiss(a)}),e};var YH=1e3,JH=(e,t="default")=>{let{toasts:r,pausedAt:a}=KH(e,t),s=N.useRef(new Map).current,i=N.useCallback((f,h=YH)=>{if(s.has(f))return;let m=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},h);s.set(f,m)},[]);N.useEffect(()=>{if(a)return;let f=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(p<0){m.visible&&z.dismiss(m.id);return}return setTimeout(()=>z.dismiss(m.id,t),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,a,t]);let o=N.useCallback(_v(t),[t]),l=N.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=N.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),d=N.useCallback(()=>{a&&o({type:6,time:Date.now()})},[a,o]),u=N.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:x}=h||{},y=r.filter(j=>(j.position||x)===(f.position||x)&&j.height),v=y.findIndex(j=>j.id===f.id),w=y.filter((j,A)=>A<v&&j.visible).length;return y.filter(j=>j.visible).slice(...m?[w+1]:[0,w]).reduce((j,A)=>j+(A.height||0)+p,0)},[r]);return N.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},ZH=sl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,QH=sl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eV=sl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,tV=lc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${QH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${eV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rV=sl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,nV=lc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${rV} 1s linear infinite;
`,aV=sl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sV=sl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,iV=lc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,oV=lc("div")`
  position: absolute;
`,lV=lc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,cV=sl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dV=lc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${cV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,uV=({toast:e})=>{let{icon:t,type:r,iconTheme:a}=e;return t!==void 0?typeof t=="string"?N.createElement(dV,null,t):t:r==="blank"?null:N.createElement(lV,null,N.createElement(nV,{...a}),r!=="loading"&&N.createElement(oV,null,r==="error"?N.createElement(tV,{...a}):N.createElement(iV,{...a})))},fV=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hV=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,mV="0%{opacity:0;} 100%{opacity:1;}",pV="0%{opacity:1;} 100%{opacity:0;}",gV=lc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xV=lc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,yV=(e,t)=>{let r=e.includes("top")?1:-1,[a,s]=zP()?[mV,pV]:[fV(r),hV(r)];return{animation:t?`${sl(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sl(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},vV=N.memo(({toast:e,position:t,style:r,children:a})=>{let s=e.height?yV(e.position||t||"top-center",e.visible):{opacity:0},i=N.createElement(uV,{toast:e}),o=N.createElement(xV,{...e.ariaProps},$x(e.message,e));return N.createElement(gV,{className:e.className,style:{...s,...r,...e.style}},typeof a=="function"?a({icon:i,message:o}):N.createElement(N.Fragment,null,i,o))});WH(N.createElement);var bV=({id:e,className:t,style:r,onHeightUpdate:a,children:s})=>{let i=N.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;a(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,a]);return N.createElement("div",{ref:i,className:t,style:r},s)},wV=(e,t)=>{let r=e.includes("top"),a=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...a,...s}},jV=Av`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Bg=16,NV=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:a,children:s,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=JH(r,i);return N.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Bg,left:Bg,right:Bg,bottom:Bg,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let f=u.position||t,h=d.calculateOffset(u,{reverseOrder:e,gutter:a,defaultPosition:t}),m=wV(f,h);return N.createElement(bV,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?jV:"",style:m},u.type==="custom"?$x(u.message,u):s?s(u):N.createElement(vV,{toast:u,position:f}))}))},Bh=z;const f_={},Ox=4e3;function Z1(e,t=Ox){var s;const r=Date.now(),a=(s=f_[e])!=null?s:0;return r-a<t?!1:(f_[e]=r,!0)}const Il={errorOnce(e,t,r){var s;const a=(s=r==null?void 0:r.cooldownMs)!=null?s:Ox;Z1(t,a)&&z.error(e,{id:t,...r})},successOnce(e,t,r){var s;const a=(s=r==null?void 0:r.cooldownMs)!=null?s:Ox;Z1(t,a)&&z.success(e,{id:t,...r})},once(e,t,r){var s;const a=(s=r==null?void 0:r.cooldownMs)!=null?s:Ox;Z1(t,a)&&z(e,{id:t,...r})}};function Tu(e){const t=String(e||"").trim();if(!t)return"";try{const r=new URL(t);return`${r.protocol}//${r.hostname}${r.port?":"+r.port:""}`}catch(r){return""}}function h_(e){const t=Tu(e);typeof window!="undefined"&&(t?localStorage.setItem("apiBaseUrl",t):localStorage.removeItem("apiBaseUrl"))}function Hl(){var e,t,r,a,s;try{const i=((e=import.meta)==null?void 0:e.env)||{},o=String((i==null?void 0:i.VITE_USE_NETLIFY_PROXY)||"").toLowerCase();if((o==="1"||o==="true"||o==="yes")&&typeof window!="undefined")return`${window.location.protocol}//${window.location.hostname}${window.location.port?":"+window.location.port:""}`}catch(i){}try{if(typeof window!="undefined"){try{const i=window.location.hostname,o=/\.netlify\.(app|live)$/i.test(i),l=((t=import.meta)==null?void 0:t.env)||{},c=String((l==null?void 0:l.VITE_USE_NETLIFY_PROXY)||"").toLowerCase();if(o&&(c==="1"||c==="true"||c==="yes"))return`${window.location.protocol}//${window.location.hostname}${window.location.port?":"+window.location.port:""}`}catch(i){}try{const i=((r=import.meta)==null?void 0:r.env)||{},o=String((i==null?void 0:i.VITE_ALLOW_API_BASE_OVERRIDE)||"").toLowerCase(),l=o==="1"||o==="true"||o==="yes",c=localStorage.getItem("apiBaseUrl");if(l&&c){const d=Tu(c);if(d)try{const u=new URL(d),f=["localhost","127.0.0.1","::1"].includes(u.hostname),h=String((i==null?void 0:i.VITE_USE_LOCAL_API)||"").toLowerCase();if(f&&!(h==="1"||h==="true"||h==="yes"))try{localStorage.removeItem("apiBaseUrl")}catch(p){}else return d}catch(u){}}else if(!l&&c)try{localStorage.removeItem("apiBaseUrl")}catch(d){}}catch(i){}}}catch(i){}try{const i=((a=import.meta)==null?void 0:a.env)||{};if(i!=null&&i.VITE_API_URL){const o=Tu(i.VITE_API_URL);if(o)return o}}catch(i){}if(typeof window!="undefined"){const i=window.location.protocol==="https:",o=window.location.hostname;if(["localhost","127.0.0.1","::1"].includes(o)){try{const c=((s=import.meta)==null?void 0:s.env)||{},d=String((c==null?void 0:c.VITE_USE_LOCAL_API)||"").toLowerCase();if(d==="1"||d==="true"||d==="yes")return`${i?"https":"http"}://${o}:5000`}catch(c){}return"https://leohol.onrender.com"}return"https://leohol.onrender.com"}return"https://leohol.onrender.com"}function KP(){return Hl()}function SV(){const e=Hl();try{const t=new URL(e);return`${t.protocol==="https:"?"wss:":"ws:"}//${t.hostname}${t.port?":"+t.port:""}`}catch(t){return"wss://leohol.onrender.com"}}function XP(){return Lx.create({baseURL:KP(),headers:{"Content-Type":"application/json"},timeout:3e4})}let ra=XP();function YP(e){e.interceptors.request.use(t=>{let r=null;try{r=localStorage.getItem("token")}catch(a){}return r&&(t.headers||(t.headers={}),t.headers.Authorization=`Bearer ${r}`),t},t=>Promise.reject(t)),e.interceptors.response.use(t=>t,async t=>{var s,i;if(!t.response)return Il.errorOnce("Network error. Please check your connection.","network-error"),Promise.reject(new Error("Network error"));const r=t.response.status,a=(((s=t.config)==null?void 0:s.method)||"").toLowerCase();if(r===401){const o=!!localStorage.getItem("token");if(localStorage.removeItem("token"),o){Il.errorOnce("Session expired. Please login again.","session-expired");try{window.dispatchEvent(new CustomEvent("auth:logout",{detail:{reason:"401"}}))}catch(l){}}return Promise.reject(t)}switch(r){case 403:Il.errorOnce("You do not have permission to perform this action","forbidden");break;case 404:{if(a==="get")return Promise.resolve({data:null});Il.errorOnce("Resource not found","not-found");break}case 500:Il.errorOnce("Server error. Please try again later.","server-error");break;default:Il.errorOnce(((i=t.response.data)==null?void 0:i.message)||"An error occurred","generic-error")}return Promise.reject(t)})}YP(ra);function bs(e){return!e||/^https?:\/\//i.test(e)||e.startsWith("//")||e.startsWith("/api/")||e==="/api"?e:e.startsWith("/")?`/api${e}`:`/api/${e}`}const po=async(e,t=3)=>{var r;for(let a=0;a<t;a++)try{return await e()}catch(s){const i=(r=s==null?void 0:s.response)==null?void 0:r.status,l=!(i>=400&&i<500)||i===429;if(a===t-1||!l)throw s;await new Promise(c=>setTimeout(c,1e3*Math.pow(2,a)))}},ue={...ra};["get","delete","head","options"].forEach(e=>{ue[e]=(t,r)=>ra[e](bs(t),r)});["post","put","patch"].forEach(e=>{ue[e]=(t,r,a)=>ra[e](bs(t),r,a)});ue.getWithRetry=(e,t)=>po(()=>ra.get(bs(e),t));ue.postWithRetry=(e,t,r)=>po(()=>ra.post(bs(e),t,r));ue.putWithRetry=(e,t,r)=>po(()=>ra.put(bs(e),t,r));ue.patchWithRetry=(e,t,r)=>po(()=>ra.patch(bs(e),t,r));ue.deleteWithRetry=(e,t)=>po(()=>ra.delete(bs(e),t));function m_(){ra=XP(),YP(ra),["get","delete","head","options"].forEach(e=>{ue[e]=(t,r)=>ra[e](bs(t),r)}),["post","put","patch"].forEach(e=>{ue[e]=(t,r,a)=>ra[e](bs(t),r,a)}),ue.getWithRetry=(e,t)=>po(()=>ra.get(bs(e),t)),ue.postWithRetry=(e,t,r)=>po(()=>ra.post(bs(e),t,r)),ue.putWithRetry=(e,t,r)=>po(()=>ra.put(bs(e),t,r)),ue.patchWithRetry=(e,t,r)=>po(()=>ra.patch(bs(e),t,r)),ue.deleteWithRetry=(e,t)=>po(()=>ra.delete(bs(e),t))}const JP=N.createContext(void 0),kV=({children:e})=>{const[t,r]=N.useState({enabled:!1,clientId:""}),[a,s]=N.useState(!0),[i,o]=N.useState(null),[l,c]=N.useState(!1),d=ne.useRef(null),u=ne.useRef(!1),f=ne.useRef(null),h=async()=>{var m,p;s(!0),o(null);try{const{data:x}=await ue.get("/auth/config");r(x.google||{enabled:!1,clientId:""})}catch(x){o(((p=(m=x==null?void 0:x.response)==null?void 0:m.data)==null?void 0:p.message)||"Failed to load auth config")}finally{s(!1)}};return N.useEffect(()=>{h()},[]),N.useEffect(()=>{if(u.current)return;u.current=!0;let m=!1,p=0,x=null;const y=3e4;let v=!1,w=!1;(async()=>{try{await fetch(Hl()+"/health",{cache:"no-store"})}catch(k){}})();function j(){var E,T;const k=(T=(E=import.meta)==null?void 0:E.env)==null?void 0:T.VITE_WS_URL;if(k&&typeof k=="string")return k;try{const F=Hl(),O=new URL(F),P=O.protocol==="https:"?"wss:":"ws:";return v?`${P}//${O.host}/api/ws`:`${P}//${O.host}/ws`}catch(F){const O=window.location,P=O.protocol==="https:"?"wss:":"ws:";return v?`${P}//${O.host}/api/ws`:`${P}//${O.host}/ws`}}function A(k,E){if(m)return;p+=1;const T=Math.min(1e3*2**p,y);if(p===2&&!v&&(v=!0,console.warn("[AuthConfig] WS primary path failed, trying fallback /api/ws")),!w&&(p>=2||E===1006)){S();return}console.warn(`[AuthConfig] WS reconnect scheduled in ${T}ms (attempt ${p})${k?" reason: "+k:""}`),setTimeout(()=>{m||C()},T)}function C(){const k=j();try{x=new WebSocket(k),d.current=x,console.log("[AuthConfig] WS connecting",k,"attempt",p),x.onopen=()=>{p=0,m||c(!0);const E=setInterval(()=>{if((x==null?void 0:x.readyState)===WebSocket.OPEN)try{x.send(JSON.stringify({type:"ping"}))}catch(T){}else clearInterval(E)},25e3)},x.onclose=E=>{if(!m){c(!1);const T=E.code;console.warn("[AuthConfig] WS onclose",{code:T,wasClean:E.wasClean,reason:E.reason}),A(`close code=${T}`,T)}},x.onerror=E=>{m||(c(!1),console.warn("[AuthConfig] WS onerror",E),A("error"))},x.onmessage=E=>{var T,F;try{const O=JSON.parse(E.data);if((O==null?void 0:O.type)==="connection_established"&&console.log("[AuthConfig] WS connected via path:",(T=O==null?void 0:O.data)==null?void 0:T.path),(O==null?void 0:O.type)==="settings_updated"&&((F=O==null?void 0:O.data)!=null&&F.googleAuth)){const P=O.data.googleAuth;r({enabled:!!P.enabled,clientId:P.clientId||""})}}catch(O){}}}catch(E){A("constructor-throw")}}function S(){if(w)return;w=!0;const E=Hl()+"/api/settings/stream";try{const T=new EventSource(E,{withCredentials:!1});f.current=T,console.warn("[AuthConfig] Falling back to SSE at",E),T.onopen=()=>{m||c(!0)},T.onerror=()=>{m||c(!1)},T.onmessage=F=>{var O;try{const P=JSON.parse(F.data);if((P==null?void 0:P.type)==="settings_updated"&&((O=P==null?void 0:P.data)!=null&&O.googleAuth)){const W=P.data.googleAuth;r({enabled:!!W.enabled,clientId:W.clientId||""})}}catch(P){}}}catch(T){console.error("[AuthConfig] SSE fallback failed",(T==null?void 0:T.message)||T)}}return C(),()=>{var k;m=!0;try{x==null||x.close()}catch(E){}try{(k=f.current)==null||k.close()}catch(E){}}},[]),n.jsx(JP.Provider,{value:{google:t,refresh:h,loading:a,error:i,wsConnected:l},children:e})};function ZP(){const e=N.useContext(JP);if(!e)throw new Error("useAuthConfig must be used inside AuthConfigProvider");return e}function CV(e=[]){N.useEffect(()=>{const t=document.documentElement,r=()=>{var i;const s=(((i=window.visualViewport)==null?void 0:i.height)||window.innerHeight)*.01;t.style.setProperty("--app-vh",`${s}px`)};r();const a=window.visualViewport;return a?(a.addEventListener("resize",r),a.addEventListener("scroll",r)):window.addEventListener("resize",r),window.addEventListener("orientationchange",r),()=>{const s=window.visualViewport;s?(s.removeEventListener("resize",r),s.removeEventListener("scroll",r)):window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r)}},e)}const QP=N.createContext(void 0);function AV({children:e}){const[t,r]=N.useState(null),[a,s]=N.useState(!0);N.useEffect(()=>{let f=!1;(async()=>{if(localStorage.getItem("token"))try{const x=await ue.getWithRetry("/auth/me");if(f)return;r(y=>({...y||{},id:x.data.id,name:x.data.name,email:x.data.email,role:x.data.role,image:x.data.image}))}catch(x){localStorage.removeItem("token")}f||s(!1)})();const m=()=>{r(null)};return window.addEventListener("auth:logout",m),()=>{f=!0,window.removeEventListener("auth:logout",m)}},[]);const i=async f=>{var h,m;try{const p=await ue.postWithRetry("/auth/login",f,{withCredentials:!0}),{token:x,user:y}=p.data;localStorage.setItem("token",x),localStorage.setItem("auth:everLoggedIn","1"),r(y),z.success("Successfully logged in")}catch(p){const x=((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||"Login failed";throw z.error(x),p}},o=()=>{localStorage.removeItem("token");try{ue.post("/auth/logout",{})}catch(f){}r(null),delete ue.defaults.headers.common.Authorization,z.success("Successfully logged out")},l=async f=>{var h,m;try{const p=await ue.patchWithRetry("/users/profile",f);r(x=>({...x,...p.data.user})),z.success("Profile updated successfully")}catch(p){const x=((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||"Failed to update profile";throw z.error(x),p}},c=async f=>{var h,m;try{await ue.patchWithRetry("/users/password",f),z.success("Password updated successfully")}catch(p){const x=((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||"Failed to update password";throw z.error(x),p}},d=async f=>{var h,m;try{const p=await ue.patchWithRetry("/users/notifications",{preferences:f});r(x=>({...x,notificationPreferences:p.data.preferences})),z.success("Notification preferences updated")}catch(p){const x=((m=(h=p.response)==null?void 0:h.data)==null?void 0:m.message)||"Failed to update notification preferences";throw z.error(x),p}},u=async()=>{var f,h;try{await ue.deleteWithRetry("/users/account"),o(),z.success("Account deleted successfully")}catch(m){const p=((h=(f=m.response)==null?void 0:f.data)==null?void 0:h.message)||"Failed to delete account";throw z.error(p),m}};return a?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsx(QP.Provider,{value:{isAuthenticated:!!t,user:t,login:i,logout:o,updateUser:l,updatePassword:c,updateNotifications:d,deleteAccount:u},children:e})}function ln(){const e=N.useContext(QP);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const $r={AUTH:{LOGIN:"/auth/login",REGISTER:"/auth/register",PROFILE:"/auth/me"},HERO:{LIST:"/hero",ACTIVE:"/hero/active",SLIDER:"/hero/slider",CREATE:"/hero",UPDATE:e=>`/hero/${e}`,DELETE:e=>`/hero/${e}`},PRODUCT_REVIEWS:{ALL:"/products/reviews/all",ADD:e=>`/products/${e}/reviews`,UPDATE:(e,t)=>`/products/${e}/reviews/${t}`,VERIFY:(e,t)=>`/products/${e}/reviews/${t}/verify`,DELETE:(e,t)=>`/products/${e}/reviews/${t}`,MARK_HELPFUL:(e,t)=>`/products/${e}/reviews/${t}/helpful`,REPORT:(e,t)=>`/products/${e}/reviews/${t}/report`},SETTINGS:{GET:"/settings",UPDATE:"/settings",VERSION:"/settings/version",FAVICON_UPLOAD:"/settings/upload/favicon"},ANNOUNCEMENTS:{LIST:"/announcements",ACTIVE:"/announcements/active",CREATE:"/announcements",UPDATE:e=>`/announcements/${e}`,DELETE:e=>`/announcements/${e}`,REORDER:"/announcements/reorder"},BACKGROUNDS:{LIST:"/backgrounds",ACTIVE:"/backgrounds/active",CREATE:"/backgrounds",UPDATE:e=>`/backgrounds/${e}`,DELETE:e=>`/backgrounds/${e}`,REORDER:"/backgrounds/reorder"},LAYOUT:{GET:"/layout",UPDATE:"/layout"},BANNERS:{LIST:"/banners",ACTIVE:"/banners/active",CREATE:"/banners",UPDATE:e=>`/banners/${e}`,DELETE:e=>`/banners/${e}`,REORDER:"/banners/reorder"},BRANDS:{LIST:"/brands",ACTIVE:"/brands/active",CREATE:"/brands",UPDATE:e=>`/brands/${e}`,DELETE:e=>`/brands/${e}`,REORDER:"/brands/reorder",UPLOAD:"/brands/upload"},COUPONS:{LIST:"/coupons",CREATE:"/coupons",GET:e=>`/coupons/${e}`,UPDATE:e=>`/coupons/${e}`,DELETE:e=>`/coupons/${e}`,VALIDATE:"/coupons/validate",APPLY:e=>`/coupons/${e}/apply`}};async function e6(e,t={}){const{maxRetries:r=3,retryDelay:a=1e3,onError:s}=t;let i;for(let o=1;o<=r;o++)try{return await e()}catch(l){if(i=l,s&&s(l),o===r)break;const c=a*Math.pow(2,o-1)*(.5+Math.random()*.5);await new Promise(d=>setTimeout(d,c))}throw i}class _V{async fetchWithRetry(t,r){return e6(async()=>{var a;try{return(await ue.getWithRetry(t)).data}catch(s){if(((a=s.response)==null?void 0:a.status)===404)return r;throw s}},{maxRetries:3,retryDelay:1e3,onError:a=>{console.error("Store service error:",a)}})}async getActiveHero(){return this.fetchWithRetry($r.HERO.ACTIVE,null)}async getHeroSlider(){return this.fetchWithRetry($r.HERO.SLIDER,[])}async getSettings(){return this.fetchWithRetry($r.SETTINGS.GET,{name:"Eva Curves Fashion Store",email:"contact@evacurves.com",currency:"USD",timezone:"UTC",logo:null,logoWidthMobile:56,logoMaxHeightMobile:40,logoWidthDesktop:100,productGridStyle:"standard",productCardStyle:"modern",headerIcons:{showLanguage:!0,showCurrency:!0,showSearch:!0,showWishlist:!0,showCart:!0,showAccount:!0}})}async getSettingsVersion(){return this.fetchWithRetry($r.SETTINGS.VERSION,{version:0,updatedAt:new Date(0).toISOString()})}async getActiveAnnouncements(){return this.fetchWithRetry($r.ANNOUNCEMENTS.ACTIVE,[])}async getActiveBackground(){return this.fetchWithRetry($r.BACKGROUNDS.ACTIVE,null)}async getActiveBanners(){return this.fetchWithRetry($r.BANNERS.ACTIVE,[])}async updateHero(t,r){return(await ue.putWithRetry($r.HERO.UPDATE(t),r)).data}async createHero(t){return(await ue.postWithRetry($r.HERO.CREATE,t)).data}async updateSettings(t){return(await ue.putWithRetry($r.SETTINGS.UPDATE,t)).data}}const mo=new _V;class EV{constructor(){this.enabled=!1,this.voice=null,this.volume=.8,this.rate=1,this.pitch=1,this.synth=window.speechSynthesis,this.initializeVoices()}initializeVoices(){this.synth.getVoices().length===0?this.synth.addEventListener("voiceschanged",()=>{this.setPreferredVoice()}):this.setPreferredVoice()}setPreferredVoice(){const t=this.synth.getVoices(),r=t.filter(a=>a.lang.startsWith("en-")||a.lang==="en");if(r.length>0){const a=r.find(s=>s.name.toLowerCase().includes("female")||s.name.toLowerCase().includes("samantha")||s.name.toLowerCase().includes("victoria")||s.name.toLowerCase().includes("susan"));this.voice=a||r[0]}else this.voice=t[0]||null}enable(){this.enabled=!0,this.speak("Voice notifications enabled")}disable(){this.enabled=!1,this.synth.cancel()}isEnabled(){return this.enabled}setVolume(t){this.volume=Math.max(0,Math.min(1,t))}setRate(t){this.rate=Math.max(.1,Math.min(2,t))}setPitch(t){this.pitch=Math.max(0,Math.min(2,t))}speak(t,r="medium"){if(!this.enabled||!t.trim())return;r==="high"&&this.synth.cancel();const a=new SpeechSynthesisUtterance(t);this.voice&&(a.voice=this.voice),a.volume=this.volume,a.rate=this.rate,a.pitch=this.pitch,a.onerror=s=>{console.warn("Speech synthesis error:",s.error)},this.synth.speak(a)}announceNewOrder(t,r,a){const s=`New order received. Order number ${t} from ${r}. Amount ${a} dollars.`;this.speak(s,"high")}announceOrderUpdate(t,r){const a=`Order ${t} status updated to ${r}.`;this.speak(a,"medium")}announceSalesUpdate(t,r){const a=`Sales update: ${r} orders totaling ${t.toFixed(0)} dollars.`;this.speak(a,"low")}announceInventoryAlert(t){const r=`Inventory alert: ${t}`;this.speak(r,"high")}announceSystemStatus(t){const r=`System ${t}`;this.speak(r,"medium")}test(){this.speak("Voice notification test. This is how order alerts will sound.","medium")}getAvailableVoices(){return this.synth.getVoices()}setVoice(t){this.voice=t}}const Wi=new EV;class TV{constructor(){this.context=null,this.enabled=!0,this.volume=.7,this.initializeAudioContext()}initializeAudioContext(){try{this.context=new(window.AudioContext||window.webkitAudioContext)}catch(t){console.warn("Web Audio API not supported:",t)}}async ensureAudioContext(){if(this.context||this.initializeAudioContext(),this.context&&this.context.state==="suspended")try{await this.context.resume()}catch(t){console.warn("Failed to resume audio context:",t)}}createNotificationSound(t=800,r=.2,a="sine"){if(!this.context||!this.enabled)return;const s=this.context.createOscillator(),i=this.context.createGain();s.connect(i),i.connect(this.context.destination),s.frequency.setValueAtTime(t,this.context.currentTime),s.type=a,i.gain.setValueAtTime(0,this.context.currentTime),i.gain.linearRampToValueAtTime(this.volume*.3,this.context.currentTime+.01),i.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+r),s.start(this.context.currentTime),s.stop(this.context.currentTime+r)}async playNewOrderSound(){if(await this.ensureAudioContext(),!this.enabled||!this.context)return;[523,659,784,1047].forEach((r,a)=>{setTimeout(()=>{this.createNotificationSound(r,.15,"sine")},a*100)}),setTimeout(()=>{this.createNotificationSound(1047,.3,"sine")},500)}async playCashSound(){if(await this.ensureAudioContext(),!this.enabled||!this.context)return;const t=this.context.createOscillator(),r=this.context.createOscillator(),a=this.context.createGain();t.connect(a),r.connect(a),a.connect(this.context.destination),t.frequency.setValueAtTime(1200,this.context.currentTime),r.frequency.setValueAtTime(1600,this.context.currentTime),t.type="triangle",r.type="triangle",a.gain.setValueAtTime(0,this.context.currentTime),a.gain.linearRampToValueAtTime(this.volume*.4,this.context.currentTime+.02),a.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+.4),t.start(this.context.currentTime),r.start(this.context.currentTime),t.stop(this.context.currentTime+.4),r.stop(this.context.currentTime+.4)}async playSuccessSound(){if(await this.ensureAudioContext(),!this.enabled||!this.context)return;[[523,659,784],[587,740,880],[659,831,988]].forEach((r,a)=>{setTimeout(()=>{r.forEach(s=>{this.createNotificationSound(s,.3,"triangle")})},a*150)})}setEnabled(t){this.enabled=t}isEnabled(){return this.enabled}setVolume(t){this.volume=Math.max(0,Math.min(1,t))}getVolume(){return this.volume}async test(){await this.playNewOrderSound()}}const $l=new TV;class OV{constructor(){this.enabled=!0,this.voiceEnabled=!0,this.audioEnabled=!0,this.alerts=new Map,this.listeners=[];const t=localStorage.getItem("inventoryAlertsEnabled"),r=localStorage.getItem("inventoryVoiceEnabled"),a=localStorage.getItem("inventoryAudioEnabled");t!==null&&(this.enabled=JSON.parse(t)),r!==null&&(this.voiceEnabled=JSON.parse(r)),a!==null&&(this.audioEnabled=JSON.parse(a))}setEnabled(t){this.enabled=t,localStorage.setItem("inventoryAlertsEnabled",JSON.stringify(t))}setVoiceEnabled(t){this.voiceEnabled=t,localStorage.setItem("inventoryVoiceEnabled",JSON.stringify(t))}setAudioEnabled(t){this.audioEnabled=t,localStorage.setItem("inventoryAudioEnabled",JSON.stringify(t))}isEnabled(){return this.enabled}isVoiceEnabled(){return this.voiceEnabled}isAudioEnabled(){return this.audioEnabled}addListener(t){return this.listeners.push(t),()=>{const r=this.listeners.indexOf(t);r>-1&&this.listeners.splice(r,1)}}notifyListeners(){const t=Array.from(this.alerts.values()).sort((r,a)=>a.timestamp.getTime()-r.timestamp.getTime());this.listeners.forEach(r=>r(t))}processAlert(t){if(!this.enabled)return;const r=this.mapSeverity(t.severity),a={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,message:t.message,severity:r,productId:t.productId,currentStock:t.currentStock,timestamp:new Date,acknowledged:!1};if(!a.productName&&a.message){const s=a.message.match(/:\s*(.+?)\s+(running low|out of stock|restock needed)/i);s&&(a.productName=s[1])}this.alerts.set(a.id,a),this.triggerNotifications(a),this.notifyListeners(),r==="low"&&setTimeout(()=>{this.removeAlert(a.id)},10*60*1e3)}mapSeverity(t){switch(t==null?void 0:t.toLowerCase()){case"critical":case"high":return"high";case"medium":return"medium";case"low":return"low";default:return"medium"}}triggerNotifications(t){this.showToastNotification(t),this.voiceEnabled&&Wi.isEnabled()&&this.announceAlert(t),this.audioEnabled&&this.playAlertSound(t)}showToastNotification(t){const r={duration:this.getToastDuration(t.severity),icon:this.getAlertIcon(t.severity),style:this.getToastStyle(t.severity)};z(t.message,r)}announceAlert(t){let r=t.message;t.currentStock!==void 0&&(t.currentStock===0?r+=" Product is out of stock.":r+=` Only ${t.currentStock} units remaining.`),Wi.announceInventoryAlert(r)}playAlertSound(t){switch(t.severity){case"high":case"critical":$l.test(),setTimeout(()=>$l.test(),200);break;case"medium":$l.test();break;case"low":$l.test();break}}getToastDuration(t){switch(t){case"critical":case"high":return 8e3;case"medium":return 5e3;case"low":return 3e3;default:return 5e3}}getAlertIcon(t){switch(t){case"critical":return"🚨";case"high":return"⚠️";case"medium":return"📦";case"low":return"ℹ️";default:return"📦"}}getToastStyle(t){switch(t){case"critical":return{background:"#DC2626",color:"white",border:"2px solid #B91C1C"};case"high":return{background:"#EA580C",color:"white",border:"2px solid #C2410C"};case"medium":return{background:"#F59E0B",color:"white",border:"2px solid #D97706"};case"low":return{background:"#3B82F6",color:"white",border:"2px solid #2563EB"};default:return{background:"#F59E0B",color:"white"}}}acknowledgeAlert(t){const r=this.alerts.get(t);r&&(r.acknowledged=!0,this.alerts.set(t,r),this.notifyListeners())}removeAlert(t){this.alerts.delete(t)&&this.notifyListeners()}clearAllAlerts(){this.alerts.clear(),this.notifyListeners()}getAlerts(){return Array.from(this.alerts.values()).sort((t,r)=>r.timestamp.getTime()-t.timestamp.getTime())}getUnacknowledgedAlerts(){return this.getAlerts().filter(t=>!t.acknowledged)}getAlertCount(){return this.alerts.size}getUnacknowledgedCount(){return this.getUnacknowledgedAlerts().length}testAlert(t="medium"){const r={critical:"CRITICAL: Main warehouse is out of stock for Women's T-Shirt",high:"High Priority: Women's T-Shirt running very low (2 remaining)",medium:"Medium Alert: Women's T-Shirt stock is getting low (8 remaining)",low:"Low Alert: Consider restocking Men's Jeans soon (15 remaining)"};this.processAlert({message:r[t],severity:t,productId:"TEST-"+Date.now(),currentStock:t==="critical"?0:t==="high"?2:t==="medium"?8:15})}}const Dc=new OV;class PV{constructor(){this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.eventListeners=new Map,this.bobNotificationCallback=null,this.isConnecting=!1,this.connectionStatus="disconnected",this.lastWsErrorLog=0,this.shouldEnable()&&this.connect(),typeof window!="undefined"&&window.addEventListener("storage",t=>{t.key==="apiBaseUrl"&&this.reconnect()})}isJwtValid(t){var r;if(!t)return!1;try{const a=t.split(".");if(a.length!==3)return!1;let s=a[1].replace(/-/g,"+").replace(/_/g,"/");const i=s.length%4;i===2?s+="==":i===3?s+="=":i===1&&(s+="===");const o=JSON.parse(atob(s)),l=((r=o==null?void 0:o.exp)!=null?r:0)*1e3;return!l||Number.isNaN(l)?!1:Date.now()<l}catch(a){return!1}}shouldNotify(){var t;try{const r=((t=import.meta)==null?void 0:t.env)||{};if((r==null?void 0:r.VITE_SHOW_REALTIME_TOASTS)==="true")return!0;if(typeof window!="undefined")return window.location.pathname.startsWith("/admin")}catch(r){}return!1}shouldEnable(){var t;try{if(typeof window!="undefined")try{const a=String(localStorage.getItem("enableRealtime")||"").toLowerCase();if(a==="0"||a==="false"||a==="off"||a==="no")return!1}catch(a){}const r=((t=import.meta)==null?void 0:t.env)||{};if((r==null?void 0:r.VITE_ENABLE_REALTIME)==="true")return!0;if(typeof window!="undefined"){if(!window.location.pathname.startsWith("/admin"))return!1;let s=null;try{s=localStorage.getItem("token")}catch(o){}const i=this.isJwtValid(s);if(!i&&s)try{localStorage.removeItem("token")}catch(o){}return i}}catch(r){}return!1}maybeStart(){var t;this.shouldEnable()&&(((t=this.ws)==null?void 0:t.readyState)===WebSocket.OPEN||this.isConnecting||this.connect())}connect(){var t;if(this.shouldEnable()&&!(this.isConnecting||((t=this.ws)==null?void 0:t.readyState)===WebSocket.OPEN)){this.isConnecting=!0,this.connectionStatus="connecting",this.notifyStatusChange();try{const r=`${SV()}/ws`;this.ws=new WebSocket(r),console.log("[RealTimeService] Connecting to",r),this.ws.onopen=()=>{console.log("WebSocket connected"),this.connectionStatus="connected",this.isConnecting=!1,this.reconnectAttempts=0,this.notifyStatusChange(),this.shouldNotify()&&Il.successOnce("Real-time updates connected","ws-connected",{duration:2e3})},this.ws.onmessage=a=>{try{const s=JSON.parse(a.data);this.handleMessage(s)}catch(s){console.error("Error parsing WebSocket message:",s)}},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.connectionStatus="disconnected",this.isConnecting=!1,this.notifyStatusChange(),this.handleReconnect()},this.ws.onerror=a=>{const s=Date.now();s-this.lastWsErrorLog>1e4&&(console.warn("WebSocket error (will retry):",a),this.lastWsErrorLog=s),this.connectionStatus="error",this.isConnecting=!1,this.notifyStatusChange()}}catch(r){console.error("Failed to create WebSocket connection:",r),this.connectionStatus="error",this.isConnecting=!1,this.notifyStatusChange(),this.handleReconnect()}}}handleReconnect(){if(!this.shouldEnable())return;if(this.reconnectAttempts>=this.maxReconnectAttempts){this.shouldNotify()&&Il.errorOnce("Failed to connect to real-time updates","ws-conn-failed",{duration:4e3});return}this.reconnectAttempts++;const t=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);setTimeout(()=>{console.log(`Attempting to reconnect... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connect()},t)}handleMessage(t){switch(console.log("Received real-time event:",t),t.type){case"new_order":this.handleNewOrder(t.data);break;case"order_updated":this.handleOrderUpdate(t.data);break;case"sales_update":this.handleSalesUpdate(t.data);break;case"inventory_alert":this.handleInventoryAlert(t.data);break;default:console.log("Unknown event type:",t.type)}(this.eventListeners.get(t.type)||[]).forEach(s=>s(t)),(this.eventListeners.get("all")||[]).forEach(s=>s(t))}handleNewOrder(t){const{order:r}=t;this.shouldNotify()&&(this.bobNotificationCallback&&this.bobNotificationCallback({orderNumber:r.orderNumber,customerName:`${r.customerInfo.firstName} ${r.customerInfo.lastName}`,amount:r.totalAmount}),Wi.announceNewOrder(r.orderNumber,`${r.customerInfo.firstName} ${r.customerInfo.lastName}`,r.totalAmount),z.success(`New order #${r.orderNumber} from ${r.customerInfo.firstName} ${r.customerInfo.lastName}`,{duration:4e3,style:{background:"#10B981",color:"white"}}))}handleOrderUpdate(t){const{order:r}=t;this.shouldNotify()&&(Wi.announceOrderUpdate(r.orderNumber,r.status),z(`Order #${r.orderNumber} status updated to ${r.status}`,{duration:3e3,icon:"ℹ️"}))}handleSalesUpdate(t){console.log("Sales update received:",t.data)}handleInventoryAlert(t){this.shouldNotify()&&(Dc.processAlert(t),z(`Inventory Alert: ${t.message}`,{duration:5e3,icon:"⚠️",style:{background:"#F59E0B",color:"white"}}))}notifyStatusChange(){(this.eventListeners.get("status_change")||[]).forEach(r=>r({type:"status_change",data:{status:this.connectionStatus},timestamp:new Date().toISOString()}))}subscribe(t,r){return this.eventListeners.has(t)||this.eventListeners.set(t,[]),this.eventListeners.get(t).push(r),this.maybeStart(),()=>{const a=this.eventListeners.get(t);if(a){const s=a.indexOf(r);s>-1&&a.splice(s,1)}}}unsubscribe(t,r){const a=this.eventListeners.get(t);if(a){const s=a.indexOf(r);s>-1&&a.splice(s,1)}}getConnectionStatus(){return this.connectionStatus}reconnect(){this.shouldEnable()&&(this.ws&&this.ws.close(),this.reconnectAttempts=0,this.connect())}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.connectionStatus="disconnected",this.notifyStatusChange()}send(t){var r;((r=this.ws)==null?void 0:r.readyState)===WebSocket.OPEN?this.ws.send(JSON.stringify(t)):console.warn("WebSocket is not connected. Cannot send message.")}setBobNotificationCallback(t){this.bobNotificationCallback=t}}const xi=new PV;class IV{constructor(){this.config=null}init(t){this.config=t,t.enabled&&this.loadPixelScript(t.pixelId)}loadPixelScript(t){if(!window.fbq){const s=document.createElement("script");s.async=!0,s.src="https://connect.facebook.net/en_US/fbevents.js",document.head.appendChild(s);const i=function(...o){i.callMethod?i.callMethod.apply(i,o):i.queue.push(o)};window.fbq=i,window._fbq||(window._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[]}window.fbq("init",t),window.fbq("track","PageView");const r=document.createElement("noscript"),a=document.createElement("img");a.height=1,a.width=1,a.style.display="none",a.src=`https://www.facebook.com/tr?id=${t}&ev=PageView&noscript=1`,r.appendChild(a),document.head.appendChild(r)}trackEvent(t,r){var a;if((a=this.config)!=null&&a.enabled){if(typeof window.fbq!="function"){console.warn("Facebook Pixel not initialized");return}window.fbq("track",t,r)}}trackCustomEvent(t,r){var a;if((a=this.config)!=null&&a.enabled){if(typeof window.fbq!="function"){console.warn("Facebook Pixel not initialized");return}window.fbq("trackCustom",t,r)}}}const t6=new IV,r6=N.createContext(void 0),Ug={MAX_RETRIES:3,RETRY_DELAY:1e3,AUTO_REFRESH_INTERVAL:5*60*1e3};function FV({children:e}){const[t,r]=N.useState({hero:null,settings:null,announcements:[],loading:!0,error:null}),[a,s]=N.useState(0),i=N.useRef(null),o=N.useCallback(async(f=!1)=>{var h;if(f&&a>=Ug.MAX_RETRIES){r(m=>({...m,error:"Maximum retry attempts reached",loading:!1}));return}try{r(v=>({...v,loading:!0,error:null}));const[m,p,x]=await Promise.all([mo.getActiveHero(),mo.getSettings(),mo.getActiveAnnouncements()]);try{const v=localStorage.getItem("store:settings_overrides");if(v){const w=JSON.parse(v);let j=!1;if(["logoWidthMobile","logoMaxHeightMobile","logoWidthDesktop"].forEach(A=>{A in w&&(delete w[A],j=!0)}),j)try{localStorage.setItem("store:settings_overrides",JSON.stringify(w))}catch(A){}Object.assign(p,{...w.primaryColor!==void 0?{primaryColor:w.primaryColor}:{},...w.secondaryColor!==void 0?{secondaryColor:w.secondaryColor}:{},...w.accentColor!==void 0?{accentColor:w.accentColor}:{},...w.searchBorderColor!==void 0?{searchBorderColor:w.searchBorderColor}:{},...w.textColor!==void 0?{textColor:w.textColor}:{},...w.backgroundColor!==void 0?{backgroundColor:w.backgroundColor}:{},...w.scrollTopBgColor!==void 0?{scrollTopBgColor:w.scrollTopBgColor}:{},...w.scrollTopTextColor!==void 0?{scrollTopTextColor:w.scrollTopTextColor}:{},...w.scrollTopHoverBgColor!==void 0?{scrollTopHoverBgColor:w.scrollTopHoverBgColor}:{},...w.scrollTopPingColor!==void 0?{scrollTopPingColor:w.scrollTopPingColor}:{},...w.navCategoryFontColor!==void 0?{navCategoryFontColor:w.navCategoryFontColor}:{},...w.navCategoryFontSize!==void 0?{navCategoryFontSize:w.navCategoryFontSize}:{},...w.navPanelFontColor!==void 0?{navPanelFontColor:w.navPanelFontColor}:{},...w.navPanelColumnActiveBgColor!==void 0?{navPanelColumnActiveBgColor:w.navPanelColumnActiveBgColor}:{},...w.navPanelAccentColor!==void 0?{navPanelAccentColor:w.navPanelAccentColor}:{},...w.navPanelHeaderColor!==void 0?{navPanelHeaderColor:w.navPanelHeaderColor}:{},...w.atcBgColor!==void 0?{atcBgColor:w.atcBgColor}:{},...w.atcTextColor!==void 0?{atcTextColor:w.atcTextColor}:{},...w.atcHoverBgColor!==void 0?{atcHoverBgColor:w.atcHoverBgColor}:{},...w.newArrivalsMobileHeadingColor!==void 0?{newArrivalsMobileHeadingColor:w.newArrivalsMobileHeadingColor}:{},...w.newArrivalsMobileTextColor!==void 0?{newArrivalsMobileTextColor:w.newArrivalsMobileTextColor}:{},...w.newArrivalsMobileOverlayBg!==void 0?{newArrivalsMobileOverlayBg:w.newArrivalsMobileOverlayBg}:{},...w.newArrivalsBannerEnabled!==void 0?{newArrivalsBannerEnabled:w.newArrivalsBannerEnabled}:{},...w.newArrivalsBannerImage!==void 0?{newArrivalsBannerImage:w.newArrivalsBannerImage}:{},...w.newArrivalsBannerHeading!==void 0?{newArrivalsBannerHeading:w.newArrivalsBannerHeading}:{},...w.newArrivalsBannerSubheading!==void 0?{newArrivalsBannerSubheading:w.newArrivalsBannerSubheading}:{}})}}catch(v){}r({hero:m,settings:p,announcements:x,loading:!1,error:null}),p!=null&&p.siteTitle&&(document.title=p.siteTitle);try{if(p&&Object.prototype.hasOwnProperty.call(p,"favicon")){let v=p.favicon||"/favicon.svg";if(v.startsWith("/uploads/")&&(v=`${Hl()}${v}`),p.updatedAt)try{const j=new Date(p.updatedAt).getTime();v=`${v}${v.includes("?")?"&":"?"}v=${j}`}catch(j){}const w=(j,A)=>{let C=document.querySelector(`link[rel='${j}']${A?`[type='${A}']`:""}`);C||(C=document.createElement("link"),C.rel=j,A&&(C.type=A),document.head.appendChild(C)),C.href=v};w("icon"),w("shortcut icon")}}catch(v){}const y=v=>{let w=document.querySelector(`meta[name="${v}"]`);return w||(w=document.createElement("meta"),w.setAttribute("name",v),document.head.appendChild(w)),w};p!=null&&p.siteDescription&&y("description").setAttribute("content",p.siteDescription),(h=p==null?void 0:p.keywords)!=null&&h.length&&y("keywords").setAttribute("content",p.keywords.join(", ")),s(0)}catch(m){if(console.error("Error fetching store data:",m),a<Ug.MAX_RETRIES){s(x=>x+1);const p=Ug.RETRY_DELAY*Math.pow(2,a);setTimeout(()=>{o(!0)},p)}else r(p=>({...p,error:"Failed to load store data",loading:!1})),z.error("Failed to load store data")}},[a]);N.useEffect(()=>{o();const f=setInterval(()=>{o()},Ug.AUTO_REFRESH_INTERVAL),h=xi.subscribe("settings_updated",x=>{const y=x.data;r(A=>({...A,settings:{...A.settings,...y}}));try{if(Object.prototype.hasOwnProperty.call(y,"favicon")){let A=y.favicon||"/favicon.svg";A.startsWith("/uploads/")&&(A=`${Hl()}${A}`),A=`${A}${A.includes("?")?"&":"?"}v=${Date.now()}`;const C=S=>{let k=document.querySelector(`link[rel='${S}']`);k||(k=document.createElement("link"),k.rel=S,document.head.appendChild(k)),k.href=A};C("icon"),C("shortcut icon")}}catch(A){}if(y.siteTitle&&(document.title=y.siteTitle),y.siteDescription||y.keywords&&y.keywords.length){const A=C=>{let S=document.querySelector(`meta[name="${C}"]`);return S||(S=document.createElement("meta"),S.setAttribute("name",C),document.head.appendChild(S)),S};y.siteDescription&&A("description").setAttribute("content",y.siteDescription),y.keywords&&A("keywords").setAttribute("content",y.keywords.join(", "))}const v=[];(y.primaryColor||y.headerLayout)&&v.push("Design"),y.socialLinks&&v.push("Social"),(y.phone||y.address||y.email||y.name)&&v.push("Contact"),(y.siteTitle||y.siteDescription||y.keywords)&&v.push("SEO"),Object.prototype.hasOwnProperty.call(y,"authBackgroundImage")&&v.push("Auth BG");const w=(v.length?v.join(" + "):"Settings")+" updated";typeof window!="undefined"&&window.location.pathname.startsWith("/admin")&&z.success(w,{id:"settings-updated"})}),m=xi.subscribe("footer_settings_updated",()=>{typeof window!="undefined"&&window.location.pathname.startsWith("/admin")&&z.success("Footer settings updated",{id:"footer-settings-updated"})}),p=x=>{if(x.key==="store:settings_updated"&&x.newValue)try{const y=JSON.parse(x.newValue),v=(y==null?void 0:y.data)||{};r(w=>({...w,settings:{...w.settings,...v}}))}catch(y){}};return window.addEventListener("storage",p),()=>{clearInterval(f),h(),m(),window.removeEventListener("storage",p)}},[o]),N.useEffect(()=>{var y;const f=((y=import.meta)==null?void 0:y.env)||{};if((f==null?void 0:f.VITE_DISABLE_PUBLIC_SETTINGS_POLL)==="true")return;const h=Number(f==null?void 0:f.VITE_PUBLIC_SETTINGS_POLL_INTERVAL_MS)||6e4;if(!h||h<1e4)return;let m=!1;const p=async()=>{if(!m)try{if(!t.settings)return;const v=await mo.getSettingsVersion();if(i.current===null)i.current=v.version;else if(v.version!==i.current){i.current=v.version;try{const w=await mo.getSettings();r(j=>({...j,settings:{...j.settings||{},...w}}))}catch(w){}}}catch(v){}finally{m||setTimeout(p,h)}},x=setTimeout(p,h);return()=>{m=!0,clearTimeout(x)}},[t.settings]);const l=async f=>{var h;try{if(r(m=>({...m,loading:!0})),(h=t.hero)!=null&&h._id){const m=await mo.updateHero(t.hero._id,f);r(p=>({...p,hero:m,loading:!1})),z.success("Hero section updated successfully")}}catch(m){throw r(p=>({...p,loading:!1})),m}},c=N.useCallback(async f=>{var h;try{r(p=>({...p,loading:!0}));const m=await mo.updateSettings(f);(h=f.facebookPixel)!=null&&h.enabled&&t6.init(f.facebookPixel),r(p=>({...p,settings:{...p.settings||{},...m,...f},loading:!1}));try{const p={...f.primaryColor!==void 0?{primaryColor:f.primaryColor}:{},...f.secondaryColor!==void 0?{secondaryColor:f.secondaryColor}:{},...f.accentColor!==void 0?{accentColor:f.accentColor}:{},...f.searchBorderColor!==void 0?{searchBorderColor:f.searchBorderColor}:{},...f.textColor!==void 0?{textColor:f.textColor}:{},...f.backgroundColor!==void 0?{backgroundColor:f.backgroundColor}:{},...f.scrollTopBgColor!==void 0?{scrollTopBgColor:f.scrollTopBgColor}:{},...f.scrollTopTextColor!==void 0?{scrollTopTextColor:f.scrollTopTextColor}:{},...f.scrollTopHoverBgColor!==void 0?{scrollTopHoverBgColor:f.scrollTopHoverBgColor}:{},...f.scrollTopPingColor!==void 0?{scrollTopPingColor:f.scrollTopPingColor}:{},...f.navCategoryFontColor!==void 0?{navCategoryFontColor:f.navCategoryFontColor}:{},...f.navCategoryFontSize!==void 0?{navCategoryFontSize:f.navCategoryFontSize}:{},...f.navPanelFontColor!==void 0?{navPanelFontColor:f.navPanelFontColor}:{},...f.navPanelColumnActiveBgColor!==void 0?{navPanelColumnActiveBgColor:f.navPanelColumnActiveBgColor}:{},...f.navPanelAccentColor!==void 0?{navPanelAccentColor:f.navPanelAccentColor}:{},...f.navPanelHeaderColor!==void 0?{navPanelHeaderColor:f.navPanelHeaderColor}:{},...f.atcBgColor!==void 0?{atcBgColor:f.atcBgColor}:{},...f.atcTextColor!==void 0?{atcTextColor:f.atcTextColor}:{},...f.atcHoverBgColor!==void 0?{atcHoverBgColor:f.atcHoverBgColor}:{},...f.newArrivalsMobileHeadingColor!==void 0?{newArrivalsMobileHeadingColor:f.newArrivalsMobileHeadingColor}:{},...f.newArrivalsMobileTextColor!==void 0?{newArrivalsMobileTextColor:f.newArrivalsMobileTextColor}:{},...f.newArrivalsMobileOverlayBg!==void 0?{newArrivalsMobileOverlayBg:f.newArrivalsMobileOverlayBg}:{},...f.newArrivalsBannerEnabled!==void 0?{newArrivalsBannerEnabled:f.newArrivalsBannerEnabled}:{},...f.newArrivalsBannerImage!==void 0?{newArrivalsBannerImage:f.newArrivalsBannerImage}:{},...f.newArrivalsBannerHeading!==void 0?{newArrivalsBannerHeading:f.newArrivalsBannerHeading}:{},...f.newArrivalsBannerSubheading!==void 0?{newArrivalsBannerSubheading:f.newArrivalsBannerSubheading}:{},...f.newArrivalsMobileProductNameColor!==void 0?{newArrivalsMobileProductNameColor:f.newArrivalsMobileProductNameColor}:{},...f.newArrivalsMobileProductPriceColor!==void 0?{newArrivalsMobileProductPriceColor:f.newArrivalsMobileProductPriceColor}:{},...f.showColorFilter!==void 0?{showColorFilter:f.showColorFilter}:{}};if(Object.keys(p).length){const x=localStorage.getItem("store:settings_overrides"),y=x?JSON.parse(x):{};localStorage.setItem("store:settings_overrides",JSON.stringify({...y,...p}))}}catch(p){}try{const p={...t.settings||{},...m,...f},x={ts:Date.now(),data:{currency:p.currency,primaryColor:p.primaryColor,secondaryColor:p.secondaryColor,accentColor:p.accentColor,searchBorderColor:p.searchBorderColor,textColor:p.textColor,backgroundColor:p.backgroundColor,navCategoryFontColor:p.navCategoryFontColor,navCategoryFontSize:p.navCategoryFontSize,navPanelFontColor:p.navPanelFontColor,navPanelColumnActiveBgColor:p.navPanelColumnActiveBgColor,navPanelAccentColor:p.navPanelAccentColor,navPanelHeaderColor:p.navPanelHeaderColor,scrollTopBgColor:p.scrollTopBgColor,scrollTopTextColor:p.scrollTopTextColor,scrollTopHoverBgColor:p.scrollTopHoverBgColor,scrollTopPingColor:p.scrollTopPingColor,fontFamily:p.fontFamily,borderRadius:p.borderRadius,buttonStyle:p.buttonStyle,headerLayout:p.headerLayout,headerBackgroundColor:p.headerBackgroundColor,headerTextColor:p.headerTextColor,headerIcons:p.headerIcons,footerStyle:p.footerStyle,productCardStyle:p.productCardStyle,productGridStyle:p.productGridStyle,showColorFilter:p.showColorFilter,heroAutoplayMs:p.heroAutoplayMs,siteTitle:p.siteTitle,siteDescription:p.siteDescription,keywords:p.keywords,socialLinks:p.socialLinks,phone:p.phone,address:p.address,email:p.email,name:p.name,atcBgColor:p.atcBgColor,atcTextColor:p.atcTextColor,atcHoverBgColor:p.atcHoverBgColor,newArrivalsMobileHeadingColor:p.newArrivalsMobileHeadingColor,newArrivalsMobileTextColor:p.newArrivalsMobileTextColor,newArrivalsMobileOverlayBg:p.newArrivalsMobileOverlayBg,newArrivalsMobileProductNameColor:p.newArrivalsMobileProductNameColor,newArrivalsMobileProductPriceColor:p.newArrivalsMobileProductPriceColor,newArrivalsBannerEnabled:p.newArrivalsBannerEnabled,newArrivalsBannerImage:p.newArrivalsBannerImage,newArrivalsBannerHeading:p.newArrivalsBannerHeading,newArrivalsBannerSubheading:p.newArrivalsBannerSubheading,logoWidthMobile:p.logoWidthMobile,logoMaxHeightMobile:p.logoMaxHeightMobile,logoWidthDesktop:p.logoWidthDesktop,authBackgroundImage:p.authBackgroundImage}};localStorage.setItem("store:settings_updated",JSON.stringify(x))}catch(p){}}catch(m){throw r(p=>({...p,loading:!1})),m}},[]),d=N.useCallback(async()=>{s(0),await o()},[o]),u={...t,updateHero:l,updateSettings:c,refreshData:d};return n.jsx(r6.Provider,{value:u,children:e})}function vr(){const e=N.useContext(r6);if(e===void 0)throw new Error("useStore must be used within a StoreProvider");return e}const Vi={USD:{name:"US Dollar",symbol:"$",locale:"en-US",decimalPlaces:2,exchangeRate:1,symbolPosition:"before"},EUR:{name:"Euro",symbol:"€",locale:"en-EU",decimalPlaces:2,exchangeRate:1,symbolPosition:"before"},GBP:{name:"British Pound",symbol:"£",locale:"en-GB",decimalPlaces:2,exchangeRate:.86,symbolPosition:"before"},AED:{name:"UAE Dirham",symbol:"د.إ",locale:"ar-AE",decimalPlaces:2,exchangeRate:3.97,symbolPosition:"after",spaceBetween:!0},SAR:{name:"Saudi Riyal",symbol:"ر.س",locale:"ar-SA",decimalPlaces:2,exchangeRate:4.05,symbolPosition:"after",spaceBetween:!0},QAR:{name:"Qatari Riyal",symbol:"ر.ق",locale:"ar-QA",decimalPlaces:2,exchangeRate:3.93,symbolPosition:"after",spaceBetween:!0},KWD:{name:"Kuwaiti Dinar",symbol:"د.ك",locale:"ar-KW",decimalPlaces:3,exchangeRate:.33,symbolPosition:"after",spaceBetween:!0},BHD:{name:"Bahraini Dinar",symbol:"د.ب",locale:"ar-BH",decimalPlaces:3,exchangeRate:.41,symbolPosition:"after",spaceBetween:!0},OMR:{name:"Omani Rial",symbol:"ر.ع",locale:"ar-OM",decimalPlaces:3,exchangeRate:.42,symbolPosition:"after",spaceBetween:!0},JOD:{name:"Jordanian Dinar",symbol:"د.ا",locale:"ar-JO",decimalPlaces:3,exchangeRate:.77,symbolPosition:"after",spaceBetween:!0},LBP:{name:"Lebanese Pound",symbol:"ل.ل",locale:"ar-LB",decimalPlaces:0,exchangeRate:16200,symbolPosition:"after",spaceBetween:!0},EGP:{name:"Egyptian Pound",symbol:"ج.م",locale:"ar-EG",decimalPlaces:2,exchangeRate:33.37,symbolPosition:"after",spaceBetween:!0},IQD:{name:"Iraqi Dinar",symbol:"ع.د",locale:"ar-IQ",decimalPlaces:0,exchangeRate:1415,symbolPosition:"after",spaceBetween:!0},ILS:{name:"Israeli Shekel",symbol:"₪",locale:"he-IL",decimalPlaces:2,exchangeRate:3.89,symbolPosition:"after",spaceBetween:!0},SYP:{name:"Syrian Pound",symbol:"ل.س",locale:"ar-SY",decimalPlaces:0,exchangeRate:13175,symbolPosition:"after",spaceBetween:!0},PAB:{name:"Palestinian Balboa",symbol:"د.ف",locale:"ar-PS",decimalPlaces:2,exchangeRate:1.08,symbolPosition:"after",spaceBetween:!0}};function DV(e){if(e==null)return{isValid:!1,value:0};const t=typeof e=="string"?parseFloat(e):e;return typeof t!="number"||isNaN(t)?{isValid:!1,value:0}:t<0?{isValid:!1,value:0}:{isValid:!0,value:t}}function lt(e,t){try{const{isValid:r,value:a}=DV(e);if(!r)return Vi[t].symbol+"0";const s=Vi[t];if(!s)return console.error("Unsupported currency:",t),a.toString();const i=new Intl.NumberFormat(s.locale,{minimumFractionDigits:s.decimalPlaces,maximumFractionDigits:s.decimalPlaces}).format(a),{symbol:o,symbolPosition:l,spaceBetween:c}=s,d=c?" ":"";return l==="after"?`${i}${d}${o}`:`${o}${d}${i}`}catch(r){return console.error("Price formatting error:",r),`${Vi[t].symbol}0`}}function RV(e){var t;return((t=Vi[e])==null?void 0:t.symbol)||"$"}const n6=N.createContext(void 0);function MV({children:e}){const[t,r]=N.useState(()=>{const d=localStorage.getItem("currency");return d&&d in Vi?d:"USD"}),[a,s]=N.useState(!0),{settings:i,loading:o}=vr(),l=N.useCallback(d=>{r(d);try{localStorage.setItem("currency",d)}catch(u){}},[]);N.useEffect(()=>{o||(async()=>{try{if(s(!0),!!!localStorage.getItem("currency")&&(i!=null&&i.currency)&&i.currency in Vi){l(i.currency);return}}catch(u){console.warn("Currency detection error:",u)}finally{s(!1)}})()},[i==null?void 0:i.currency,l,o]),N.useEffect(()=>{const d=u=>{var f;if(u.key==="store:settings_updated"&&u.newValue)try{const h=JSON.parse(u.newValue),m=(f=h==null?void 0:h.data)==null?void 0:f.currency;!!!localStorage.getItem("currency")&&m&&m in Vi&&l(m)}catch(h){}};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[l]);const c=async d=>{try{if(!(d in Vi))throw new Error("Unsupported currency");l(d)}catch(u){throw console.error("Currency update error:",u),u}};return a?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsx(n6.Provider,{value:{currency:t,symbol:RV(t),setCurrency:c,availableCurrencies:Vi},children:e})}function Ta(){const e=N.useContext(n6);if(e===void 0)throw new Error("useCurrency must be used within a CurrencyProvider");return e}const a6=N.createContext(void 0),LV={maxRetries:3,retryDelay:1e3,onError:e=>{console.error("Error fetching background:",e)}};function $V({children:e}){const[t,r]=N.useState(null),[a,s]=N.useState(!0),[i,o]=N.useState(null),l=async()=>{try{s(!0),o(null);const d=await e6(()=>mo.getActiveBackground(),LV);r(d)}catch(d){o("Failed to load background"),console.error("Background fetch error:",d)}finally{s(!1)}};N.useEffect(()=>{l()},[]);const c=async()=>{await l()};return n.jsx(a6.Provider,{value:{activeBackground:t,loading:a,error:i,refreshBackground:c},children:e})}function BV(){const e=N.useContext(a6);if(e===void 0)throw new Error("useBackground must be used within a BackgroundProvider");return e}const s6=N.createContext(void 0);function UV({children:e}){const[t,r]=N.useState(()=>{const u=localStorage.getItem("cartItems");return u?JSON.parse(u):[]}),[a,s]=N.useState(()=>{try{const u=localStorage.getItem("appliedCoupon");if(u)return JSON.parse(u)}catch(u){}return null});N.useEffect(()=>{localStorage.setItem("cartItems",JSON.stringify(t))},[t]),N.useEffect(()=>{if(a)try{localStorage.setItem("appliedCoupon",JSON.stringify(a))}catch(u){}else try{localStorage.removeItem("appliedCoupon")}catch(u){}},[a]);const i=t.reduce((u,f)=>u+f.quantity,0),o=async u=>{var f;try{let h=null;try{h=(await ue.getWithRetry(`/products/${u.id}`)).data}catch(v){if(((f=v==null?void 0:v.response)==null?void 0:f.status)===404)return z.error("This product is no longer available"),r(w=>w.filter(j=>j.id!==u.id)),!1;throw v}if(!h)return z.error("Unable to load product details"),!1;const m=typeof h.stock=="number"?h.stock:Array.isArray(h.inventory)?h.inventory.reduce((v,w)=>v+(Number(w.quantity)||0),0):0,p=t.find(v=>v.id===u.id),y=(p?p.quantity:0)+1;return m<=0?(z.error("Out of stock"),!1):m<y?(z.error(`Only ${m} item${m===1?"":"s"} available in stock`),!1):(r(v=>v.find(j=>j.id===u.id)?v.map(j=>j.id===u.id?{...j,quantity:j.quantity+1}:j):[...v,{...u,quantity:1}]),!0)}catch(h){return console.error("Error checking stock:",h),z.error("Failed to add item to cart"),!1}},l=u=>{r(f=>f.filter(h=>h.id!==u))},c=async(u,f)=>{var h;if(f<1)return!1;try{let m=null;try{m=(await ue.getWithRetry(`/products/${u}`)).data}catch(x){if(((h=x==null?void 0:x.response)==null?void 0:h.status)===404)return z.error("Product no longer available"),r(y=>y.filter(v=>v.id!==u)),!1;throw x}if(!m)return z.error("Unable to load product"),!1;const p=typeof m.stock=="number"?m.stock:Array.isArray(m.inventory)?m.inventory.reduce((x,y)=>x+(Number(y.quantity)||0),0):0;return p<=0?(z.error("Out of stock"),r(x=>x.filter(y=>y.id!==u)),!1):p<f?(z.error(`Only ${p} item${p===1?"":"s"} available in stock`),!1):(r(x=>x.map(y=>y.id===u?{...y,quantity:f}:y)),!0)}catch(m){return console.error("Error checking stock:",m),z.error("Failed to update quantity"),!1}},d=()=>{r([]),s(null);try{localStorage.removeItem("appliedCoupon")}catch(u){}};return n.jsx(s6.Provider,{value:{items:t,addToCart:o,removeFromCart:l,updateQuantity:c,clearCart:d,cartCount:i,appliedCoupon:a,setAppliedCoupon:s},children:e})}function ga(){const e=N.useContext(s6);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}function WV(){var e;try{if(typeof window!="undefined"&&window.localStorage){const r=["cloudinary_cloud_name","cloudinaryCloudName","cloudName"];for(const a of r){const s=localStorage.getItem(a);if(s&&s.trim())return s.trim()}}const t=((e=import.meta)==null?void 0:e.env)||{};return String(t.VITE_CLOUDINARY_CLOUD_NAME||"").trim()}catch(t){return""}}function zV(e,t="f_auto,q_auto"){if(!e)return;const r=WV();if(!r)return;const a=["https://res.cloudinary.com",r,"image","upload"];return t&&a.push(t),a.push(String(e).replace(/^\/+/,"")),a.join("/")}function la(e){if(!e)return;const t=String(e).trim();if(!t)return;if(/^(https?:)?\/\//i.test(t)||/^(data|blob):/i.test(t)||t.startsWith("/")&&!t.startsWith("/uploads"))return t;if(t.startsWith("/")||t.includes(" ")||t.startsWith("uploads/")||/^\.+\//.test(t)?!1:/^[A-Za-z0-9_\-\/]+(\.[A-Za-z0-9]+)?$/.test(t)){const i=zV(t);if(i)return i}const a=t.startsWith("/uploads")?t:t.startsWith("uploads/")?`/${t}`:t,s=(()=>{var i,o;try{if(typeof window!="undefined"){const c=localStorage.getItem("apiBaseUrl");if(c){const d=new URL(c);return`${d.protocol}//${d.hostname}${d.port?":"+d.port:""}`}}const l=((i=import.meta)==null?void 0:i.env)||{};if(l.VITE_API_URL){const c=new URL(l.VITE_API_URL);return`${c.protocol}//${c.hostname}${c.port?":"+c.port:""}`}}catch(l){}if(typeof window!="undefined"){try{const l=((o=import.meta)==null?void 0:o.env)||{},c=String((l==null?void 0:l.VITE_USE_LOCAL_API)||"").toLowerCase();if(c==="1"||c==="true"||c==="yes"){const u=window.location.protocol==="https:",f=window.location.hostname;return`${u?"https":"http"}://${f}:5000`}}catch(l){}return"https://leohol.onrender.com"}return"https://leohol.onrender.com"})();return a.startsWith("/uploads")?`${s}${a}`:t}function Wa(e){const t="/placeholder-image.svg";if(!e)return t;if(Array.isArray(e)&&e.length>0)return Wa(e[0]);if(typeof e=="object"){const s=e.url||e.path||e.src||e.file||e.filename||e.image;return Wa(s)}const r=String(e).trim();return r?/^(https?:)?\/\//i.test(r)||/^(data|blob):/i.test(r)||/^[a-fA-F0-9]{24}$/.test(r)?r:la(r)||t:t}function as(e){const t=Array.isArray(e==null?void 0:e.images)?e.images.filter(Boolean):[],r=Array.isArray(e==null?void 0:e.colors)?e.colors.flatMap(u=>Array.isArray(u==null?void 0:u.images)?u.images:[]).filter(Boolean):[],a=[...t,...r],s=new Set,i=a.filter(u=>{const f=String(u);return s.has(f)?!1:(s.add(f),!0)}),o=i[0]||"/placeholder-image.svg",l=i[1],c=la(o)||"/placeholder-image.svg",d=la(l);return{primary:c,hover:d}}const i6=N.createContext(void 0);function HV({children:e}){const[t,r]=N.useState(()=>{const l=localStorage.getItem("wishlistItems");return l?JSON.parse(l):[]});N.useEffect(()=>{localStorage.setItem("wishlistItems",JSON.stringify(t))},[t]);const a=N.useRef(!1);N.useEffect(()=>{if(a.current||(a.current=!0,!t||t.length===0))return;let l=!0;return(async()=>{try{const c=await Promise.all(t.map(async d=>{var f,h;let u=d.image;if(typeof u=="string"&&/^[a-fA-F0-9]{24}$/.test(u))try{const m=await ue.getWithRetry(`/products/${u}`),p=m==null?void 0:m.data;if(p){const x=Array.isArray(p==null?void 0:p.colors)&&((h=(f=p.colors.find(w=>Array.isArray(w==null?void 0:w.images)&&w.images.length))==null?void 0:f.images)==null?void 0:h[0]),y=Array.isArray(p==null?void 0:p.images)&&p.images[0],v=x||y;v&&(u=Wa(v))}}catch(m){}else{const m=Wa(u);m&&(u=m)}return{...d,image:u}}));l&&JSON.stringify(c)!==JSON.stringify(t)&&r(c)}catch(c){}})(),()=>{l=!1}},[]);const s=l=>{r(c=>c.some(d=>d.id===l.id)?c:[...c,l])},i=l=>{r(c=>c.filter(d=>d.id!==l))},o=l=>t.some(c=>c.id===l);return n.jsx(i6.Provider,{value:{items:t,addToWishlist:s,removeFromWishlist:i,isInWishlist:o,wishlistCount:t.length},children:e})}function Sd(){const e=N.useContext(i6);if(e===void 0)throw new Error("useWishlist must be used within a WishlistProvider");return e}const o6=N.createContext(void 0);function Ev(){const e=N.useContext(o6);if(!e)throw new Error("usePageLayout must be used within a PageLayoutProvider");return e}function VV({children:e}){const[t,r]=N.useState([]),[a,s]=N.useState(!0),[i,o]=N.useState(6),{isAuthenticated:l,user:c}=ln(),d=[{id:"hero-default",type:"hero",title:"Hero Banner",enabled:!0,order:0,settings:{showOverlay:!0,overlayOpacity:50,textAlignment:"center",backgroundColor:"#1F2937",title:"Welcome to Our Store",subtitle:"Discover amazing products at great prices",buttonText:"Shop Now",buttonLink:"/products"},animations:{entrance:"fadeIn",duration:1e3,delay:0}},{id:"sale-products-default",type:"saleProducts",title:"Sale Products",enabled:!0,order:2,settings:{backgroundColor:"#FFFFFF",title:"Sale Products",subtitle:"",maxItems:8},animations:{entrance:"fadeInUp",duration:700,delay:80}},{id:"tabbed-products-default",type:"tabbedProducts",title:"",enabled:!0,order:3,settings:{backgroundColor:"#FFFFFF",title:"",subtitle:"",maxItems:8,headerImage:"",overlapPrevious:!1,overlapAmount:40,overlapShadow:!1,headerImageFit:"cover",headerImageUncapped:!1},animations:{entrance:"fadeInUp",duration:700,delay:100}},{id:"featured-default",type:"featured",title:"",enabled:!0,order:1,settings:{itemsPerRow:4,showDescription:!0,showPrice:!0,backgroundColor:"#FFFFFF",title:"",subtitle:""},animations:{entrance:"slideUp",duration:800,delay:200}},{id:"categories-default",type:"categories",title:"Product Categories",enabled:!0,order:4,settings:{displayStyle:"grid",itemsPerRow:6,showNames:!0,backgroundColor:"#F9FAFB",title:"",subtitle:""},animations:{entrance:"fadeInUp",duration:600,delay:400}},{id:"banners-default",type:"banners",title:"Promotional Banners",enabled:!0,order:5,settings:{layout:"carousel",showIndicators:!0,autoplay:!0,intervalMs:4e3,maxItems:5,height:320,backgroundColor:"#FFFFFF"},animations:{entrance:"fadeIn",duration:600,delay:0}},{id:"brands-default",type:"brands",title:"Our Brands",enabled:!0,order:6,settings:{layout:"marquee",backgroundColor:"#F3F4F6",title:"Our Brands",subtitle:"",speed:30,pauseOnHover:!0,source:"api",items:[{name:"AMOUAGE"},{name:"MEMO PARIS"},{name:"XERJOFF"},{name:"FRENCH AVENUE"},{name:"LATTAFA"},{name:"AFNAN"}]},animations:{entrance:"fadeIn",duration:600,delay:0}}],u=async()=>{var v,w;s(!0);try{const j=await ue.getWithRetry($r.LAYOUT.GET),A=Array.isArray((v=j==null?void 0:j.data)==null?void 0:v.sections)?[...j.data.sections]:null,C=typeof((w=j==null?void 0:j.data)==null?void 0:w.sectionGap)=="number"?j.data.sectionGap:void 0;if(A&&A.length){const S=A.some(T=>(T==null?void 0:T.type)==="tabbedProducts"),k=A.some(T=>(T==null?void 0:T.type)==="saleProducts");let E=A;if(!S){const T={id:"tabbed-products-default",type:"tabbedProducts",title:"",enabled:!0,order:2,settings:{backgroundColor:"#FFFFFF",title:"",subtitle:"",maxItems:8,headerImage:"",overlapPrevious:!1,overlapAmount:40,overlapShadow:!1,headerImageFit:"cover",headerImageUncapped:!1},animations:{entrance:"fadeInUp",duration:700,delay:100}};E=A.map(F=>({...F,order:typeof F.order=="number"&&F.order>=2?F.order+1:F.order})),E.push(T),E=E.sort((F,O)=>{var P,W;return((P=F.order)!=null?P:0)-((W=O.order)!=null?W:0)})}if(!k){const T={id:"sale-products-default",type:"saleProducts",title:"Sale Products",enabled:!0,order:3,settings:{backgroundColor:"#FFFFFF",title:"Sale Products",subtitle:"",maxItems:8},animations:{entrance:"fadeInUp",duration:700,delay:80}};E=E.map(F=>({...F,order:typeof F.order=="number"&&F.order>=3?F.order+1:F.order})),E.push(T),E=E.sort((F,O)=>{var P,W;return((P=F.order)!=null?P:0)-((W=O.order)!=null?W:0)})}E=E.map(T=>{if(T.type==="featured"){const F=["منتجات مميزة"],O=["اكتشفي أبرز القطع المطلوبة"],P={...T.settings||{}};return F.includes(P.title)&&(P.title=""),O.includes(P.subtitle)&&(P.subtitle=""),{...T,title:F.includes(T.title)?"":T.title,settings:P}}return T}),r(E),r(T=>T.map(F=>{if(F.type==="tabbedProducts"){const O={...F.settings||{}};return O.overlapPrevious===void 0&&(O.overlapPrevious=!1),O.overlapAmount===void 0&&(O.overlapAmount=40),O.overlapShadow===void 0&&(O.overlapShadow=!1),O.headerImage===void 0&&(O.headerImage=""),O.headerImageFit===void 0&&(O.headerImageFit="cover"),O.headerImageUncapped===void 0&&(O.headerImageUncapped=!1),{...F,settings:O}}return F})),typeof C=="number"&&o(C);try{localStorage.setItem("store-page-layout",JSON.stringify({sections:E,sectionGap:typeof C=="number"?C:i}))}catch(T){}}else{const S=localStorage.getItem("store-page-layout");if(S)try{const k=JSON.parse(S);Array.isArray(k)?r(k):k&&Array.isArray(k.sections)?(r(k.sections),typeof k.sectionGap=="number"&&o(k.sectionGap)):r(d)}catch(k){r(d)}else{r(d);try{localStorage.setItem("store-page-layout",JSON.stringify({sections:d,sectionGap:i}))}catch(k){}}}}catch(j){console.error("Failed to load page layout:",j),r(d)}finally{s(!1)}},f=async()=>{var v;try{if(!l||(c==null?void 0:c.role)!=="admin"){localStorage.setItem("store-page-layout",JSON.stringify(t));return}await ue.putWithRetry($r.LAYOUT.UPDATE,{sections:t,sectionGap:i});try{localStorage.setItem("store-page-layout",JSON.stringify({sections:t,sectionGap:i}))}catch(w){}console.log("Page layout saved successfully")}catch(w){const j=(v=w==null?void 0:w.response)==null?void 0:v.status;if(j===401||j===403){try{localStorage.setItem("store-page-layout",JSON.stringify({sections:t,sectionGap:i}))}catch(A){}console.warn("Skipped saving layout to server (unauthorized). Changes cached locally.");return}throw console.error("Failed to save page layout:",w),w}},h=(v,w)=>{r(j=>j.map(A=>A.id===v?{...A,...w}:A))},m=v=>{r(w=>[...w,v])},p=v=>{r(w=>w.filter(j=>j.id!==v))},x=v=>{r(v)};N.useEffect(()=>{u()},[]),N.useEffect(()=>{if(!a&&t.length>0){const v=setTimeout(()=>{if(l&&(c==null?void 0:c.role)==="admin")f();else try{localStorage.setItem("store-page-layout",JSON.stringify({sections:t,sectionGap:i}))}catch(w){}},1e3);return()=>clearTimeout(v)}},[t,i,a,l,c==null?void 0:c.role]);const y={sections:t,setSections:r,updateSection:h,addSection:m,removeSection:p,reorderSections:x,saveLayout:f,loadLayout:u,isLoading:a,sectionGap:i,setSectionGap:o};return n.jsx(o6.Provider,{value:y,children:e})}function GV({children:e}){const{settings:t}=vr();return N.useEffect(()=>{var r,a,s;if(console.log("ThemeProvider: Settings changed",t),t){const i=document.documentElement;if(t.primaryColor&&(console.log("Applying primary color:",t.primaryColor),i.style.setProperty("--color-primary",t.primaryColor)),t.secondaryColor&&(console.log("Applying secondary color:",t.secondaryColor),i.style.setProperty("--color-secondary",t.secondaryColor)),t.accentColor&&i.style.setProperty("--color-accent",t.accentColor),t.textColor&&i.style.setProperty("--color-text",t.textColor),t.backgroundColor&&i.style.setProperty("--color-background",t.backgroundColor),t.fontFamily&&i.style.setProperty("--font-family",t.fontFamily),t.borderRadius){const x=t.borderRadius.trim(),y={none:"0px",small:"4px",medium:"8px",large:"12px",xl:"16px"},v=x.endsWith("px")?x:(r=y[x])!=null?r:"8px";i.style.setProperty("--border-radius",v)}if(t.buttonStyle){const y=(a={square:"0px",rounded:"8px",pill:"9999px"}[t.buttonStyle])!=null?a:"8px";i.style.setProperty("--button-radius",y)}const o=t.atcBgColor||t.secondaryColor||t.primaryColor||"#2563eb",l=t.atcTextColor||(t.backgroundColor&&t.backgroundColor!=="#ffffff","#ffffff"),c=t.atcHoverBgColor||t.accentColor||o;i.style.setProperty("--atc-bg",o),i.style.setProperty("--atc-text",l),i.style.setProperty("--atc-hover-bg",c);const d={xs:"1.25rem",sm:"1.75rem",md:"2.5rem",lg:"3rem",xl:"4rem"},u=t.sectionSpacing;let f="2.5rem";typeof u=="number"?f=`${u}px`:typeof u=="string"&&(f=(s=d[u])!=null?s:u),i.style.setProperty("--section-padding-y",f);const h=!!t.sectionOverlayEnabled;i.style.setProperty("--section-overlay-enabled",h?"1":"0");const m=t.sectionOverlapAmount;let p="0px";h&&(typeof m=="number"?p=`${m}px`:typeof m=="string"&&(p=m)),i.style.setProperty("--section-overlap",p),console.log("ThemeProvider: Applied all CSS variables to root")}},[t]),n.jsx(n.Fragment,{children:e})}async function l6(){var s,i;if(!("serviceWorker"in navigator))return null;if(location.search.includes("no-sw"))return console.info("[SW] Skipped due to ?no-sw param"),null;if(navigator.userAgent.toLowerCase().includes("tiktok"))return console.info("[SW] Skipped in TikTok in-app browser"),null;const r=((i=(s=import.meta)==null?void 0:s.env)==null?void 0:i.VITE_APP_BUILD_VERSION)||window.__APP_BUILD_VERSION__||"",a=`/sw.js${r?`?v=${encodeURIComponent(r)}`:""}`;try{return await navigator.serviceWorker.register(a)}catch(o){try{return await navigator.serviceWorker.register("/sw.js")}catch(l){return null}}}async function qV(){try{const{data:e}=await ue.getWithRetry("/push/public-key");return e!=null&&e.publicKey?YV(e.publicKey):null}catch(e){return null}}async function KV(){if(!("serviceWorker"in navigator)||!("PushManager"in window))throw new Error("Push not supported");const e=await l6();if(!e)throw new Error("SW not registered");if(await Notification.requestPermission()!=="granted")throw new Error("Notification permission denied");const r=await qV();if(!r)throw new Error("No VAPID key");const a=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r});return await ue.postWithRetry("/push/subscribe",a),a}async function XV(e=!1){return ue.postWithRetry("/push/test",{},{params:e?{all:!0}:void 0})}function YV(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(r),s=new Uint8Array(a.length);for(let i=0;i<a.length;++i)s[i]=a.charCodeAt(i);return s}const Hc=0;function Q1(e){var t,r,a,s,i;return{_id:e._id,name:e.name,cities:(r=(t=e.cities)!=null?t:e.countries)!=null?r:[],zonePrice:typeof e.zonePrice=="number"?e.zonePrice:void 0,regions:(a=e.regions)!=null?a:[],isActive:(s=e.isActive)!=null?s:!0,order:(i=e.order)!=null?i:0}}class JV{constructor(){this.zoneCache=null,this.lastZonesFetch=0,this.suppressUntil=0}async getZones(t=!1){try{const r=Date.now();if(!t&&this.zoneCache&&r-this.lastZonesFetch<6e4)return this.zoneCache;console.log("ShippingService: Fetching zones from /shipping/zones");const a=await ue.getWithRetry("/shipping/zones");if(console.log("ShippingService: Zones response:",a),!a.data)throw new Error("No data received for shipping zones");const s=Array.isArray(a.data)?a.data.map(Q1):[];return this.zoneCache=s,this.lastZonesFetch=r,s}catch(r){throw console.error("ShippingService: Error fetching shipping zones:",r),new Error("Failed to fetch shipping zones")}}async getRates(t){try{const r=t?`/shipping/rates?zone=${t}`:"/shipping/rates";console.log("ShippingService: Fetching rates from",r);const a=await ue.getWithRetry(r);if(console.log("ShippingService: Rates response:",a),!a.data)throw new Error("No data received for shipping rates");return a.data}catch(r){throw console.error(`ShippingService: Error fetching shipping rates for zone ${t||"all"}:`,r),new Error("Failed to fetch shipping rates")}}async createZone(t){try{const r={...t,countries:t.cities.map(i=>i.name)},a=t.zonePrice;if(a!==void 0&&a!==""&&a!==null){const i=Number(a);isNaN(i)||(r.zonePrice=i)}const s=await ue.postWithRetry("/shipping/zones",r);if(!s.data)throw new Error("No data returned after creating shipping zone");return z.success("Shipping zone created successfully"),Q1(s.data)}catch(r){throw console.error("Error creating shipping zone:",r),z.error("Failed to create shipping zone"),r}}async updateZone(t,r){try{const a="cities"in r?{...r,countries:(r.cities||[]).map(i=>i.name)}:{...r};if("zonePrice"in r){const i=r.zonePrice;if(i===""||i===void 0||i===null)a.zonePrice=null;else{const o=Number(i);isNaN(o)?delete a.zonePrice:a.zonePrice=o}}const s=await ue.putWithRetry(`/shipping/zones/${t}`,a);if(!s.data)throw new Error("No data returned after updating shipping zone");return z.success("Shipping zone updated successfully"),Q1(s.data)}catch(a){throw console.error(`Error updating shipping zone ${t}:`,a),z.error("Failed to update shipping zone"),a}}async deleteZone(t){try{await ue.deleteWithRetry(`/shipping/zones/${t}`),z.success("Shipping zone deleted successfully")}catch(r){throw console.error(`Error deleting shipping zone ${t}:`,r),z.error("Failed to delete shipping zone"),r}}async createRate(t){try{const r=await ue.postWithRetry("/shipping/rates",t);if(!r.data)throw new Error("No data returned after creating shipping rate");return z.success("Shipping rate created successfully"),r.data}catch(r){throw console.error("Error creating shipping rate:",r),z.error("Failed to create shipping rate"),r}}async updateRate(t,r){try{const a=await ue.putWithRetry(`/shipping/rates/${t}`,r);if(!a.data)throw new Error("No data returned after updating shipping rate");return z.success("Shipping rate updated successfully"),a.data}catch(a){throw console.error(`Error updating shipping rate ${t}:`,a),z.error("Failed to update shipping rate"),a}}async deleteRate(t){try{await ue.deleteWithRetry(`/shipping/rates/${t}`),z.success("Shipping rate deleted successfully")}catch(r){throw console.error(`Error deleting shipping rate ${t}:`,r),z.error("Failed to delete shipping rate"),r}}async calculateShipping(t){try{const r=await ue.postWithRetry("/shipping/calculate",t);if(!r.data||typeof r.data.fee!="number")throw new Error("Invalid data received for shipping fee calculation");return r.data.fee}catch(r){throw console.error("Error calculating shipping fee:",r),z.error("Failed to calculate shipping fee"),r}}async getOptions(t){var r,a,s,i,o,l;try{if(!this.zoneCache||!this.zoneCache.length)try{await this.getZones()}catch(f){}const c=f=>f.toLowerCase().trim().replace(/[\u064B-\u0652\u0640]/g,"");if(t.city&&this.zoneCache&&this.zoneCache.length){const f=c(t.city),h=this.zoneCache.filter(m=>{var p;return(p=m.cities||[])==null?void 0:p.some(x=>{if(!(x!=null&&x.name))return!1;const y=c(x.name);return y===f||y.includes(f)||f.includes(y)})});if(h.length){const m=h.filter(p=>typeof p.zonePrice=="number"&&p.zonePrice>=0);if(m.length)return m.map(p=>({id:`zonePrice:${p._id}`,name:`${p.name} Standard`,method:"zone_price_local",cost:p.zonePrice,zone:p.name,description:"Local cached zone price",estimatedDays:null})).sort((p,x)=>p.cost-x.cost)}}const d=new URLSearchParams;t.country&&d.append("country",t.country),t.region&&d.append("region",t.region),t.city&&d.append("city",t.city),typeof t.subtotal=="number"&&d.append("subtotal",String(t.subtotal)),typeof t.weight=="number"&&d.append("weight",String(t.weight));const u=await ue.getWithRetry(`/shipping/options?${d.toString()}`);return(r=u.data)!=null&&r.options?u.data.options:[]}catch(c){const d=(a=c==null?void 0:c.response)==null?void 0:a.status,u=((i=(s=c==null?void 0:c.response)==null?void 0:s.data)==null?void 0:i.message)||"",f=d===404&&/route not found/i.test(u),h=c,m=String((h==null?void 0:h.message)||""),p=!d&&(/network error/i.test(m)||/failed to fetch/i.test(m)||(h==null?void 0:h.code)==="ERR_NETWORK");if(f||p)try{let y=[];try{y=await this.getZones()}catch(C){}const v=(o=t.city)==null?void 0:o.toLowerCase(),w=v?y.filter(C=>(C.cities||[]).some(S=>S.name&&S.name.toLowerCase()===v)):y,j=w.length?w:y,A=j.filter(C=>typeof C.zonePrice=="number"&&C.zonePrice>=0).map(C=>({id:`zonePrice:${C._id}`,name:`${C.name} Standard`,method:"zone_price",cost:C.zonePrice,zone:C.name,description:"Zone base shipping (fallback)",estimatedDays:null}));return A.length?A.sort((C,S)=>C.cost-S.cost):[{id:"fallback:unpriced",name:"Standard Shipping",method:"unpriced_fallback",cost:Hc,zone:((l=j[0])==null?void 0:l.name)||"Default",description:"Shipping will be confirmed later",estimatedDays:null}]}catch(y){console.error("Fallback synthesis failed:",y)}const x=Date.now();if(x>this.suppressUntil){const y=c;console.warn("Shipping options network error (silenced visually):",(y==null?void 0:y.message)||y),this.suppressUntil=x+8e3}return[{id:"fallback:unpriced",name:"Standard Shipping",method:"unpriced_fallback",cost:Hc,zone:"Default",description:"Shipping will be confirmed later",estimatedDays:null}]}}async getConfiguredCities(){var t,r;try{let s=((t=(await ue.getWithRetry("/shipping/cities")).data)==null?void 0:t.cities)||[];if(!s.length)try{const i=await mo.getSettings();Array.isArray((r=i==null?void 0:i.checkoutForm)==null?void 0:r.cities)&&(s=i.checkoutForm.cities)}catch(i){}return Array.from(new Set(s.filter(i=>typeof i=="string"&&i.trim().length).map(i=>i.trim()))).sort()}catch(a){throw console.error("Error fetching configured cities:",a),z.error("Failed to fetch cities"),a}}}const sa=new JV,ZV=({children:e})=>{var r,a;const t=((a=(r=import.meta)==null?void 0:r.env)==null?void 0:a.VITE_SHOW_PUSH_UI)==="true";return N.useEffect(()=>{l6()},[]),N.useEffect(()=>{let s=!1;return(async()=>{try{await sa.getZones(),s||console.log("App: Shipping zones preloaded successfully")}catch(i){s||console.warn("App: Failed to preload shipping zones (non-blocking)",i)}})(),()=>{s=!0}},[]),n.jsx(AV,{children:n.jsx(FV,{children:n.jsx(GV,{children:n.jsx(MV,{children:n.jsx($V,{children:n.jsx(UV,{children:n.jsx(HV,{children:n.jsxs(VV,{children:[e,t&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>KV(),className:"fixed bottom-6 right-40 z-[1100] rounded-full bg-emerald-600 text-white shadow-lg px-4 py-3 text-sm","aria-label":"Enable notifications",children:"Enable Notifications"}),n.jsx("button",{onClick:()=>XV(),className:"fixed bottom-6 right-[220px] z-[1100] rounded-full bg-orange-600 text-white shadow-lg px-4 py-3 text-sm","aria-label":"Test push notification",children:"Test Push"})]})]})})})})})})})})};function QV(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Jc(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const p_={};function wj(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Jc(t[0])&&p_[t[0]]||(Jc(t[0])&&(p_[t[0]]=new Date),QV(...t))}const c6=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},g_=(e,t,r)=>{e.loadNamespaces(t,c6(e,r))},x_=(e,t,r,a)=>{Jc(r)&&(r=[r]),r.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,c6(e,a))},eG=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=t.languages[0],s=t.options?t.options.fallbackLng:!1,i=t.languages[t.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=t.services.backendConnector.state[`${l}|${c}`];return d===-1||d===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(a,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(a,e)&&(!s||o(i,e)))},tG=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(wj("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(s,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!i(s.isLanguageChangingTo,e))return!1}}):eG(e,t,r)},Jc=e=>typeof e=="string",rG=e=>typeof e=="object"&&e!==null,nG=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,aG={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},sG=e=>aG[e],iG=e=>e.replace(nG,sG);let jj={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:iG};const oG=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jj={...jj,...e}},lG=()=>jj;let d6;const cG=e=>{d6=e},dG=()=>d6,uG={type:"3rdParty",init(e){oG(e.options.react),cG(e)}},fG=N.createContext();class hG{constructor(){c_(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}}const mG=(e,t)=>{const r=N.useRef();return N.useEffect(()=>{r.current=e},[e,t]),r.current},u6=(e,t,r,a)=>e.getFixedT(t,r,a),pG=(e,t,r,a)=>N.useCallback(u6(e,t,r,a),[e,t,r,a]),$t=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=t,{i18n:a,defaultNS:s}=N.useContext(fG)||{},i=r||a||dG();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new hG),!i){wj("You will need to pass in an i18next instance by using initReactI18next");const A=(S,k)=>Jc(k)?k:rG(k)&&Jc(k.defaultValue)?k.defaultValue:Array.isArray(S)?S[S.length-1]:S,C=[A,{},!1];return C.t=A,C.i18n={},C.ready=!1,C}i.options.react&&i.options.react.wait!==void 0&&wj("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...lG(),...i.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let d=s||i.options&&i.options.defaultNS;d=Jc(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(A=>tG(A,i,o)),f=pG(i,t.lng||null,o.nsMode==="fallback"?d:d[0],c),h=()=>f,m=()=>u6(i,t.lng||null,o.nsMode==="fallback"?d:d[0],c),[p,x]=N.useState(h);let y=d.join();t.lng&&(y=`${t.lng}${y}`);const v=mG(y),w=N.useRef(!0);N.useEffect(()=>{const{bindI18n:A,bindI18nStore:C}=o;w.current=!0,!u&&!l&&(t.lng?x_(i,t.lng,d,()=>{w.current&&x(m)}):g_(i,d,()=>{w.current&&x(m)})),u&&v&&v!==y&&w.current&&x(m);const S=()=>{w.current&&x(m)};return A&&i&&i.on(A,S),C&&i&&i.store.on(C,S),()=>{w.current=!1,A&&i&&A.split(" ").forEach(k=>i.off(k,S)),C&&i&&C.split(" ").forEach(k=>i.store.off(k,S))}},[i,y]),N.useEffect(()=>{w.current&&u&&x(h)},[i,c,u]);const j=[p,i,u];if(j.t=p,j.i18n=i,j.ready=u,u||!u&&!l)return j;throw new Promise(A=>{t.lng?x_(i,t.lng,d,()=>A()):g_(i,d,()=>A())})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fe=(e,t)=>{const r=N.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>N.createElement("svg",{ref:u,...gG,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${xG(e)}`,l].join(" "),...d},[...t.map(([f,h])=>N.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Fe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=Fe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=Fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=Fe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Fe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=Fe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Fe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Fe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=Fe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=Fe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Fe("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Fe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=Fe("CandlestickChart",[["path",{d:"M9 5v4",key:"14uxtq"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1",key:"f4fvz0"}],["path",{d:"M9 15v2",key:"r5rk32"}],["path",{d:"M17 3v2",key:"1l2re6"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1",key:"z38je5"}],["path",{d:"M17 13v3",key:"5l0wba"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=Fe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=Fe("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=Fe("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=Fe("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=Fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=Fe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=Fe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=Fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=Fe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=Fe("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Fe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Fe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Fe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=Fe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=Fe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Fe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=Fe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Fe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=Fe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Fe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=Fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=Fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=Fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Fe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=Fe("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=Fe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Fe("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Fe("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=Fe("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=Fe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Fe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=Fe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Fe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Fe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Fe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=Fe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=Fe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Fe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=Fe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Fe("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=Fe("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=Fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=Fe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=Fe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Fe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=Fe("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=Fe("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=Fe("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Fe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=Fe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Fe("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Fe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Fe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Fe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=Fe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Fe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Fe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Fe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Fe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=Fe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=Fe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=Fe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=Fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=Fe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=Fe("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=Fe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=Fe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Fe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Fe("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Fe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=Fe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=Fe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function oq(){const{t:e}=$t(),{settings:t}=vr(),[r,a]=N.useState([]),[s,i]=N.useState(!0),[o,l]=N.useState(null),[c,d]=N.useState(!1);N.useEffect(()=>{var h;try{const m=(h=document==null?void 0:document.documentElement)==null?void 0:h.getAttribute("dir");d(m==="rtl")}catch(m){}},[]);const u=()=>typeof window!="undefined"&&window.matchMedia("(min-width: 1024px)").matches,f=h=>{const m=new CustomEvent("nav-hover",{detail:{id:h}});window.dispatchEvent(m)};return N.useEffect(()=>{(async()=>{try{const m=await ue.getWithRetry("/navigation"),p=Array.isArray(m.data)?m.data:[];a(p.filter(x=>x.isActive))}catch(m){console.error("Error fetching navigation:",m),a([{_id:"1",name:e("navigation.newIn"),slug:"new-in",isActive:!0},{_id:"2",name:e("navigation.women"),slug:"women",isActive:!0},{_id:"3",name:e("navigation.men"),slug:"men",isActive:!0},{_id:"4",name:e("navigation.accessories"),slug:"accessories",isActive:!0},{_id:"5",name:e("navigation.sale"),slug:"sale",isActive:!0}])}finally{i(!1)}})()},[e]),s?n.jsx("div",{className:"flex items-center gap-8",children:[...Array(5)].map((h,m)=>n.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded animate-pulse"},m))}):n.jsx("div",{className:"flex items-center gap-8",children:r.map(h=>n.jsxs("div",{className:"relative group",onMouseEnter:()=>{l(h._id),u()&&f(h._id)},onMouseLeave:()=>l(null),children:[n.jsxs(Vn,{to:`/category/${h.slug}`,className:"flex items-center gap-1 theme-text hover:theme-primary font-medium transition-colors py-2",style:{color:(t==null?void 0:t.navCategoryFontColor)||void 0,fontSize:(t==null?void 0:t.navCategoryFontSize)==="small"?"0.875rem":(t==null?void 0:t.navCategoryFontSize)==="large"?"1.125rem":void 0},onFocus:()=>{u()&&f(h._id)},onClick:m=>{u()&&(m.preventDefault(),f(h._id))},children:[h.name,h.subCategories&&h.subCategories.length>0&&n.jsx(kd,{className:`w-4 h-4 transition-transform duration-200 lg:hidden ${o===h._id?"rotate-180":""}`})]}),h.subCategories&&h.subCategories.length>0&&n.jsx("div",{className:`absolute top-full ${c?"right-0":"left-0"} w-48 pt-4 transition-all duration-200 lg:hidden ${o===h._id?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"}`,children:n.jsx("div",{className:"theme-background-bg rounded-lg shadow-xl ring-1 ring-gray-200 p-2",children:n.jsx("div",{className:"py-1",children:h.subCategories.map(m=>n.jsx(Vn,{to:`/category/${h.slug}/${m.slug}`,className:"block px-4 py-2 text-sm theme-text hover:bg-gray-50 theme-border-radius transition-colors",children:m.name},m.slug))})})})]},h._id))})}function lq({items:e}){const{updateQuantity:t,removeFromCart:r}=ga(),{currency:a}=Ta();return n.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:n.jsx("div",{className:"space-y-6",children:e.map(s=>n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:n.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-medium text-gray-900 truncate",children:s.name}),(s.color||s.size)&&n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:[s.color,s.size].filter(Boolean).join(" / ")})]}),n.jsx("button",{onClick:()=>r(s.id),className:"p-1 text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center border rounded-lg",children:[n.jsx("button",{onClick:()=>t(s.id,s.quantity-1),className:"p-2 hover:bg-gray-50 transition-colors",children:n.jsx(Ov,{className:"w-4 h-4 text-gray-600"})}),n.jsx("span",{className:"w-12 text-center text-sm font-medium",children:s.quantity}),n.jsx("button",{onClick:()=>t(s.id,s.quantity+1),className:"p-2 hover:bg-gray-50 transition-colors",children:n.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),n.jsx("p",{className:"text-base font-medium text-gray-900",children:lt(s.price*s.quantity,a)})]})]})]},s.id))})})}function cq({onApply:e,totalAmount:t,initialCode:r}){const[a,s]=N.useState(""),[i,o]=N.useState(!1),{t:l}=$t();ne.useEffect(()=>{r&&s(r)},[r]);const c=async d=>{var u,f;if(d.preventDefault(),!!a.trim()){o(!0);try{const h=await ue.postWithRetry("/coupons/validate",{code:a.trim(),totalAmount:t});e({discount:h.data.discount,code:a.trim()}),z.success(l("cart.coupon.applied")),s("")}catch(h){z.error(((f=(u=h.response)==null?void 0:u.data)==null?void 0:f.message)||l("cart.coupon.invalid"))}finally{o(!1)}}};return n.jsxs("form",{onSubmit:c,className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:l("cart.coupon.haveCode")}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Iv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"couponCode",name:"couponCode",type:"text",value:a,onChange:d=>s(d.target.value.toUpperCase()),placeholder:l("cart.coupon.placeholder"),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",autoComplete:"off"})]}),n.jsx("button",{type:"submit",disabled:i||!a.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:l(i?"cart.coupon.applying":"cart.coupon.apply")})]})]})}function E6({subtotal:e,onCheckout:t}){const{currency:r}=Ta(),{appliedCoupon:a,setAppliedCoupon:s}=ga(),[i,o]=N.useState((a==null?void 0:a.discount)||0),[l,c]=N.useState(""),[d,u]=N.useState([]),[f,h]=N.useState(!1),[m,p]=N.useState(null),[x,y]=N.useState(null),v=d.find(S=>S.id===m)||null,w=v?v.cost:Hc,j=e-i+w,A=Ea(),{t:C}=$t();return N.useEffect(()=>{let S=!0;const E=setTimeout(async()=>{if(!l||e<=0){u([]),p(null);return}h(!0),y(null);try{const T=await sa.getOptions({city:l,subtotal:e,weight:0});if(!S)return;if(u(T),T.length){const F=T.slice().sort((O,P)=>O.cost-P.cost)[0];p(F.id)}}catch(T){S&&y((T==null?void 0:T.message)||"Failed to load shipping options")}finally{S&&h(!1)}},400);return()=>{S=!1,clearTimeout(E)}},[l,e]),N.useEffect(()=>{const S=v?{id:v.id,cost:v.cost,name:v.name,zone:v.zone}:null;try{localStorage.setItem("selectedShippingOption",JSON.stringify(S))}catch(k){}try{localStorage.setItem("selectedShippingCity",l||"")}catch(k){}},[v,l]),n.jsx("div",{className:"border-t bg-gray-50 px-6 py-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between text-base text-gray-600",children:[n.jsx("span",{children:C("cart.summary.subtotal")}),n.jsx("span",{children:lt(e,r)})]}),n.jsx(cq,{onApply:({discount:S,code:k})=>{o(S),s({code:k,discount:S})},totalAmount:e,initialCode:a==null?void 0:a.code}),i>0&&n.jsxs("div",{className:"flex justify-between text-base text-green-600",children:[n.jsx("span",{children:C("cart.summary.discount")}),n.jsxs("span",{children:["-",lt(i,r)]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-600",children:[C("cart.summary.city")," (for shipping)"]}),n.jsx("input",{type:"text",value:l,onChange:S=>c(S.target.value),placeholder:C("cart.summary.cityPlaceholder"),className:"w-full px-3 py-2 rounded-lg border border-gray-300 bg-white text-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-base text-gray-600",children:[n.jsx("span",{children:C("cart.summary.shipping")}),n.jsx("span",{children:lt(w,r)})]}),f&&n.jsx("div",{className:"text-xs text-gray-500",children:C("cart.summary.loadingShipping")||"Loading shipping options..."}),x&&n.jsx("div",{className:"text-xs text-red-500",children:x}),!f&&!x&&l&&d.length===0&&n.jsx("div",{className:"text-xs text-gray-500",children:C("cart.summary.noShippingOptions")||"Shipping will be confirmed later."}),d.length>0&&n.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto custom-scrollbar border rounded-lg divide-y",children:d.map(S=>n.jsxs("label",{className:"flex items-center gap-3 p-2 text-sm cursor-pointer hover:bg-white",children:[n.jsx("input",{type:"radio",name:"shippingOption",value:S.id,checked:m===S.id,onChange:()=>p(S.id),className:"text-indigo-600 focus:ring-indigo-500"}),n.jsxs("span",{className:"flex-1 flex flex-col",children:[n.jsx("span",{className:"font-medium text-gray-800",children:S.name}),n.jsx("span",{className:"text-[11px] text-gray-500",children:S.zone})]}),n.jsx("span",{className:"font-medium text-gray-900",children:lt(S.cost,r)})]},S.id))})]}),n.jsxs("div",{className:"flex justify-between text-lg font-semibold text-gray-900",children:[n.jsx("span",{children:C("cart.summary.total")}),n.jsx("span",{children:lt(j,r)})]}),n.jsxs("button",{onClick:()=>{t&&t(),requestAnimationFrame(()=>A("/checkout"))},className:"w-full bg-indigo-600 text-white py-4 rounded-full font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 group",children:[n.jsx("span",{children:C("cart.summary.checkout")}),n.jsx(hl,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[n.jsx(jo,{className:"w-4 h-4"}),n.jsx("span",{children:C("cart.summary.secureCheckout")})]})]})})}function T6({onClose:e}){const{t}=$t();return n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 py-12",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center mb-6",children:n.jsx(Xs,{className:"w-8 h-8 text-indigo-600"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t("cart.empty.title")}),n.jsx("p",{className:"text-gray-500 text-center mb-8",children:t("cart.empty.description")}),n.jsx("button",{onClick:e,className:"bg-indigo-600 text-white py-3 px-8 rounded-full font-semibold hover:bg-indigo-700 transition-colors",children:t("cart.empty.continueShopping")})]})}function dq({isOpen:e,onClose:t}){const{t:r}=$t(),{items:a}=ga(),s=a.reduce((i,o)=>i+o.price*o.quantity,0);return n.jsxs("div",{className:`fixed inset-0 z-50 ${e?"pointer-events-auto":"pointer-events-none"}`,children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-black/20 via-black/40 to-black/60 backdrop-blur-md transition-all duration-500 ease-out ${e?"opacity-100":"opacity-0"}`,onClick:t}),n.jsxs("div",{className:`absolute top-0 left-0 h-full w-full sm:w-[480px] bg-gradient-to-b from-white via-white to-gray-50/80 shadow-2xl transform transition-all duration-700 ease-out ${e?"translate-x-0 scale-100":"-translate-x-full scale-95"} border-r border-gray-100/50`,children:[n.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between px-6 py-5 border-b border-gray-200/50 bg-white/80 backdrop-blur-xl",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Xs,{className:"w-6 h-6 text-indigo-600"}),a.length>0&&n.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-bold text-white",children:a.length})})]}),n.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:r("common.cart")})]}),n.jsxs("button",{onClick:t,className:"group relative p-2 rounded-xl hover:bg-gray-100/80 active:bg-gray-200/80 transition-all duration-300 hover:scale-105 active:scale-95",children:[n.jsx(xt,{className:"w-5 h-5 text-gray-500 group-hover:text-gray-700 transition-colors"}),n.jsx("div",{className:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity bg-gradient-to-r from-indigo-500/10 to-purple-500/10"})]})]}),n.jsxs("div",{className:"h-[calc(100%-88px)] flex flex-col relative",children:[n.jsx("div",{className:"absolute top-0 left-6 right-6 h-px bg-gradient-to-r from-transparent via-indigo-200 to-transparent"}),a.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx(lq,{items:a})}),n.jsxs("div",{className:"relative px-6 py-3",children:[n.jsx("div",{className:"absolute inset-x-6 top-0 h-px bg-gradient-to-r from-transparent via-gray-300/80 to-transparent"}),n.jsx("div",{className:"absolute inset-x-6 top-0 h-px bg-gradient-to-r from-indigo-200/50 via-purple-200/50 to-indigo-200/50 blur-sm"})]}),n.jsx("div",{className:"bg-gradient-to-t from-gray-50/90 to-white/50 backdrop-blur-sm",children:n.jsx(E6,{subtotal:s,onCheckout:t})})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx(T6,{onClose:t})})]}),n.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-indigo-400 via-purple-500 to-indigo-600 opacity-60"}),n.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-r-xl shadow-inner opacity-30"})]})]})}function uq({isOpen:e,onClose:t,anchorRef:r}){const{items:a,removeFromWishlist:s}=Sd(),{addToCart:i}=ga(),o=ne.useRef(null),[l,c]=ne.useState(void 0),{t:d}=$t(),u=m=>{if(!m)return"/placeholder-image.svg";if(Array.isArray(m)&&m.length>0)return u(m[0]);if(typeof m=="object"){const y=m.url||m.path||m.src||m.file||m.filename||m.image;return u(y)}const p=String(m).trim();return p?p.startsWith("http")||p.startsWith("data:")||p.startsWith("blob:")||/^[a-fA-F0-9]{24}$/.test(p)?p:la(p)||"/placeholder-image.svg":"/placeholder-image.svg"},f=ne.useRef({}),h=m=>/^[a-fA-F0-9]{24}$/.test(m);return ne.useEffect(()=>{if(!e)return;const m=[];a.forEach(p=>{const x=p.image;typeof x=="string"&&h(x)&&!f.current[x]&&m.push(x)}),m.length!==0&&Promise.all(m.map(p=>ue.getWithRetry(`/products/${p}`).then(x=>({id:p,data:x.data})).catch(()=>({id:p,data:null})))).then(p=>{let x=!1;p.forEach(y=>{y.data&&Array.isArray(y.data.images)&&y.data.images[0]&&(f.current[y.id]=u(y.data.images[0]),x=!0)}),x&&c(y=>({...y}))})},[e,a]),ne.useEffect(()=>{function m(){if(!(r!=null&&r.current)||!o.current){c(void 0);return}const p=r.current.getBoundingClientRect(),x=Math.min(window.innerWidth-32,720);let y=p.left,v="top left";p.left+x>window.innerWidth-16?(y=Math.max(p.right-x,16),v="top right"):y=Math.max(p.left,16);const w=p.bottom+8;c({position:"fixed",left:y,top:w,width:x,maxHeight:"80vh",zIndex:60,transformOrigin:v})}return e&&(m(),window.addEventListener("resize",m),window.addEventListener("scroll",m,!0)),()=>{window.removeEventListener("resize",m),window.removeEventListener("scroll",m,!0)}},[e,r]),e?n.jsxs("div",{className:"fixed inset-0 z-50","aria-labelledby":"wishlist-modal",role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm","aria-hidden":"true",onClick:t}),n.jsxs("div",{ref:o,style:l,className:"bg-white rounded-xl shadow-2xl overflow-hidden transform transition-all duration-300","aria-live":"polite",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d("wishlist.myWishlist")}),n.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx(xt,{className:"w-5 h-5 text-gray-500"})})]}),n.jsx("div",{className:"max-h-[calc(80vh-64px)] overflow-y-auto px-6 py-4",children:a.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:n.jsx(Xs,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:d("wishlist.empty.title")}),n.jsx("p",{className:"text-gray-500 text-center",children:d("wishlist.empty.description")})]}):n.jsx("div",{className:"space-y-6",children:a.map(m=>n.jsxs("div",{className:"flex gap-4 items-start",children:[n.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:n.jsx("img",{src:typeof m.image=="string"&&f.current[m.image]?f.current[m.image]:u(m.image),alt:m.name,className:"w-full h-full object-cover block",onError:p=>{const x=p.currentTarget;x.src.indexOf("/placeholder-image.svg")===-1&&(x.src="/placeholder-image.svg")}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-base font-medium text-gray-900 truncate",children:m.name}),n.jsxs("p",{className:"mt-1 text-sm font-medium text-indigo-600",children:["$",m.price.toFixed(2)]}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsx("button",{onClick:()=>{i(m),s(m.id)},className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors",children:d("wishlist.actions.addToCart")}),n.jsx("button",{onClick:()=>s(m.id),className:"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:d("wishlist.actions.remove"),"aria-label":d("wishlist.actions.remove"),children:n.jsx(en,{className:"w-5 h-5"})})]})]})]},m.id))})})]})]}):null}var zx={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */zx.exports;(function(e,t){(function(){var r,a="4.17.21",s=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,u="__lodash_placeholder__",f=1,h=2,m=4,p=1,x=2,y=1,v=2,w=4,j=8,A=16,C=32,S=64,k=128,E=256,T=512,F=30,O="...",P=800,W=16,q=1,D=2,M=3,H=1/0,ee=9007199254740991,X=17976931348623157e292,de=NaN,le=4294967295,G=le-1,K=le>>>1,Z=[["ary",k],["bind",y],["bindKey",v],["curry",j],["curryRight",A],["flip",T],["partial",C],["partialRight",S],["rearg",E]],I="[object Arguments]",V="[object Array]",te="[object AsyncFunction]",R="[object Boolean]",U="[object Date]",Q="[object DOMException]",J="[object Error]",L="[object Function]",he="[object GeneratorFunction]",ge="[object Map]",Ae="[object Number]",Ee="[object Null]",xe="[object Object]",Te="[object Promise]",Ue="[object Proxy]",tt="[object RegExp]",ct="[object Set]",mt="[object String]",ut="[object Symbol]",it="[object Undefined]",At="[object WeakMap]",Bt="[object WeakSet]",vt="[object ArrayBuffer]",Gt="[object DataView]",Ut="[object Float32Array]",ft="[object Float64Array]",Ht="[object Int8Array]",dr="[object Int16Array]",St="[object Int32Array]",ir="[object Uint8Array]",Kr="[object Uint8ClampedArray]",Jn="[object Uint16Array]",Zn="[object Uint32Array]",qa=/\b__p \+= '';/g,gn=/\b(__p \+=) '' \+/g,tn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,va=/&(?:amp|lt|gt|quot|#39);/g,je=/[&<>"']/g,Oe=RegExp(va.source),Ze=RegExp(je.source),He=/<%-([\s\S]+?)%>/g,dt=/<%([\s\S]+?)%>/g,be=/<%=([\s\S]+?)%>/g,Ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,at=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yt=/[\\^$.*+?()[\]{}|]/g,_e=RegExp(yt.source),Xe=/^\s+/,st=/\s/,_t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,re=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,me=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pe=/\w*$/,Me=/^[-+]0x[0-9a-f]+$/i,Ie=/^0b[01]+$/i,we=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,Se=/^(?:0|[1-9]\d*)$/,De=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,Ve=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",gt="\\u0300-\\u036f",Qt="\\ufe20-\\ufe2f",or="\\u20d0-\\u20ff",Hr=gt+Qt+or,Nr="\\u2700-\\u27bf",fs="a-z\\xdf-\\xf6\\xf8-\\xff",Es="\\xac\\xb1\\xd7\\xf7",Qs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bl="\\u2000-\\u206f",hs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zf="A-Z\\xc0-\\xd6\\xd8-\\xde",Qf="\\ufe0e\\ufe0f",eh=Es+Qs+bl+hs,Wd="['’]",Cp="["+Je+"]",th="["+eh+"]",bc="["+Hr+"]",rh="\\d+",Ap="["+Nr+"]",nh="["+fs+"]",ah="[^"+Je+eh+rh+Nr+fs+Zf+"]",zd="\\ud83c[\\udffb-\\udfff]",_p="(?:"+bc+"|"+zd+")",sh="[^"+Je+"]",Hd="(?:\\ud83c[\\udde6-\\uddff]){2}",Vd="[\\ud800-\\udbff][\\udc00-\\udfff]",Oo="["+Zf+"]",ih="\\u200d",oh="(?:"+nh+"|"+ah+")",Ep="(?:"+Oo+"|"+ah+")",lh="(?:"+Wd+"(?:d|ll|m|re|s|t|ve))?",ch="(?:"+Wd+"(?:D|LL|M|RE|S|T|VE))?",dh=_p+"?",uh="["+Qf+"]?",Tp="(?:"+ih+"(?:"+[sh,Hd,Vd].join("|")+")"+uh+dh+")*",Op="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fh=uh+dh+Tp,Ip="(?:"+[Ap,Hd,Vd].join("|")+")"+fh,Fp="(?:"+[sh+bc+"?",bc,Hd,Vd,Cp].join("|")+")",Dp=RegExp(Wd,"g"),Rp=RegExp(bc,"g"),Gd=RegExp(zd+"(?="+zd+")|"+Fp+fh,"g"),Mp=RegExp([Oo+"?"+nh+"+"+lh+"(?="+[th,Oo,"$"].join("|")+")",Ep+"+"+ch+"(?="+[th,Oo+oh,"$"].join("|")+")",Oo+"?"+oh+"+"+lh,Oo+"+"+ch,Pp,Op,rh,Ip].join("|"),"g"),Lp=RegExp("["+ih+Je+Hr+Qf+"]"),$p=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Up=-1,Pr={};Pr[Ut]=Pr[ft]=Pr[Ht]=Pr[dr]=Pr[St]=Pr[ir]=Pr[Kr]=Pr[Jn]=Pr[Zn]=!0,Pr[I]=Pr[V]=Pr[vt]=Pr[R]=Pr[Gt]=Pr[U]=Pr[J]=Pr[L]=Pr[ge]=Pr[Ae]=Pr[xe]=Pr[tt]=Pr[ct]=Pr[mt]=Pr[At]=!1;var Sr={};Sr[I]=Sr[V]=Sr[vt]=Sr[Gt]=Sr[R]=Sr[U]=Sr[Ut]=Sr[ft]=Sr[Ht]=Sr[dr]=Sr[St]=Sr[ge]=Sr[Ae]=Sr[xe]=Sr[tt]=Sr[ct]=Sr[mt]=Sr[ut]=Sr[ir]=Sr[Kr]=Sr[Jn]=Sr[Zn]=!0,Sr[J]=Sr[L]=Sr[At]=!1;var Wp={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},zp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Vp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gp=parseFloat,qp=parseInt,hh=typeof js=="object"&&js&&js.Object===Object&&js,Kp=typeof self=="object"&&self&&self.Object===Object&&self,Cn=hh||Kp||Function("return this")(),qd=t&&!t.nodeType&&t,io=qd&&!0&&e&&!e.nodeType&&e,mh=io&&io.exports===qd,Kd=mh&&hh.process,Ka=function(){try{var ke=io&&io.require&&io.require("util").types;return ke||Kd&&Kd.binding&&Kd.binding("util")}catch(Be){}}(),ph=Ka&&Ka.isArrayBuffer,gh=Ka&&Ka.isDate,xh=Ka&&Ka.isMap,yh=Ka&&Ka.isRegExp,vh=Ka&&Ka.isSet,bh=Ka&&Ka.isTypedArray;function Oa(ke,Be,Re){switch(Re.length){case 0:return ke.call(Be);case 1:return ke.call(Be,Re[0]);case 2:return ke.call(Be,Re[0],Re[1]);case 3:return ke.call(Be,Re[0],Re[1],Re[2])}return ke.apply(Be,Re)}function Xp(ke,Be,Re,ht){for(var Wt=-1,xr=ke==null?0:ke.length;++Wt<xr;){var Ln=ke[Wt];Be(ht,Ln,Re(Ln),ke)}return ht}function Xa(ke,Be){for(var Re=-1,ht=ke==null?0:ke.length;++Re<ht&&Be(ke[Re],Re,ke)!==!1;);return ke}function Yp(ke,Be){for(var Re=ke==null?0:ke.length;Re--&&Be(ke[Re],Re,ke)!==!1;);return ke}function wh(ke,Be){for(var Re=-1,ht=ke==null?0:ke.length;++Re<ht;)if(!Be(ke[Re],Re,ke))return!1;return!0}function Pi(ke,Be){for(var Re=-1,ht=ke==null?0:ke.length,Wt=0,xr=[];++Re<ht;){var Ln=ke[Re];Be(Ln,Re,ke)&&(xr[Wt++]=Ln)}return xr}function wc(ke,Be){var Re=ke==null?0:ke.length;return!!Re&&Po(ke,Be,0)>-1}function Xd(ke,Be,Re){for(var ht=-1,Wt=ke==null?0:ke.length;++ht<Wt;)if(Re(Be,ke[ht]))return!0;return!1}function Rr(ke,Be){for(var Re=-1,ht=ke==null?0:ke.length,Wt=Array(ht);++Re<ht;)Wt[Re]=Be(ke[Re],Re,ke);return Wt}function Ii(ke,Be){for(var Re=-1,ht=Be.length,Wt=ke.length;++Re<ht;)ke[Wt+Re]=Be[Re];return ke}function Yd(ke,Be,Re,ht){var Wt=-1,xr=ke==null?0:ke.length;for(ht&&xr&&(Re=ke[++Wt]);++Wt<xr;)Re=Be(Re,ke[Wt],Wt,ke);return Re}function Jp(ke,Be,Re,ht){var Wt=ke==null?0:ke.length;for(ht&&Wt&&(Re=ke[--Wt]);Wt--;)Re=Be(Re,ke[Wt],Wt,ke);return Re}function Jd(ke,Be){for(var Re=-1,ht=ke==null?0:ke.length;++Re<ht;)if(Be(ke[Re],Re,ke))return!0;return!1}var Zp=Zd("length");function Qp(ke){return ke.split("")}function eg(ke){return ke.match(oe)||[]}function jh(ke,Be,Re){var ht;return Re(ke,function(Wt,xr,Ln){if(Be(Wt,xr,Ln))return ht=xr,!1}),ht}function jc(ke,Be,Re,ht){for(var Wt=ke.length,xr=Re+(ht?1:-1);ht?xr--:++xr<Wt;)if(Be(ke[xr],xr,ke))return xr;return-1}function Po(ke,Be,Re){return Be===Be?nB(ke,Be,Re):jc(ke,Nh,Re)}function tg(ke,Be,Re,ht){for(var Wt=Re-1,xr=ke.length;++Wt<xr;)if(ht(ke[Wt],Be))return Wt;return-1}function Nh(ke){return ke!==ke}function Sh(ke,Be){var Re=ke==null?0:ke.length;return Re?ve(ke,Be)/Re:de}function Zd(ke){return function(Be){return Be==null?r:Be[ke]}}function Qd(ke){return function(Be){return ke==null?r:ke[Be]}}function kh(ke,Be,Re,ht,Wt){return Wt(ke,function(xr,Ln,Lr){Re=ht?(ht=!1,xr):Be(Re,xr,Ln,Lr)}),Re}function rg(ke,Be){var Re=ke.length;for(ke.sort(Be);Re--;)ke[Re]=ke[Re].value;return ke}function ve(ke,Be){for(var Re,ht=-1,Wt=ke.length;++ht<Wt;){var xr=Be(ke[ht]);xr!==r&&(Re=Re===r?xr:Re+xr)}return Re}function er(ke,Be){for(var Re=-1,ht=Array(ke);++Re<ke;)ht[Re]=Be(Re);return ht}function br(ke,Be){return Rr(Be,function(Re){return[Re,ke[Re]]})}function xn(ke){return ke&&ke.slice(0,vC(ke)+1).replace(Xe,"")}function Mr(ke){return function(Be){return ke(Be)}}function Qn(ke,Be){return Rr(Be,function(Re){return ke[Re]})}function Ts(ke,Be){return ke.has(Be)}function gC(ke,Be){for(var Re=-1,ht=ke.length;++Re<ht&&Po(Be,ke[Re],0)>-1;);return Re}function xC(ke,Be){for(var Re=ke.length;Re--&&Po(Be,ke[Re],0)>-1;);return Re}function X8(ke,Be){for(var Re=ke.length,ht=0;Re--;)ke[Re]===Be&&++ht;return ht}var Y8=Qd(Wp),J8=Qd(zp);function Z8(ke){return"\\"+Vp[ke]}function Q8(ke,Be){return ke==null?r:ke[Be]}function eu(ke){return Lp.test(ke)}function eB(ke){return $p.test(ke)}function tB(ke){for(var Be,Re=[];!(Be=ke.next()).done;)Re.push(Be.value);return Re}function t1(ke){var Be=-1,Re=Array(ke.size);return ke.forEach(function(ht,Wt){Re[++Be]=[Wt,ht]}),Re}function yC(ke,Be){return function(Re){return ke(Be(Re))}}function wl(ke,Be){for(var Re=-1,ht=ke.length,Wt=0,xr=[];++Re<ht;){var Ln=ke[Re];(Ln===Be||Ln===u)&&(ke[Re]=u,xr[Wt++]=Re)}return xr}function ng(ke){var Be=-1,Re=Array(ke.size);return ke.forEach(function(ht){Re[++Be]=ht}),Re}function rB(ke){var Be=-1,Re=Array(ke.size);return ke.forEach(function(ht){Re[++Be]=[ht,ht]}),Re}function nB(ke,Be,Re){for(var ht=Re-1,Wt=ke.length;++ht<Wt;)if(ke[ht]===Be)return ht;return-1}function aB(ke,Be,Re){for(var ht=Re+1;ht--;)if(ke[ht]===Be)return ht;return ht}function tu(ke){return eu(ke)?iB(ke):Zp(ke)}function Fi(ke){return eu(ke)?oB(ke):Qp(ke)}function vC(ke){for(var Be=ke.length;Be--&&st.test(ke.charAt(Be)););return Be}var sB=Qd(Hp);function iB(ke){for(var Be=Gd.lastIndex=0;Gd.test(ke);)++Be;return Be}function oB(ke){return ke.match(Gd)||[]}function lB(ke){return ke.match(Mp)||[]}var cB=function ke(Be){Be=Be==null?Cn:ru.defaults(Cn.Object(),Be,ru.pick(Cn,Bp));var Re=Be.Array,ht=Be.Date,Wt=Be.Error,xr=Be.Function,Ln=Be.Math,Lr=Be.Object,r1=Be.RegExp,dB=Be.String,ei=Be.TypeError,ag=Re.prototype,uB=xr.prototype,nu=Lr.prototype,sg=Be["__core-js_shared__"],ig=uB.toString,kr=nu.hasOwnProperty,fB=0,bC=function(){var g=/[^.]+$/.exec(sg&&sg.keys&&sg.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),og=nu.toString,hB=ig.call(Lr),mB=Cn._,pB=r1("^"+ig.call(kr).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lg=mh?Be.Buffer:r,jl=Be.Symbol,cg=Be.Uint8Array,wC=lg?lg.allocUnsafe:r,dg=yC(Lr.getPrototypeOf,Lr),jC=Lr.create,NC=nu.propertyIsEnumerable,ug=ag.splice,SC=jl?jl.isConcatSpreadable:r,Ch=jl?jl.iterator:r,Nc=jl?jl.toStringTag:r,fg=function(){try{var g=_c(Lr,"defineProperty");return g({},"",{}),g}catch(b){}}(),gB=Be.clearTimeout!==Cn.clearTimeout&&Be.clearTimeout,xB=ht&&ht.now!==Cn.Date.now&&ht.now,yB=Be.setTimeout!==Cn.setTimeout&&Be.setTimeout,hg=Ln.ceil,mg=Ln.floor,n1=Lr.getOwnPropertySymbols,vB=lg?lg.isBuffer:r,kC=Be.isFinite,bB=ag.join,wB=yC(Lr.keys,Lr),$n=Ln.max,Pa=Ln.min,jB=ht.now,NB=Be.parseInt,CC=Ln.random,SB=ag.reverse,a1=_c(Be,"DataView"),Ah=_c(Be,"Map"),s1=_c(Be,"Promise"),au=_c(Be,"Set"),_h=_c(Be,"WeakMap"),Eh=_c(Lr,"create"),pg=_h&&new _h,su={},kB=Ec(a1),CB=Ec(Ah),AB=Ec(s1),_B=Ec(au),EB=Ec(_h),gg=jl?jl.prototype:r,Th=gg?gg.valueOf:r,AC=gg?gg.toString:r;function se(g){if(cn(g)&&!zt(g)&&!(g instanceof sr)){if(g instanceof ti)return g;if(kr.call(g,"__wrapped__"))return _A(g)}return new ti(g)}var iu=function(){function g(){}return function(b){if(!nn(b))return{};if(jC)return jC(b);g.prototype=b;var _=new g;return g.prototype=r,_}}();function xg(){}function ti(g,b){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=r}se.templateSettings={escape:He,evaluate:dt,interpolate:be,variable:"",imports:{_:se}},se.prototype=xg.prototype,se.prototype.constructor=se,ti.prototype=iu(xg.prototype),ti.prototype.constructor=ti;function sr(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function TB(){var g=new sr(this.__wrapped__);return g.__actions__=ms(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=ms(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=ms(this.__views__),g}function OB(){if(this.__filtered__){var g=new sr(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function PB(){var g=this.__wrapped__.value(),b=this.__dir__,_=zt(g),B=b<0,Y=_?g.length:0,ie=H7(0,Y,this.__views__),ye=ie.start,Ne=ie.end,Ce=Ne-ye,We=B?Ne:ye-1,ze=this.__iteratees__,qe=ze.length,ot=0,wt=Pa(Ce,this.__takeCount__);if(!_||!B&&Y==Ce&&wt==Ce)return JC(g,this.__actions__);var Tt=[];e:for(;Ce--&&ot<wt;){We+=b;for(var Xt=-1,Ot=g[We];++Xt<qe;){var nr=ze[Xt],lr=nr.iteratee,Is=nr.type,Za=lr(Ot);if(Is==D)Ot=Za;else if(!Za){if(Is==q)continue e;break e}}Tt[ot++]=Ot}return Tt}sr.prototype=iu(xg.prototype),sr.prototype.constructor=sr;function Sc(g){var b=-1,_=g==null?0:g.length;for(this.clear();++b<_;){var B=g[b];this.set(B[0],B[1])}}function IB(){this.__data__=Eh?Eh(null):{},this.size=0}function FB(g){var b=this.has(g)&&delete this.__data__[g];return this.size-=b?1:0,b}function DB(g){var b=this.__data__;if(Eh){var _=b[g];return _===c?r:_}return kr.call(b,g)?b[g]:r}function RB(g){var b=this.__data__;return Eh?b[g]!==r:kr.call(b,g)}function MB(g,b){var _=this.__data__;return this.size+=this.has(g)?0:1,_[g]=Eh&&b===r?c:b,this}Sc.prototype.clear=IB,Sc.prototype.delete=FB,Sc.prototype.get=DB,Sc.prototype.has=RB,Sc.prototype.set=MB;function Io(g){var b=-1,_=g==null?0:g.length;for(this.clear();++b<_;){var B=g[b];this.set(B[0],B[1])}}function LB(){this.__data__=[],this.size=0}function $B(g){var b=this.__data__,_=yg(b,g);if(_<0)return!1;var B=b.length-1;return _==B?b.pop():ug.call(b,_,1),--this.size,!0}function BB(g){var b=this.__data__,_=yg(b,g);return _<0?r:b[_][1]}function UB(g){return yg(this.__data__,g)>-1}function WB(g,b){var _=this.__data__,B=yg(_,g);return B<0?(++this.size,_.push([g,b])):_[B][1]=b,this}Io.prototype.clear=LB,Io.prototype.delete=$B,Io.prototype.get=BB,Io.prototype.has=UB,Io.prototype.set=WB;function Fo(g){var b=-1,_=g==null?0:g.length;for(this.clear();++b<_;){var B=g[b];this.set(B[0],B[1])}}function zB(){this.size=0,this.__data__={hash:new Sc,map:new(Ah||Io),string:new Sc}}function HB(g){var b=Tg(this,g).delete(g);return this.size-=b?1:0,b}function VB(g){return Tg(this,g).get(g)}function GB(g){return Tg(this,g).has(g)}function qB(g,b){var _=Tg(this,g),B=_.size;return _.set(g,b),this.size+=_.size==B?0:1,this}Fo.prototype.clear=zB,Fo.prototype.delete=HB,Fo.prototype.get=VB,Fo.prototype.has=GB,Fo.prototype.set=qB;function kc(g){var b=-1,_=g==null?0:g.length;for(this.__data__=new Fo;++b<_;)this.add(g[b])}function KB(g){return this.__data__.set(g,c),this}function XB(g){return this.__data__.has(g)}kc.prototype.add=kc.prototype.push=KB,kc.prototype.has=XB;function Di(g){var b=this.__data__=new Io(g);this.size=b.size}function YB(){this.__data__=new Io,this.size=0}function JB(g){var b=this.__data__,_=b.delete(g);return this.size=b.size,_}function ZB(g){return this.__data__.get(g)}function QB(g){return this.__data__.has(g)}function e7(g,b){var _=this.__data__;if(_ instanceof Io){var B=_.__data__;if(!Ah||B.length<s-1)return B.push([g,b]),this.size=++_.size,this;_=this.__data__=new Fo(B)}return _.set(g,b),this.size=_.size,this}Di.prototype.clear=YB,Di.prototype.delete=JB,Di.prototype.get=ZB,Di.prototype.has=QB,Di.prototype.set=e7;function _C(g,b){var _=zt(g),B=!_&&Tc(g),Y=!_&&!B&&Al(g),ie=!_&&!B&&!Y&&du(g),ye=_||B||Y||ie,Ne=ye?er(g.length,dB):[],Ce=Ne.length;for(var We in g)(b||kr.call(g,We))&&!(ye&&(We=="length"||Y&&(We=="offset"||We=="parent")||ie&&(We=="buffer"||We=="byteLength"||We=="byteOffset")||Lo(We,Ce)))&&Ne.push(We);return Ne}function EC(g){var b=g.length;return b?g[g1(0,b-1)]:r}function t7(g,b){return Og(ms(g),Cc(b,0,g.length))}function r7(g){return Og(ms(g))}function i1(g,b,_){(_!==r&&!Ri(g[b],_)||_===r&&!(b in g))&&Do(g,b,_)}function Oh(g,b,_){var B=g[b];(!(kr.call(g,b)&&Ri(B,_))||_===r&&!(b in g))&&Do(g,b,_)}function yg(g,b){for(var _=g.length;_--;)if(Ri(g[_][0],b))return _;return-1}function n7(g,b,_,B){return Nl(g,function(Y,ie,ye){b(B,Y,_(Y),ye)}),B}function TC(g,b){return g&&lo(b,ea(b),g)}function a7(g,b){return g&&lo(b,gs(b),g)}function Do(g,b,_){b=="__proto__"&&fg?fg(g,b,{configurable:!0,enumerable:!0,value:_,writable:!0}):g[b]=_}function o1(g,b){for(var _=-1,B=b.length,Y=Re(B),ie=g==null;++_<B;)Y[_]=ie?r:U1(g,b[_]);return Y}function Cc(g,b,_){return g===g&&(_!==r&&(g=g<=_?g:_),b!==r&&(g=g>=b?g:b)),g}function ri(g,b,_,B,Y,ie){var ye,Ne=b&f,Ce=b&h,We=b&m;if(_&&(ye=Y?_(g,B,Y,ie):_(g)),ye!==r)return ye;if(!nn(g))return g;var ze=zt(g);if(ze){if(ye=G7(g),!Ne)return ms(g,ye)}else{var qe=Ia(g),ot=qe==L||qe==he;if(Al(g))return eA(g,Ne);if(qe==xe||qe==I||ot&&!Y){if(ye=Ce||ot?{}:vA(g),!Ne)return Ce?D7(g,a7(ye,g)):F7(g,TC(ye,g))}else{if(!Sr[qe])return Y?g:{};ye=q7(g,qe,Ne)}}ie||(ie=new Di);var wt=ie.get(g);if(wt)return wt;ie.set(g,ye),KA(g)?g.forEach(function(Ot){ye.add(ri(Ot,b,_,Ot,g,ie))}):GA(g)&&g.forEach(function(Ot,nr){ye.set(nr,ri(Ot,b,_,nr,g,ie))});var Tt=We?Ce?A1:C1:Ce?gs:ea,Xt=ze?r:Tt(g);return Xa(Xt||g,function(Ot,nr){Xt&&(nr=Ot,Ot=g[nr]),Oh(ye,nr,ri(Ot,b,_,nr,g,ie))}),ye}function s7(g){var b=ea(g);return function(_){return OC(_,g,b)}}function OC(g,b,_){var B=_.length;if(g==null)return!B;for(g=Lr(g);B--;){var Y=_[B],ie=b[Y],ye=g[Y];if(ye===r&&!(Y in g)||!ie(ye))return!1}return!0}function PC(g,b,_){if(typeof g!="function")throw new ei(o);return Lh(function(){g.apply(r,_)},b)}function Ph(g,b,_,B){var Y=-1,ie=wc,ye=!0,Ne=g.length,Ce=[],We=b.length;if(!Ne)return Ce;_&&(b=Rr(b,Mr(_))),B?(ie=Xd,ye=!1):b.length>=s&&(ie=Ts,ye=!1,b=new kc(b));e:for(;++Y<Ne;){var ze=g[Y],qe=_==null?ze:_(ze);if(ze=B||ze!==0?ze:0,ye&&qe===qe){for(var ot=We;ot--;)if(b[ot]===qe)continue e;Ce.push(ze)}else ie(b,qe,B)||Ce.push(ze)}return Ce}var Nl=sA(oo),IC=sA(c1,!0);function i7(g,b){var _=!0;return Nl(g,function(B,Y,ie){return _=!!b(B,Y,ie),_}),_}function vg(g,b,_){for(var B=-1,Y=g.length;++B<Y;){var ie=g[B],ye=b(ie);if(ye!=null&&(Ne===r?ye===ye&&!Ps(ye):_(ye,Ne)))var Ne=ye,Ce=ie}return Ce}function o7(g,b,_,B){var Y=g.length;for(_=qt(_),_<0&&(_=-_>Y?0:Y+_),B=B===r||B>Y?Y:qt(B),B<0&&(B+=Y),B=_>B?0:YA(B);_<B;)g[_++]=b;return g}function FC(g,b){var _=[];return Nl(g,function(B,Y,ie){b(B,Y,ie)&&_.push(B)}),_}function ba(g,b,_,B,Y){var ie=-1,ye=g.length;for(_||(_=X7),Y||(Y=[]);++ie<ye;){var Ne=g[ie];b>0&&_(Ne)?b>1?ba(Ne,b-1,_,B,Y):Ii(Y,Ne):B||(Y[Y.length]=Ne)}return Y}var l1=iA(),DC=iA(!0);function oo(g,b){return g&&l1(g,b,ea)}function c1(g,b){return g&&DC(g,b,ea)}function bg(g,b){return Pi(b,function(_){return $o(g[_])})}function Ac(g,b){b=kl(b,g);for(var _=0,B=b.length;g!=null&&_<B;)g=g[co(b[_++])];return _&&_==B?g:r}function RC(g,b,_){var B=b(g);return zt(g)?B:Ii(B,_(g))}function Ya(g){return g==null?g===r?it:Ee:Nc&&Nc in Lr(g)?z7(g):r9(g)}function d1(g,b){return g>b}function l7(g,b){return g!=null&&kr.call(g,b)}function c7(g,b){return g!=null&&b in Lr(g)}function d7(g,b,_){return g>=Pa(b,_)&&g<$n(b,_)}function u1(g,b,_){for(var B=_?Xd:wc,Y=g[0].length,ie=g.length,ye=ie,Ne=Re(ie),Ce=1/0,We=[];ye--;){var ze=g[ye];ye&&b&&(ze=Rr(ze,Mr(b))),Ce=Pa(ze.length,Ce),Ne[ye]=!_&&(b||Y>=120&&ze.length>=120)?new kc(ye&&ze):r}ze=g[0];var qe=-1,ot=Ne[0];e:for(;++qe<Y&&We.length<Ce;){var wt=ze[qe],Tt=b?b(wt):wt;if(wt=_||wt!==0?wt:0,!(ot?Ts(ot,Tt):B(We,Tt,_))){for(ye=ie;--ye;){var Xt=Ne[ye];if(!(Xt?Ts(Xt,Tt):B(g[ye],Tt,_)))continue e}ot&&ot.push(Tt),We.push(wt)}}return We}function u7(g,b,_,B){return oo(g,function(Y,ie,ye){b(B,_(Y),ie,ye)}),B}function Ih(g,b,_){b=kl(b,g),g=NA(g,b);var B=g==null?g:g[co(ai(b))];return B==null?r:Oa(B,g,_)}function MC(g){return cn(g)&&Ya(g)==I}function f7(g){return cn(g)&&Ya(g)==vt}function h7(g){return cn(g)&&Ya(g)==U}function Fh(g,b,_,B,Y){return g===b?!0:g==null||b==null||!cn(g)&&!cn(b)?g!==g&&b!==b:m7(g,b,_,B,Fh,Y)}function m7(g,b,_,B,Y,ie){var ye=zt(g),Ne=zt(b),Ce=ye?V:Ia(g),We=Ne?V:Ia(b);Ce=Ce==I?xe:Ce,We=We==I?xe:We;var ze=Ce==xe,qe=We==xe,ot=Ce==We;if(ot&&Al(g)){if(!Al(b))return!1;ye=!0,ze=!1}if(ot&&!ze)return ie||(ie=new Di),ye||du(g)?gA(g,b,_,B,Y,ie):U7(g,b,Ce,_,B,Y,ie);if(!(_&p)){var wt=ze&&kr.call(g,"__wrapped__"),Tt=qe&&kr.call(b,"__wrapped__");if(wt||Tt){var Xt=wt?g.value():g,Ot=Tt?b.value():b;return ie||(ie=new Di),Y(Xt,Ot,_,B,ie)}}return ot?(ie||(ie=new Di),W7(g,b,_,B,Y,ie)):!1}function p7(g){return cn(g)&&Ia(g)==ge}function f1(g,b,_,B){var Y=_.length,ie=Y,ye=!B;if(g==null)return!ie;for(g=Lr(g);Y--;){var Ne=_[Y];if(ye&&Ne[2]?Ne[1]!==g[Ne[0]]:!(Ne[0]in g))return!1}for(;++Y<ie;){Ne=_[Y];var Ce=Ne[0],We=g[Ce],ze=Ne[1];if(ye&&Ne[2]){if(We===r&&!(Ce in g))return!1}else{var qe=new Di;if(B)var ot=B(We,ze,Ce,g,b,qe);if(!(ot===r?Fh(ze,We,p|x,B,qe):ot))return!1}}return!0}function LC(g){if(!nn(g)||J7(g))return!1;var b=$o(g)?pB:we;return b.test(Ec(g))}function g7(g){return cn(g)&&Ya(g)==tt}function x7(g){return cn(g)&&Ia(g)==ct}function y7(g){return cn(g)&&Mg(g.length)&&!!Pr[Ya(g)]}function $C(g){return typeof g=="function"?g:g==null?xs:typeof g=="object"?zt(g)?WC(g[0],g[1]):UC(g):o_(g)}function h1(g){if(!Mh(g))return wB(g);var b=[];for(var _ in Lr(g))kr.call(g,_)&&_!="constructor"&&b.push(_);return b}function v7(g){if(!nn(g))return t9(g);var b=Mh(g),_=[];for(var B in g)B=="constructor"&&(b||!kr.call(g,B))||_.push(B);return _}function m1(g,b){return g<b}function BC(g,b){var _=-1,B=ps(g)?Re(g.length):[];return Nl(g,function(Y,ie,ye){B[++_]=b(Y,ie,ye)}),B}function UC(g){var b=E1(g);return b.length==1&&b[0][2]?wA(b[0][0],b[0][1]):function(_){return _===g||f1(_,g,b)}}function WC(g,b){return O1(g)&&bA(b)?wA(co(g),b):function(_){var B=U1(_,g);return B===r&&B===b?W1(_,g):Fh(b,B,p|x)}}function wg(g,b,_,B,Y){g!==b&&l1(b,function(ie,ye){if(Y||(Y=new Di),nn(ie))b7(g,b,ye,_,wg,B,Y);else{var Ne=B?B(I1(g,ye),ie,ye+"",g,b,Y):r;Ne===r&&(Ne=ie),i1(g,ye,Ne)}},gs)}function b7(g,b,_,B,Y,ie,ye){var Ne=I1(g,_),Ce=I1(b,_),We=ye.get(Ce);if(We){i1(g,_,We);return}var ze=ie?ie(Ne,Ce,_+"",g,b,ye):r,qe=ze===r;if(qe){var ot=zt(Ce),wt=!ot&&Al(Ce),Tt=!ot&&!wt&&du(Ce);ze=Ce,ot||wt||Tt?zt(Ne)?ze=Ne:yn(Ne)?ze=ms(Ne):wt?(qe=!1,ze=eA(Ce,!0)):Tt?(qe=!1,ze=tA(Ce,!0)):ze=[]:$h(Ce)||Tc(Ce)?(ze=Ne,Tc(Ne)?ze=JA(Ne):(!nn(Ne)||$o(Ne))&&(ze=vA(Ce))):qe=!1}qe&&(ye.set(Ce,ze),Y(ze,Ce,B,ie,ye),ye.delete(Ce)),i1(g,_,ze)}function zC(g,b){var _=g.length;if(_)return b+=b<0?_:0,Lo(b,_)?g[b]:r}function HC(g,b,_){b.length?b=Rr(b,function(ie){return zt(ie)?function(ye){return Ac(ye,ie.length===1?ie[0]:ie)}:ie}):b=[xs];var B=-1;b=Rr(b,Mr(Et()));var Y=BC(g,function(ie,ye,Ne){var Ce=Rr(b,function(We){return We(ie)});return{criteria:Ce,index:++B,value:ie}});return rg(Y,function(ie,ye){return I7(ie,ye,_)})}function w7(g,b){return VC(g,b,function(_,B){return W1(g,B)})}function VC(g,b,_){for(var B=-1,Y=b.length,ie={};++B<Y;){var ye=b[B],Ne=Ac(g,ye);_(Ne,ye)&&Dh(ie,kl(ye,g),Ne)}return ie}function j7(g){return function(b){return Ac(b,g)}}function p1(g,b,_,B){var Y=B?tg:Po,ie=-1,ye=b.length,Ne=g;for(g===b&&(b=ms(b)),_&&(Ne=Rr(g,Mr(_)));++ie<ye;)for(var Ce=0,We=b[ie],ze=_?_(We):We;(Ce=Y(Ne,ze,Ce,B))>-1;)Ne!==g&&ug.call(Ne,Ce,1),ug.call(g,Ce,1);return g}function GC(g,b){for(var _=g?b.length:0,B=_-1;_--;){var Y=b[_];if(_==B||Y!==ie){var ie=Y;Lo(Y)?ug.call(g,Y,1):v1(g,Y)}}return g}function g1(g,b){return g+mg(CC()*(b-g+1))}function N7(g,b,_,B){for(var Y=-1,ie=$n(hg((b-g)/(_||1)),0),ye=Re(ie);ie--;)ye[B?ie:++Y]=g,g+=_;return ye}function x1(g,b){var _="";if(!g||b<1||b>ee)return _;do b%2&&(_+=g),b=mg(b/2),b&&(g+=g);while(b);return _}function Yt(g,b){return F1(jA(g,b,xs),g+"")}function S7(g){return EC(uu(g))}function k7(g,b){var _=uu(g);return Og(_,Cc(b,0,_.length))}function Dh(g,b,_,B){if(!nn(g))return g;b=kl(b,g);for(var Y=-1,ie=b.length,ye=ie-1,Ne=g;Ne!=null&&++Y<ie;){var Ce=co(b[Y]),We=_;if(Ce==="__proto__"||Ce==="constructor"||Ce==="prototype")return g;if(Y!=ye){var ze=Ne[Ce];We=B?B(ze,Ce,Ne):r,We===r&&(We=nn(ze)?ze:Lo(b[Y+1])?[]:{})}Oh(Ne,Ce,We),Ne=Ne[Ce]}return g}var qC=pg?function(g,b){return pg.set(g,b),g}:xs,C7=fg?function(g,b){return fg(g,"toString",{configurable:!0,enumerable:!1,value:H1(b),writable:!0})}:xs;function A7(g){return Og(uu(g))}function ni(g,b,_){var B=-1,Y=g.length;b<0&&(b=-b>Y?0:Y+b),_=_>Y?Y:_,_<0&&(_+=Y),Y=b>_?0:_-b>>>0,b>>>=0;for(var ie=Re(Y);++B<Y;)ie[B]=g[B+b];return ie}function _7(g,b){var _;return Nl(g,function(B,Y,ie){return _=b(B,Y,ie),!_}),!!_}function jg(g,b,_){var B=0,Y=g==null?B:g.length;if(typeof b=="number"&&b===b&&Y<=K){for(;B<Y;){var ie=B+Y>>>1,ye=g[ie];ye!==null&&!Ps(ye)&&(_?ye<=b:ye<b)?B=ie+1:Y=ie}return Y}return y1(g,b,xs,_)}function y1(g,b,_,B){var Y=0,ie=g==null?0:g.length;if(ie===0)return 0;b=_(b);for(var ye=b!==b,Ne=b===null,Ce=Ps(b),We=b===r;Y<ie;){var ze=mg((Y+ie)/2),qe=_(g[ze]),ot=qe!==r,wt=qe===null,Tt=qe===qe,Xt=Ps(qe);if(ye)var Ot=B||Tt;else We?Ot=Tt&&(B||ot):Ne?Ot=Tt&&ot&&(B||!wt):Ce?Ot=Tt&&ot&&!wt&&(B||!Xt):wt||Xt?Ot=!1:Ot=B?qe<=b:qe<b;Ot?Y=ze+1:ie=ze}return Pa(ie,G)}function KC(g,b){for(var _=-1,B=g.length,Y=0,ie=[];++_<B;){var ye=g[_],Ne=b?b(ye):ye;if(!_||!Ri(Ne,Ce)){var Ce=Ne;ie[Y++]=ye===0?0:ye}}return ie}function XC(g){return typeof g=="number"?g:Ps(g)?de:+g}function Os(g){if(typeof g=="string")return g;if(zt(g))return Rr(g,Os)+"";if(Ps(g))return AC?AC.call(g):"";var b=g+"";return b=="0"&&1/g==-H?"-0":b}function Sl(g,b,_){var B=-1,Y=wc,ie=g.length,ye=!0,Ne=[],Ce=Ne;if(_)ye=!1,Y=Xd;else if(ie>=s){var We=b?null:$7(g);if(We)return ng(We);ye=!1,Y=Ts,Ce=new kc}else Ce=b?[]:Ne;e:for(;++B<ie;){var ze=g[B],qe=b?b(ze):ze;if(ze=_||ze!==0?ze:0,ye&&qe===qe){for(var ot=Ce.length;ot--;)if(Ce[ot]===qe)continue e;b&&Ce.push(qe),Ne.push(ze)}else Y(Ce,qe,_)||(Ce!==Ne&&Ce.push(qe),Ne.push(ze))}return Ne}function v1(g,b){return b=kl(b,g),g=NA(g,b),g==null||delete g[co(ai(b))]}function YC(g,b,_,B){return Dh(g,b,_(Ac(g,b)),B)}function Ng(g,b,_,B){for(var Y=g.length,ie=B?Y:-1;(B?ie--:++ie<Y)&&b(g[ie],ie,g););return _?ni(g,B?0:ie,B?ie+1:Y):ni(g,B?ie+1:0,B?Y:ie)}function JC(g,b){var _=g;return _ instanceof sr&&(_=_.value()),Yd(b,function(B,Y){return Y.func.apply(Y.thisArg,Ii([B],Y.args))},_)}function b1(g,b,_){var B=g.length;if(B<2)return B?Sl(g[0]):[];for(var Y=-1,ie=Re(B);++Y<B;)for(var ye=g[Y],Ne=-1;++Ne<B;)Ne!=Y&&(ie[Y]=Ph(ie[Y]||ye,g[Ne],b,_));return Sl(ba(ie,1),b,_)}function ZC(g,b,_){for(var B=-1,Y=g.length,ie=b.length,ye={};++B<Y;){var Ne=B<ie?b[B]:r;_(ye,g[B],Ne)}return ye}function w1(g){return yn(g)?g:[]}function j1(g){return typeof g=="function"?g:xs}function kl(g,b){return zt(g)?g:O1(g,b)?[g]:AA(wr(g))}var E7=Yt;function Cl(g,b,_){var B=g.length;return _=_===r?B:_,!b&&_>=B?g:ni(g,b,_)}var QC=gB||function(g){return Cn.clearTimeout(g)};function eA(g,b){if(b)return g.slice();var _=g.length,B=wC?wC(_):new g.constructor(_);return g.copy(B),B}function N1(g){var b=new g.constructor(g.byteLength);return new cg(b).set(new cg(g)),b}function T7(g,b){var _=b?N1(g.buffer):g.buffer;return new g.constructor(_,g.byteOffset,g.byteLength)}function O7(g){var b=new g.constructor(g.source,Pe.exec(g));return b.lastIndex=g.lastIndex,b}function P7(g){return Th?Lr(Th.call(g)):{}}function tA(g,b){var _=b?N1(g.buffer):g.buffer;return new g.constructor(_,g.byteOffset,g.length)}function rA(g,b){if(g!==b){var _=g!==r,B=g===null,Y=g===g,ie=Ps(g),ye=b!==r,Ne=b===null,Ce=b===b,We=Ps(b);if(!Ne&&!We&&!ie&&g>b||ie&&ye&&Ce&&!Ne&&!We||B&&ye&&Ce||!_&&Ce||!Y)return 1;if(!B&&!ie&&!We&&g<b||We&&_&&Y&&!B&&!ie||Ne&&_&&Y||!ye&&Y||!Ce)return-1}return 0}function I7(g,b,_){for(var B=-1,Y=g.criteria,ie=b.criteria,ye=Y.length,Ne=_.length;++B<ye;){var Ce=rA(Y[B],ie[B]);if(Ce){if(B>=Ne)return Ce;var We=_[B];return Ce*(We=="desc"?-1:1)}}return g.index-b.index}function nA(g,b,_,B){for(var Y=-1,ie=g.length,ye=_.length,Ne=-1,Ce=b.length,We=$n(ie-ye,0),ze=Re(Ce+We),qe=!B;++Ne<Ce;)ze[Ne]=b[Ne];for(;++Y<ye;)(qe||Y<ie)&&(ze[_[Y]]=g[Y]);for(;We--;)ze[Ne++]=g[Y++];return ze}function aA(g,b,_,B){for(var Y=-1,ie=g.length,ye=-1,Ne=_.length,Ce=-1,We=b.length,ze=$n(ie-Ne,0),qe=Re(ze+We),ot=!B;++Y<ze;)qe[Y]=g[Y];for(var wt=Y;++Ce<We;)qe[wt+Ce]=b[Ce];for(;++ye<Ne;)(ot||Y<ie)&&(qe[wt+_[ye]]=g[Y++]);return qe}function ms(g,b){var _=-1,B=g.length;for(b||(b=Re(B));++_<B;)b[_]=g[_];return b}function lo(g,b,_,B){var Y=!_;_||(_={});for(var ie=-1,ye=b.length;++ie<ye;){var Ne=b[ie],Ce=B?B(_[Ne],g[Ne],Ne,_,g):r;Ce===r&&(Ce=g[Ne]),Y?Do(_,Ne,Ce):Oh(_,Ne,Ce)}return _}function F7(g,b){return lo(g,T1(g),b)}function D7(g,b){return lo(g,xA(g),b)}function Sg(g,b){return function(_,B){var Y=zt(_)?Xp:n7,ie=b?b():{};return Y(_,g,Et(B,2),ie)}}function ou(g){return Yt(function(b,_){var B=-1,Y=_.length,ie=Y>1?_[Y-1]:r,ye=Y>2?_[2]:r;for(ie=g.length>3&&typeof ie=="function"?(Y--,ie):r,ye&&Ja(_[0],_[1],ye)&&(ie=Y<3?r:ie,Y=1),b=Lr(b);++B<Y;){var Ne=_[B];Ne&&g(b,Ne,B,ie)}return b})}function sA(g,b){return function(_,B){if(_==null)return _;if(!ps(_))return g(_,B);for(var Y=_.length,ie=b?Y:-1,ye=Lr(_);(b?ie--:++ie<Y)&&B(ye[ie],ie,ye)!==!1;);return _}}function iA(g){return function(b,_,B){for(var Y=-1,ie=Lr(b),ye=B(b),Ne=ye.length;Ne--;){var Ce=ye[g?Ne:++Y];if(_(ie[Ce],Ce,ie)===!1)break}return b}}function R7(g,b,_){var B=b&y,Y=Rh(g);function ie(){var ye=this&&this!==Cn&&this instanceof ie?Y:g;return ye.apply(B?_:this,arguments)}return ie}function oA(g){return function(b){b=wr(b);var _=eu(b)?Fi(b):r,B=_?_[0]:b.charAt(0),Y=_?Cl(_,1).join(""):b.slice(1);return B[g]()+Y}}function lu(g){return function(b){return Yd(s_(a_(b).replace(Dp,"")),g,"")}}function Rh(g){return function(){var b=arguments;switch(b.length){case 0:return new g;case 1:return new g(b[0]);case 2:return new g(b[0],b[1]);case 3:return new g(b[0],b[1],b[2]);case 4:return new g(b[0],b[1],b[2],b[3]);case 5:return new g(b[0],b[1],b[2],b[3],b[4]);case 6:return new g(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new g(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var _=iu(g.prototype),B=g.apply(_,b);return nn(B)?B:_}}function M7(g,b,_){var B=Rh(g);function Y(){for(var ie=arguments.length,ye=Re(ie),Ne=ie,Ce=cu(Y);Ne--;)ye[Ne]=arguments[Ne];var We=ie<3&&ye[0]!==Ce&&ye[ie-1]!==Ce?[]:wl(ye,Ce);if(ie-=We.length,ie<_)return fA(g,b,kg,Y.placeholder,r,ye,We,r,r,_-ie);var ze=this&&this!==Cn&&this instanceof Y?B:g;return Oa(ze,this,ye)}return Y}function lA(g){return function(b,_,B){var Y=Lr(b);if(!ps(b)){var ie=Et(_,3);b=ea(b),_=function(Ne){return ie(Y[Ne],Ne,Y)}}var ye=g(b,_,B);return ye>-1?Y[ie?b[ye]:ye]:r}}function cA(g){return Mo(function(b){var _=b.length,B=_,Y=ti.prototype.thru;for(g&&b.reverse();B--;){var ie=b[B];if(typeof ie!="function")throw new ei(o);if(Y&&!ye&&Eg(ie)=="wrapper")var ye=new ti([],!0)}for(B=ye?B:_;++B<_;){ie=b[B];var Ne=Eg(ie),Ce=Ne=="wrapper"?_1(ie):r;Ce&&P1(Ce[0])&&Ce[1]==(k|j|C|E)&&!Ce[4].length&&Ce[9]==1?ye=ye[Eg(Ce[0])].apply(ye,Ce[3]):ye=ie.length==1&&P1(ie)?ye[Ne]():ye.thru(ie)}return function(){var We=arguments,ze=We[0];if(ye&&We.length==1&&zt(ze))return ye.plant(ze).value();for(var qe=0,ot=_?b[qe].apply(this,We):ze;++qe<_;)ot=b[qe].call(this,ot);return ot}})}function kg(g,b,_,B,Y,ie,ye,Ne,Ce,We){var ze=b&k,qe=b&y,ot=b&v,wt=b&(j|A),Tt=b&T,Xt=ot?r:Rh(g);function Ot(){for(var nr=arguments.length,lr=Re(nr),Is=nr;Is--;)lr[Is]=arguments[Is];if(wt)var Za=cu(Ot),Fs=X8(lr,Za);if(B&&(lr=nA(lr,B,Y,wt)),ie&&(lr=aA(lr,ie,ye,wt)),nr-=Fs,wt&&nr<We){var vn=wl(lr,Za);return fA(g,b,kg,Ot.placeholder,_,lr,vn,Ne,Ce,We-nr)}var Mi=qe?_:this,Uo=ot?Mi[g]:g;return nr=lr.length,Ne?lr=n9(lr,Ne):Tt&&nr>1&&lr.reverse(),ze&&Ce<nr&&(lr.length=Ce),this&&this!==Cn&&this instanceof Ot&&(Uo=Xt||Rh(Uo)),Uo.apply(Mi,lr)}return Ot}function dA(g,b){return function(_,B){return u7(_,g,b(B),{})}}function Cg(g,b){return function(_,B){var Y;if(_===r&&B===r)return b;if(_!==r&&(Y=_),B!==r){if(Y===r)return B;typeof _=="string"||typeof B=="string"?(_=Os(_),B=Os(B)):(_=XC(_),B=XC(B)),Y=g(_,B)}return Y}}function S1(g){return Mo(function(b){return b=Rr(b,Mr(Et())),Yt(function(_){var B=this;return g(b,function(Y){return Oa(Y,B,_)})})})}function Ag(g,b){b=b===r?" ":Os(b);var _=b.length;if(_<2)return _?x1(b,g):b;var B=x1(b,hg(g/tu(b)));return eu(b)?Cl(Fi(B),0,g).join(""):B.slice(0,g)}function L7(g,b,_,B){var Y=b&y,ie=Rh(g);function ye(){for(var Ne=-1,Ce=arguments.length,We=-1,ze=B.length,qe=Re(ze+Ce),ot=this&&this!==Cn&&this instanceof ye?ie:g;++We<ze;)qe[We]=B[We];for(;Ce--;)qe[We++]=arguments[++Ne];return Oa(ot,Y?_:this,qe)}return ye}function uA(g){return function(b,_,B){return B&&typeof B!="number"&&Ja(b,_,B)&&(_=B=r),b=Bo(b),_===r?(_=b,b=0):_=Bo(_),B=B===r?b<_?1:-1:Bo(B),N7(b,_,B,g)}}function _g(g){return function(b,_){return typeof b=="string"&&typeof _=="string"||(b=si(b),_=si(_)),g(b,_)}}function fA(g,b,_,B,Y,ie,ye,Ne,Ce,We){var ze=b&j,qe=ze?ye:r,ot=ze?r:ye,wt=ze?ie:r,Tt=ze?r:ie;b|=ze?C:S,b&=~(ze?S:C),b&w||(b&=~(y|v));var Xt=[g,b,Y,wt,qe,Tt,ot,Ne,Ce,We],Ot=_.apply(r,Xt);return P1(g)&&SA(Ot,Xt),Ot.placeholder=B,kA(Ot,g,b)}function k1(g){var b=Ln[g];return function(_,B){if(_=si(_),B=B==null?0:Pa(qt(B),292),B&&kC(_)){var Y=(wr(_)+"e").split("e"),ie=b(Y[0]+"e"+(+Y[1]+B));return Y=(wr(ie)+"e").split("e"),+(Y[0]+"e"+(+Y[1]-B))}return b(_)}}var $7=au&&1/ng(new au([,-0]))[1]==H?function(g){return new au(g)}:q1;function hA(g){return function(b){var _=Ia(b);return _==ge?t1(b):_==ct?rB(b):br(b,g(b))}}function Ro(g,b,_,B,Y,ie,ye,Ne){var Ce=b&v;if(!Ce&&typeof g!="function")throw new ei(o);var We=B?B.length:0;if(We||(b&=~(C|S),B=Y=r),ye=ye===r?ye:$n(qt(ye),0),Ne=Ne===r?Ne:qt(Ne),We-=Y?Y.length:0,b&S){var ze=B,qe=Y;B=Y=r}var ot=Ce?r:_1(g),wt=[g,b,_,B,Y,ze,qe,ie,ye,Ne];if(ot&&e9(wt,ot),g=wt[0],b=wt[1],_=wt[2],B=wt[3],Y=wt[4],Ne=wt[9]=wt[9]===r?Ce?0:g.length:$n(wt[9]-We,0),!Ne&&b&(j|A)&&(b&=~(j|A)),!b||b==y)var Tt=R7(g,b,_);else b==j||b==A?Tt=M7(g,b,Ne):(b==C||b==(y|C))&&!Y.length?Tt=L7(g,b,_,B):Tt=kg.apply(r,wt);var Xt=ot?qC:SA;return kA(Xt(Tt,wt),g,b)}function mA(g,b,_,B){return g===r||Ri(g,nu[_])&&!kr.call(B,_)?b:g}function pA(g,b,_,B,Y,ie){return nn(g)&&nn(b)&&(ie.set(b,g),wg(g,b,r,pA,ie),ie.delete(b)),g}function B7(g){return $h(g)?r:g}function gA(g,b,_,B,Y,ie){var ye=_&p,Ne=g.length,Ce=b.length;if(Ne!=Ce&&!(ye&&Ce>Ne))return!1;var We=ie.get(g),ze=ie.get(b);if(We&&ze)return We==b&&ze==g;var qe=-1,ot=!0,wt=_&x?new kc:r;for(ie.set(g,b),ie.set(b,g);++qe<Ne;){var Tt=g[qe],Xt=b[qe];if(B)var Ot=ye?B(Xt,Tt,qe,b,g,ie):B(Tt,Xt,qe,g,b,ie);if(Ot!==r){if(Ot)continue;ot=!1;break}if(wt){if(!Jd(b,function(nr,lr){if(!Ts(wt,lr)&&(Tt===nr||Y(Tt,nr,_,B,ie)))return wt.push(lr)})){ot=!1;break}}else if(!(Tt===Xt||Y(Tt,Xt,_,B,ie))){ot=!1;break}}return ie.delete(g),ie.delete(b),ot}function U7(g,b,_,B,Y,ie,ye){switch(_){case Gt:if(g.byteLength!=b.byteLength||g.byteOffset!=b.byteOffset)return!1;g=g.buffer,b=b.buffer;case vt:return!(g.byteLength!=b.byteLength||!ie(new cg(g),new cg(b)));case R:case U:case Ae:return Ri(+g,+b);case J:return g.name==b.name&&g.message==b.message;case tt:case mt:return g==b+"";case ge:var Ne=t1;case ct:var Ce=B&p;if(Ne||(Ne=ng),g.size!=b.size&&!Ce)return!1;var We=ye.get(g);if(We)return We==b;B|=x,ye.set(g,b);var ze=gA(Ne(g),Ne(b),B,Y,ie,ye);return ye.delete(g),ze;case ut:if(Th)return Th.call(g)==Th.call(b)}return!1}function W7(g,b,_,B,Y,ie){var ye=_&p,Ne=C1(g),Ce=Ne.length,We=C1(b),ze=We.length;if(Ce!=ze&&!ye)return!1;for(var qe=Ce;qe--;){var ot=Ne[qe];if(!(ye?ot in b:kr.call(b,ot)))return!1}var wt=ie.get(g),Tt=ie.get(b);if(wt&&Tt)return wt==b&&Tt==g;var Xt=!0;ie.set(g,b),ie.set(b,g);for(var Ot=ye;++qe<Ce;){ot=Ne[qe];var nr=g[ot],lr=b[ot];if(B)var Is=ye?B(lr,nr,ot,b,g,ie):B(nr,lr,ot,g,b,ie);if(!(Is===r?nr===lr||Y(nr,lr,_,B,ie):Is)){Xt=!1;break}Ot||(Ot=ot=="constructor")}if(Xt&&!Ot){var Za=g.constructor,Fs=b.constructor;Za!=Fs&&"constructor"in g&&"constructor"in b&&!(typeof Za=="function"&&Za instanceof Za&&typeof Fs=="function"&&Fs instanceof Fs)&&(Xt=!1)}return ie.delete(g),ie.delete(b),Xt}function Mo(g){return F1(jA(g,r,OA),g+"")}function C1(g){return RC(g,ea,T1)}function A1(g){return RC(g,gs,xA)}var _1=pg?function(g){return pg.get(g)}:q1;function Eg(g){for(var b=g.name+"",_=su[b],B=kr.call(su,b)?_.length:0;B--;){var Y=_[B],ie=Y.func;if(ie==null||ie==g)return Y.name}return b}function cu(g){var b=kr.call(se,"placeholder")?se:g;return b.placeholder}function Et(){var g=se.iteratee||V1;return g=g===V1?$C:g,arguments.length?g(arguments[0],arguments[1]):g}function Tg(g,b){var _=g.__data__;return Y7(b)?_[typeof b=="string"?"string":"hash"]:_.map}function E1(g){for(var b=ea(g),_=b.length;_--;){var B=b[_],Y=g[B];b[_]=[B,Y,bA(Y)]}return b}function _c(g,b){var _=Q8(g,b);return LC(_)?_:r}function z7(g){var b=kr.call(g,Nc),_=g[Nc];try{g[Nc]=r;var B=!0}catch(ie){}var Y=og.call(g);return B&&(b?g[Nc]=_:delete g[Nc]),Y}var T1=n1?function(g){return g==null?[]:(g=Lr(g),Pi(n1(g),function(b){return NC.call(g,b)}))}:K1,xA=n1?function(g){for(var b=[];g;)Ii(b,T1(g)),g=dg(g);return b}:K1,Ia=Ya;(a1&&Ia(new a1(new ArrayBuffer(1)))!=Gt||Ah&&Ia(new Ah)!=ge||s1&&Ia(s1.resolve())!=Te||au&&Ia(new au)!=ct||_h&&Ia(new _h)!=At)&&(Ia=function(g){var b=Ya(g),_=b==xe?g.constructor:r,B=_?Ec(_):"";if(B)switch(B){case kB:return Gt;case CB:return ge;case AB:return Te;case _B:return ct;case EB:return At}return b});function H7(g,b,_){for(var B=-1,Y=_.length;++B<Y;){var ie=_[B],ye=ie.size;switch(ie.type){case"drop":g+=ye;break;case"dropRight":b-=ye;break;case"take":b=Pa(b,g+ye);break;case"takeRight":g=$n(g,b-ye);break}}return{start:g,end:b}}function V7(g){var b=g.match(re);return b?b[1].split(fe):[]}function yA(g,b,_){b=kl(b,g);for(var B=-1,Y=b.length,ie=!1;++B<Y;){var ye=co(b[B]);if(!(ie=g!=null&&_(g,ye)))break;g=g[ye]}return ie||++B!=Y?ie:(Y=g==null?0:g.length,!!Y&&Mg(Y)&&Lo(ye,Y)&&(zt(g)||Tc(g)))}function G7(g){var b=g.length,_=new g.constructor(b);return b&&typeof g[0]=="string"&&kr.call(g,"index")&&(_.index=g.index,_.input=g.input),_}function vA(g){return typeof g.constructor=="function"&&!Mh(g)?iu(dg(g)):{}}function q7(g,b,_){var B=g.constructor;switch(b){case vt:return N1(g);case R:case U:return new B(+g);case Gt:return T7(g,_);case Ut:case ft:case Ht:case dr:case St:case ir:case Kr:case Jn:case Zn:return tA(g,_);case ge:return new B;case Ae:case mt:return new B(g);case tt:return O7(g);case ct:return new B;case ut:return P7(g)}}function K7(g,b){var _=b.length;if(!_)return g;var B=_-1;return b[B]=(_>1?"& ":"")+b[B],b=b.join(_>2?", ":" "),g.replace(_t,`{
/* [wrapped with `+b+`] */
`)}function X7(g){return zt(g)||Tc(g)||!!(SC&&g&&g[SC])}function Lo(g,b){var _=typeof g;return b=b==null?ee:b,!!b&&(_=="number"||_!="symbol"&&Se.test(g))&&g>-1&&g%1==0&&g<b}function Ja(g,b,_){if(!nn(_))return!1;var B=typeof b;return(B=="number"?ps(_)&&Lo(b,_.length):B=="string"&&b in _)?Ri(_[b],g):!1}function O1(g,b){if(zt(g))return!1;var _=typeof g;return _=="number"||_=="symbol"||_=="boolean"||g==null||Ps(g)?!0:at.test(g)||!Ke.test(g)||b!=null&&g in Lr(b)}function Y7(g){var b=typeof g;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?g!=="__proto__":g===null}function P1(g){var b=Eg(g),_=se[b];if(typeof _!="function"||!(b in sr.prototype))return!1;if(g===_)return!0;var B=_1(_);return!!B&&g===B[0]}function J7(g){return!!bC&&bC in g}var Z7=sg?$o:X1;function Mh(g){var b=g&&g.constructor,_=typeof b=="function"&&b.prototype||nu;return g===_}function bA(g){return g===g&&!nn(g)}function wA(g,b){return function(_){return _==null?!1:_[g]===b&&(b!==r||g in Lr(_))}}function Q7(g){var b=Dg(g,function(B){return _.size===d&&_.clear(),B}),_=b.cache;return b}function e9(g,b){var _=g[1],B=b[1],Y=_|B,ie=Y<(y|v|k),ye=B==k&&_==j||B==k&&_==E&&g[7].length<=b[8]||B==(k|E)&&b[7].length<=b[8]&&_==j;if(!(ie||ye))return g;B&y&&(g[2]=b[2],Y|=_&y?0:w);var Ne=b[3];if(Ne){var Ce=g[3];g[3]=Ce?nA(Ce,Ne,b[4]):Ne,g[4]=Ce?wl(g[3],u):b[4]}return Ne=b[5],Ne&&(Ce=g[5],g[5]=Ce?aA(Ce,Ne,b[6]):Ne,g[6]=Ce?wl(g[5],u):b[6]),Ne=b[7],Ne&&(g[7]=Ne),B&k&&(g[8]=g[8]==null?b[8]:Pa(g[8],b[8])),g[9]==null&&(g[9]=b[9]),g[0]=b[0],g[1]=Y,g}function t9(g){var b=[];if(g!=null)for(var _ in Lr(g))b.push(_);return b}function r9(g){return og.call(g)}function jA(g,b,_){return b=$n(b===r?g.length-1:b,0),function(){for(var B=arguments,Y=-1,ie=$n(B.length-b,0),ye=Re(ie);++Y<ie;)ye[Y]=B[b+Y];Y=-1;for(var Ne=Re(b+1);++Y<b;)Ne[Y]=B[Y];return Ne[b]=_(ye),Oa(g,this,Ne)}}function NA(g,b){return b.length<2?g:Ac(g,ni(b,0,-1))}function n9(g,b){for(var _=g.length,B=Pa(b.length,_),Y=ms(g);B--;){var ie=b[B];g[B]=Lo(ie,_)?Y[ie]:r}return g}function I1(g,b){if(!(b==="constructor"&&typeof g[b]=="function")&&b!="__proto__")return g[b]}var SA=CA(qC),Lh=yB||function(g,b){return Cn.setTimeout(g,b)},F1=CA(C7);function kA(g,b,_){var B=b+"";return F1(g,K7(B,a9(V7(B),_)))}function CA(g){var b=0,_=0;return function(){var B=jB(),Y=W-(B-_);if(_=B,Y>0){if(++b>=P)return arguments[0]}else b=0;return g.apply(r,arguments)}}function Og(g,b){var _=-1,B=g.length,Y=B-1;for(b=b===r?B:b;++_<b;){var ie=g1(_,Y),ye=g[ie];g[ie]=g[_],g[_]=ye}return g.length=b,g}var AA=Q7(function(g){var b=[];return g.charCodeAt(0)===46&&b.push(""),g.replace(bt,function(_,B,Y,ie){b.push(Y?ie.replace(me,"$1"):B||_)}),b});function co(g){if(typeof g=="string"||Ps(g))return g;var b=g+"";return b=="0"&&1/g==-H?"-0":b}function Ec(g){if(g!=null){try{return ig.call(g)}catch(b){}try{return g+""}catch(b){}}return""}function a9(g,b){return Xa(Z,function(_){var B="_."+_[0];b&_[1]&&!wc(g,B)&&g.push(B)}),g.sort()}function _A(g){if(g instanceof sr)return g.clone();var b=new ti(g.__wrapped__,g.__chain__);return b.__actions__=ms(g.__actions__),b.__index__=g.__index__,b.__values__=g.__values__,b}function s9(g,b,_){(_?Ja(g,b,_):b===r)?b=1:b=$n(qt(b),0);var B=g==null?0:g.length;if(!B||b<1)return[];for(var Y=0,ie=0,ye=Re(hg(B/b));Y<B;)ye[ie++]=ni(g,Y,Y+=b);return ye}function i9(g){for(var b=-1,_=g==null?0:g.length,B=0,Y=[];++b<_;){var ie=g[b];ie&&(Y[B++]=ie)}return Y}function o9(){var g=arguments.length;if(!g)return[];for(var b=Re(g-1),_=arguments[0],B=g;B--;)b[B-1]=arguments[B];return Ii(zt(_)?ms(_):[_],ba(b,1))}var l9=Yt(function(g,b){return yn(g)?Ph(g,ba(b,1,yn,!0)):[]}),c9=Yt(function(g,b){var _=ai(b);return yn(_)&&(_=r),yn(g)?Ph(g,ba(b,1,yn,!0),Et(_,2)):[]}),d9=Yt(function(g,b){var _=ai(b);return yn(_)&&(_=r),yn(g)?Ph(g,ba(b,1,yn,!0),r,_):[]});function u9(g,b,_){var B=g==null?0:g.length;return B?(b=_||b===r?1:qt(b),ni(g,b<0?0:b,B)):[]}function f9(g,b,_){var B=g==null?0:g.length;return B?(b=_||b===r?1:qt(b),b=B-b,ni(g,0,b<0?0:b)):[]}function h9(g,b){return g&&g.length?Ng(g,Et(b,3),!0,!0):[]}function m9(g,b){return g&&g.length?Ng(g,Et(b,3),!0):[]}function p9(g,b,_,B){var Y=g==null?0:g.length;return Y?(_&&typeof _!="number"&&Ja(g,b,_)&&(_=0,B=Y),o7(g,b,_,B)):[]}function EA(g,b,_){var B=g==null?0:g.length;if(!B)return-1;var Y=_==null?0:qt(_);return Y<0&&(Y=$n(B+Y,0)),jc(g,Et(b,3),Y)}function TA(g,b,_){var B=g==null?0:g.length;if(!B)return-1;var Y=B-1;return _!==r&&(Y=qt(_),Y=_<0?$n(B+Y,0):Pa(Y,B-1)),jc(g,Et(b,3),Y,!0)}function OA(g){var b=g==null?0:g.length;return b?ba(g,1):[]}function g9(g){var b=g==null?0:g.length;return b?ba(g,H):[]}function x9(g,b){var _=g==null?0:g.length;return _?(b=b===r?1:qt(b),ba(g,b)):[]}function y9(g){for(var b=-1,_=g==null?0:g.length,B={};++b<_;){var Y=g[b];B[Y[0]]=Y[1]}return B}function PA(g){return g&&g.length?g[0]:r}function v9(g,b,_){var B=g==null?0:g.length;if(!B)return-1;var Y=_==null?0:qt(_);return Y<0&&(Y=$n(B+Y,0)),Po(g,b,Y)}function b9(g){var b=g==null?0:g.length;return b?ni(g,0,-1):[]}var w9=Yt(function(g){var b=Rr(g,w1);return b.length&&b[0]===g[0]?u1(b):[]}),j9=Yt(function(g){var b=ai(g),_=Rr(g,w1);return b===ai(_)?b=r:_.pop(),_.length&&_[0]===g[0]?u1(_,Et(b,2)):[]}),N9=Yt(function(g){var b=ai(g),_=Rr(g,w1);return b=typeof b=="function"?b:r,b&&_.pop(),_.length&&_[0]===g[0]?u1(_,r,b):[]});function S9(g,b){return g==null?"":bB.call(g,b)}function ai(g){var b=g==null?0:g.length;return b?g[b-1]:r}function k9(g,b,_){var B=g==null?0:g.length;if(!B)return-1;var Y=B;return _!==r&&(Y=qt(_),Y=Y<0?$n(B+Y,0):Pa(Y,B-1)),b===b?aB(g,b,Y):jc(g,Nh,Y,!0)}function C9(g,b){return g&&g.length?zC(g,qt(b)):r}var A9=Yt(IA);function IA(g,b){return g&&g.length&&b&&b.length?p1(g,b):g}function _9(g,b,_){return g&&g.length&&b&&b.length?p1(g,b,Et(_,2)):g}function E9(g,b,_){return g&&g.length&&b&&b.length?p1(g,b,r,_):g}var T9=Mo(function(g,b){var _=g==null?0:g.length,B=o1(g,b);return GC(g,Rr(b,function(Y){return Lo(Y,_)?+Y:Y}).sort(rA)),B});function O9(g,b){var _=[];if(!(g&&g.length))return _;var B=-1,Y=[],ie=g.length;for(b=Et(b,3);++B<ie;){var ye=g[B];b(ye,B,g)&&(_.push(ye),Y.push(B))}return GC(g,Y),_}function D1(g){return g==null?g:SB.call(g)}function P9(g,b,_){var B=g==null?0:g.length;return B?(_&&typeof _!="number"&&Ja(g,b,_)?(b=0,_=B):(b=b==null?0:qt(b),_=_===r?B:qt(_)),ni(g,b,_)):[]}function I9(g,b){return jg(g,b)}function F9(g,b,_){return y1(g,b,Et(_,2))}function D9(g,b){var _=g==null?0:g.length;if(_){var B=jg(g,b);if(B<_&&Ri(g[B],b))return B}return-1}function R9(g,b){return jg(g,b,!0)}function M9(g,b,_){return y1(g,b,Et(_,2),!0)}function L9(g,b){var _=g==null?0:g.length;if(_){var B=jg(g,b,!0)-1;if(Ri(g[B],b))return B}return-1}function $9(g){return g&&g.length?KC(g):[]}function B9(g,b){return g&&g.length?KC(g,Et(b,2)):[]}function U9(g){var b=g==null?0:g.length;return b?ni(g,1,b):[]}function W9(g,b,_){return g&&g.length?(b=_||b===r?1:qt(b),ni(g,0,b<0?0:b)):[]}function z9(g,b,_){var B=g==null?0:g.length;return B?(b=_||b===r?1:qt(b),b=B-b,ni(g,b<0?0:b,B)):[]}function H9(g,b){return g&&g.length?Ng(g,Et(b,3),!1,!0):[]}function V9(g,b){return g&&g.length?Ng(g,Et(b,3)):[]}var G9=Yt(function(g){return Sl(ba(g,1,yn,!0))}),q9=Yt(function(g){var b=ai(g);return yn(b)&&(b=r),Sl(ba(g,1,yn,!0),Et(b,2))}),K9=Yt(function(g){var b=ai(g);return b=typeof b=="function"?b:r,Sl(ba(g,1,yn,!0),r,b)});function X9(g){return g&&g.length?Sl(g):[]}function Y9(g,b){return g&&g.length?Sl(g,Et(b,2)):[]}function J9(g,b){return b=typeof b=="function"?b:r,g&&g.length?Sl(g,r,b):[]}function R1(g){if(!(g&&g.length))return[];var b=0;return g=Pi(g,function(_){if(yn(_))return b=$n(_.length,b),!0}),er(b,function(_){return Rr(g,Zd(_))})}function FA(g,b){if(!(g&&g.length))return[];var _=R1(g);return b==null?_:Rr(_,function(B){return Oa(b,r,B)})}var Z9=Yt(function(g,b){return yn(g)?Ph(g,b):[]}),Q9=Yt(function(g){return b1(Pi(g,yn))}),eU=Yt(function(g){var b=ai(g);return yn(b)&&(b=r),b1(Pi(g,yn),Et(b,2))}),tU=Yt(function(g){var b=ai(g);return b=typeof b=="function"?b:r,b1(Pi(g,yn),r,b)}),rU=Yt(R1);function nU(g,b){return ZC(g||[],b||[],Oh)}function aU(g,b){return ZC(g||[],b||[],Dh)}var sU=Yt(function(g){var b=g.length,_=b>1?g[b-1]:r;return _=typeof _=="function"?(g.pop(),_):r,FA(g,_)});function DA(g){var b=se(g);return b.__chain__=!0,b}function iU(g,b){return b(g),g}function Pg(g,b){return b(g)}var oU=Mo(function(g){var b=g.length,_=b?g[0]:0,B=this.__wrapped__,Y=function(ie){return o1(ie,g)};return b>1||this.__actions__.length||!(B instanceof sr)||!Lo(_)?this.thru(Y):(B=B.slice(_,+_+(b?1:0)),B.__actions__.push({func:Pg,args:[Y],thisArg:r}),new ti(B,this.__chain__).thru(function(ie){return b&&!ie.length&&ie.push(r),ie}))});function lU(){return DA(this)}function cU(){return new ti(this.value(),this.__chain__)}function dU(){this.__values__===r&&(this.__values__=XA(this.value()));var g=this.__index__>=this.__values__.length,b=g?r:this.__values__[this.__index__++];return{done:g,value:b}}function uU(){return this}function fU(g){for(var b,_=this;_ instanceof xg;){var B=_A(_);B.__index__=0,B.__values__=r,b?Y.__wrapped__=B:b=B;var Y=B;_=_.__wrapped__}return Y.__wrapped__=g,b}function hU(){var g=this.__wrapped__;if(g instanceof sr){var b=g;return this.__actions__.length&&(b=new sr(this)),b=b.reverse(),b.__actions__.push({func:Pg,args:[D1],thisArg:r}),new ti(b,this.__chain__)}return this.thru(D1)}function mU(){return JC(this.__wrapped__,this.__actions__)}var pU=Sg(function(g,b,_){kr.call(g,_)?++g[_]:Do(g,_,1)});function gU(g,b,_){var B=zt(g)?wh:i7;return _&&Ja(g,b,_)&&(b=r),B(g,Et(b,3))}function xU(g,b){var _=zt(g)?Pi:FC;return _(g,Et(b,3))}var yU=lA(EA),vU=lA(TA);function bU(g,b){return ba(Ig(g,b),1)}function wU(g,b){return ba(Ig(g,b),H)}function jU(g,b,_){return _=_===r?1:qt(_),ba(Ig(g,b),_)}function RA(g,b){var _=zt(g)?Xa:Nl;return _(g,Et(b,3))}function MA(g,b){var _=zt(g)?Yp:IC;return _(g,Et(b,3))}var NU=Sg(function(g,b,_){kr.call(g,_)?g[_].push(b):Do(g,_,[b])});function SU(g,b,_,B){g=ps(g)?g:uu(g),_=_&&!B?qt(_):0;var Y=g.length;return _<0&&(_=$n(Y+_,0)),Lg(g)?_<=Y&&g.indexOf(b,_)>-1:!!Y&&Po(g,b,_)>-1}var kU=Yt(function(g,b,_){var B=-1,Y=typeof b=="function",ie=ps(g)?Re(g.length):[];return Nl(g,function(ye){ie[++B]=Y?Oa(b,ye,_):Ih(ye,b,_)}),ie}),CU=Sg(function(g,b,_){Do(g,_,b)});function Ig(g,b){var _=zt(g)?Rr:BC;return _(g,Et(b,3))}function AU(g,b,_,B){return g==null?[]:(zt(b)||(b=b==null?[]:[b]),_=B?r:_,zt(_)||(_=_==null?[]:[_]),HC(g,b,_))}var _U=Sg(function(g,b,_){g[_?0:1].push(b)},function(){return[[],[]]});function EU(g,b,_){var B=zt(g)?Yd:kh,Y=arguments.length<3;return B(g,Et(b,4),_,Y,Nl)}function TU(g,b,_){var B=zt(g)?Jp:kh,Y=arguments.length<3;return B(g,Et(b,4),_,Y,IC)}function OU(g,b){var _=zt(g)?Pi:FC;return _(g,Rg(Et(b,3)))}function PU(g){var b=zt(g)?EC:S7;return b(g)}function IU(g,b,_){(_?Ja(g,b,_):b===r)?b=1:b=qt(b);var B=zt(g)?t7:k7;return B(g,b)}function FU(g){var b=zt(g)?r7:A7;return b(g)}function DU(g){if(g==null)return 0;if(ps(g))return Lg(g)?tu(g):g.length;var b=Ia(g);return b==ge||b==ct?g.size:h1(g).length}function RU(g,b,_){var B=zt(g)?Jd:_7;return _&&Ja(g,b,_)&&(b=r),B(g,Et(b,3))}var MU=Yt(function(g,b){if(g==null)return[];var _=b.length;return _>1&&Ja(g,b[0],b[1])?b=[]:_>2&&Ja(b[0],b[1],b[2])&&(b=[b[0]]),HC(g,ba(b,1),[])}),Fg=xB||function(){return Cn.Date.now()};function LU(g,b){if(typeof b!="function")throw new ei(o);return g=qt(g),function(){if(--g<1)return b.apply(this,arguments)}}function LA(g,b,_){return b=_?r:b,b=g&&b==null?g.length:b,Ro(g,k,r,r,r,r,b)}function $A(g,b){var _;if(typeof b!="function")throw new ei(o);return g=qt(g),function(){return--g>0&&(_=b.apply(this,arguments)),g<=1&&(b=r),_}}var M1=Yt(function(g,b,_){var B=y;if(_.length){var Y=wl(_,cu(M1));B|=C}return Ro(g,B,b,_,Y)}),BA=Yt(function(g,b,_){var B=y|v;if(_.length){var Y=wl(_,cu(BA));B|=C}return Ro(b,B,g,_,Y)});function UA(g,b,_){b=_?r:b;var B=Ro(g,j,r,r,r,r,r,b);return B.placeholder=UA.placeholder,B}function WA(g,b,_){b=_?r:b;var B=Ro(g,A,r,r,r,r,r,b);return B.placeholder=WA.placeholder,B}function zA(g,b,_){var B,Y,ie,ye,Ne,Ce,We=0,ze=!1,qe=!1,ot=!0;if(typeof g!="function")throw new ei(o);b=si(b)||0,nn(_)&&(ze=!!_.leading,qe="maxWait"in _,ie=qe?$n(si(_.maxWait)||0,b):ie,ot="trailing"in _?!!_.trailing:ot);function wt(vn){var Mi=B,Uo=Y;return B=Y=r,We=vn,ye=g.apply(Uo,Mi),ye}function Tt(vn){return We=vn,Ne=Lh(nr,b),ze?wt(vn):ye}function Xt(vn){var Mi=vn-Ce,Uo=vn-We,l_=b-Mi;return qe?Pa(l_,ie-Uo):l_}function Ot(vn){var Mi=vn-Ce,Uo=vn-We;return Ce===r||Mi>=b||Mi<0||qe&&Uo>=ie}function nr(){var vn=Fg();if(Ot(vn))return lr(vn);Ne=Lh(nr,Xt(vn))}function lr(vn){return Ne=r,ot&&B?wt(vn):(B=Y=r,ye)}function Is(){Ne!==r&&QC(Ne),We=0,B=Ce=Y=Ne=r}function Za(){return Ne===r?ye:lr(Fg())}function Fs(){var vn=Fg(),Mi=Ot(vn);if(B=arguments,Y=this,Ce=vn,Mi){if(Ne===r)return Tt(Ce);if(qe)return QC(Ne),Ne=Lh(nr,b),wt(Ce)}return Ne===r&&(Ne=Lh(nr,b)),ye}return Fs.cancel=Is,Fs.flush=Za,Fs}var $U=Yt(function(g,b){return PC(g,1,b)}),BU=Yt(function(g,b,_){return PC(g,si(b)||0,_)});function UU(g){return Ro(g,T)}function Dg(g,b){if(typeof g!="function"||b!=null&&typeof b!="function")throw new ei(o);var _=function(){var B=arguments,Y=b?b.apply(this,B):B[0],ie=_.cache;if(ie.has(Y))return ie.get(Y);var ye=g.apply(this,B);return _.cache=ie.set(Y,ye)||ie,ye};return _.cache=new(Dg.Cache||Fo),_}Dg.Cache=Fo;function Rg(g){if(typeof g!="function")throw new ei(o);return function(){var b=arguments;switch(b.length){case 0:return!g.call(this);case 1:return!g.call(this,b[0]);case 2:return!g.call(this,b[0],b[1]);case 3:return!g.call(this,b[0],b[1],b[2])}return!g.apply(this,b)}}function WU(g){return $A(2,g)}var zU=E7(function(g,b){b=b.length==1&&zt(b[0])?Rr(b[0],Mr(Et())):Rr(ba(b,1),Mr(Et()));var _=b.length;return Yt(function(B){for(var Y=-1,ie=Pa(B.length,_);++Y<ie;)B[Y]=b[Y].call(this,B[Y]);return Oa(g,this,B)})}),L1=Yt(function(g,b){var _=wl(b,cu(L1));return Ro(g,C,r,b,_)}),HA=Yt(function(g,b){var _=wl(b,cu(HA));return Ro(g,S,r,b,_)}),HU=Mo(function(g,b){return Ro(g,E,r,r,r,b)});function VU(g,b){if(typeof g!="function")throw new ei(o);return b=b===r?b:qt(b),Yt(g,b)}function GU(g,b){if(typeof g!="function")throw new ei(o);return b=b==null?0:$n(qt(b),0),Yt(function(_){var B=_[b],Y=Cl(_,0,b);return B&&Ii(Y,B),Oa(g,this,Y)})}function qU(g,b,_){var B=!0,Y=!0;if(typeof g!="function")throw new ei(o);return nn(_)&&(B="leading"in _?!!_.leading:B,Y="trailing"in _?!!_.trailing:Y),zA(g,b,{leading:B,maxWait:b,trailing:Y})}function KU(g){return LA(g,1)}function XU(g,b){return L1(j1(b),g)}function YU(){if(!arguments.length)return[];var g=arguments[0];return zt(g)?g:[g]}function JU(g){return ri(g,m)}function ZU(g,b){return b=typeof b=="function"?b:r,ri(g,m,b)}function QU(g){return ri(g,f|m)}function eW(g,b){return b=typeof b=="function"?b:r,ri(g,f|m,b)}function tW(g,b){return b==null||OC(g,b,ea(b))}function Ri(g,b){return g===b||g!==g&&b!==b}var rW=_g(d1),nW=_g(function(g,b){return g>=b}),Tc=MC(function(){return arguments}())?MC:function(g){return cn(g)&&kr.call(g,"callee")&&!NC.call(g,"callee")},zt=Re.isArray,aW=ph?Mr(ph):f7;function ps(g){return g!=null&&Mg(g.length)&&!$o(g)}function yn(g){return cn(g)&&ps(g)}function sW(g){return g===!0||g===!1||cn(g)&&Ya(g)==R}var Al=vB||X1,iW=gh?Mr(gh):h7;function oW(g){return cn(g)&&g.nodeType===1&&!$h(g)}function lW(g){if(g==null)return!0;if(ps(g)&&(zt(g)||typeof g=="string"||typeof g.splice=="function"||Al(g)||du(g)||Tc(g)))return!g.length;var b=Ia(g);if(b==ge||b==ct)return!g.size;if(Mh(g))return!h1(g).length;for(var _ in g)if(kr.call(g,_))return!1;return!0}function cW(g,b){return Fh(g,b)}function dW(g,b,_){_=typeof _=="function"?_:r;var B=_?_(g,b):r;return B===r?Fh(g,b,r,_):!!B}function $1(g){if(!cn(g))return!1;var b=Ya(g);return b==J||b==Q||typeof g.message=="string"&&typeof g.name=="string"&&!$h(g)}function uW(g){return typeof g=="number"&&kC(g)}function $o(g){if(!nn(g))return!1;var b=Ya(g);return b==L||b==he||b==te||b==Ue}function VA(g){return typeof g=="number"&&g==qt(g)}function Mg(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=ee}function nn(g){var b=typeof g;return g!=null&&(b=="object"||b=="function")}function cn(g){return g!=null&&typeof g=="object"}var GA=xh?Mr(xh):p7;function fW(g,b){return g===b||f1(g,b,E1(b))}function hW(g,b,_){return _=typeof _=="function"?_:r,f1(g,b,E1(b),_)}function mW(g){return qA(g)&&g!=+g}function pW(g){if(Z7(g))throw new Wt(i);return LC(g)}function gW(g){return g===null}function xW(g){return g==null}function qA(g){return typeof g=="number"||cn(g)&&Ya(g)==Ae}function $h(g){if(!cn(g)||Ya(g)!=xe)return!1;var b=dg(g);if(b===null)return!0;var _=kr.call(b,"constructor")&&b.constructor;return typeof _=="function"&&_ instanceof _&&ig.call(_)==hB}var B1=yh?Mr(yh):g7;function yW(g){return VA(g)&&g>=-ee&&g<=ee}var KA=vh?Mr(vh):x7;function Lg(g){return typeof g=="string"||!zt(g)&&cn(g)&&Ya(g)==mt}function Ps(g){return typeof g=="symbol"||cn(g)&&Ya(g)==ut}var du=bh?Mr(bh):y7;function vW(g){return g===r}function bW(g){return cn(g)&&Ia(g)==At}function wW(g){return cn(g)&&Ya(g)==Bt}var jW=_g(m1),NW=_g(function(g,b){return g<=b});function XA(g){if(!g)return[];if(ps(g))return Lg(g)?Fi(g):ms(g);if(Ch&&g[Ch])return tB(g[Ch]());var b=Ia(g),_=b==ge?t1:b==ct?ng:uu;return _(g)}function Bo(g){if(!g)return g===0?g:0;if(g=si(g),g===H||g===-H){var b=g<0?-1:1;return b*X}return g===g?g:0}function qt(g){var b=Bo(g),_=b%1;return b===b?_?b-_:b:0}function YA(g){return g?Cc(qt(g),0,le):0}function si(g){if(typeof g=="number")return g;if(Ps(g))return de;if(nn(g)){var b=typeof g.valueOf=="function"?g.valueOf():g;g=nn(b)?b+"":b}if(typeof g!="string")return g===0?g:+g;g=xn(g);var _=Ie.test(g);return _||ae.test(g)?qp(g.slice(2),_?2:8):Me.test(g)?de:+g}function JA(g){return lo(g,gs(g))}function SW(g){return g?Cc(qt(g),-ee,ee):g===0?g:0}function wr(g){return g==null?"":Os(g)}var kW=ou(function(g,b){if(Mh(b)||ps(b)){lo(b,ea(b),g);return}for(var _ in b)kr.call(b,_)&&Oh(g,_,b[_])}),ZA=ou(function(g,b){lo(b,gs(b),g)}),$g=ou(function(g,b,_,B){lo(b,gs(b),g,B)}),CW=ou(function(g,b,_,B){lo(b,ea(b),g,B)}),AW=Mo(o1);function _W(g,b){var _=iu(g);return b==null?_:TC(_,b)}var EW=Yt(function(g,b){g=Lr(g);var _=-1,B=b.length,Y=B>2?b[2]:r;for(Y&&Ja(b[0],b[1],Y)&&(B=1);++_<B;)for(var ie=b[_],ye=gs(ie),Ne=-1,Ce=ye.length;++Ne<Ce;){var We=ye[Ne],ze=g[We];(ze===r||Ri(ze,nu[We])&&!kr.call(g,We))&&(g[We]=ie[We])}return g}),TW=Yt(function(g){return g.push(r,pA),Oa(QA,r,g)});function OW(g,b){return jh(g,Et(b,3),oo)}function PW(g,b){return jh(g,Et(b,3),c1)}function IW(g,b){return g==null?g:l1(g,Et(b,3),gs)}function FW(g,b){return g==null?g:DC(g,Et(b,3),gs)}function DW(g,b){return g&&oo(g,Et(b,3))}function RW(g,b){return g&&c1(g,Et(b,3))}function MW(g){return g==null?[]:bg(g,ea(g))}function LW(g){return g==null?[]:bg(g,gs(g))}function U1(g,b,_){var B=g==null?r:Ac(g,b);return B===r?_:B}function $W(g,b){return g!=null&&yA(g,b,l7)}function W1(g,b){return g!=null&&yA(g,b,c7)}var BW=dA(function(g,b,_){b!=null&&typeof b.toString!="function"&&(b=og.call(b)),g[b]=_},H1(xs)),UW=dA(function(g,b,_){b!=null&&typeof b.toString!="function"&&(b=og.call(b)),kr.call(g,b)?g[b].push(_):g[b]=[_]},Et),WW=Yt(Ih);function ea(g){return ps(g)?_C(g):h1(g)}function gs(g){return ps(g)?_C(g,!0):v7(g)}function zW(g,b){var _={};return b=Et(b,3),oo(g,function(B,Y,ie){Do(_,b(B,Y,ie),B)}),_}function HW(g,b){var _={};return b=Et(b,3),oo(g,function(B,Y,ie){Do(_,Y,b(B,Y,ie))}),_}var VW=ou(function(g,b,_){wg(g,b,_)}),QA=ou(function(g,b,_,B){wg(g,b,_,B)}),GW=Mo(function(g,b){var _={};if(g==null)return _;var B=!1;b=Rr(b,function(ie){return ie=kl(ie,g),B||(B=ie.length>1),ie}),lo(g,A1(g),_),B&&(_=ri(_,f|h|m,B7));for(var Y=b.length;Y--;)v1(_,b[Y]);return _});function qW(g,b){return e_(g,Rg(Et(b)))}var KW=Mo(function(g,b){return g==null?{}:w7(g,b)});function e_(g,b){if(g==null)return{};var _=Rr(A1(g),function(B){return[B]});return b=Et(b),VC(g,_,function(B,Y){return b(B,Y[0])})}function XW(g,b,_){b=kl(b,g);var B=-1,Y=b.length;for(Y||(Y=1,g=r);++B<Y;){var ie=g==null?r:g[co(b[B])];ie===r&&(B=Y,ie=_),g=$o(ie)?ie.call(g):ie}return g}function YW(g,b,_){return g==null?g:Dh(g,b,_)}function JW(g,b,_,B){return B=typeof B=="function"?B:r,g==null?g:Dh(g,b,_,B)}var t_=hA(ea),r_=hA(gs);function ZW(g,b,_){var B=zt(g),Y=B||Al(g)||du(g);if(b=Et(b,4),_==null){var ie=g&&g.constructor;Y?_=B?new ie:[]:nn(g)?_=$o(ie)?iu(dg(g)):{}:_={}}return(Y?Xa:oo)(g,function(ye,Ne,Ce){return b(_,ye,Ne,Ce)}),_}function QW(g,b){return g==null?!0:v1(g,b)}function ez(g,b,_){return g==null?g:YC(g,b,j1(_))}function tz(g,b,_,B){return B=typeof B=="function"?B:r,g==null?g:YC(g,b,j1(_),B)}function uu(g){return g==null?[]:Qn(g,ea(g))}function rz(g){return g==null?[]:Qn(g,gs(g))}function nz(g,b,_){return _===r&&(_=b,b=r),_!==r&&(_=si(_),_=_===_?_:0),b!==r&&(b=si(b),b=b===b?b:0),Cc(si(g),b,_)}function az(g,b,_){return b=Bo(b),_===r?(_=b,b=0):_=Bo(_),g=si(g),d7(g,b,_)}function sz(g,b,_){if(_&&typeof _!="boolean"&&Ja(g,b,_)&&(b=_=r),_===r&&(typeof b=="boolean"?(_=b,b=r):typeof g=="boolean"&&(_=g,g=r)),g===r&&b===r?(g=0,b=1):(g=Bo(g),b===r?(b=g,g=0):b=Bo(b)),g>b){var B=g;g=b,b=B}if(_||g%1||b%1){var Y=CC();return Pa(g+Y*(b-g+Gp("1e-"+((Y+"").length-1))),b)}return g1(g,b)}var iz=lu(function(g,b,_){return b=b.toLowerCase(),g+(_?n_(b):b)});function n_(g){return z1(wr(g).toLowerCase())}function a_(g){return g=wr(g),g&&g.replace(De,Y8).replace(Rp,"")}function oz(g,b,_){g=wr(g),b=Os(b);var B=g.length;_=_===r?B:Cc(qt(_),0,B);var Y=_;return _-=b.length,_>=0&&g.slice(_,Y)==b}function lz(g){return g=wr(g),g&&Ze.test(g)?g.replace(je,J8):g}function cz(g){return g=wr(g),g&&_e.test(g)?g.replace(yt,"\\$&"):g}var dz=lu(function(g,b,_){return g+(_?"-":"")+b.toLowerCase()}),uz=lu(function(g,b,_){return g+(_?" ":"")+b.toLowerCase()}),fz=oA("toLowerCase");function hz(g,b,_){g=wr(g),b=qt(b);var B=b?tu(g):0;if(!b||B>=b)return g;var Y=(b-B)/2;return Ag(mg(Y),_)+g+Ag(hg(Y),_)}function mz(g,b,_){g=wr(g),b=qt(b);var B=b?tu(g):0;return b&&B<b?g+Ag(b-B,_):g}function pz(g,b,_){g=wr(g),b=qt(b);var B=b?tu(g):0;return b&&B<b?Ag(b-B,_)+g:g}function gz(g,b,_){return _||b==null?b=0:b&&(b=+b),NB(wr(g).replace(Xe,""),b||0)}function xz(g,b,_){return(_?Ja(g,b,_):b===r)?b=1:b=qt(b),x1(wr(g),b)}function yz(){var g=arguments,b=wr(g[0]);return g.length<3?b:b.replace(g[1],g[2])}var vz=lu(function(g,b,_){return g+(_?"_":"")+b.toLowerCase()});function bz(g,b,_){return _&&typeof _!="number"&&Ja(g,b,_)&&(b=_=r),_=_===r?le:_>>>0,_?(g=wr(g),g&&(typeof b=="string"||b!=null&&!B1(b))&&(b=Os(b),!b&&eu(g))?Cl(Fi(g),0,_):g.split(b,_)):[]}var wz=lu(function(g,b,_){return g+(_?" ":"")+z1(b)});function jz(g,b,_){return g=wr(g),_=_==null?0:Cc(qt(_),0,g.length),b=Os(b),g.slice(_,_+b.length)==b}function Nz(g,b,_){var B=se.templateSettings;_&&Ja(g,b,_)&&(b=r),g=wr(g),b=$g({},b,B,mA);var Y=$g({},b.imports,B.imports,mA),ie=ea(Y),ye=Qn(Y,ie),Ne,Ce,We=0,ze=b.interpolate||Ye,qe="__p += '",ot=r1((b.escape||Ye).source+"|"+ze.source+"|"+(ze===be?pe:Ye).source+"|"+(b.evaluate||Ye).source+"|$","g"),wt="//# sourceURL="+(kr.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Up+"]")+`
`;g.replace(ot,function(Ot,nr,lr,Is,Za,Fs){return lr||(lr=Is),qe+=g.slice(We,Fs).replace(Ve,Z8),nr&&(Ne=!0,qe+=`' +
__e(`+nr+`) +
'`),Za&&(Ce=!0,qe+=`';
`+Za+`;
__p += '`),lr&&(qe+=`' +
((__t = (`+lr+`)) == null ? '' : __t) +
'`),We=Fs+Ot.length,Ot}),qe+=`';
`;var Tt=kr.call(b,"variable")&&b.variable;if(!Tt)qe=`with (obj) {
`+qe+`
}
`;else if(ce.test(Tt))throw new Wt(l);qe=(Ce?qe.replace(qa,""):qe).replace(gn,"$1").replace(tn,"$1;"),qe="function("+(Tt||"obj")+`) {
`+(Tt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ne?", __e = _.escape":"")+(Ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+qe+`return __p
}`;var Xt=i_(function(){return xr(ie,wt+"return "+qe).apply(r,ye)});if(Xt.source=qe,$1(Xt))throw Xt;return Xt}function Sz(g){return wr(g).toLowerCase()}function kz(g){return wr(g).toUpperCase()}function Cz(g,b,_){if(g=wr(g),g&&(_||b===r))return xn(g);if(!g||!(b=Os(b)))return g;var B=Fi(g),Y=Fi(b),ie=gC(B,Y),ye=xC(B,Y)+1;return Cl(B,ie,ye).join("")}function Az(g,b,_){if(g=wr(g),g&&(_||b===r))return g.slice(0,vC(g)+1);if(!g||!(b=Os(b)))return g;var B=Fi(g),Y=xC(B,Fi(b))+1;return Cl(B,0,Y).join("")}function _z(g,b,_){if(g=wr(g),g&&(_||b===r))return g.replace(Xe,"");if(!g||!(b=Os(b)))return g;var B=Fi(g),Y=gC(B,Fi(b));return Cl(B,Y).join("")}function Ez(g,b){var _=F,B=O;if(nn(b)){var Y="separator"in b?b.separator:Y;_="length"in b?qt(b.length):_,B="omission"in b?Os(b.omission):B}g=wr(g);var ie=g.length;if(eu(g)){var ye=Fi(g);ie=ye.length}if(_>=ie)return g;var Ne=_-tu(B);if(Ne<1)return B;var Ce=ye?Cl(ye,0,Ne).join(""):g.slice(0,Ne);if(Y===r)return Ce+B;if(ye&&(Ne+=Ce.length-Ne),B1(Y)){if(g.slice(Ne).search(Y)){var We,ze=Ce;for(Y.global||(Y=r1(Y.source,wr(Pe.exec(Y))+"g")),Y.lastIndex=0;We=Y.exec(ze);)var qe=We.index;Ce=Ce.slice(0,qe===r?Ne:qe)}}else if(g.indexOf(Os(Y),Ne)!=Ne){var ot=Ce.lastIndexOf(Y);ot>-1&&(Ce=Ce.slice(0,ot))}return Ce+B}function Tz(g){return g=wr(g),g&&Oe.test(g)?g.replace(va,sB):g}var Oz=lu(function(g,b,_){return g+(_?" ":"")+b.toUpperCase()}),z1=oA("toUpperCase");function s_(g,b,_){return g=wr(g),b=_?r:b,b===r?eB(g)?lB(g):eg(g):g.match(b)||[]}var i_=Yt(function(g,b){try{return Oa(g,r,b)}catch(_){return $1(_)?_:new Wt(_)}}),Pz=Mo(function(g,b){return Xa(b,function(_){_=co(_),Do(g,_,M1(g[_],g))}),g});function Iz(g){var b=g==null?0:g.length,_=Et();return g=b?Rr(g,function(B){if(typeof B[1]!="function")throw new ei(o);return[_(B[0]),B[1]]}):[],Yt(function(B){for(var Y=-1;++Y<b;){var ie=g[Y];if(Oa(ie[0],this,B))return Oa(ie[1],this,B)}})}function Fz(g){return s7(ri(g,f))}function H1(g){return function(){return g}}function Dz(g,b){return g==null||g!==g?b:g}var Rz=cA(),Mz=cA(!0);function xs(g){return g}function V1(g){return $C(typeof g=="function"?g:ri(g,f))}function Lz(g){return UC(ri(g,f))}function $z(g,b){return WC(g,ri(b,f))}var Bz=Yt(function(g,b){return function(_){return Ih(_,g,b)}}),Uz=Yt(function(g,b){return function(_){return Ih(g,_,b)}});function G1(g,b,_){var B=ea(b),Y=bg(b,B);_==null&&!(nn(b)&&(Y.length||!B.length))&&(_=b,b=g,g=this,Y=bg(b,ea(b)));var ie=!(nn(_)&&"chain"in _)||!!_.chain,ye=$o(g);return Xa(Y,function(Ne){var Ce=b[Ne];g[Ne]=Ce,ye&&(g.prototype[Ne]=function(){var We=this.__chain__;if(ie||We){var ze=g(this.__wrapped__),qe=ze.__actions__=ms(this.__actions__);return qe.push({func:Ce,args:arguments,thisArg:g}),ze.__chain__=We,ze}return Ce.apply(g,Ii([this.value()],arguments))})}),g}function Wz(){return Cn._===this&&(Cn._=mB),this}function q1(){}function zz(g){return g=qt(g),Yt(function(b){return zC(b,g)})}var Hz=S1(Rr),Vz=S1(wh),Gz=S1(Jd);function o_(g){return O1(g)?Zd(co(g)):j7(g)}function qz(g){return function(b){return g==null?r:Ac(g,b)}}var Kz=uA(),Xz=uA(!0);function K1(){return[]}function X1(){return!1}function Yz(){return{}}function Jz(){return""}function Zz(){return!0}function Qz(g,b){if(g=qt(g),g<1||g>ee)return[];var _=le,B=Pa(g,le);b=Et(b),g-=le;for(var Y=er(B,b);++_<g;)b(_);return Y}function eH(g){return zt(g)?Rr(g,co):Ps(g)?[g]:ms(AA(wr(g)))}function tH(g){var b=++fB;return wr(g)+b}var rH=Cg(function(g,b){return g+b},0),nH=k1("ceil"),aH=Cg(function(g,b){return g/b},1),sH=k1("floor");function iH(g){return g&&g.length?vg(g,xs,d1):r}function oH(g,b){return g&&g.length?vg(g,Et(b,2),d1):r}function lH(g){return Sh(g,xs)}function cH(g,b){return Sh(g,Et(b,2))}function dH(g){return g&&g.length?vg(g,xs,m1):r}function uH(g,b){return g&&g.length?vg(g,Et(b,2),m1):r}var fH=Cg(function(g,b){return g*b},1),hH=k1("round"),mH=Cg(function(g,b){return g-b},0);function pH(g){return g&&g.length?ve(g,xs):0}function gH(g,b){return g&&g.length?ve(g,Et(b,2)):0}return se.after=LU,se.ary=LA,se.assign=kW,se.assignIn=ZA,se.assignInWith=$g,se.assignWith=CW,se.at=AW,se.before=$A,se.bind=M1,se.bindAll=Pz,se.bindKey=BA,se.castArray=YU,se.chain=DA,se.chunk=s9,se.compact=i9,se.concat=o9,se.cond=Iz,se.conforms=Fz,se.constant=H1,se.countBy=pU,se.create=_W,se.curry=UA,se.curryRight=WA,se.debounce=zA,se.defaults=EW,se.defaultsDeep=TW,se.defer=$U,se.delay=BU,se.difference=l9,se.differenceBy=c9,se.differenceWith=d9,se.drop=u9,se.dropRight=f9,se.dropRightWhile=h9,se.dropWhile=m9,se.fill=p9,se.filter=xU,se.flatMap=bU,se.flatMapDeep=wU,se.flatMapDepth=jU,se.flatten=OA,se.flattenDeep=g9,se.flattenDepth=x9,se.flip=UU,se.flow=Rz,se.flowRight=Mz,se.fromPairs=y9,se.functions=MW,se.functionsIn=LW,se.groupBy=NU,se.initial=b9,se.intersection=w9,se.intersectionBy=j9,se.intersectionWith=N9,se.invert=BW,se.invertBy=UW,se.invokeMap=kU,se.iteratee=V1,se.keyBy=CU,se.keys=ea,se.keysIn=gs,se.map=Ig,se.mapKeys=zW,se.mapValues=HW,se.matches=Lz,se.matchesProperty=$z,se.memoize=Dg,se.merge=VW,se.mergeWith=QA,se.method=Bz,se.methodOf=Uz,se.mixin=G1,se.negate=Rg,se.nthArg=zz,se.omit=GW,se.omitBy=qW,se.once=WU,se.orderBy=AU,se.over=Hz,se.overArgs=zU,se.overEvery=Vz,se.overSome=Gz,se.partial=L1,se.partialRight=HA,se.partition=_U,se.pick=KW,se.pickBy=e_,se.property=o_,se.propertyOf=qz,se.pull=A9,se.pullAll=IA,se.pullAllBy=_9,se.pullAllWith=E9,se.pullAt=T9,se.range=Kz,se.rangeRight=Xz,se.rearg=HU,se.reject=OU,se.remove=O9,se.rest=VU,se.reverse=D1,se.sampleSize=IU,se.set=YW,se.setWith=JW,se.shuffle=FU,se.slice=P9,se.sortBy=MU,se.sortedUniq=$9,se.sortedUniqBy=B9,se.split=bz,se.spread=GU,se.tail=U9,se.take=W9,se.takeRight=z9,se.takeRightWhile=H9,se.takeWhile=V9,se.tap=iU,se.throttle=qU,se.thru=Pg,se.toArray=XA,se.toPairs=t_,se.toPairsIn=r_,se.toPath=eH,se.toPlainObject=JA,se.transform=ZW,se.unary=KU,se.union=G9,se.unionBy=q9,se.unionWith=K9,se.uniq=X9,se.uniqBy=Y9,se.uniqWith=J9,se.unset=QW,se.unzip=R1,se.unzipWith=FA,se.update=ez,se.updateWith=tz,se.values=uu,se.valuesIn=rz,se.without=Z9,se.words=s_,se.wrap=XU,se.xor=Q9,se.xorBy=eU,se.xorWith=tU,se.zip=rU,se.zipObject=nU,se.zipObjectDeep=aU,se.zipWith=sU,se.entries=t_,se.entriesIn=r_,se.extend=ZA,se.extendWith=$g,G1(se,se),se.add=rH,se.attempt=i_,se.camelCase=iz,se.capitalize=n_,se.ceil=nH,se.clamp=nz,se.clone=JU,se.cloneDeep=QU,se.cloneDeepWith=eW,se.cloneWith=ZU,se.conformsTo=tW,se.deburr=a_,se.defaultTo=Dz,se.divide=aH,se.endsWith=oz,se.eq=Ri,se.escape=lz,se.escapeRegExp=cz,se.every=gU,se.find=yU,se.findIndex=EA,se.findKey=OW,se.findLast=vU,se.findLastIndex=TA,se.findLastKey=PW,se.floor=sH,se.forEach=RA,se.forEachRight=MA,se.forIn=IW,se.forInRight=FW,se.forOwn=DW,se.forOwnRight=RW,se.get=U1,se.gt=rW,se.gte=nW,se.has=$W,se.hasIn=W1,se.head=PA,se.identity=xs,se.includes=SU,se.indexOf=v9,se.inRange=az,se.invoke=WW,se.isArguments=Tc,se.isArray=zt,se.isArrayBuffer=aW,se.isArrayLike=ps,se.isArrayLikeObject=yn,se.isBoolean=sW,se.isBuffer=Al,se.isDate=iW,se.isElement=oW,se.isEmpty=lW,se.isEqual=cW,se.isEqualWith=dW,se.isError=$1,se.isFinite=uW,se.isFunction=$o,se.isInteger=VA,se.isLength=Mg,se.isMap=GA,se.isMatch=fW,se.isMatchWith=hW,se.isNaN=mW,se.isNative=pW,se.isNil=xW,se.isNull=gW,se.isNumber=qA,se.isObject=nn,se.isObjectLike=cn,se.isPlainObject=$h,se.isRegExp=B1,se.isSafeInteger=yW,se.isSet=KA,se.isString=Lg,se.isSymbol=Ps,se.isTypedArray=du,se.isUndefined=vW,se.isWeakMap=bW,se.isWeakSet=wW,se.join=S9,se.kebabCase=dz,se.last=ai,se.lastIndexOf=k9,se.lowerCase=uz,se.lowerFirst=fz,se.lt=jW,se.lte=NW,se.max=iH,se.maxBy=oH,se.mean=lH,se.meanBy=cH,se.min=dH,se.minBy=uH,se.stubArray=K1,se.stubFalse=X1,se.stubObject=Yz,se.stubString=Jz,se.stubTrue=Zz,se.multiply=fH,se.nth=C9,se.noConflict=Wz,se.noop=q1,se.now=Fg,se.pad=hz,se.padEnd=mz,se.padStart=pz,se.parseInt=gz,se.random=sz,se.reduce=EU,se.reduceRight=TU,se.repeat=xz,se.replace=yz,se.result=XW,se.round=hH,se.runInContext=ke,se.sample=PU,se.size=DU,se.snakeCase=vz,se.some=RU,se.sortedIndex=I9,se.sortedIndexBy=F9,se.sortedIndexOf=D9,se.sortedLastIndex=R9,se.sortedLastIndexBy=M9,se.sortedLastIndexOf=L9,se.startCase=wz,se.startsWith=jz,se.subtract=mH,se.sum=pH,se.sumBy=gH,se.template=Nz,se.times=Qz,se.toFinite=Bo,se.toInteger=qt,se.toLength=YA,se.toLower=Sz,se.toNumber=si,se.toSafeInteger=SW,se.toString=wr,se.toUpper=kz,se.trim=Cz,se.trimEnd=Az,se.trimStart=_z,se.truncate=Ez,se.unescape=Tz,se.uniqueId=tH,se.upperCase=Oz,se.upperFirst=z1,se.each=RA,se.eachRight=MA,se.first=PA,G1(se,function(){var g={};return oo(se,function(b,_){kr.call(se.prototype,_)||(g[_]=b)}),g}(),{chain:!1}),se.VERSION=a,Xa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){se[g].placeholder=se}),Xa(["drop","take"],function(g,b){sr.prototype[g]=function(_){_=_===r?1:$n(qt(_),0);var B=this.__filtered__&&!b?new sr(this):this.clone();return B.__filtered__?B.__takeCount__=Pa(_,B.__takeCount__):B.__views__.push({size:Pa(_,le),type:g+(B.__dir__<0?"Right":"")}),B},sr.prototype[g+"Right"]=function(_){return this.reverse()[g](_).reverse()}}),Xa(["filter","map","takeWhile"],function(g,b){var _=b+1,B=_==q||_==M;sr.prototype[g]=function(Y){var ie=this.clone();return ie.__iteratees__.push({iteratee:Et(Y,3),type:_}),ie.__filtered__=ie.__filtered__||B,ie}}),Xa(["head","last"],function(g,b){var _="take"+(b?"Right":"");sr.prototype[g]=function(){return this[_](1).value()[0]}}),Xa(["initial","tail"],function(g,b){var _="drop"+(b?"":"Right");sr.prototype[g]=function(){return this.__filtered__?new sr(this):this[_](1)}}),sr.prototype.compact=function(){return this.filter(xs)},sr.prototype.find=function(g){return this.filter(g).head()},sr.prototype.findLast=function(g){return this.reverse().find(g)},sr.prototype.invokeMap=Yt(function(g,b){return typeof g=="function"?new sr(this):this.map(function(_){return Ih(_,g,b)})}),sr.prototype.reject=function(g){return this.filter(Rg(Et(g)))},sr.prototype.slice=function(g,b){g=qt(g);var _=this;return _.__filtered__&&(g>0||b<0)?new sr(_):(g<0?_=_.takeRight(-g):g&&(_=_.drop(g)),b!==r&&(b=qt(b),_=b<0?_.dropRight(-b):_.take(b-g)),_)},sr.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},sr.prototype.toArray=function(){return this.take(le)},oo(sr.prototype,function(g,b){var _=/^(?:filter|find|map|reject)|While$/.test(b),B=/^(?:head|last)$/.test(b),Y=se[B?"take"+(b=="last"?"Right":""):b],ie=B||/^find/.test(b);Y&&(se.prototype[b]=function(){var ye=this.__wrapped__,Ne=B?[1]:arguments,Ce=ye instanceof sr,We=Ne[0],ze=Ce||zt(ye),qe=function(nr){var lr=Y.apply(se,Ii([nr],Ne));return B&&ot?lr[0]:lr};ze&&_&&typeof We=="function"&&We.length!=1&&(Ce=ze=!1);var ot=this.__chain__,wt=!!this.__actions__.length,Tt=ie&&!ot,Xt=Ce&&!wt;if(!ie&&ze){ye=Xt?ye:new sr(this);var Ot=g.apply(ye,Ne);return Ot.__actions__.push({func:Pg,args:[qe],thisArg:r}),new ti(Ot,ot)}return Tt&&Xt?g.apply(this,Ne):(Ot=this.thru(qe),Tt?B?Ot.value()[0]:Ot.value():Ot)})}),Xa(["pop","push","shift","sort","splice","unshift"],function(g){var b=ag[g],_=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",B=/^(?:pop|shift)$/.test(g);se.prototype[g]=function(){var Y=arguments;if(B&&!this.__chain__){var ie=this.value();return b.apply(zt(ie)?ie:[],Y)}return this[_](function(ye){return b.apply(zt(ye)?ye:[],Y)})}}),oo(sr.prototype,function(g,b){var _=se[b];if(_){var B=_.name+"";kr.call(su,B)||(su[B]=[]),su[B].push({name:b,func:_})}}),su[kg(r,v).name]=[{name:"wrapper",func:r}],sr.prototype.clone=TB,sr.prototype.reverse=OB,sr.prototype.value=PB,se.prototype.at=oU,se.prototype.chain=lU,se.prototype.commit=cU,se.prototype.next=dU,se.prototype.plant=fU,se.prototype.reverse=hU,se.prototype.toJSON=se.prototype.valueOf=se.prototype.value=mU,se.prototype.first=se.prototype.head,Ch&&(se.prototype[Ch]=uU),se},ru=cB();io?((io.exports=ru)._=ru,qd._=ru):Cn._=ru}).call(js)})(zx,zx.exports);var O6=zx.exports;function fq({isOpen:e,onClose:t}){const[r,a]=N.useState(""),[s,i]=N.useState([]),[o,l]=N.useState(!1),[c,d]=N.useState(()=>{const x=localStorage.getItem("recentSearches");return x?JSON.parse(x):[]}),u=Ea();N.useEffect(()=>{localStorage.setItem("recentSearches",JSON.stringify(c))},[c]);const f=N.useCallback(O6.debounce(async x=>{if(!x.trim()){i([]),l(!1);return}try{const y=await ue.get("/products",{params:{search:x}});i(y.data)}catch(y){z.error("Failed to search products"),i([])}finally{l(!1)}},300),[]);N.useEffect(()=>{r?(l(!0),f(r)):i([])},[r,f]);const h=x=>{d(y=>[x,...y.filter(w=>w!==x)].slice(0,5))},m=x=>{h(x.name),u(`/product/${x._id}`),t()},p=x=>{a(x),h(x)};return e?n.jsxs("div",{className:"fixed inset-0 z-50",role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true",onClick:t}),n.jsx("div",{className:"fixed inset-x-0 top-0 bg-white shadow-lg transform transition-transform",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"relative flex items-center p-4",children:[n.jsx(Mn,{className:"absolute left-6 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"search",placeholder:"Search for products...",value:r,onChange:x=>a(x.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0}),n.jsx("button",{onClick:t,className:"ml-4 p-2 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx(xt,{className:"w-5 h-5 text-gray-500"})})]}),n.jsx("div",{className:"max-h-[calc(100vh-6rem)] overflow-y-auto px-4 pb-4",children:o?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(kj,{className:"w-8 h-8 text-indigo-600 animate-spin"})}):r?s.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(x=>n.jsxs("button",{onClick:()=>m(x),className:"flex items-center gap-4 p-4 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100",children:n.jsx("img",{src:x.images&&x.images.length>0?x.images[0]:"/placeholder-image.svg",alt:x.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:x.name}),n.jsx("p",{className:"text-sm text-gray-500",children:x.category}),n.jsxs("p",{className:"text-sm font-medium text-indigo-600 mt-1",children:["$",x.price.toFixed(2)]})]})]},x._id))}):n.jsx("div",{className:"text-center py-12",children:n.jsxs("p",{className:"text-gray-500",children:['No results found for "',r,'"']})}):n.jsxs("div",{className:"space-y-6",children:[c.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Recent Searches"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((x,y)=>n.jsxs("button",{onClick:()=>p(x),className:"px-4 py-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors text-sm text-gray-700 flex items-center gap-2",children:[x,n.jsx(hl,{className:"w-4 h-4"})]},y))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Popular Categories"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:["Clothing","Shoes","Accessories","Bags","Jewelry"].map(x=>n.jsx("button",{onClick:()=>a(x),className:"p-4 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors text-center",children:n.jsx("span",{className:"text-sm font-medium text-gray-900",children:x})},x))})]})]})})]})})]}):null}function Tf({name:e,image:t,size:r="md",className:a="",onClick:s}){const i=Ea(),{user:o}=ln(),l={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base"},c=e||(o==null?void 0:o.name)||"",d=t||(o==null?void 0:o.image),u=ne.useMemo(()=>d?la(d):void 0,[d]),[f,h]=ne.useState(!0),m=x=>x.split(" ").filter(Boolean).map(y=>y[0]).join("").toUpperCase().slice(0,2),p=()=>{if(s)return s();o&&i("/profile")};return u&&f?n.jsx("div",{onClick:p,className:`relative rounded-full overflow-hidden cursor-pointer ${l[r]} ${a} transition-all duration-200 hover:opacity-90`,children:n.jsx("img",{src:u,alt:c||"User",className:"w-full h-full object-cover",onError:()=>h(!1),loading:"lazy"})}):c?n.jsx("div",{onClick:p,className:`
          ${l[r]}
          ${a}
          flex items-center justify-center
          rounded-full
          bg-indigo-100
          text-indigo-600
          font-medium
          cursor-pointer
          transition-all duration-200
          hover:bg-indigo-200
        `,children:m(c)}):n.jsx("div",{onClick:p,className:`
        ${l[r]}
        ${a}
        flex items-center justify-center
        rounded-full
        bg-gray-100
        text-gray-600
        cursor-pointer
        transition-all duration-200
        hover:bg-gray-200
      `,children:n.jsx(ec,{className:"w-1/2 h-1/2"})})}function hq({isOpen:e,onClose:t,user:r}){const a=Ea(),{logout:s}=ln(),{t:i}=$t();if(!e)return null;const o=[{icon:rr,label:i("common.userDropdown.orders","Orders"),onClick:()=>a("/orders")},{icon:Si,label:i("common.wishlist"),onClick:()=>a("/wishlist")},{icon:Dr,label:i("common.userDropdown.reviews","Reviews"),onClick:()=>a("/profile/reviews")},{icon:Cd,label:i("common.userDropdown.paymentMethods","Payment Methods"),onClick:()=>a("/profile/payments")},{icon:Ha,label:i("common.userDropdown.settings","Settings"),onClick:()=>a("/profile/settings")},{icon:FG,label:i("common.userDropdown.signOut","Sign Out"),onClick:()=>{s(),a("/login"),t()}}];return n.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg ring-1 ring-black ring-opacity-5 divide-y divide-gray-100",children:[n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Tf,{name:r==null?void 0:r.name,image:r==null?void 0:r.image,size:"sm"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(r==null?void 0:r.name)||"Guest User"}),n.jsx("p",{className:"text-sm text-gray-500 truncate",children:(r==null?void 0:r.email)||"guest@example.com"})]})]})}),n.jsx("div",{className:"py-2",children:o.map((l,c)=>n.jsxs("button",{onClick:l.onClick,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(l.icon,{className:"w-4 h-4"}),l.label]},c))})]})}function mq(){const{i18n:e}=$t(),t=()=>{const r=e.language==="ar"?"en":"ar";e.changeLanguage(r),document.documentElement.dir=r==="ar"?"rtl":"ltr",document.documentElement.lang=r};return n.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",title:e.language==="ar"?"Switch to English":"التحويل للعربية",children:n.jsx(x6,{className:"w-5 h-5 text-gray-600"})})}function N_({currency:e,className:t=""}){const r=()=>{switch(e){case"USD":return n.jsx(Ql,{className:t});case"EUR":return n.jsxs("div",{className:`relative ${t}`,children:[n.jsx(Nj,{className:"absolute inset-0"}),n.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-[0.6em] font-bold",children:"€"})]});case"GBP":return n.jsxs("div",{className:`relative ${t}`,children:[n.jsx(Nj,{className:"absolute inset-0"}),n.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-[0.6em] font-bold",children:"£"})]});case"AED":case"SAR":case"QAR":case"KWD":case"BHD":case"OMR":case"JOD":case"PAB":return n.jsxs("div",{className:`relative ${t}`,children:[n.jsx(CG,{className:"absolute inset-0"}),n.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-[0.6em] font-bold",children:e.slice(0,2)})]});case"LBP":case"EGP":case"IQD":case"ILS":case"SYP":return n.jsx(SG,{className:t});default:return n.jsx(Ql,{className:t})}},a=()=>{switch(e){case"USD":return"US Dollar";case"EUR":return"Euro";case"GBP":return"British Pound";case"AED":return"UAE Dirham";case"SAR":return"Saudi Riyal";case"QAR":return"Qatari Riyal";case"KWD":return"Kuwaiti Dinar";case"BHD":return"Bahraini Dinar";case"OMR":return"Omani Rial";case"JOD":return"Jordanian Dinar";case"LBP":return"Lebanese Pound";case"EGP":return"Egyptian Pound";case"IQD":return"Iraqi Dinar";case"ILS":return"Israeli Shekel";case"SYP":return"Syrian Pound";case"PAB":return"Palestinian Balboa";default:return e}};return n.jsx("div",{className:"relative",title:`Currency: ${a()}`,children:r()})}function pq(){const{currency:e,setCurrency:t,availableCurrencies:r}=Ta(),[a,s]=N.useState(!1),i={"Middle East":["AED","SAR","QAR","KWD","BHD","OMR","JOD","LBP","EGP","IQD","ILS"],Global:["USD","EUR","GBP"]},o=async l=>{try{await t(l),s(!1)}catch(c){console.error("Error changing currency:",c)}};return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx(N_,{currency:e,className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:e})]}),a&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>s(!1)}),n.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg ring-1 ring-black ring-opacity-5 z-40",children:n.jsx("div",{className:"p-2 space-y-2",children:Object.entries(i).map(([l,c])=>n.jsxs("div",{children:[n.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 bg-gray-50 rounded-lg",children:l}),n.jsx("div",{className:"mt-1 space-y-1",children:c.map(d=>{const u=r[d];return n.jsxs("button",{onClick:()=>o(d),className:`w-full flex items-center gap-3 px-4 py-2 text-sm rounded-lg transition-colors ${d===e?"bg-indigo-50 text-indigo-600":"text-gray-700 hover:bg-gray-50"}`,dir:u.locale.startsWith("ar-")||u.locale==="he-IL"?"rtl":"ltr",children:[n.jsx(N_,{currency:d,className:`w-4 h-4 ${d===e?"text-indigo-600":"text-gray-500"}`}),n.jsx("span",{className:"flex-1 text-left",children:u.name}),n.jsx("span",{className:"font-medium",children:u.symbol})]},d)})})]},l))})})]})]})}function gq({onClose:e}){const[t,r]=N.useState(""),[a,s]=N.useState(""),[i,o]=N.useState(!1),{login:l}=ln(),c=Ea(),d=async u=>{u.preventDefault(),o(!0);try{await l({email:t,password:a}),e()}catch(f){}finally{o(!1)}};return n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Welcome Back"}),n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(to,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"email",type:"email",value:t,onChange:u=>r(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(jo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"password",type:"password",value:a,onChange:u=>s(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter your password",required:!0})]})]}),n.jsx("button",{type:"submit",disabled:i,className:"w-full bg-indigo-600 text-white py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:i?"Signing in...":"Sign In"})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("button",{onClick:()=>c("/register"),className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium inline-flex items-center gap-1",children:["Create an account",n.jsx(hl,{className:"w-4 h-4"})]})}),n.jsx("div",{className:"mt-4 text-center",children:n.jsx("button",{onClick:()=>c("/forgot-password"),className:"text-sm text-gray-600 hover:text-gray-700",children:"Forgot password?"})})]})}function xq(){var C,S,k,E,T,F,O,P,W,q,D,M,H,ee;const t=Nd().pathname.startsWith("/products"),{t:r}=$t(),{cartCount:a}=ga(),{wishlistCount:s}=Sd(),{user:i}=ln(),{settings:o}=vr(),[l,c]=N.useState(!1),[d,u]=N.useState(!1),[f,h]=N.useState(!1),[m,p]=N.useState(!1),[x,y]=N.useState(!0),[v,w]=N.useState(!0),j=N.useRef(null),A=N.useRef(null);return N.useEffect(()=>{function X(de){j.current&&!j.current.contains(de.target)&&p(!1)}return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]),n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[((C=o==null?void 0:o.headerIcons)==null?void 0:C.showLanguage)!==!1&&n.jsx(mq,{}),((S=o==null?void 0:o.headerIcons)==null?void 0:S.showCurrency)!==!1&&n.jsx(pq,{}),((k=o==null?void 0:o.headerIcons)==null?void 0:k.showSearch)!==!1&&n.jsx("button",{onClick:()=>h(!0),className:"p-1.5 sm:p-2 rounded-full hover:bg-gray-100 transition-colors hidden sm:flex","aria-label":r("common.search"),children:(E=o==null?void 0:o.headerIconAssets)!=null&&E.search?n.jsx("img",{src:la(o.headerIconAssets.search)||o.headerIconAssets.search,alt:"search",className:"w-5 h-5 object-contain",onError:X=>{X.currentTarget.style.display="none"}}):n.jsx(Mn,{className:"w-5 h-5 text-gray-600"})}),((T=o==null?void 0:o.headerIcons)==null?void 0:T.showWishlist)!==!1&&n.jsxs("button",{ref:A,onClick:()=>u(!0),className:`p-1.5 sm:p-2 rounded-full hover:bg-gray-100 transition-colors relative ${t?"hidden lg:inline-flex":""}`,"aria-label":r("common.wishlist"),children:[(F=o==null?void 0:o.headerIconAssets)!=null&&F.wishlist&&x?n.jsx("img",{src:la(o.headerIconAssets.wishlist)||o.headerIconAssets.wishlist,alt:"wishlist",className:"w-5 h-5 object-contain",onError:()=>y(!1)}):((P=(O=o==null?void 0:o.headerIconVariants)==null?void 0:O.wishlist)!=null?P:"heart")==="bookmark"?n.jsx(Sj,{className:"w-5 h-5 text-gray-600"}):n.jsx(Si,{className:"w-5 h-5 text-gray-600"}),s>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-rose-600 text-white text-xs flex items-center justify-center font-medium",children:s})]}),((W=o==null?void 0:o.headerIcons)==null?void 0:W.showCart)!==!1&&n.jsxs("button",{onClick:()=>c(!0),className:`p-1.5 sm:p-2 rounded-full hover:bg-gray-100 transition-colors relative ${t?"hidden lg:inline-flex":""}`,"aria-label":r("common.cart"),children:[(q=o==null?void 0:o.headerIconAssets)!=null&&q.cart&&v?n.jsx("img",{src:la(o.headerIconAssets.cart)||o.headerIconAssets.cart,alt:"cart",className:"w-5 h-5 object-contain",onError:()=>w(!1)}):((M=(D=o==null?void 0:o.headerIconVariants)==null?void 0:D.cart)!=null?M:"shoppingBag")==="shoppingCart"?n.jsx($2,{className:"w-5 h-5 text-gray-600"}):n.jsx(Xs,{className:"w-5 h-5 text-gray-600"}),a>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-indigo-600 text-white text-xs flex items-center justify-center font-medium",children:a})]}),((H=o==null?void 0:o.headerIcons)==null?void 0:H.showAccount)!==!1&&n.jsxs("div",{className:"relative z-50 hidden lg:flex items-center",ref:j,children:[(ee=o==null?void 0:o.headerIconAssets)!=null&&ee.account?n.jsx("button",{onClick:()=>p(X=>!X),className:"p-1.5 sm:p-2 rounded-full hover:bg-gray-100 transition-colors flex items-center justify-center ml-3","aria-label":r("common.account"),children:n.jsx("img",{src:la(o.headerIconAssets.account)||o.headerIconAssets.account,alt:"account",className:"w-5 h-5 object-contain rounded-full",onError:X=>{X.currentTarget.style.display="none"}})}):n.jsx(Tf,{name:i==null?void 0:i.name,image:i==null?void 0:i.image,size:"sm",className:"ring-2 ring-white p-1.5 sm:p-2 hover:bg-gray-100 rounded-full cursor-pointer ml-1",onClick:()=>p(X=>!X)}),m&&n.jsx("div",{className:"absolute left-0 mt-2 w-72 bg-white rounded-xl shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:i?n.jsx(hq,{isOpen:!0,onClose:()=>p(!1),user:i}):n.jsx(gq,{onClose:()=>p(!1)})})]})]}),m&&n.jsx("div",{className:"fixed inset-0 bg-black/30 z-40","aria-hidden":!0,onClick:()=>p(!1)}),n.jsx(dq,{isOpen:l,onClose:()=>c(!1)}),n.jsx(uq,{isOpen:d,onClose:()=>u(!1),anchorRef:A}),n.jsx(fq,{isOpen:f,onClose:()=>h(!1)})]})}function yq({isOpen:e,onClose:t}){var v;const{t:r}=$t(),{user:a}=ln(),{settings:s}=vr(),{cartCount:i}=ga(),{wishlistCount:o}=Sd(),l=Ea(),[c,d]=N.useState([]),[u,f]=N.useState(null),[h,m]=N.useState(""),p=typeof document!="undefined"&&((v=document==null?void 0:document.documentElement)==null?void 0:v.dir)==="rtl";ne.useEffect(()=>{const w=A=>{A.key==="Escape"&&e&&t()};return window.addEventListener("keydown",w),e&&(async()=>{try{const A=await ue.getWithRetry("/navigation");d(A.data.filter(C=>C.isActive))}catch(A){console.error("Error fetching navigation:",A),d([{_id:"1",name:r("navigation.newIn"),slug:"new-in",isActive:!0},{_id:"2",name:r("navigation.women"),slug:"women",isActive:!0},{_id:"3",name:r("navigation.men"),slug:"men",isActive:!0},{_id:"4",name:r("navigation.accessories"),slug:"accessories",isActive:!0},{_id:"5",name:r("navigation.sale"),slug:"sale",isActive:!0}])}})(),()=>{window.removeEventListener("keydown",w)}},[e,r,t]);const x=w=>{w.preventDefault(),h.trim()&&(l(`/search?q=${encodeURIComponent(h)}`),t())},y=w=>{l(w),t()};return typeof document=="undefined"?null:Af.createPortal(n.jsxs("div",{className:`lg:hidden fixed inset-0 z-[999] ${e?"pointer-events-auto":"pointer-events-none"}`,"aria-hidden":!e,children:[n.jsx("div",{className:`fixed inset-0 transition-opacity duration-300 ${e?"opacity-100":"opacity-0"} bg-black/50 backdrop-blur-[2px]`,onClick:t}),n.jsxs("div",{className:`fixed ${p?"left-0":"right-0"} top-0 h-full w-full max-w-xs bg-white shadow-xl flex flex-col transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":p?"-translate-x-full":"translate-x-full"}`,role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"p-4 border-b",children:a?n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Tf,{name:a.name,size:"sm"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:a.email})]}),n.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-5 h-5"})})]}):n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Vn,{to:"/login",className:"flex items-center gap-2 text-gray-900 font-medium",onClick:t,children:[n.jsx(ec,{className:"w-5 h-5"}),r("navigation.signInRegister","Sign In / Register")]}),n.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-5 h-5"})})]})}),n.jsx("div",{className:"p-4 border-b",children:n.jsx("form",{onSubmit:x,children:n.jsxs("div",{className:"relative",children:[n.jsx(Mn,{className:`absolute top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 ${p?"right-3":"left-3"}`}),n.jsx("input",{type:"search",placeholder:r("common.search"),value:h,onChange:w=>m(w.target.value),className:`w-full py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${p?"pr-10 pl-4":"pl-10 pr-4"}`})]})})}),n.jsxs("div",{className:"flex-1 overflow-y-auto",children:[n.jsx("div",{className:"py-2",children:c.map(w=>n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>f(u===w._id?null:w._id),className:"relative flex items-center w-full p-4 text-gray-900 hover:bg-gray-50",children:[n.jsx("span",{className:`font-medium w-full ${p?"text-right pr-7":"text-left pr-7"}`,children:w.name}),w.subCategories&&w.subCategories.length>0&&n.jsx(_f,{className:`w-5 h-5 text-gray-400 transition-transform duration-200 absolute right-4 top-1/2 -translate-y-1/2 ${u===w._id?"rotate-90":""}`})]}),u===w._id&&w.subCategories&&n.jsx("div",{className:"bg-gray-50 py-2",children:w.subCategories.map(j=>n.jsx(Vn,{to:`/category/${w.slug}/${j.slug}`,className:`block py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 ${p?"pr-8 pl-4 text-right":"pl-8 pr-4 text-left"}`,onClick:t,children:j.name},j.slug))})]},w._id))}),n.jsxs("div",{className:"border-t py-2",children:[n.jsxs("button",{onClick:()=>y("/cart"),className:"flex items-center justify-between w-full p-4 text-gray-900 hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Xs,{className:"w-5 h-5"}),n.jsx("span",{children:r("common.cart")})]}),i>0&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-indigo-100 text-indigo-600 rounded-full",children:i})]}),n.jsxs("button",{onClick:()=>y("/wishlist"),className:"flex items-center justify-between w-full p-4 text-gray-900 hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Si,{className:"w-5 h-5"}),n.jsx("span",{children:r("common.wishlist")})]}),o>0&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-rose-100 text-rose-600 rounded-full",children:o})]})]})]}),n.jsx("div",{className:"p-4 border-t",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsxs("span",{children:["© ",new Date().getFullYear()," ",(s==null?void 0:s.name)||"Your Store"]}),n.jsx(Vn,{to:"/contact",className:"hover:text-gray-900",onClick:t,children:r("footer.contactUs","Contact Us")})]})})]})]}),document.body)}function Wm({className:e="",style:t}){var c,d,u;const{settings:r}=vr(),[a,s]=N.useState(()=>typeof window!="undefined"?window.innerWidth:0);if(N.useEffect(()=>{const f=()=>s(window.innerWidth);return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),!(r!=null&&r.logo))return null;const i={...t},o=t&&(t.width!==void 0||t.maxWidth!==void 0),l=t&&(t.height!==void 0||t.maxHeight!==void 0);if(!o){const f=(d=(c=r.logoWidthDesktop)!=null?c:r.logoWidthMobile)!=null?d:100,h=(u=r.logoWidthMobile)!=null?u:Math.min(f,120),p=a>=1024?f:h;i.width=p+"px"}return l||a<1024&&r.logoMaxHeightMobile&&(i.maxHeight=r.logoMaxHeightMobile+"px"),n.jsx("img",{src:r.logo,alt:"Store Logo",className:`block w-auto object-contain ${e}`,style:i,loading:"eager",decoding:"async"})}function vq({externalOpen:e,externalActiveId:t,onRequestClose:r}){const{t:a}=$t(),[s,i]=ne.useState(!1),[o,l]=ne.useState([]),[c,d]=ne.useState([]),[u,f]=ne.useState(null),{settings:h}=vr(),[m,p]=ne.useState(!1),[x,y]=ne.useState(void 0),[v,w]=ne.useState({}),[j,A]=ne.useState({}),[C,S]=ne.useState({}),[k,E]=ne.useState({}),T=ne.useRef(null),F=ne.useRef(null),O=ne.useRef(null),[P,W]=ne.useState(96),[q,D]=ne.useState(16);ne.useEffect(()=>{var V;try{const te=(V=document==null?void 0:document.documentElement)==null?void 0:V.getAttribute("dir");p(te==="rtl")}catch(te){}},[]),ne.useEffect(()=>{(async()=>{try{const[te,R]=await Promise.all([ue.getWithRetry("/navigation"),ue.getWithRetry("/categories")]),U=Array.isArray(te.data)?te.data:[],Q=Array.isArray(R.data)?R.data:[],J=U.filter(he=>he.isActive).sort((he,ge)=>{var Ae,Ee;return((Ae=he.order)!=null?Ae:0)-((Ee=ge.order)!=null?Ee:0)}),L=Q.filter(he=>{var ge;return(ge=he.isActive)!=null?ge:!0});l(J),d(L),J.length&&!(t!=null?t:u)&&f(J[0]._id)}catch(te){}})()},[t,u]),ne.useEffect(()=>{const V=te=>{var L,he;if(!((e!=null?e:!1)||s))return;const U=te.target,Q=(L=T.current)==null?void 0:L.contains(U),J=(he=F.current)==null?void 0:he.contains(U);!Q&&!J&&(e!==void 0&&r?r():i(!1))};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[e,s,r]),ne.useEffect(()=>{const V=()=>{var J,L;if(!(e!=null&&e||s))return;const te=(J=O.current)==null?void 0:J.getBoundingClientRect(),R=16,Q=((L=te==null?void 0:te.bottom)!=null?L:80)+8;W(Math.max(0,Math.round(Q))),requestAnimationFrame(()=>{var ge,Ae,Ee,xe;const he=(Ae=(ge=F.current)==null?void 0:ge.offsetWidth)!=null?Ae:0;if(he>0){const Te=window.innerWidth;if(m){const Ue=Math.round((Ee=te==null?void 0:te.right)!=null?Ee:Te-R),tt=Math.max(R,Math.min(Ue-he,Te-R-he));D(tt)}else{const Ue=Math.max(R,Math.round((xe=te==null?void 0:te.left)!=null?xe:R)),tt=Math.min(Ue,Te-R-he);D(Math.max(R,tt))}}})};return V(),window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[e,s]);const M=u!=null?u:t,H=o.find(V=>V._id===M)||null,ee=ne.useMemo(()=>{const V=new Map;return c.forEach(te=>V.set(te.slug,te)),V},[c]),X=ne.useCallback(V=>la(V),[]);ne.useEffect(()=>{(async()=>{var te;try{const R=h==null?void 0:h.featuredNewProductId;if(!R){y(void 0);return}const Q=(await ue.getWithRetry(`/products/${R}`)).data,J=Array.isArray(Q==null?void 0:Q.colors)&&Q.colors.length&&Array.isArray((te=Q.colors[0])==null?void 0:te.images)&&Q.colors[0].images.length?Q.colors[0].images[0]:Array.isArray(Q==null?void 0:Q.images)&&Q.images.length?Q.images[0]:void 0;y(X(J))}catch(R){y(void 0)}})()},[h,X]),ne.useEffect(()=>{(async()=>{var U,Q;const te=H==null?void 0:H._id;if(!te||v[te]!==void 0)return;let R=(H.subCategories||[]).map(J=>{var L;return(L=ee.get(J.slug))==null?void 0:L._id}).filter(J=>!!J);if(R.length===0){const J=(U=ee.get(H.slug))==null?void 0:U._id;J&&(R=[J])}if(R.length===0){w(J=>({...J,[te]:!1})),A(J=>({...J,[te]:void 0}));return}try{const J=await ue.getWithRetry("/products",{params:{isNew:!0,categories:R.join(",")}}),L=Array.isArray(J.data)?J.data:[],he=L.length>0;if(w(ge=>({...ge,[te]:he})),he){let ge=L[0];try{ge=L.slice().sort((xe,Te)=>{const Ue=new Date((xe==null?void 0:xe.createdAt)||0).getTime();return new Date((Te==null?void 0:Te.createdAt)||0).getTime()-Ue})[0]||L[0]}catch(xe){}const Ae=Array.isArray(ge==null?void 0:ge.colors)&&ge.colors.length&&Array.isArray((Q=ge.colors[0])==null?void 0:Q.images)&&ge.colors[0].images.length?ge.colors[0].images[0]:Array.isArray(ge==null?void 0:ge.images)&&ge.images.length?ge.images[0]:void 0,Ee=X(Ae);A(xe=>({...xe,[te]:Ee}))}else A(ge=>({...ge,[te]:void 0}))}catch(J){w(L=>({...L,[te]:!1})),A(L=>({...L,[te]:void 0}))}})()},[H,ee,v]),ne.useEffect(()=>{(async()=>{var U,Q;const te=H==null?void 0:H._id;if(!te||C[te]!==void 0)return;let R=(H.subCategories||[]).map(J=>{var L;return(L=ee.get(J.slug))==null?void 0:L._id}).filter(J=>!!J);if(R.length===0){const J=(U=ee.get(H.slug))==null?void 0:U._id;J&&(R=[J])}if(R.length===0){S(J=>({...J,[te]:!1}));return}try{const J=await ue.getWithRetry("/products",{params:{categories:R.join(","),minRating:4}}),L=Array.isArray(J.data)?J.data:[],he=L.length>0;if(S(ge=>({...ge,[te]:he})),he){let ge=L[0];try{ge=L.slice().sort((xe,Te)=>{const Ue=((Te==null?void 0:Te.rating)||0)-((xe==null?void 0:xe.rating)||0);if(Ue!==0)return Ue;const tt=new Date((xe==null?void 0:xe.createdAt)||0).getTime();return new Date((Te==null?void 0:Te.createdAt)||0).getTime()-tt})[0]||L[0]}catch(xe){}const Ae=Array.isArray(ge==null?void 0:ge.colors)&&ge.colors.length&&Array.isArray((Q=ge.colors[0])==null?void 0:Q.images)&&ge.colors[0].images.length?ge.colors[0].images[0]:Array.isArray(ge==null?void 0:ge.images)&&ge.images.length?ge.images[0]:void 0,Ee=X(Ae);E(xe=>({...xe,[te]:Ee}))}else E(ge=>({...ge,[te]:void 0}))}catch(J){S(L=>({...L,[te]:!1})),E(L=>({...L,[te]:void 0}))}})()},[H,ee,C]);const de=ne.useMemo(()=>{var R;const V="/placeholder-image.jpg",te=[];if(H){let U=(H.subCategories||[]).map(he=>{var ge;return(ge=ee.get(he.slug))==null?void 0:ge._id}).filter(he=>!!he);if(U.length===0){const he=(R=ee.get(H.slug))==null?void 0:R._id;he&&(U=[he])}const Q=U.length?`/products?categories=${encodeURIComponent(U.join(","))}`:"/products";te.push({key:"view-all",name:"View All",to:Q,image:V});const J=U.length?`&categories=${encodeURIComponent(U.join(","))}`:"";if(v[H._id]&&te.push({key:"new-in",name:"New In",to:`/products?isNew=true${J}`,image:j[H._id]||x||V}),C[H._id]){const he=U.length?`/products?categories=${encodeURIComponent(U.join(","))}&topRated=true`:"/products?topRated=true";te.push({key:"top-rated",name:"Top Rated",to:he,image:k[H._id]||V})}(H.subCategories||[]).forEach(he=>{const ge=ee.get(he.slug),Ae=ge!=null&&ge._id?`/products?category=${encodeURIComponent(ge._id)}`:"/products";te.push({key:`sc-${he.slug}`,name:he.name,to:Ae,image:X(ge==null?void 0:ge.image)||V})})}return te.slice(0,12)},[H,ee,X,x,v,j,C,k]),le=ne.useMemo(()=>H?H.name.toUpperCase():"SHOP BY CATEGORY",[H]),G=()=>{e===void 0&&i(!0)},K=()=>{e!==void 0?r==null||r():i(!1)},Z=V=>{if(f(V),e!==void 0){const te=new CustomEvent("nav-hover",{detail:{id:V}});window.dispatchEvent(te)}},I=e!==void 0?e:s;return n.jsxs("div",{className:"relative",ref:T,onMouseEnter:G,children:[n.jsxs("button",{ref:O,className:"flex items-center gap-1 hover:theme-primary font-medium py-2","aria-haspopup":"true","aria-expanded":I,onClick:()=>i(V=>!V),style:{color:(h==null?void 0:h.navCategoryFontColor)||void 0,fontSize:(h==null?void 0:h.navCategoryFontSize)==="small"?"0.875rem":(h==null?void 0:h.navCategoryFontSize)==="large"?"1.125rem":void 0},children:[a("navigation.categories","Categories"),n.jsx(kd,{className:`w-4 h-4 transition-transform ${I?"rotate-180":""}`})]}),I&&Af.createPortal(n.jsx("div",{ref:F,className:"fixed z-[60]",style:{top:P,left:q},children:n.jsx("div",{className:"theme-background-bg rounded-2xl shadow-xl ring-1 ring-gray-200 overflow-hidden",style:{width:"calc(100vw - 32px)",maxWidth:"1000px",maxHeight:`calc(100vh - ${P+16}px)`,overflowY:"auto"},onMouseLeave:()=>{f(null),K()},children:n.jsxs("div",{className:"grid grid-cols-12",children:[n.jsx("div",{className:`${m?"order-1 border-r":"order-2 border-l"} col-span-4 border-gray-100 p-2`,children:o.map(V=>n.jsxs("button",{onMouseEnter:()=>Z(V._id),onFocus:()=>Z(V._id),onClick:()=>Z(V._id),className:`w-full flex items-center justify-between text-left px-4 py-3 rounded-lg mb-1 transition-colors ${V._id===M?"text-gray-900":"hover:bg-gray-50 text-gray-700"}`,style:{color:(h==null?void 0:h.navPanelFontColor)||(h==null?void 0:h.navCategoryFontColor)||void 0,backgroundColor:V._id===M?(h==null?void 0:h.navPanelColumnActiveBgColor)||"#f3f4f6":void 0,fontSize:(h==null?void 0:h.navCategoryFontSize)==="small"?"0.875rem":(h==null?void 0:h.navCategoryFontSize)==="large"?"1.125rem":void 0},children:[n.jsx("span",{className:"truncate",children:V.name}),m?n.jsx(Tv,{className:"w-4 h-4",style:{color:(h==null?void 0:h.navPanelAccentColor)||"#9ca3af"}}):n.jsx(_f,{className:"w-4 h-4",style:{color:(h==null?void 0:h.navPanelAccentColor)||"#9ca3af"}})]},V._id))}),n.jsxs("div",{className:`${m?"order-2":"order-1"} col-span-8 p-6`,children:[n.jsx("h4",{className:"text-sm font-semibold tracking-wide mb-4",style:{color:(h==null?void 0:h.navPanelHeaderColor)||void 0},children:H?le:a("navigation.shopByCategory","Shop by Category")}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:de.map(V=>{const te=V.key==="view-all";return n.jsxs(Vn,{to:V.to,className:"group flex flex-col items-center gap-2",children:[te?n.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200/80 flex items-center justify-center shadow-sm ring-1 ring-gray-200 group-hover:ring-indigo-400 transition",children:te&&n.jsxs("svg",{className:"w-6 h-6 text-gray-900 group-hover:text-indigo-600 transition-colors",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[n.jsx("rect",{x:"5",y:"5",width:"5",height:"5",rx:"1"}),n.jsx("rect",{x:"14",y:"5",width:"5",height:"5",rx:"1"}),n.jsx("rect",{x:"5",y:"14",width:"5",height:"5",rx:"1"}),n.jsx("rect",{x:"14",y:"14",width:"5",height:"5",rx:"1"})]})}):n.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden transition bg-gray-100",style:{boxShadow:`inset 0 0 0 1px ${(h==null?void 0:h.navPanelAccentColor)||"#e5e7eb"}`},children:n.jsx("img",{src:V.image||"/placeholder-image.jpg",alt:V.name,className:"w-full h-full object-cover",onError:R=>{R.currentTarget.src="/placeholder-image.jpg"}})}),n.jsx("div",{className:"text-xs text-center leading-tight hover:underline",style:{color:(h==null?void 0:h.navPanelFontColor)||void 0},children:V.key==="view-all"?a("navigation.viewAll","View All"):V.key==="new-in"?a("navigation.newIn","New In"):V.key==="top-rated"?a("navigation.topRated","Top Rated"):V.name})]},V.key)})})]})]})})}),document.body)]})}async function bq(e,t=2){const r=(e||"").trim();if(r.length<t)return[];try{const a=await ue.get("/products/search",{params:{query:r}});return Array.isArray(a.data)?a.data:[]}catch(a){return[]}}function wq({borderColor:e}){const t=Ea(),[r,a]=ne.useState(""),[s,i]=ne.useState(""),[o,l]=ne.useState(!0),[c,d]=ne.useState([]),[,u]=ne.useState(0),f=ne.useRef(null),[h,m]=ne.useState([]),[p,x]=ne.useState(!1),[y,v]=ne.useState(!1),[w,j]=ne.useState(-1),{currency:A}=Ta(),C=ne.useRef(O6.debounce(async T=>{if(T.trim().length<2){m([]),v(!1);return}const F=await bq(T);m(F),v(!1),x(!0)},300));ne.useEffect(()=>{let T=!0;const F=P=>{const W=P.slice();for(let q=W.length-1;q>0;q--){const D=Math.floor(Math.random()*(q+1));[W[q],W[D]]=[W[D],W[q]]}return W};return(async()=>{try{const P=await ue.getWithRetry("/categories"),q=(Array.isArray(P.data)?P.data:[]).filter(D=>{var M;return(M=D==null?void 0:D.isActive)!=null?M:!0}).map(D=>String((D==null?void 0:D.name)||"")).filter(Boolean);if(T&&q.length){const D=F(q);d(D),u(0),i(D[0]||"")}}catch(P){}})(),()=>{T=!1}},[]),ne.useEffect(()=>{if(!(o&&!r&&c.length>1)){f.current!=null&&(window.clearInterval(f.current),f.current=null);return}return f.current==null&&(f.current=window.setInterval(()=>{u(F=>{const O=(F+1)%c.length;return i(c[O]||""),O})},3e3)),()=>{f.current!=null&&(window.clearInterval(f.current),f.current=null)}},[o,r,c]);const S=T=>{T.preventDefault();const F=r.trim();t(F?`/search?q=${encodeURIComponent(F)}`:"/search")};ne.useEffect(()=>{if(j(-1),!r){m([]),x(!1);return}v(!0),C.current(r)},[r]),ne.useEffect(()=>{const T=F=>{if(!(F.target instanceof HTMLElement))return;const O=k.current;O&&!O.contains(F.target)&&x(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const k=ne.useRef(null),E=T=>{!p||!h.length&&!y||(T.key==="ArrowDown"?(T.preventDefault(),j(F=>Math.min(F+1,h.length-1))):T.key==="ArrowUp"?(T.preventDefault(),j(F=>Math.max(F-1,0))):T.key==="Enter"?w>=0&&h[w]&&(T.preventDefault(),t(`/product/${h[w]._id}`),x(!1)):T.key==="Escape"&&x(!1))};return n.jsx("div",{ref:k,className:"bg-transparent p-4 w-full",children:n.jsxs("form",{onSubmit:S,className:"relative max-w-2xl mx-auto",children:[n.jsx("input",{type:"search",value:r,onChange:T=>{a(T.target.value),l(!1)},onFocus:()=>l(!1),onBlur:()=>{r||l(!0)},placeholder:o?s||"Search products...":"",className:"w-full pl-4 pr-16 py-3 bg-white text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 placeholder:text-gray-500 text-sm border","aria-label":"Search products",onKeyDown:E,style:e?{borderColor:e,borderWidth:1,borderStyle:"solid"}:void 0}),n.jsx("button",{type:"submit",title:"Search","aria-label":"Search",className:"absolute right-2 top-2 bottom-2 px-4 rounded-md bg-black text-white flex items-center justify-center hover:bg-gray-800 transition-colors",children:y?n.jsx(kj,{className:"w-5 h-5 animate-spin"}):n.jsx(Mn,{className:"w-5 h-5"})}),p&&(h.length>0||y)&&n.jsxs("div",{className:"absolute z-40 mt-2 left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-auto",children:[y&&h.length===0&&n.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 text-sm text-gray-500",children:[n.jsx(kj,{className:"w-4 h-4 animate-spin"})," Searching..."]}),!y&&h.length===0&&n.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No matches"}),h.map((T,F)=>{const O=T.images&&T.images.length?T.images[0]:"/placeholder-image.svg";return n.jsxs("button",{type:"button",onMouseDown:P=>{P.preventDefault(),t(`/product/${T._id}`),x(!1)},className:`w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-gray-50 ${F===w?"bg-gray-100":""}`,children:[n.jsx("img",{src:O,alt:T.name,className:"w-10 h-10 object-cover rounded",loading:"lazy"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:T.name}),typeof T.price=="number"&&n.jsx("p",{className:"text-xs text-gray-500",children:lt(T.price,A)})]})]},T._id)}),h.length>0&&n.jsx("div",{className:"border-t border-gray-100 p-2 text-right",children:n.jsx("button",{type:"submit",className:"text-xs text-indigo-600 hover:underline",children:"See all results"})})]})]})})}const jq={Truck:ua,Sparkles:Pv,Clock:wn,CreditCard:Cd,Star:Dr,Gift:rp,Heart:Si,Tag:Iv};function Nq(){const[e,t]=N.useState([]),[r,a]=N.useState(0);return N.useEffect(()=>{(async()=>{try{const i=await ue.getWithRetry("/announcements/active");t(i.data)}catch(i){console.error("Error fetching announcements:",i)}})()},[]),N.useEffect(()=>{if(e.length===0)return;const s=setInterval(()=>{a(i=>(i+1)%e.length)},4e3);return()=>clearInterval(s)},[e.length]),e.length===0?null:n.jsx("div",{className:"overflow-hidden",style:{background:e[r].backgroundColor},children:n.jsx("div",{className:"relative py-5 px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"flex items-center justify-center gap-2 transition-all duration-500 transform",children:e.map((s,i)=>{const o=jq[s.icon];return n.jsxs("div",{className:`absolute inset-0 flex items-center justify-center gap-2 transition-opacity duration-500 ${i===r?"opacity-100":"opacity-0"}`,children:[n.jsx(o,{className:"w-4 h-4",style:{color:s.textColor}}),n.jsx("span",{className:`text-${s.fontSize} font-medium`,style:{color:s.textColor},children:s.text}),n.jsx(hl,{className:"w-4 h-4 animate-bounce",style:{color:s.textColor}})]},s._id)})})})})}function P6(){const e=Ea(),[t,r]=T2(),[a,s]=N.useState(""),[i,o]=N.useState([]),[l,c]=N.useState(!0),[d,u]=N.useState("Search products..."),f=N.useRef(null),h=t.get("view")==="list"?"list":"grid";N.useEffect(()=>{let v=!0;return(async()=>{try{const w=await ue.getWithRetry("/categories"),A=(Array.isArray(w.data)?w.data:[]).filter(C=>{var S;return(S=C==null?void 0:C.isActive)!=null?S:!0}).sort((C,S)=>{var k,E;return((k=C==null?void 0:C.order)!=null?k:0)-((E=S==null?void 0:S.order)!=null?E:0)});v&&o(A)}finally{v&&c(!1)}})(),()=>{v=!1}},[]);const m=N.useMemo(()=>i.length?i.map(v=>v.name).filter(Boolean):[],[i]);N.useEffect(()=>{if(!m.length||a){f.current!=null&&(window.clearInterval(f.current),f.current=null);return}if(f.current==null){let v=0;u(m[v]||"Search products..."),f.current=window.setInterval(()=>{v=(v+1)%m.length,u(m[v]||"Search products...")},3e3)}return()=>{f.current!=null&&(window.clearInterval(f.current),f.current=null)}},[m,a]);const p=v=>{v.preventDefault();const w=a.trim(),j=new URLSearchParams;w&&j.set("q",w),h&&j.set("view",h),e(`/search${j.toString()?`?${j.toString()}`:""}`)},x=v=>{const w=new URLSearchParams(t);w.set("category",v._id),e(`/products?${w.toString()}`)},y=()=>{const v=h==="list"?"grid":"list",w=new URLSearchParams(t);w.set("view",v),r(w,{replace:!0})};return n.jsxs("header",{className:"mb-6",children:[n.jsxs("div",{className:"grid grid-cols-[40px,1fr,40px] items-center gap-3 lg:flex",children:[n.jsx("button",{type:"button",onClick:()=>e("/wishlist"),className:"shrink-0 w-10 h-10 flex items-center justify-center rounded-full border-2 border-[#D4AF37] text-[#D4AF37] bg-transparent hover:bg-[#D4AF37]/10 transition-colors",title:"Wishlist","aria-label":"Wishlist",children:n.jsx(Si,{className:"w-5 h-5"})}),n.jsxs("form",{onSubmit:p,className:"relative lg:flex-1 justify-self-stretch",children:[n.jsx("input",{type:"search",value:a,onChange:v=>s(v.target.value),placeholder:d,className:"w-full rounded-full border border-gray-200 bg-white pl-4 pr-12 py-2.5 text-sm text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-300","aria-label":"Search products"}),n.jsx("button",{type:"submit","aria-label":"Search",title:"Search",className:"absolute right-1 top-1 bottom-1 w-9 rounded-full bg-[#D4AF37] text-white flex items-center justify-center hover:bg-[#C19A2A]",children:n.jsx(Mn,{className:"w-4 h-4"})})]}),n.jsx("button",{type:"button",onClick:y,className:"shrink-0 w-10 h-10 flex items-center justify-center rounded-full border-2 border-[#D4AF37] text-[#D4AF37] bg-transparent hover:bg-[#D4AF37]/10 transition-colors",title:h==="list"?"Switch to Grid":"Switch to List","aria-label":h==="list"?"Switch to Grid":"Switch to List",children:n.jsx(j6,{className:"w-5 h-5"})})]}),!l&&i.length>0&&n.jsx("div",{className:"mt-4 -mx-4 px-4 overflow-x-auto",children:n.jsx("div",{className:"flex gap-4",children:i.map(v=>n.jsxs("button",{onClick:()=>x(v),className:"shrink-0 flex flex-col items-center group",title:v.name,children:[n.jsx("span",{className:"w-14 h-14 rounded-full overflow-hidden border-2 border-white shadow-sm bg-gray-100",children:n.jsx("img",{src:v.image||"/placeholder-image.jpg",alt:v.name,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),n.jsx("span",{className:"mt-1 w-20 text-center text-[11px] leading-tight line-clamp-2 text-[#D4AF37] font-bold",children:v.name})]},v._id))})})]})}function Sq(){const{t:e}=$t(),r=Nd().pathname.startsWith("/products"),[a,s]=N.useState(!1),[i,o]=N.useState(!1),[l,c]=N.useState(!1),[d,u]=N.useState(null),[f,h]=N.useState(!1),m=N.useRef(0),p=N.useRef(0),{settings:x}=vr(),y=(x==null?void 0:x.headerLayout)||"modern";N.useEffect(()=>{const F=document.getElementById("site-header"),O=()=>{const D=(F==null?void 0:F.getBoundingClientRect().height)||0;document.documentElement.style.setProperty("--header-h",`${D}px`)};O();const P=window.setTimeout(O,100),W=window.setTimeout(O,300);let q;return F&&"ResizeObserver"in window&&(q=new ResizeObserver(()=>O()),q.observe(F)),window.addEventListener("load",O),window.addEventListener("resize",O),()=>{window.clearTimeout(P),window.clearTimeout(W),window.removeEventListener("load",O),window.removeEventListener("resize",O);try{q==null||q.disconnect()}catch(D){}}},[x==null?void 0:x.headerLayout,x==null?void 0:x.headerBackgroundColor,x==null?void 0:x.headerTextColor]),N.useEffect(()=>{const O=()=>{const P=window.scrollY||0,W=p.current||0,q=P-W,D=q>0;D&&q>8&&P>64?h(!0):!D&&-q>8&&h(!1),P<=64&&h(!1),s(P>0),p.current=P};return window.addEventListener("scroll",O,{passive:!0}),()=>window.removeEventListener("scroll",O)},[]),N.useEffect(()=>{const F=O=>{var W;if(Date.now()<m.current)return;const P=(W=O==null?void 0:O.detail)==null?void 0:W.id;P&&u(P),c(!0)};return window.addEventListener("nav-hover",F),()=>window.removeEventListener("nav-hover",F)},[]),N.useEffect(()=>(document.body.style.overflow=i?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[i]);const S=`fixed top-0 inset-x-0 z-50 transition-transform duration-300 will-change-transform theme-font ${f?"-translate-y-full":"translate-y-0"} ${y==="classic"?"theme-background-bg border-b shadow-sm":y==="minimal"?"bg-transparent":a?"theme-background-bg/80 backdrop-blur-lg shadow-sm":"theme-background-bg shadow-sm"}`,k={backgroundColor:(x==null?void 0:x.headerBackgroundColor)||void 0,color:(x==null?void 0:x.headerTextColor)||void 0},E={height:"auto"},T=typeof document!="undefined"&&document.documentElement.getAttribute("dir")==="rtl";return n.jsxs("header",{id:"site-header",className:S,style:k,children:[n.jsx(Nq,{}),n.jsxs("nav",{className:`relative max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 ${T?"pl-16 sm:pl-20":"pr-16 sm:pr-20"}`,children:[n.jsx("div",{className:`absolute inset-y-0 ${T?"left-0 pl-2 sm:pl-4":"right-0 pr-2 sm:pr-4"} flex items-center z-50`,children:n.jsx(xq,{})}),n.jsxs("div",{className:`flex lg:grid lg:grid-cols-[auto_1fr_auto] items-center gap-4 lg:h-28 ${T?"direction-rtl":""} py-1`,children:[" ",n.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 flex items-center lg:hidden pointer-events-none",children:n.jsx(Vn,{to:"/",className:"flex items-center h-full pointer-events-auto","aria-label":"Home",children:n.jsx(Wm,{className:"mt-0 theme-text transition-colors",style:E})})}),n.jsxs("div",{className:"flex items-center gap-2 h-full w-auto justify-start lg:justify-start lg:col-span-1",children:[n.jsx(Vn,{to:"/",className:"hidden lg:flex items-center gap-2 group h-full overflow-hidden mx-auto lg:mx-0",children:n.jsx(Wm,{className:"mt-0 theme-text group-hover:theme-primary transition-colors",style:E})}),T&&n.jsx("button",{onClick:()=>o(!i),className:`${r?"hidden lg:inline-flex":"lg:hidden"} p-1.5 sm:p-2 rounded-full hover:bg-gray-100 transition-colors`,"aria-label":i?e("navigation.closeMenu","Close menu"):e("navigation.openMenu","Open menu"),children:n.jsxs("div",{className:"relative w-6 h-6",children:[n.jsx("span",{className:`absolute left-0 block w-6 h-0.5 transform transition-all duration-300 ease-out bg-[#D4AF37] ${i?"rotate-45 translate-y-0 top-3":"-translate-y-1 top-3"}`}),n.jsx("span",{className:`absolute left-0 top-3 block w-6 h-0.5 bg-[#D4AF37] transition-opacity duration-300 ${i?"opacity-0":"opacity-100"}`}),n.jsx("span",{className:`absolute left-0 block w-6 h-0.5 transform transition-all duration-300 ease-out bg-[#D4AF37] ${i?"-rotate-45 translate-y-0 top-3":"translate-y-1 top-3"}`})]})})]}),n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"hidden lg:flex items-center w-full",children:n.jsx("div",{className:"w-full max-w-2xl mx-auto",children:n.jsx(wq,{borderColor:(x==null?void 0:x.searchBorderColor)||(x==null?void 0:x.primaryColor)||"#D4AF37"})})})}),n.jsx("div",{className:`flex items-center ${T?"justify-start":"justify-end"} gap-2 h-full ml-auto lg:ml-0`,children:!T&&n.jsx("button",{onClick:()=>o(!i),className:`${r?"hidden lg:inline-flex":"lg:hidden"} p-1.5 sm:p-2 rounded-full hover:bg-gray-100 transition-colors`,"aria-label":i?e("navigation.closeMenu","Close menu"):e("navigation.openMenu","Open menu"),children:n.jsxs("div",{className:"relative w-6 h-6",children:[n.jsx("span",{className:`absolute left-0 block w-6 h-0.5 transform transition-all duration-300 ease-out bg-[#D4AF37] ${i?"rotate-45 translate-y-0 top-3":"-translate-y-1 top-3"}`}),n.jsx("span",{className:`absolute left-0 top-3 block w-6 h-0.5 bg-[#D4AF37] transition-opacity duration-300 ${i?"opacity-0":"opacity-100"}`}),n.jsx("span",{className:`absolute left-0 block w-6 h-0.5 transform transition-all duration-300 ease-out bg-[#D4AF37] ${i?"-rotate-45 translate-y-0 top-3":"translate-y-1 top-3"}`})]})})})]}),n.jsxs("div",{className:"hidden lg:flex items-center justify-center gap-8 mt-2",children:[n.jsx(vq,{externalOpen:l,externalActiveId:d,onRequestClose:()=>{c(!1),m.current=Date.now()+200}}),n.jsx(oq,{})]}),r&&n.jsx("div",{className:"mt-2 lg:hidden",children:n.jsx(P6,{})})]}),n.jsx(yq,{isOpen:i,onClose:()=>o(!1)})]})}function kq(){const{cartCount:e}=ga(),{isAuthenticated:t}=ln(),r=Nd(),a=[{icon:v6,label:"Home",to:"/"},{icon:Mn,label:"Search",to:"/search"},{icon:Pv,label:"New",to:"/new-arrivals"},{icon:$2,label:"Cart",to:"/cart",badge:e},{icon:ec,label:"Me",to:t?"/profile":"/login"}];return["/login","/register"].includes(r.pathname)?null:n.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t lg:hidden z-50",children:n.jsx("div",{className:"flex items-center justify-around",children:a.map(({icon:s,label:i,to:o,badge:l})=>n.jsxs(DP,{to:o,className:({isActive:c})=>`
              flex flex-col items-center py-2 px-4 relative
              ${c?"text-indigo-600":"text-gray-500"}
              active:scale-95 transition-transform
            `,children:[n.jsx(s,{className:"w-6 h-6"}),n.jsx("span",{className:"text-xs mt-1",children:i}),l?n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-indigo-600 text-white text-xs flex items-center justify-center animate-pulse",children:l}):null]},o))})})}function Cq(){var j,A,C,S,k,E,T,F,O,P,W,q,D,M;const{t:e}=$t(),{settings:t}=vr(),[r,a]=N.useState(null),[s,i]=N.useState([]),[o,l]=N.useState(!0),c=new Date().getFullYear(),d=async()=>{try{const[H,ee]=await Promise.all([ue.getWithRetry("/footer/settings"),ue.getWithRetry("/footer/links")]),X=H&&H.data&&typeof H.data=="object"?H.data:null,de=Array.isArray(ee==null?void 0:ee.data)?ee.data:[];a(X),i(de)}catch(H){console.error("Error fetching footer data:",H)}finally{l(!1)}};N.useEffect(()=>{d();const H=xi.subscribe("footer_settings_updated",()=>d()),ee=xi.subscribe("footer_links_updated",()=>d()),X=de=>{(de.key==="footer:settings_updated"||de.key==="footer:links_updated")&&d()};return typeof window!="undefined"&&window.addEventListener("storage",X),()=>{H==null||H(),ee==null||ee(),typeof window!="undefined"&&window.removeEventListener("storage",X)}},[]);const u=async H=>{H.preventDefault();const ee=H.target,X=new FormData(ee).get("email");try{await ue.postWithRetry("/newsletter/subscribe",{email:X}),z.success("Successfully subscribed to newsletter"),ee.reset()}catch(de){z.error("Failed to subscribe to newsletter")}};if(o)return n.jsx("div",{className:"h-96 bg-white"});const h=(Array.isArray(s)?s:[]).reduce((H,ee)=>(ee.isActive&&(H[ee.section]||(H[ee.section]=[]),H[ee.section].push(ee)),H),{}),m=(t==null?void 0:t.footerStyle)||"detailed",p=(t==null?void 0:t.address)||(r==null?void 0:r.address),x=(t==null?void 0:t.addressLink)||"",y=(t==null?void 0:t.phone)||(r==null?void 0:r.phone),v=(t==null?void 0:t.email)||(r==null?void 0:r.email),w={facebook:((j=r==null?void 0:r.socialLinks)==null?void 0:j.facebook)||((A=t==null?void 0:t.socialLinks)==null?void 0:A.facebook),twitter:((C=r==null?void 0:r.socialLinks)==null?void 0:C.twitter)||((S=t==null?void 0:t.socialLinks)==null?void 0:S.twitter),instagram:((k=r==null?void 0:r.socialLinks)==null?void 0:k.instagram)||((E=t==null?void 0:t.socialLinks)==null?void 0:E.instagram),youtube:((T=r==null?void 0:r.socialLinks)==null?void 0:T.youtube)||((F=t==null?void 0:t.socialLinks)==null?void 0:F.youtube),whatsapp:((O=r==null?void 0:r.socialLinks)==null?void 0:O.whatsapp)||((P=t==null?void 0:t.socialLinks)==null?void 0:P.whatsapp),tiktok:((W=r==null?void 0:r.socialLinks)==null?void 0:W.tiktok)||((q=t==null?void 0:t.socialLinks)==null?void 0:q.tiktok)};return n.jsxs("footer",{className:"theme-background-bg border-t theme-font",children:[m!=="simple"&&n.jsx("div",{className:"py-12 sm:py-16 bg-gradient-to-b from-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-xl mx-auto text-center",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-bold theme-text",children:(r==null?void 0:r.newsletter.title)||e("footer.newsletter.title")}),n.jsx("p",{className:"mt-3 text-base sm:text-lg theme-text opacity-80",children:(r==null?void 0:r.newsletter.subtitle)||e("footer.newsletter.subtitle")}),n.jsx("form",{onSubmit:u,className:"mt-6 sm:mt-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:max-w-md mx-auto gap-3",children:[n.jsx("input",{type:"email",name:"email",autoComplete:"email",required:!0,className:"w-full px-5 py-3 placeholder-gray-500 focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 border border-gray-300 rounded-full shadow-sm",placeholder:(r==null?void 0:r.newsletter.placeholder)||e("footer.newsletter.placeholder")}),n.jsx("button",{type:"submit",className:"w-full sm:w-auto flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-full text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(r==null?void 0:r.newsletter.buttonText)||e("footer.newsletter.subscribe")})]})})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 lg:gap-12",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Vn,{to:"/",className:"inline-block",children:n.jsx(Wm,{className:"h-auto text-gray-900",style:{width:((M=(D=r==null?void 0:r.logoWidthDesktop)!=null?D:r==null?void 0:r.logoWidthMobile)!=null?M:100)+"px",maxHeight:r!=null&&r.logoMaxHeightMobile?r.logoMaxHeightMobile+"px":"150px"}})}),n.jsx("p",{className:"text-gray-600 max-w-xs",children:(r==null?void 0:r.description)||e("footer.description")}),n.jsxs("div",{className:"space-y-4",children:[(p||x)&&n.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[n.jsx(Vs,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"}),n.jsxs("div",{className:"flex flex-col",children:[p&&n.jsx("span",{children:p}),x&&n.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline text-sm mt-0.5",children:p?e("footer.viewMap","Open Map"):e("footer.address")||"Address"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[n.jsx(Ef,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"}),n.jsx("span",{children:y||e("footer.phone")})]}),n.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[n.jsx(to,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"}),n.jsx("span",{children:v||e("footer.email")})]})]})]}),["shop","support","company"].filter(H=>{var ee;return(((ee=h[H])==null?void 0:ee.length)||0)>0}).map(H=>{var ee;return n.jsx("div",{className:"space-y-4",children:n.jsxs("details",{className:"group md:open",children:[n.jsx("summary",{className:"flex items-center justify-between cursor-pointer md:cursor-default",children:n.jsx("h3",{className:"text-sm font-semibold text-gray-900 tracking-wider uppercase",children:e(`footer.${H}`)})}),n.jsx("ul",{className:"mt-4 space-y-3 group-open:animate-fadeIn",children:(ee=h[H])==null?void 0:ee.map(X=>n.jsx("li",{children:n.jsx(Vn,{to:X.url,className:"text-base text-gray-600 hover:text-gray-900",children:X.name})},X._id))})]})},H)})]}),n.jsx("div",{className:"mt-8 pt-8 border-t",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[w.facebook&&n.jsxs("a",{href:w.facebook,className:"text-gray-400 hover:text-gray-500",target:"_blank",rel:"noopener noreferrer",children:[n.jsx("span",{className:"sr-only",children:"Facebook"}),n.jsx(m6,{className:"w-6 h-6"})]}),w.twitter&&n.jsxs("a",{href:w.twitter,className:"text-gray-400 hover:text-gray-500",target:"_blank",rel:"noopener noreferrer",children:[n.jsx("span",{className:"sr-only",children:"Twitter"}),n.jsx(C6,{className:"w-6 h-6"})]}),w.instagram&&n.jsxs("a",{href:w.instagram,className:"text-gray-400 hover:text-gray-500",target:"_blank",rel:"noopener noreferrer",children:[n.jsx("span",{className:"sr-only",children:"Instagram"}),n.jsx(b6,{className:"w-6 h-6"})]}),w.youtube&&n.jsxs("a",{href:w.youtube,className:"text-gray-400 hover:text-gray-500",target:"_blank",rel:"noopener noreferrer",children:[n.jsx("span",{className:"sr-only",children:"YouTube"}),n.jsx(_6,{className:"w-6 h-6"})]}),w.whatsapp&&n.jsxs("a",{href:w.whatsapp,className:"text-gray-400 hover:text-gray-500",target:"_blank",rel:"noopener noreferrer",children:[n.jsx("span",{className:"sr-only",children:"WhatsApp"}),n.jsx($m,{className:"w-6 h-6"})]}),w.tiktok&&n.jsxs("a",{href:w.tiktok,className:"text-gray-400 hover:text-gray-500",target:"_blank",rel:"noopener noreferrer",children:[n.jsx("span",{className:"sr-only",children:"TikTok"}),n.jsx($G,{className:"w-6 h-6"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 md:gap-6 text-sm text-gray-500",children:[n.jsxs("p",{children:["© ",c," ",(r==null?void 0:r.name)||"Your Store",". ",e("footer.rights")]}),n.jsx(Vn,{to:"/privacy-policy",className:"hover:text-gray-700 underline underline-offset-2",children:"Privacy Policy"}),n.jsx(Vn,{to:"/terms-of-service",className:"hover:text-gray-700 underline underline-offset-2",children:"Terms of Service"})]})]})})]})]})}function Aq(){const[e,t]=N.useState(!1),{settings:r}=vr(),a=()=>{window.pageYOffset>300?t(!0):t(!1)};N.useEffect(()=>(window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)),[]);const s=()=>{window.scrollTo({top:0,behavior:"smooth"})};return n.jsxs("button",{onClick:s,className:`fixed bottom-32 right-8 z-50 w-12 h-12 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center group ${e?"translate-y-0 opacity-100":"translate-y-12 opacity-0 pointer-events-none"}`,"aria-label":"Scroll to top",style:{backgroundColor:(r==null?void 0:r.scrollTopBgColor)||"#4f46e5",color:(r==null?void 0:r.scrollTopTextColor)||"#ffffff"},onMouseEnter:i=>{const o=i.currentTarget;o.style.backgroundColor=(r==null?void 0:r.scrollTopHoverBgColor)||"#4338ca"},onMouseLeave:i=>{const o=i.currentTarget;o.style.backgroundColor=(r==null?void 0:r.scrollTopBgColor)||"#4f46e5"},children:[n.jsx(f6,{className:"w-5 h-5 group-hover:-translate-y-1 transition-transform"}),n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full opacity-20",style:{backgroundColor:(r==null?void 0:r.scrollTopPingColor)||"#818cf8"}})]})}function _q({className:e="",showText:t=!0}){const{settings:r}=vr(),a=N.useMemo(()=>{var l,c;const s=(c=(l=r==null?void 0:r.socialLinks)==null?void 0:l.whatsapp)==null?void 0:c.trim();if(s)return s;const o=((r==null?void 0:r.phone)||"").replace(/\D+/g,"");return o.length>=7?`https://wa.me/${o}`:""},[r]);return a?n.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:`fixed bottom-24 right-8 z-40 flex items-center gap-2 px-4 py-3 bg-green-500 text-white rounded-full shadow-lg hover:bg-green-600 transition-all duration-300 hover:-translate-y-1 ${e}`,"aria-label":"Contact us on WhatsApp",children:[n.jsx($m,{className:"w-6 h-6"}),t&&n.jsx("span",{className:"font-medium hidden sm:block",children:"Chat with us"}),n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-20"})]}):null}function Ds({children:e,hideFooter:t=!1,hideBottomNav:r=!1,hideWhatsApp:a=!1}){return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(Sq,{}),n.jsx("main",{className:"flex-1 pb-16 lg:pb-0",style:{paddingTop:"var(--header-h)"},children:e}),!t&&n.jsx(Cq,{}),!r&&n.jsx(kq,{}),n.jsx(Aq,{}),!a&&n.jsx(_q,{})]})}function I6(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=I6(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Rt(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=I6(e))&&(a&&(a+=" "),a+=t);return a}var Eq=Array.isArray,_s=Eq,Tq=typeof js=="object"&&js&&js.Object===Object&&js,F6=Tq,Oq=F6,Pq=typeof self=="object"&&self&&self.Object===Object&&self,Iq=Oq||Pq||Function("return this")(),Ao=Iq,Fq=Ao,Dq=Fq.Symbol,np=Dq,S_=np,D6=Object.prototype,Rq=D6.hasOwnProperty,Mq=D6.toString,Uh=S_?S_.toStringTag:void 0;function Lq(e){var t=Rq.call(e,Uh),r=e[Uh];try{e[Uh]=void 0;var a=!0}catch(i){}var s=Mq.call(e);return a&&(t?e[Uh]=r:delete e[Uh]),s}var $q=Lq,Bq=Object.prototype,Uq=Bq.toString;function Wq(e){return Uq.call(e)}var zq=Wq,k_=np,Hq=$q,Vq=zq,Gq="[object Null]",qq="[object Undefined]",C_=k_?k_.toStringTag:void 0;function Kq(e){return e==null?e===void 0?qq:Gq:C_&&C_ in Object(e)?Hq(e):Vq(e)}var ml=Kq;function Xq(e){return e!=null&&typeof e=="object"}var pl=Xq,Yq=ml,Jq=pl,Zq="[object Symbol]";function Qq(e){return typeof e=="symbol"||Jq(e)&&Yq(e)==Zq}var Of=Qq,eK=_s,tK=Of,rK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nK=/^\w*$/;function aK(e,t){if(eK(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||tK(e)?!0:nK.test(e)||!rK.test(e)||t!=null&&e in Object(t)}var W2=aK;function sK(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dc=sK;const Pf=yr(dc);var iK=ml,oK=dc,lK="[object AsyncFunction]",cK="[object Function]",dK="[object GeneratorFunction]",uK="[object Proxy]";function fK(e){if(!oK(e))return!1;var t=iK(e);return t==cK||t==dK||t==lK||t==uK}var z2=fK;const Ct=yr(z2);var hK=Ao,mK=hK["__core-js_shared__"],pK=mK,rw=pK,A_=function(){var e=/[^.]+$/.exec(rw&&rw.keys&&rw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gK(e){return!!A_&&A_ in e}var xK=gK,yK=Function.prototype,vK=yK.toString;function bK(e){if(e!=null){try{return vK.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var R6=bK,wK=z2,jK=xK,NK=dc,SK=R6,kK=/[\\^$.*+?()[\]{}|]/g,CK=/^\[object .+?Constructor\]$/,AK=Function.prototype,_K=Object.prototype,EK=AK.toString,TK=_K.hasOwnProperty,OK=RegExp("^"+EK.call(TK).replace(kK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PK(e){if(!NK(e)||jK(e))return!1;var t=wK(e)?OK:CK;return t.test(SK(e))}var IK=PK;function FK(e,t){return e==null?void 0:e[t]}var DK=FK,RK=IK,MK=DK;function LK(e,t){var r=MK(e,t);return RK(r)?r:void 0}var Ad=LK,$K=Ad,BK=$K(Object,"create"),Fv=BK,__=Fv;function UK(){this.__data__=__?__(null):{},this.size=0}var WK=UK;function zK(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HK=zK,VK=Fv,GK="__lodash_hash_undefined__",qK=Object.prototype,KK=qK.hasOwnProperty;function XK(e){var t=this.__data__;if(VK){var r=t[e];return r===GK?void 0:r}return KK.call(t,e)?t[e]:void 0}var YK=XK,JK=Fv,ZK=Object.prototype,QK=ZK.hasOwnProperty;function eX(e){var t=this.__data__;return JK?t[e]!==void 0:QK.call(t,e)}var tX=eX,rX=Fv,nX="__lodash_hash_undefined__";function aX(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rX&&t===void 0?nX:t,this}var sX=aX,iX=WK,oX=HK,lX=YK,cX=tX,dX=sX;function If(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}If.prototype.clear=iX;If.prototype.delete=oX;If.prototype.get=lX;If.prototype.has=cX;If.prototype.set=dX;var uX=If;function fX(){this.__data__=[],this.size=0}var hX=fX;function mX(e,t){return e===t||e!==e&&t!==t}var H2=mX,pX=H2;function gX(e,t){for(var r=e.length;r--;)if(pX(e[r][0],t))return r;return-1}var Dv=gX,xX=Dv,yX=Array.prototype,vX=yX.splice;function bX(e){var t=this.__data__,r=xX(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():vX.call(t,r,1),--this.size,!0}var wX=bX,jX=Dv;function NX(e){var t=this.__data__,r=jX(t,e);return r<0?void 0:t[r][1]}var SX=NX,kX=Dv;function CX(e){return kX(this.__data__,e)>-1}var AX=CX,_X=Dv;function EX(e,t){var r=this.__data__,a=_X(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var TX=EX,OX=hX,PX=wX,IX=SX,FX=AX,DX=TX;function Ff(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Ff.prototype.clear=OX;Ff.prototype.delete=PX;Ff.prototype.get=IX;Ff.prototype.has=FX;Ff.prototype.set=DX;var Rv=Ff,RX=Ad,MX=Ao,LX=RX(MX,"Map"),V2=LX,E_=uX,$X=Rv,BX=V2;function UX(){this.size=0,this.__data__={hash:new E_,map:new(BX||$X),string:new E_}}var WX=UX;function zX(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var HX=zX,VX=HX;function GX(e,t){var r=e.__data__;return VX(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Mv=GX,qX=Mv;function KX(e){var t=qX(this,e).delete(e);return this.size-=t?1:0,t}var XX=KX,YX=Mv;function JX(e){return YX(this,e).get(e)}var ZX=JX,QX=Mv;function eY(e){return QX(this,e).has(e)}var tY=eY,rY=Mv;function nY(e,t){var r=rY(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var aY=nY,sY=WX,iY=XX,oY=ZX,lY=tY,cY=aY;function Df(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Df.prototype.clear=sY;Df.prototype.delete=iY;Df.prototype.get=oY;Df.prototype.has=lY;Df.prototype.set=cY;var G2=Df,M6=G2,dY="Expected a function";function q2(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dY);var r=function(){var a=arguments,s=t?t.apply(this,a):a[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,a);return r.cache=i.set(s,o)||i,o};return r.cache=new(q2.Cache||M6),r}q2.Cache=M6;var L6=q2;const uY=yr(L6);var fY=L6,hY=500;function mY(e){var t=fY(e,function(a){return r.size===hY&&r.clear(),a}),r=t.cache;return t}var pY=mY,gY=pY,xY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yY=/\\(\\)?/g,vY=gY(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xY,function(r,a,s,i){t.push(s?i.replace(yY,"$1"):a||r)}),t}),bY=vY;function wY(e,t){for(var r=-1,a=e==null?0:e.length,s=Array(a);++r<a;)s[r]=t(e[r],r,e);return s}var K2=wY,T_=np,jY=K2,NY=_s,SY=Of,kY=1/0,O_=T_?T_.prototype:void 0,P_=O_?O_.toString:void 0;function $6(e){if(typeof e=="string")return e;if(NY(e))return jY(e,$6)+"";if(SY(e))return P_?P_.call(e):"";var t=e+"";return t=="0"&&1/e==-kY?"-0":t}var CY=$6,AY=CY;function _Y(e){return e==null?"":AY(e)}var B6=_Y,EY=_s,TY=W2,OY=bY,PY=B6;function IY(e,t){return EY(e)?e:TY(e,t)?[e]:OY(PY(e))}var U6=IY,FY=Of,DY=1/0;function RY(e){if(typeof e=="string"||FY(e))return e;var t=e+"";return t=="0"&&1/e==-DY?"-0":t}var Lv=RY,MY=U6,LY=Lv;function $Y(e,t){t=MY(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[LY(t[r++])];return r&&r==a?e:void 0}var X2=$Y,BY=X2;function UY(e,t,r){var a=e==null?void 0:BY(e,t);return a===void 0?r:a}var W6=UY;const Gs=yr(W6);function WY(e){return e==null}var zY=WY;const Mt=yr(zY);var HY=ml,VY=_s,GY=pl,qY="[object String]";function KY(e){return typeof e=="string"||!VY(e)&&GY(e)&&HY(e)==qY}var XY=KY;const dd=yr(XY);var z6={exports:{}},Tr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2=Symbol.for("react.element"),J2=Symbol.for("react.portal"),$v=Symbol.for("react.fragment"),Bv=Symbol.for("react.strict_mode"),Uv=Symbol.for("react.profiler"),Wv=Symbol.for("react.provider"),zv=Symbol.for("react.context"),YY=Symbol.for("react.server_context"),Hv=Symbol.for("react.forward_ref"),Vv=Symbol.for("react.suspense"),Gv=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),Kv=Symbol.for("react.lazy"),JY=Symbol.for("react.offscreen"),H6;H6=Symbol.for("react.module.reference");function Ei(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Y2:switch(e=e.type,e){case $v:case Uv:case Bv:case Vv:case Gv:return e;default:switch(e=e&&e.$$typeof,e){case YY:case zv:case Hv:case Kv:case qv:case Wv:return e;default:return t}}case J2:return t}}}Tr.ContextConsumer=zv;Tr.ContextProvider=Wv;Tr.Element=Y2;Tr.ForwardRef=Hv;Tr.Fragment=$v;Tr.Lazy=Kv;Tr.Memo=qv;Tr.Portal=J2;Tr.Profiler=Uv;Tr.StrictMode=Bv;Tr.Suspense=Vv;Tr.SuspenseList=Gv;Tr.isAsyncMode=function(){return!1};Tr.isConcurrentMode=function(){return!1};Tr.isContextConsumer=function(e){return Ei(e)===zv};Tr.isContextProvider=function(e){return Ei(e)===Wv};Tr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Y2};Tr.isForwardRef=function(e){return Ei(e)===Hv};Tr.isFragment=function(e){return Ei(e)===$v};Tr.isLazy=function(e){return Ei(e)===Kv};Tr.isMemo=function(e){return Ei(e)===qv};Tr.isPortal=function(e){return Ei(e)===J2};Tr.isProfiler=function(e){return Ei(e)===Uv};Tr.isStrictMode=function(e){return Ei(e)===Bv};Tr.isSuspense=function(e){return Ei(e)===Vv};Tr.isSuspenseList=function(e){return Ei(e)===Gv};Tr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$v||e===Uv||e===Bv||e===Vv||e===Gv||e===JY||typeof e=="object"&&e!==null&&(e.$$typeof===Kv||e.$$typeof===qv||e.$$typeof===Wv||e.$$typeof===zv||e.$$typeof===Hv||e.$$typeof===H6||e.getModuleId!==void 0)};Tr.typeOf=Ei;z6.exports=Tr;var V6=z6.exports,ZY=ml,QY=pl,eJ="[object Number]";function tJ(e){return typeof e=="number"||QY(e)&&ZY(e)==eJ}var G6=tJ;const rJ=yr(G6);var nJ=G6;function aJ(e){return nJ(e)&&e!=+e}var sJ=aJ;const ap=yr(sJ);var ca=function(t){return t===0?0:t>0?1:-1},Vc=function(t){return dd(t)&&t.indexOf("%")===t.length-1},Qe=function(t){return rJ(t)&&!ap(t)},iJ=function(t){return Mt(t)},qn=function(t){return Qe(t)||dd(t)},oJ=0,Rf=function(t){var r=++oJ;return"".concat(t||"").concat(r)},ss=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&!dd(t))return a;var i;if(Vc(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ap(i)&&(i=a),s&&i>r&&(i=r),i},Rl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},lJ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},In=function(t,r){return Qe(t)&&Qe(r)?function(a){return t+a*(r-t)}:function(){return r}};function Hx(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Gs(a,t))===r})}var cJ=function(t,r){return Qe(t)&&Qe(r)?t-r:dd(t)&&dd(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Iu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function Aj(e){"@babel/helpers - typeof";return Aj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aj(e)}var dJ=["viewBox","children"],uJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],I_=["points","pathLength"],nw={svg:dJ,polygon:I_,polyline:I_},Z2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!Pf(a))return null;var s={};return Object.keys(a).forEach(function(i){Z2.includes(i)&&(s[i]=r||function(o){return a[i](a,o)})}),s},fJ=function(t,r,a){return function(s){return t(r,a,s),null}},ol=function(t,r,a){if(!Pf(t)||Aj(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Z2.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=fJ(o,r,a))}),s},hJ=["children"],mJ=["children"];function F_(e,t){if(e==null)return{};var r=pJ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function pJ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function _j(e){"@babel/helpers - typeof";return _j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_j(e)}var D_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},R_=null,aw=null,Q2=function e(t){if(t===R_&&Array.isArray(aw))return aw;var r=[];return N.Children.forEach(t,function(a){Mt(a)||(V6.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),aw=r,R_=t,r};function Ss(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return Qo(s)}):a=[Qo(t)],Q2(e).forEach(function(s){var i=Gs(s,"type.displayName")||Gs(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function Ls(e,t){var r=Ss(e,t);return r&&r[0]}var M_=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!Qe(a)||a<=0||!Qe(s)||s<=0)},gJ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],xJ=function(t){return t&&t.type&&dd(t.type)&&gJ.indexOf(t.type)>=0},yJ=function(t){return t&&_j(t)==="object"&&"clipDot"in t},vJ=function(t,r,a,s){var i,o=(i=nw==null?void 0:nw[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ct(t)&&(s&&o.includes(r)||uJ.includes(r))||a&&Z2.includes(r)},jt=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(N.isValidElement(t)&&(s=t.props),!Pf(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;vJ((l=s)===null||l===void 0?void 0:l[o],o,r,a)&&(i[o]=s[o])}),i},Ej=function e(t,r){if(t===r)return!0;var a=N.Children.count(t);if(a!==N.Children.count(r))return!1;if(a===0)return!0;if(a===1)return L_(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!L_(i,o))return!1}return!0},L_=function(t,r){if(Mt(t)&&Mt(r))return!0;if(!Mt(t)&&!Mt(r)){var a=t.props||{},s=a.children,i=F_(a,hJ),o=r.props||{},l=o.children,c=F_(o,mJ);return s&&l?Iu(i,c)&&Ej(s,l):!s&&!l?Iu(i,c):!1}return!1},$_=function(t,r){var a=[],s={};return Q2(t).forEach(function(i,o){if(xJ(i))a.push(i);else if(i){var l=Qo(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var f=d(i,l,o);a.push(f),s[l]=!0}}}),a},bJ=function(t){var r=t&&t.type;return r&&D_[r]?D_[r]:null},wJ=function(t,r){return Q2(r).indexOf(t)},jJ=["children","width","height","viewBox","className","style","title","desc"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tj.apply(this,arguments)}function NJ(e,t){if(e==null)return{};var r=SJ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function SJ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Oj(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=NJ(e,jJ),u=s||{width:r,height:a,x:0,y:0},f=Rt("recharts-surface",i);return ne.createElement("svg",Tj({},jt(d,!0,"svg"),{className:f,width:r,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ne.createElement("title",null,l),ne.createElement("desc",null,c),t)}var kJ=["children","className"];function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pj.apply(this,arguments)}function CJ(e,t){if(e==null)return{};var r=AJ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function AJ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Zt=ne.forwardRef(function(e,t){var r=e.children,a=e.className,s=CJ(e,kJ),i=Rt("recharts-layer",a);return ne.createElement("g",Pj({className:i},jt(s,!0),{ref:t}),r)}),Yi=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function _J(e,t,r){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+t];return i}var EJ=_J,TJ=EJ;function OJ(e,t,r){var a=e.length;return r=r===void 0?a:r,!t&&r>=a?e:TJ(e,t,r)}var PJ=OJ,IJ="\\ud800-\\udfff",FJ="\\u0300-\\u036f",DJ="\\ufe20-\\ufe2f",RJ="\\u20d0-\\u20ff",MJ=FJ+DJ+RJ,LJ="\\ufe0e\\ufe0f",$J="\\u200d",BJ=RegExp("["+$J+IJ+MJ+LJ+"]");function UJ(e){return BJ.test(e)}var q6=UJ;function WJ(e){return e.split("")}var zJ=WJ,K6="\\ud800-\\udfff",HJ="\\u0300-\\u036f",VJ="\\ufe20-\\ufe2f",GJ="\\u20d0-\\u20ff",qJ=HJ+VJ+GJ,KJ="\\ufe0e\\ufe0f",XJ="["+K6+"]",Ij="["+qJ+"]",Fj="\\ud83c[\\udffb-\\udfff]",YJ="(?:"+Ij+"|"+Fj+")",X6="[^"+K6+"]",Y6="(?:\\ud83c[\\udde6-\\uddff]){2}",J6="[\\ud800-\\udbff][\\udc00-\\udfff]",JJ="\\u200d",Z6=YJ+"?",Q6="["+KJ+"]?",ZJ="(?:"+JJ+"(?:"+[X6,Y6,J6].join("|")+")"+Q6+Z6+")*",QJ=Q6+Z6+ZJ,eZ="(?:"+[X6+Ij+"?",Ij,Y6,J6,XJ].join("|")+")",tZ=RegExp(Fj+"(?="+Fj+")|"+eZ+QJ,"g");function rZ(e){return e.match(tZ)||[]}var nZ=rZ,aZ=zJ,sZ=q6,iZ=nZ;function oZ(e){return sZ(e)?iZ(e):aZ(e)}var lZ=oZ,cZ=PJ,dZ=q6,uZ=lZ,fZ=B6;function hZ(e){return function(t){t=fZ(t);var r=dZ(t)?uZ(t):void 0,a=r?r[0]:t.charAt(0),s=r?cZ(r,1).join(""):t.slice(1);return a[e]()+s}}var mZ=hZ,pZ=mZ,gZ=pZ("toUpperCase"),xZ=gZ;const Xv=yr(xZ);function qr(e){return function(){return e}}const eI=Math.cos,Gx=Math.sin,ao=Math.sqrt,qx=Math.PI,Yv=2*qx,Dj=Math.PI,Rj=2*Dj,Rc=1e-6,yZ=Rj-Rc;function tI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vZ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tI;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class bZ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tI:vZ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,o){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-t,d=s-r,u=o-t,f=l-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Rc)if(!(Math.abs(f*c-d*u)>Rc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=a-o,p=s-l,x=c*c+d*d,y=m*m+p*p,v=Math.sqrt(x),w=Math.sqrt(h),j=i*Math.tan((Dj-Math.acos((x+h-y)/(2*v*w)))/2),A=j/w,C=j/v;Math.abs(A-1)>Rc&&this._append`L${t+A*u},${r+A*f}`,this._append`A${i},${i},0,0,${+(f*m>u*p)},${this._x1=t+C*c},${this._y1=r+C*d}`}}arc(t,r,a,s,i,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),c=a*Math.sin(s),d=t+l,u=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Rc||Math.abs(this._y1-u)>Rc)&&this._append`L${d},${u}`,a&&(h<0&&(h=h%Rj+Rj),h>yZ?this._append`A${a},${a},0,1,${f},${t-l},${r-c}A${a},${a},0,1,${f},${this._x1=d},${this._y1=u}`:h>Rc&&this._append`A${a},${a},0,${+(h>=Dj)},${f},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function eS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new bZ(t)}function tS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rI(e){this._context=e}rI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jv(e){return new rI(e)}function nI(e){return e[0]}function aI(e){return e[1]}function sI(e,t){var r=qr(!0),a=null,s=Jv,i=null,o=eS(l);e=typeof e=="function"?e:e===void 0?nI:qr(e),t=typeof t=="function"?t:t===void 0?aI:qr(t);function l(c){var d,u=(c=tS(c)).length,f,h=!1,m;for(a==null&&(i=s(m=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,d,c),+t(f,d,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qr(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,a!=null&&(i=s(a)),l):s},l.context=function(c){return arguments.length?(c==null?a=i=null:i=s(a=c),l):a},l}function Wg(e,t,r){var a=null,s=qr(!0),i=null,o=Jv,l=null,c=eS(d);e=typeof e=="function"?e:e===void 0?nI:qr(+e),t=typeof t=="function"?t:qr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?aI:qr(+r);function d(f){var h,m,p,x=(f=tS(f)).length,y,v=!1,w,j=new Array(x),A=new Array(x);for(i==null&&(l=o(w=c())),h=0;h<=x;++h){if(!(h<x&&s(y=f[h],h,f))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(j[p],A[p]);l.lineEnd(),l.areaEnd()}v&&(j[h]=+e(y,h,f),A[h]=+t(y,h,f),l.point(a?+a(y,h,f):j[h],r?+r(y,h,f):A[h]))}if(w)return l=null,w+""||null}function u(){return sI().defined(s).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:qr(+f),a=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qr(+f),d):e},d.x1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:qr(+f),d):a},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:qr(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qr(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qr(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(a).y(t)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:qr(!!f),d):s},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class iI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function wZ(e){return new iI(e,!0)}function jZ(e){return new iI(e,!1)}const rS={draw(e,t){const r=ao(t/qx);e.moveTo(r,0),e.arc(0,0,r,0,Yv)}},NZ={draw(e,t){const r=ao(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},oI=ao(1/3),SZ=oI*2,kZ={draw(e,t){const r=ao(t/SZ),a=r*oI;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},CZ={draw(e,t){const r=ao(t),a=-r/2;e.rect(a,a,r,r)}},AZ=.8908130915292852,lI=Gx(qx/10)/Gx(7*qx/10),_Z=Gx(Yv/10)*lI,EZ=-eI(Yv/10)*lI,TZ={draw(e,t){const r=ao(t*AZ),a=_Z*r,s=EZ*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const o=Yv*i/5,l=eI(o),c=Gx(o);e.lineTo(c*r,-l*r),e.lineTo(l*a-c*s,c*a+l*s)}e.closePath()}},sw=ao(3),OZ={draw(e,t){const r=-ao(t/(sw*3));e.moveTo(0,r*2),e.lineTo(-sw*r,-r),e.lineTo(sw*r,-r),e.closePath()}},ii=-.5,oi=ao(3)/2,Mj=1/ao(12),PZ=(Mj/2+1)*3,IZ={draw(e,t){const r=ao(t/PZ),a=r/2,s=r*Mj,i=a,o=r*Mj+r,l=-i,c=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ii*a-oi*s,oi*a+ii*s),e.lineTo(ii*i-oi*o,oi*i+ii*o),e.lineTo(ii*l-oi*c,oi*l+ii*c),e.lineTo(ii*a+oi*s,ii*s-oi*a),e.lineTo(ii*i+oi*o,ii*o-oi*i),e.lineTo(ii*l+oi*c,ii*c-oi*l),e.closePath()}};function FZ(e,t){let r=null,a=eS(s);e=typeof e=="function"?e:qr(e||rS),t=typeof t=="function"?t:qr(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:qr(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:qr(+i),s):t},s.context=function(i){return arguments.length?(r=i==null?null:i,s):r},s}function Kx(){}function Xx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function cI(e){this._context=e}cI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DZ(e){return new cI(e)}function dI(e){this._context=e}dI.prototype={areaStart:Kx,areaEnd:Kx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RZ(e){return new dI(e)}function uI(e){this._context=e}uI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Xx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MZ(e){return new uI(e)}function fI(e){this._context=e}fI.prototype={areaStart:Kx,areaEnd:Kx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function LZ(e){return new fI(e)}function B_(e){return e<0?-1:1}function U_(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(r-e._y1)/(s||a<0&&-0),l=(i*s+o*a)/(a+s);return(B_(i)+B_(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function W_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function iw(e,t,r){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,s+l*t,i-l,o-l*r,i,o)}function Yx(e){this._context=e}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iw(this,this._t0,W_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,iw(this,W_(this,r=U_(this,e,t)),r);break;default:iw(this,this._t0,r=U_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hI(e){this._context=new mI(e)}(hI.prototype=Object.create(Yx.prototype)).point=function(e,t){Yx.prototype.point.call(this,t,e)};function mI(e){this._context=e}mI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function $Z(e){return new Yx(e)}function BZ(e){return new hI(e)}function pI(e){this._context=e}pI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=z_(e),s=z_(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function z_(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function UZ(e){return new pI(e)}function Zv(e,t){this._context=e,this._t=t}Zv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function WZ(e){return new Zv(e,.5)}function zZ(e){return new Zv(e,0)}function HZ(e){return new Zv(e,1)}function zu(e,t){if((o=e.length)>1)for(var r=1,a,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Lj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function VZ(e,t){return e[t]}function GZ(e){const t=[];return t.key=e,t}function qZ(){var e=qr([]),t=Lj,r=zu,a=VZ;function s(i){var o=Array.from(e.apply(this,arguments),GZ),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+a(f,o[l].key,d,i)]).data=f;for(l=0,u=tS(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:qr(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?Lj:typeof i=="function"?i:qr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i==null?zu:i,s):r},s}function KZ(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<a;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<a;++r)e[r][s][1]/=o}zu(e,t)}}function XZ(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}zu(e,t)}}function YZ(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,o;a<i;++a){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[a][1]||0,h=u[a-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var x=e[t[p]],y=x[a][1]||0,v=x[a-1][1]||0;m+=y-v}c+=f,d+=m*f}s[a-1][1]+=s[a-1][0]=r,c&&(r-=d/c)}s[a-1][1]+=s[a-1][0]=r,zu(e,t)}}function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}var JZ=["type","size","sizeType"];function $j(){return $j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$j.apply(this,arguments)}function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function V_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(r),!0).forEach(function(a){ZZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZZ(e,t,r){return t=QZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QZ(e){var t=eQ(e,"string");return zm(t)=="symbol"?t:t+""}function eQ(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(zm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tQ(e,t){if(e==null)return{};var r=rQ(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function rQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var gI={symbolCircle:rS,symbolCross:NZ,symbolDiamond:kZ,symbolSquare:CZ,symbolStar:TZ,symbolTriangle:OZ,symbolWye:IZ},nQ=Math.PI/180,aQ=function(t){var r="symbol".concat(Xv(t));return gI[r]||rS},sQ=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*nQ;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},iQ=function(t,r){gI["symbol".concat(Xv(t))]=r},nS=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=tQ(t,JZ),d=V_(V_({},c),{},{type:a,size:i,sizeType:l}),u=function(){var y=aQ(a),v=FZ().type(y).size(sQ(i,l,a));return v()},f=d.className,h=d.cx,m=d.cy,p=jt(d,!0);return h===+h&&m===+m&&i===+i?ne.createElement("path",$j({},p,{className:Rt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};nS.registerSymbol=iQ;function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function Bj(){return Bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bj.apply(this,arguments)}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function oQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(a){Hm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cQ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yI(a.key),a)}}function dQ(e,t,r){return t&&cQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uQ(e,t,r){return t=Jx(t),fQ(e,xI()?Reflect.construct(t,r||[],Jx(e).constructor):t.apply(e,r))}function fQ(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hQ(e)}function hQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xI=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(e)}function mQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uj(e,t)}function Uj(e,t){return Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Uj(e,t)}function Hm(e,t,r){return t=yI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yI(e){var t=pQ(e,"string");return Hu(t)=="symbol"?t:t+""}function pQ(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Hu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var li=32,aS=function(e){function t(){return lQ(this,t),uQ(this,t,arguments)}return mQ(t,e),dQ(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=li/2,o=li/6,l=li/3,c=a.inactive?s:a.color;if(a.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:li,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(li,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return ne.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(li/8,"h").concat(li,"v").concat(li*3/4,"h").concat(-li,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(a.legendIcon)){var d=oQ({},a);return delete d.legendIcon,ne.cloneElement(a.legendIcon,d)}return ne.createElement(nS,{fill:c,cx:i,cy:i,size:li,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:li,height:li},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,p){var x=m.formatter||c,y=Rt(Hm(Hm({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=Ct(m.value)?null:m.value;Yi(!Ct(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?d:m.color;return ne.createElement("li",Bj({className:y,style:f,key:"legend-item-".concat(p)},ol(a.props,m,p)),ne.createElement(Oj,{width:o,height:o,viewBox:u,style:h},a.renderIcon(m)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},x?x(v,m,p):v))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);Hm(aS,"displayName","Legend");Hm(aS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var gQ=Rv;function xQ(){this.__data__=new gQ,this.size=0}var yQ=xQ;function vQ(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var bQ=vQ;function wQ(e){return this.__data__.get(e)}var jQ=wQ;function NQ(e){return this.__data__.has(e)}var SQ=NQ,kQ=Rv,CQ=V2,AQ=G2,_Q=200;function EQ(e,t){var r=this.__data__;if(r instanceof kQ){var a=r.__data__;if(!CQ||a.length<_Q-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new AQ(a)}return r.set(e,t),this.size=r.size,this}var TQ=EQ,OQ=Rv,PQ=yQ,IQ=bQ,FQ=jQ,DQ=SQ,RQ=TQ;function Mf(e){var t=this.__data__=new OQ(e);this.size=t.size}Mf.prototype.clear=PQ;Mf.prototype.delete=IQ;Mf.prototype.get=FQ;Mf.prototype.has=DQ;Mf.prototype.set=RQ;var vI=Mf,MQ="__lodash_hash_undefined__";function LQ(e){return this.__data__.set(e,MQ),this}var $Q=LQ;function BQ(e){return this.__data__.has(e)}var UQ=BQ,WQ=G2,zQ=$Q,HQ=UQ;function Zx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new WQ;++t<r;)this.add(e[t])}Zx.prototype.add=Zx.prototype.push=zQ;Zx.prototype.has=HQ;var bI=Zx;function VQ(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var wI=VQ;function GQ(e,t){return e.has(t)}var jI=GQ,qQ=bI,KQ=wI,XQ=jI,YQ=1,JQ=2;function ZQ(e,t,r,a,s,i){var o=r&YQ,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,m=r&JQ?new qQ:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var p=e[f],x=t[f];if(a)var y=o?a(x,p,f,t,e,i):a(p,x,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!KQ(t,function(v,w){if(!XQ(m,w)&&(p===v||s(p,v,r,a,i)))return m.push(w)})){h=!1;break}}else if(!(p===x||s(p,x,r,a,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var NI=ZQ,QQ=Ao,eee=QQ.Uint8Array,tee=eee;function ree(e){var t=-1,r=Array(e.size);return e.forEach(function(a,s){r[++t]=[s,a]}),r}var nee=ree;function aee(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var sS=aee,q_=np,K_=tee,see=H2,iee=NI,oee=nee,lee=sS,cee=1,dee=2,uee="[object Boolean]",fee="[object Date]",hee="[object Error]",mee="[object Map]",pee="[object Number]",gee="[object RegExp]",xee="[object Set]",yee="[object String]",vee="[object Symbol]",bee="[object ArrayBuffer]",wee="[object DataView]",X_=q_?q_.prototype:void 0,ow=X_?X_.valueOf:void 0;function jee(e,t,r,a,s,i,o){switch(r){case wee:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bee:return!(e.byteLength!=t.byteLength||!i(new K_(e),new K_(t)));case uee:case fee:case pee:return see(+e,+t);case hee:return e.name==t.name&&e.message==t.message;case gee:case yee:return e==t+"";case mee:var l=oee;case xee:var c=a&cee;if(l||(l=lee),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;a|=dee,o.set(e,t);var u=iee(l(e),l(t),a,s,i,o);return o.delete(e),u;case vee:if(ow)return ow.call(e)==ow.call(t)}return!1}var Nee=jee;function See(e,t){for(var r=-1,a=t.length,s=e.length;++r<a;)e[s+r]=t[r];return e}var SI=See,kee=SI,Cee=_s;function Aee(e,t,r){var a=t(e);return Cee(e)?a:kee(a,r(e))}var _ee=Aee;function Eee(e,t){for(var r=-1,a=e==null?0:e.length,s=0,i=[];++r<a;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var Tee=Eee;function Oee(){return[]}var Pee=Oee,Iee=Tee,Fee=Pee,Dee=Object.prototype,Ree=Dee.propertyIsEnumerable,Y_=Object.getOwnPropertySymbols,Mee=Y_?function(e){return e==null?[]:(e=Object(e),Iee(Y_(e),function(t){return Ree.call(e,t)}))}:Fee,Lee=Mee;function $ee(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var Bee=$ee,Uee=ml,Wee=pl,zee="[object Arguments]";function Hee(e){return Wee(e)&&Uee(e)==zee}var Vee=Hee,J_=Vee,Gee=pl,kI=Object.prototype,qee=kI.hasOwnProperty,Kee=kI.propertyIsEnumerable,Xee=J_(function(){return arguments}())?J_:function(e){return Gee(e)&&qee.call(e,"callee")&&!Kee.call(e,"callee")},iS=Xee,Qx={exports:{}};function Yee(){return!1}var Jee=Yee;Qx.exports;(function(e,t){var r=Ao,a=Jee,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||a;e.exports=d})(Qx,Qx.exports);var CI=Qx.exports,Zee=9007199254740991,Qee=/^(?:0|[1-9]\d*)$/;function ete(e,t){var r=typeof e;return t=t==null?Zee:t,!!t&&(r=="number"||r!="symbol"&&Qee.test(e))&&e>-1&&e%1==0&&e<t}var oS=ete,tte=9007199254740991;function rte(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tte}var lS=rte,nte=ml,ate=lS,ste=pl,ite="[object Arguments]",ote="[object Array]",lte="[object Boolean]",cte="[object Date]",dte="[object Error]",ute="[object Function]",fte="[object Map]",hte="[object Number]",mte="[object Object]",pte="[object RegExp]",gte="[object Set]",xte="[object String]",yte="[object WeakMap]",vte="[object ArrayBuffer]",bte="[object DataView]",wte="[object Float32Array]",jte="[object Float64Array]",Nte="[object Int8Array]",Ste="[object Int16Array]",kte="[object Int32Array]",Cte="[object Uint8Array]",Ate="[object Uint8ClampedArray]",_te="[object Uint16Array]",Ete="[object Uint32Array]",Xr={};Xr[wte]=Xr[jte]=Xr[Nte]=Xr[Ste]=Xr[kte]=Xr[Cte]=Xr[Ate]=Xr[_te]=Xr[Ete]=!0;Xr[ite]=Xr[ote]=Xr[vte]=Xr[lte]=Xr[bte]=Xr[cte]=Xr[dte]=Xr[ute]=Xr[fte]=Xr[hte]=Xr[mte]=Xr[pte]=Xr[gte]=Xr[xte]=Xr[yte]=!1;function Tte(e){return ste(e)&&ate(e.length)&&!!Xr[nte(e)]}var Ote=Tte;function Pte(e){return function(t){return e(t)}}var AI=Pte,ey={exports:{}};ey.exports;(function(e,t){var r=F6,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch(d){}}();e.exports=l})(ey,ey.exports);var Ite=ey.exports,Fte=Ote,Dte=AI,Z_=Ite,Q_=Z_&&Z_.isTypedArray,Rte=Q_?Dte(Q_):Fte,_I=Rte,Mte=Bee,Lte=iS,$te=_s,Bte=CI,Ute=oS,Wte=_I,zte=Object.prototype,Hte=zte.hasOwnProperty;function Vte(e,t){var r=$te(e),a=!r&&Lte(e),s=!r&&!a&&Bte(e),i=!r&&!a&&!s&&Wte(e),o=r||a||s||i,l=o?Mte(e.length,String):[],c=l.length;for(var d in e)(t||Hte.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Ute(d,c)))&&l.push(d);return l}var Gte=Vte,qte=Object.prototype;function Kte(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||qte;return e===r}var Xte=Kte;function Yte(e,t){return function(r){return e(t(r))}}var EI=Yte,Jte=EI,Zte=Jte(Object.keys,Object),Qte=Zte,ere=Xte,tre=Qte,rre=Object.prototype,nre=rre.hasOwnProperty;function are(e){if(!ere(e))return tre(e);var t=[];for(var r in Object(e))nre.call(e,r)&&r!="constructor"&&t.push(r);return t}var sre=are,ire=z2,ore=lS;function lre(e){return e!=null&&ore(e.length)&&!ire(e)}var sp=lre,cre=Gte,dre=sre,ure=sp;function fre(e){return ure(e)?cre(e):dre(e)}var Qv=fre,hre=_ee,mre=Lee,pre=Qv;function gre(e){return hre(e,pre,mre)}var xre=gre,e4=xre,yre=1,vre=Object.prototype,bre=vre.hasOwnProperty;function wre(e,t,r,a,s,i){var o=r&yre,l=e4(e),c=l.length,d=e4(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:bre.call(t,h)))return!1}var m=i.get(e),p=i.get(t);if(m&&p)return m==t&&p==e;var x=!0;i.set(e,t),i.set(t,e);for(var y=o;++f<c;){h=l[f];var v=e[h],w=t[h];if(a)var j=o?a(w,v,h,t,e,i):a(v,w,h,e,t,i);if(!(j===void 0?v===w||s(v,w,r,a,i):j)){x=!1;break}y||(y=h=="constructor")}if(x&&!y){var A=e.constructor,C=t.constructor;A!=C&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof C=="function"&&C instanceof C)&&(x=!1)}return i.delete(e),i.delete(t),x}var jre=wre,Nre=Ad,Sre=Ao,kre=Nre(Sre,"DataView"),Cre=kre,Are=Ad,_re=Ao,Ere=Are(_re,"Promise"),Tre=Ere,Ore=Ad,Pre=Ao,Ire=Ore(Pre,"Set"),TI=Ire,Fre=Ad,Dre=Ao,Rre=Fre(Dre,"WeakMap"),Mre=Rre,Wj=Cre,zj=V2,Hj=Tre,Vj=TI,Gj=Mre,OI=ml,Lf=R6,t4="[object Map]",Lre="[object Object]",r4="[object Promise]",n4="[object Set]",a4="[object WeakMap]",s4="[object DataView]",$re=Lf(Wj),Bre=Lf(zj),Ure=Lf(Hj),Wre=Lf(Vj),zre=Lf(Gj),Mc=OI;(Wj&&Mc(new Wj(new ArrayBuffer(1)))!=s4||zj&&Mc(new zj)!=t4||Hj&&Mc(Hj.resolve())!=r4||Vj&&Mc(new Vj)!=n4||Gj&&Mc(new Gj)!=a4)&&(Mc=function(e){var t=OI(e),r=t==Lre?e.constructor:void 0,a=r?Lf(r):"";if(a)switch(a){case $re:return s4;case Bre:return t4;case Ure:return r4;case Wre:return n4;case zre:return a4}return t});var Hre=Mc,lw=vI,Vre=NI,Gre=Nee,qre=jre,i4=Hre,o4=_s,l4=CI,Kre=_I,Xre=1,c4="[object Arguments]",d4="[object Array]",zg="[object Object]",Yre=Object.prototype,u4=Yre.hasOwnProperty;function Jre(e,t,r,a,s,i){var o=o4(e),l=o4(t),c=o?d4:i4(e),d=l?d4:i4(t);c=c==c4?zg:c,d=d==c4?zg:d;var u=c==zg,f=d==zg,h=c==d;if(h&&l4(e)){if(!l4(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new lw),o||Kre(e)?Vre(e,t,r,a,s,i):Gre(e,t,c,r,a,s,i);if(!(r&Xre)){var m=u&&u4.call(e,"__wrapped__"),p=f&&u4.call(t,"__wrapped__");if(m||p){var x=m?e.value():e,y=p?t.value():t;return i||(i=new lw),s(x,y,r,a,i)}}return h?(i||(i=new lw),qre(e,t,r,a,s,i)):!1}var Zre=Jre,Qre=Zre,f4=pl;function PI(e,t,r,a,s){return e===t?!0:e==null||t==null||!f4(e)&&!f4(t)?e!==e&&t!==t:Qre(e,t,r,a,PI,s)}var cS=PI,ene=vI,tne=cS,rne=1,nne=2;function ane(e,t,r,a){var s=r.length,i=s,o=!a;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new ene;if(a)var h=a(d,u,c,e,t,f);if(!(h===void 0?tne(u,d,rne|nne,a,f):h))return!1}}return!0}var sne=ane,ine=dc;function one(e){return e===e&&!ine(e)}var II=one,lne=II,cne=Qv;function dne(e){for(var t=cne(e),r=t.length;r--;){var a=t[r],s=e[a];t[r]=[a,s,lne(s)]}return t}var une=dne;function fne(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var FI=fne,hne=sne,mne=une,pne=FI;function gne(e){var t=mne(e);return t.length==1&&t[0][2]?pne(t[0][0],t[0][1]):function(r){return r===e||hne(r,e,t)}}var xne=gne;function yne(e,t){return e!=null&&t in Object(e)}var vne=yne,bne=U6,wne=iS,jne=_s,Nne=oS,Sne=lS,kne=Lv;function Cne(e,t,r){t=bne(t,e);for(var a=-1,s=t.length,i=!1;++a<s;){var o=kne(t[a]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++a!=s?i:(s=e==null?0:e.length,!!s&&Sne(s)&&Nne(o,s)&&(jne(e)||wne(e)))}var Ane=Cne,_ne=vne,Ene=Ane;function Tne(e,t){return e!=null&&Ene(e,t,_ne)}var One=Tne,Pne=cS,Ine=W6,Fne=One,Dne=W2,Rne=II,Mne=FI,Lne=Lv,$ne=1,Bne=2;function Une(e,t){return Dne(e)&&Rne(t)?Mne(Lne(e),t):function(r){var a=Ine(r,e);return a===void 0&&a===t?Fne(r,e):Pne(t,a,$ne|Bne)}}var Wne=Une;function zne(e){return e}var $f=zne;function Hne(e){return function(t){return t==null?void 0:t[e]}}var Vne=Hne,Gne=X2;function qne(e){return function(t){return Gne(t,e)}}var Kne=qne,Xne=Vne,Yne=Kne,Jne=W2,Zne=Lv;function Qne(e){return Jne(e)?Xne(Zne(e)):Yne(e)}var eae=Qne,tae=xne,rae=Wne,nae=$f,aae=_s,sae=eae;function iae(e){return typeof e=="function"?e:e==null?nae:typeof e=="object"?aae(e)?rae(e[0],e[1]):tae(e):sae(e)}var _o=iae;function oae(e,t,r,a){for(var s=e.length,i=r+(a?1:-1);a?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var DI=oae;function lae(e){return e!==e}var cae=lae;function dae(e,t,r){for(var a=r-1,s=e.length;++a<s;)if(e[a]===t)return a;return-1}var uae=dae,fae=DI,hae=cae,mae=uae;function pae(e,t,r){return t===t?mae(e,t,r):fae(e,hae,r)}var gae=pae,xae=gae;function yae(e,t){var r=e==null?0:e.length;return!!r&&xae(e,t,0)>-1}var vae=yae;function bae(e,t,r){for(var a=-1,s=e==null?0:e.length;++a<s;)if(r(t,e[a]))return!0;return!1}var wae=bae;function jae(){}var Nae=jae,cw=TI,Sae=Nae,kae=sS,Cae=1/0,Aae=cw&&1/kae(new cw([,-0]))[1]==Cae?function(e){return new cw(e)}:Sae,_ae=Aae,Eae=bI,Tae=vae,Oae=wae,Pae=jI,Iae=_ae,Fae=sS,Dae=200;function Rae(e,t,r){var a=-1,s=Tae,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=Oae;else if(i>=Dae){var d=t?null:Iae(e);if(d)return Fae(d);o=!1,s=Pae,c=new Eae}else c=t?[]:l;e:for(;++a<i;){var u=e[a],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(u)}else s(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var Mae=Rae,Lae=_o,$ae=Mae;function Bae(e,t){return e&&e.length?$ae(e,Lae(t)):[]}var Uae=Bae;const h4=yr(Uae);function RI(e,t,r){return t===!0?h4(e,r):Ct(t)?h4(e,t):e}function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}var Wae=["ref"];function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(a){eb(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p4(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LI(a.key),a)}}function Hae(e,t,r){return t&&p4(e.prototype,t),r&&p4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vae(e,t,r){return t=ty(t),Gae(e,MI()?Reflect.construct(t,r||[],ty(e).constructor):t.apply(e,r))}function Gae(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qae(e)}function qae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(MI=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(e)}function Kae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qj(e,t)}function qj(e,t){return qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qj(e,t)}function eb(e,t,r){return t=LI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LI(e){var t=Xae(e,"string");return Vu(t)=="symbol"?t:t+""}function Xae(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Vu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yae(e,t){if(e==null)return{};var r=Jae(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Jae(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Zae(e){return e.value}function Qae(e,t){if(ne.isValidElement(e))return ne.cloneElement(e,t);if(typeof e=="function")return ne.createElement(e,t);t.ref;var r=Yae(t,Wae);return ne.createElement(aS,r)}var g4=1,Vl=function(e){function t(){var r;zae(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Vae(this,t,[].concat(s)),eb(r,"lastBoundingBox",{width:-1,height:-1}),r}return Kae(t,e),Hae(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>g4||Math.abs(s.height-this.lastBoundingBox.height)>g4)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,f,h;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((d||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();h={top:((u||0)-p.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return zo(zo({},f),h)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,f=zo(zo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){a.wrapperNode=m}},Qae(i,zo(zo({},this.props),{},{payload:RI(u,d,Zae)})))}}],[{key:"getWithHeight",value:function(a,s){var i=zo(zo({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&Qe(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])}(N.PureComponent);eb(Vl,"displayName","Legend");eb(Vl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var x4=np,ese=iS,tse=_s,y4=x4?x4.isConcatSpreadable:void 0;function rse(e){return tse(e)||ese(e)||!!(y4&&e&&e[y4])}var nse=rse,ase=SI,sse=nse;function $I(e,t,r,a,s){var i=-1,o=e.length;for(r||(r=sse),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?$I(l,t-1,r,a,s):ase(s,l):a||(s[s.length]=l)}return s}var BI=$I;function ise(e){return function(t,r,a){for(var s=-1,i=Object(t),o=a(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var ose=ise,lse=ose,cse=lse(),dse=cse,use=dse,fse=Qv;function hse(e,t){return e&&use(e,t,fse)}var UI=hse,mse=sp;function pse(e,t){return function(r,a){if(r==null)return r;if(!mse(r))return e(r,a);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&a(o[i],i,o)!==!1;);return r}}var gse=pse,xse=UI,yse=gse,vse=yse(xse),dS=vse,bse=dS,wse=sp;function jse(e,t){var r=-1,a=wse(e)?Array(e.length):[];return bse(e,function(s,i,o){a[++r]=t(s,i,o)}),a}var WI=jse;function Nse(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Sse=Nse,v4=Of;function kse(e,t){if(e!==t){var r=e!==void 0,a=e===null,s=e===e,i=v4(e),o=t!==void 0,l=t===null,c=t===t,d=v4(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||a&&o&&c||!r&&c||!s)return 1;if(!a&&!i&&!d&&e<t||d&&r&&s&&!a&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Cse=kse,Ase=Cse;function _se(e,t,r){for(var a=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++a<o;){var c=Ase(s[a],i[a]);if(c){if(a>=l)return c;var d=r[a];return c*(d=="desc"?-1:1)}}return e.index-t.index}var Ese=_se,dw=K2,Tse=X2,Ose=_o,Pse=WI,Ise=Sse,Fse=AI,Dse=Ese,Rse=$f,Mse=_s;function Lse(e,t,r){t.length?t=dw(t,function(i){return Mse(i)?function(o){return Tse(o,i.length===1?i[0]:i)}:i}):t=[Rse];var a=-1;t=dw(t,Fse(Ose));var s=Pse(e,function(i,o,l){var c=dw(t,function(d){return d(i)});return{criteria:c,index:++a,value:i}});return Ise(s,function(i,o){return Dse(i,o,r)})}var $se=Lse;function Bse(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Use=Bse,Wse=Use,b4=Math.max;function zse(e,t,r){return t=b4(t===void 0?e.length-1:t,0),function(){for(var a=arguments,s=-1,i=b4(a.length-t,0),o=Array(i);++s<i;)o[s]=a[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=a[s];return l[t]=r(o),Wse(e,this,l)}}var Hse=zse;function Vse(e){return function(){return e}}var Gse=Vse,qse=Ad,Kse=function(){try{var e=qse(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),zI=Kse,Xse=Gse,w4=zI,Yse=$f,Jse=w4?function(e,t){return w4(e,"toString",{configurable:!0,enumerable:!1,value:Xse(t),writable:!0})}:Yse,Zse=Jse,Qse=800,eie=16,tie=Date.now;function rie(e){var t=0,r=0;return function(){var a=tie(),s=eie-(a-r);if(r=a,s>0){if(++t>=Qse)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var nie=rie,aie=Zse,sie=nie,iie=sie(aie),oie=iie,lie=$f,cie=Hse,die=oie;function uie(e,t){return die(cie(e,t,lie),e+"")}var fie=uie,hie=H2,mie=sp,pie=oS,gie=dc;function xie(e,t,r){if(!gie(r))return!1;var a=typeof t;return(a=="number"?mie(r)&&pie(t,r.length):a=="string"&&t in r)?hie(r[t],e):!1}var tb=xie,yie=BI,vie=$se,bie=fie,j4=tb,wie=bie(function(e,t){if(e==null)return[];var r=t.length;return r>1&&j4(e,t[0],t[1])?t=[]:r>2&&j4(t[0],t[1],t[2])&&(t=[t[0]]),vie(e,yie(t,1),[])}),jie=wie;const uS=yr(jie);function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function Kj(){return Kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kj.apply(this,arguments)}function Nie(e,t){return Aie(e)||Cie(e,t)||kie(e,t)||Sie()}function Sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(e,t){if(e){if(typeof e=="string")return N4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N4(e,t)}}function N4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Cie(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Aie(e){if(Array.isArray(e))return e}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(a){_ie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _ie(e,t,r){return t=Eie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eie(e){var t=Tie(e,"string");return Vm(t)=="symbol"?t:t+""}function Tie(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oie(e){return Array.isArray(e)&&qn(e[0])&&qn(e[1])?e.join(" ~ "):e}var Pie=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,p=t.labelClassName,x=t.label,y=t.labelFormatter,v=t.accessibilityLayer,w=v===void 0?!1:v,j=function(){if(u&&u.length){var P={padding:0,margin:0},W=(h?uS(u,h):u).map(function(q,D){if(q.type==="none")return null;var M=uw({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),H=q.formatter||f||Oie,ee=q.value,X=q.name,de=ee,le=X;if(H&&de!=null&&le!=null){var G=H(ee,X,q,D,u);if(Array.isArray(G)){var K=Nie(G,2);de=K[0],le=K[1]}else de=G}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:M},qn(le)?ne.createElement("span",{className:"recharts-tooltip-item-name"},le):null,qn(le)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},de),ne.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:P},W)}return null},A=uw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=uw({margin:0},d),S=!Mt(x),k=S?x:"",E=Rt("recharts-default-tooltip",m),T=Rt("recharts-tooltip-label",p);S&&y&&u!==void 0&&u!==null&&(k=y(x,u));var F=w?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",Kj({className:E,style:A},F),ne.createElement("p",{className:T,style:C},ne.isValidElement(k)?k:"".concat(k)),j())};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function Hg(e,t,r){return t=Iie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iie(e){var t=Fie(e,"string");return Gm(t)=="symbol"?t:t+""}function Fie(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wh="recharts-tooltip-wrapper",Die={visibility:"hidden"};function Rie(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return Rt(Wh,Hg(Hg(Hg(Hg({},"".concat(Wh,"-right"),Qe(r)&&t&&Qe(t.x)&&r>=t.x),"".concat(Wh,"-left"),Qe(r)&&t&&Qe(t.x)&&r<t.x),"".concat(Wh,"-bottom"),Qe(a)&&t&&Qe(t.y)&&a>=t.y),"".concat(Wh,"-top"),Qe(a)&&t&&Qe(t.y)&&a<t.y))}function k4(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Qe(i[a]))return i[a];var u=r[a]-l-s,f=r[a]+s;if(t[a])return o[a]?u:f;if(o[a]){var h=u,m=c[a];return h<m?Math.max(f,c[a]):Math.max(u,c[a])}var p=f+l,x=c[a]+d;return p>x?Math.max(u,c[a]):Math.max(f,c[a])}function Mie(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Lie(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=k4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=k4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Mie({translateX:u,translateY:f,useTranslate3d:l})):d=Die,{cssProperties:d,cssClasses:Rie({translateX:u,translateY:f,coordinate:r})}}function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function C4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function A4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(r),!0).forEach(function(a){Yj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,VI(a.key),a)}}function Uie(e,t,r){return t&&Bie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wie(e,t,r){return t=ry(t),zie(e,HI()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function zie(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hie(e)}function Hie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(HI=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function Vie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xj(e,t)}function Xj(e,t){return Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Xj(e,t)}function Yj(e,t,r){return t=VI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VI(e){var t=Gie(e,"string");return Gu(t)=="symbol"?t:t+""}function Gie(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Gu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _4=1,qie=function(e){function t(){var r;$ie(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Wie(this,t,[].concat(s)),Yj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Yj(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return Vie(t,e),Uie(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>_4||Math.abs(a.height-this.state.lastBoundingBox.height)>_4)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,p=s.position,x=s.reverseDirection,y=s.useTranslate3d,v=s.viewBox,w=s.wrapperStyle,j=Lie({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:p,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),A=j.cssClasses,C=j.cssProperties,S=A4(A4({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return ne.createElement("div",{tabIndex:-1,className:A,style:S,ref:function(E){a.wrapperNode=E}},d)}}])}(N.PureComponent),Kie=function(){return!(typeof window!="undefined"&&window.document&&window.document.createElement&&window.setTimeout)},wi={isSsr:Kie(),get:function(t){return wi[t]},set:function(t,r){if(typeof t=="string")wi[t]=r;else{var a=Object.keys(t);a&&a.length&&a.forEach(function(s){wi[s]=t[s]})}}};function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function E4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function T4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(r),!0).forEach(function(a){fS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qI(a.key),a)}}function Jie(e,t,r){return t&&Yie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zie(e,t,r){return t=ny(t),Qie(e,GI()?Reflect.construct(t,r||[],ny(e).constructor):t.apply(e,r))}function Qie(e,t){if(t&&(qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eoe(e)}function eoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(GI=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ny(e)}function toe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jj(e,t)}function Jj(e,t){return Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},Jj(e,t)}function fS(e,t,r){return t=qI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qI(e){var t=roe(e,"string");return qu(t)=="symbol"?t:t+""}function roe(e,t){if(qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(qu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function noe(e){return e.dataKey}function aoe(e,t){return ne.isValidElement(e)?ne.cloneElement(e,t):typeof e=="function"?ne.createElement(e,t):ne.createElement(Pie,t)}var Br=function(e){function t(){return Xie(this,t),Zie(this,t,arguments)}return toe(t,e),Jie(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,p=s.payload,x=s.payloadUniqBy,y=s.position,v=s.reverseDirection,w=s.useTranslate3d,j=s.viewBox,A=s.wrapperStyle,C=p!=null?p:[];f&&C.length&&(C=RI(p.filter(function(k){return k.value!=null&&(k.hide!==!0||a.props.includeHidden)}),x,noe));var S=C.length>0;return ne.createElement(qie,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:S,offset:m,position:y,reverseDirection:v,useTranslate3d:w,viewBox:j,wrapperStyle:A},aoe(d,T4(T4({},this.props),{},{payload:C})))}}])}(N.PureComponent);fS(Br,"displayName","Tooltip");fS(Br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var soe=Ao,ioe=function(){return soe.Date.now()},ooe=ioe,loe=/\s/;function coe(e){for(var t=e.length;t--&&loe.test(e.charAt(t)););return t}var doe=coe,uoe=doe,foe=/^\s+/;function hoe(e){return e&&e.slice(0,uoe(e)+1).replace(foe,"")}var moe=hoe,poe=moe,O4=dc,goe=Of,P4=NaN,xoe=/^[-+]0x[0-9a-f]+$/i,yoe=/^0b[01]+$/i,voe=/^0o[0-7]+$/i,boe=parseInt;function woe(e){if(typeof e=="number")return e;if(goe(e))return P4;if(O4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=O4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=poe(e);var r=yoe.test(e);return r||voe.test(e)?boe(e.slice(2),r?2:8):xoe.test(e)?P4:+e}var KI=woe,joe=dc,fw=ooe,I4=KI,Noe="Expected a function",Soe=Math.max,koe=Math.min;function Coe(e,t,r){var a,s,i,o,l,c,d=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Noe);t=I4(t)||0,joe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?Soe(I4(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var k=a,E=s;return a=s=void 0,d=S,o=e.apply(E,k),o}function p(S){return d=S,l=setTimeout(v,t),u?m(S):o}function x(S){var k=S-c,E=S-d,T=t-k;return f?koe(T,i-E):T}function y(S){var k=S-c,E=S-d;return c===void 0||k>=t||k<0||f&&E>=i}function v(){var S=fw();if(y(S))return w(S);l=setTimeout(v,x(S))}function w(S){return l=void 0,h&&a?m(S):(a=s=void 0,o)}function j(){l!==void 0&&clearTimeout(l),d=0,a=c=s=l=void 0}function A(){return l===void 0?o:w(fw())}function C(){var S=fw(),k=y(S);if(a=arguments,s=this,c=S,k){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(v,t),m(c)}return l===void 0&&(l=setTimeout(v,t)),o}return C.cancel=j,C.flush=A,C}var Aoe=Coe,_oe=Aoe,Eoe=dc,Toe="Expected a function";function Ooe(e,t,r){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(Toe);return Eoe(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),_oe(e,t,{leading:a,maxWait:t,trailing:s})}var Poe=Ooe;const XI=yr(Poe);function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(a){Ioe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ioe(e,t,r){return t=Foe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Foe(e){var t=Doe(e,"string");return qm(t)=="symbol"?t:t+""}function Doe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(qm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Roe(e,t){return Boe(e)||$oe(e,t)||Loe(e,t)||Moe()}function Moe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(e,t){if(e){if(typeof e=="string")return D4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D4(e,t)}}function D4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $oe(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Boe(e){if(Array.isArray(e))return e}var fa=N.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,h=e.maxHeight,m=e.children,p=e.debounce,x=p===void 0?0:p,y=e.id,v=e.className,w=e.onResize,j=e.style,A=j===void 0?{}:j,C=N.useRef(null),S=N.useRef();S.current=w,N.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var k=N.useState({containerWidth:s.width,containerHeight:s.height}),E=Roe(k,2),T=E[0],F=E[1],O=N.useCallback(function(W,q){F(function(D){var M=Math.round(W),H=Math.round(q);return D.containerWidth===M&&D.containerHeight===H?D:{containerWidth:M,containerHeight:H}})},[]);N.useEffect(function(){var W=function(X){var de,le=X[0].contentRect,G=le.width,K=le.height;O(G,K),(de=S.current)===null||de===void 0||de.call(S,G,K)};x>0&&(W=XI(W,x,{trailing:!0,leading:!1}));var q=new ResizeObserver(W),D=C.current.getBoundingClientRect(),M=D.width,H=D.height;return O(M,H),q.observe(C.current),function(){q.disconnect()}},[O,x]);var P=N.useMemo(function(){var W=T.containerWidth,q=T.containerHeight;if(W<0||q<0)return null;Yi(Vc(o)||Vc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Yi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Vc(o)?W:o,M=Vc(c)?q:c;r&&r>0&&(D?M=D/r:M&&(D=M*r),h&&M>h&&(M=h)),Yi(D>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,M,o,c,u,f,r);var H=!Array.isArray(m)&&Qo(m.type).endsWith("Chart");return ne.Children.map(m,function(ee){return ne.isValidElement(ee)?N.cloneElement(ee,Vg({width:D,height:M},H?{style:Vg({height:"100%",width:"100%",maxHeight:M,maxWidth:D},ee.props.style)}:{})):ee})},[r,m,c,h,f,u,T,o]);return ne.createElement("div",{id:y?"".concat(y):void 0,className:Rt("recharts-responsive-container",v),style:Vg(Vg({},A),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:h}),ref:C},P)}),_d=function(t){return null};_d.displayName="Cell";function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function R4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(r),!0).forEach(function(a){Uoe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R4(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uoe(e,t,r){return t=Woe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Woe(e){var t=zoe(e,"string");return Km(t)=="symbol"?t:t+""}function zoe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Km(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fu={widthCache:{},cacheCount:0},Hoe=2e3,Voe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},M4="recharts_measurement_span";function Goe(e){var t=Zj({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var vm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wi.isSsr)return{width:0,height:0};var a=Goe(r),s=JSON.stringify({text:t,copyStyle:a});if(fu.widthCache[s])return fu.widthCache[s];try{var i=document.getElementById(M4);i||(i=document.createElement("span"),i.setAttribute("id",M4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Zj(Zj({},Voe),a);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return fu.widthCache[s]=c,++fu.cacheCount>Hoe&&(fu.cacheCount=0,fu.widthCache={}),c}catch(d){return{width:0,height:0}}},qoe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function ay(e,t){return Joe(e)||Yoe(e,t)||Xoe(e,t)||Koe()}function Koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xoe(e,t){if(e){if(typeof e=="string")return L4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L4(e,t)}}function L4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Yoe(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Joe(e){if(Array.isArray(e))return e}function Zoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $4(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ele(a.key),a)}}function Qoe(e,t,r){return t&&$4(e.prototype,t),r&&$4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ele(e){var t=tle(e,"string");return Xm(t)=="symbol"?t:t+""}function tle(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ale=Object.keys(YI),Su="NaN";function sle(e,t){return e*YI[t]}var Gg=function(){function e(t,r){Zoe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rle.test(r)&&(this.num=NaN,this.unit=""),ale.includes(r)&&(this.num=sle(t,r),this.unit="px")}return Qoe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=nle.exec(r))!==null&&a!==void 0?a:[],i=ay(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l!=null?l:"")}}])}();function JI(e){if(e.includes(Su))return Su;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=B4.exec(t))!==null&&r!==void 0?r:[],s=ay(a,4),i=s[1],o=s[2],l=s[3],c=Gg.parse(i!=null?i:""),d=Gg.parse(l!=null?l:""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Su;t=t.replace(B4,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=U4.exec(t))!==null&&f!==void 0?f:[],m=ay(h,4),p=m[1],x=m[2],y=m[3],v=Gg.parse(p!=null?p:""),w=Gg.parse(y!=null?y:""),j=x==="+"?v.add(w):v.subtract(w);if(j.isNaN())return Su;t=t.replace(U4,j.toString())}return t}var W4=/\(([^()]*)\)/;function ile(e){for(var t=e;t.includes("(");){var r=W4.exec(t),a=ay(r,2),s=a[1];t=t.replace(W4,JI(s))}return t}function ole(e){var t=e.replace(/\s+/g,"");return t=ile(t),t=JI(t),t}function lle(e){try{return ole(e)}catch(t){return Su}}function hw(e){var t=lle(e.slice(5,-1));return t===Su?"":t}var cle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dle=["dx","dy","angle","className","breakAll"];function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qj.apply(this,arguments)}function z4(e,t){if(e==null)return{};var r=ule(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ule(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function H4(e,t){return ple(e)||mle(e,t)||hle(e,t)||fle()}function fle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hle(e,t){if(e){if(typeof e=="string")return V4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V4(e,t)}}function V4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function mle(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ple(e){if(Array.isArray(e))return e}var ZI=/[ \f\n\r\t\v\u2028\u2029]+/,QI=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];Mt(r)||(a?i=r.toString().split(""):i=r.toString().split(ZI));var o=i.map(function(c){return{word:c,width:vm(c,s).width}}),l=a?0:vm(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch(c){return null}},gle=function(t,r,a,s,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Qe(o),f=l,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(M,H){var ee=H.word,X=H.width,de=M[M.length-1];if(de&&(s==null||i||de.width+X+a<Number(s)))de.words.push(ee),de.width+=X+a;else{var le={words:[ee],width:X};M.push(le)}return M},[])},m=h(r),p=function(D){return D.reduce(function(M,H){return M.width>H.width?M:H})};if(!u)return m;for(var x="…",y=function(D){var M=f.slice(0,D),H=QI({breakAll:d,style:c,children:M+x}).wordsWithComputedWidth,ee=h(H),X=ee.length>o||p(ee).width>Number(s);return[X,ee]},v=0,w=f.length-1,j=0,A;v<=w&&j<=f.length-1;){var C=Math.floor((v+w)/2),S=C-1,k=y(S),E=H4(k,2),T=E[0],F=E[1],O=y(C),P=H4(O,1),W=P[0];if(!T&&!W&&(v=C+1),T&&W&&(w=C-1),!T&&W){A=F;break}j++}return A||m},G4=function(t){var r=Mt(t)?[]:t.toString().split(ZI);return[{words:r}]},xle=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||a)&&!wi.isSsr){var c,d,u=QI({breakAll:o,children:s,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;c=f,d=h}else return G4(s);return gle({breakAll:o,children:s,maxLines:l,style:i},c,d,r,a)}return G4(s)},q4="#808080",ud=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,m=h===void 0?"start":h,p=t.verticalAnchor,x=p===void 0?"end":p,y=t.fill,v=y===void 0?q4:y,w=z4(t,cle),j=N.useMemo(function(){return xle({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),A=w.dx,C=w.dy,S=w.angle,k=w.className,E=w.breakAll,T=z4(w,dle);if(!qn(a)||!qn(i))return null;var F=a+(Qe(A)?A:0),O=i+(Qe(C)?C:0),P;switch(x){case"start":P=hw("calc(".concat(d,")"));break;case"middle":P=hw("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:P=hw("calc(".concat(j.length-1," * -").concat(l,")"));break}var W=[];if(f){var q=j[0].width,D=w.width;W.push("scale(".concat((Qe(D)?D/q:1)/q,")"))}return S&&W.push("rotate(".concat(S,", ").concat(F,", ").concat(O,")")),W.length&&(T.transform=W.join(" ")),ne.createElement("text",Qj({},jt(T,!0),{x:F,y:O,className:Rt("recharts-text",k),textAnchor:m,fill:v.includes("url")?q4:v}),j.map(function(M,H){var ee=M.words.join(E?"":" ");return ne.createElement("tspan",{x:F,dy:H===0?P:l,key:"".concat(ee,"-").concat(H)},ee)}))};function Gl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yle(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hS(e){let t,r,a;e.length!==2?(t=Gl,r=(l,c)=>Gl(e(l),c),a=(l,c)=>e(l)-c):(t=e===Gl||e===yle?e:vle,r=e,a=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=s(l,c,d,u-1);return f>d&&a(l[f-1],c)>-a(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function vle(){return 0}function eF(e){return e===null?NaN:+e}function*ble(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wle=hS(Gl),ip=wle.right;hS(eF).center;class K4 extends Map{constructor(t,r=Sle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(X4(this,t))}has(t){return super.has(X4(this,t))}set(t,r){return super.set(jle(this,t),r)}delete(t){return super.delete(Nle(this,t))}}function X4({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function jle({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Nle({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Sle(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kle(e=Gl){if(e===Gl)return tF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function tF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Cle=Math.sqrt(50),Ale=Math.sqrt(10),_le=Math.sqrt(2);function sy(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=Cle?10:i>=Ale?5:i>=_le?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?sy(e,t,r*2):[l,c,d]}function eN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,o]=a?sy(t,e,r):sy(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(a)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function tN(e,t,r){return t=+t,e=+e,r=+r,sy(e,t,r)[2]}function rN(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?tN(t,e,r):tN(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function Y4(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function J4(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function rF(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?tF:kle(s);a>r;){if(a-r>600){const c=a-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*f/c+h)),p=Math.min(a,Math.floor(t+(c-d)*f/c+h));rF(e,t,m,p,s)}const i=e[t];let o=r,l=a;for(zh(e,r,t),s(e[a],i)>0&&zh(e,r,a);o<l;){for(zh(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?zh(e,r,l):(++l,zh(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function zh(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Ele(e,t,r){if(e=Float64Array.from(ble(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return J4(e);if(t>=1)return Y4(e);var a,s=(a-1)*t,i=Math.floor(s),o=Y4(rF(e,i).subarray(0,i+1)),l=J4(e.subarray(i+1));return o+(l-o)*(s-i)}}function Tle(e,t,r=eF){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Ole(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function Ti(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function gl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nN=Symbol("implicit");function mS(){var e=new K4,t=[],r=[],a=nN;function s(i){let o=e.get(i);if(o===void 0){if(a!==nN)return a;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new K4;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return mS(t,r).unknown(a)},Ti.apply(s,arguments),s}function Ym(){var e=mS().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,m=s<a,p=m?s:a,x=m?a:s;i=(x-p)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),p+=(x-p-i*(h-c))*u,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var y=Ole(h).map(function(v){return p+i*v});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([a,s]=h,a=+a,s=+s,f()):[a,s]},e.rangeRound=function(h){return[a,s]=h,a=+a,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Ym(t(),[a,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},Ti.apply(f(),arguments)}function nF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nF(t())},e}function bm(){return nF(Ym.apply(null,arguments).paddingInner(1))}function pS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function aF(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function op(){}var Jm=.7,iy=1/Jm,Fu="\\s*([+-]?\\d+)\\s*",Zm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ple=/^#([0-9a-f]{3,8})$/,Ile=new RegExp(`^rgb\\(${Fu},${Fu},${Fu}\\)$`),Fle=new RegExp(`^rgb\\(${bo},${bo},${bo}\\)$`),Dle=new RegExp(`^rgba\\(${Fu},${Fu},${Fu},${Zm}\\)$`),Rle=new RegExp(`^rgba\\(${bo},${bo},${bo},${Zm}\\)$`),Mle=new RegExp(`^hsl\\(${Zm},${bo},${bo}\\)$`),Lle=new RegExp(`^hsla\\(${Zm},${bo},${bo},${Zm}\\)$`),Z4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pS(op,Qm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Q4,formatHex:Q4,formatHex8:$le,formatHsl:Ble,formatRgb:eE,toString:eE});function Q4(){return this.rgb().formatHex()}function $le(){return this.rgb().formatHex8()}function Ble(){return sF(this).formatHsl()}function eE(){return this.rgb().formatRgb()}function Qm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ple.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?tE(t):r===3?new Ns(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ile.exec(e))?new Ns(t[1],t[2],t[3],1):(t=Fle.exec(e))?new Ns(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dle.exec(e))?qg(t[1],t[2],t[3],t[4]):(t=Rle.exec(e))?qg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Mle.exec(e))?aE(t[1],t[2]/100,t[3]/100,1):(t=Lle.exec(e))?aE(t[1],t[2]/100,t[3]/100,t[4]):Z4.hasOwnProperty(e)?tE(Z4[e]):e==="transparent"?new Ns(NaN,NaN,NaN,0):null}function tE(e){return new Ns(e>>16&255,e>>8&255,e&255,1)}function qg(e,t,r,a){return a<=0&&(e=t=r=NaN),new Ns(e,t,r,a)}function Ule(e){return e instanceof op||(e=Qm(e)),e?(e=e.rgb(),new Ns(e.r,e.g,e.b,e.opacity)):new Ns}function aN(e,t,r,a){return arguments.length===1?Ule(e):new Ns(e,t,r,a==null?1:a)}function Ns(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}pS(Ns,aN,aF(op,{brighter(e){return e=e==null?iy:Math.pow(iy,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jm:Math.pow(Jm,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ns(Zc(this.r),Zc(this.g),Zc(this.b),oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rE,formatHex:rE,formatHex8:Wle,formatRgb:nE,toString:nE}));function rE(){return`#${Gc(this.r)}${Gc(this.g)}${Gc(this.b)}`}function Wle(){return`#${Gc(this.r)}${Gc(this.g)}${Gc(this.b)}${Gc((isNaN(this.opacity)?1:this.opacity)*255)}`}function nE(){const e=oy(this.opacity);return`${e===1?"rgb(":"rgba("}${Zc(this.r)}, ${Zc(this.g)}, ${Zc(this.b)}${e===1?")":`, ${e})`}`}function oy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gc(e){return e=Zc(e),(e<16?"0":"")+e.toString(16)}function aE(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Gi(e,t,r,a)}function sF(e){if(e instanceof Gi)return new Gi(e.h,e.s,e.l,e.opacity);if(e instanceof op||(e=Qm(e)),!e)return new Gi;if(e instanceof Gi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-a)/l+(r<a)*6:r===i?o=(a-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Gi(o,l,c,e.opacity)}function zle(e,t,r,a){return arguments.length===1?sF(e):new Gi(e,t,r,a==null?1:a)}function Gi(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}pS(Gi,zle,aF(op,{brighter(e){return e=e==null?iy:Math.pow(iy,e),new Gi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jm:Math.pow(Jm,e),new Gi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Ns(mw(e>=240?e-240:e+120,s,a),mw(e,s,a),mw(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Gi(sE(this.h),Kg(this.s),Kg(this.l),oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oy(this.opacity);return`${e===1?"hsl(":"hsla("}${sE(this.h)}, ${Kg(this.s)*100}%, ${Kg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sE(e){return e=(e||0)%360,e<0?e+360:e}function Kg(e){return Math.max(0,Math.min(1,e||0))}function mw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const gS=e=>()=>e;function Hle(e,t){return function(r){return e+r*t}}function Vle(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function Gle(e){return(e=+e)==1?iF:function(t,r){return r-t?Vle(t,r,e):gS(isNaN(t)?r:t)}}function iF(e,t){var r=t-e;return r?Hle(e,r):gS(isNaN(e)?t:e)}const iE=function e(t){var r=Gle(t);function a(s,i){var o=r((s=aN(s)).r,(i=aN(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=iF(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return a.gamma=e,a}(1);function qle(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function Kle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Xle(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)s[o]=Bf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=s[o](l);return i}}function Yle(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function ly(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Jle(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Bf(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var sN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pw=new RegExp(sN.source,"g");function Zle(e){return function(){return e}}function Qle(e){return function(t){return e(t)+""}}function ece(e,t){var r=sN.lastIndex=pw.lastIndex=0,a,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=sN.exec(e))&&(s=pw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:ly(a,s)})),r=pw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Qle(c[0].x):Zle(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function Bf(e,t){var r=typeof t,a;return t==null||r==="boolean"?gS(t):(r==="number"?ly:r==="string"?(a=Qm(t))?(t=a,iE):ece:t instanceof Qm?iE:t instanceof Date?Yle:Kle(t)?qle:Array.isArray(t)?Xle:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Jle:ly)(e,t)}function xS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tce(e,t){t===void 0&&(t=e,e=Bf);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function rce(e){return function(){return e}}function cy(e){return+e}var oE=[0,1];function is(e){return e}function iN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rce(isNaN(t)?NaN:.5)}function nce(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function ace(e,t,r){var a=e[0],s=e[1],i=t[0],o=t[1];return s<a?(a=iN(s,a),i=r(o,i)):(a=iN(a,s),i=r(i,o)),function(l){return i(a(l))}}function sce(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)s[o]=iN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=ip(e,l,1,a)-1;return i[c](s[c](l))}}function lp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rb(){var e=oE,t=oE,r=Bf,a,s,i,o=is,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==is&&(o=nce(e[0],e[h-1])),l=h>2?sce:ace,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(a),t,r)))(a(o(h)))}return f.invert=function(h){return o(s((d||(d=l(t,e.map(a),ly)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,cy),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=xS,u()},f.clamp=function(h){return arguments.length?(o=h?!0:is,u()):o!==is},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return a=h,s=m,u()}}function yS(){return rb()(is,is)}function ice(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Ku(e){return e=dy(Math.abs(e)),e?e[1]:NaN}function oce(e,t){return function(r,a){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function lce(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e0(e){if(!(t=cce.exec(e)))throw new Error("invalid format: "+e);var t;return new vS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}e0.prototype=vS.prototype;function vS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dce(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var oF;function uce(e,t){var r=dy(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(oF=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+dy(e,Math.max(0,t+i-1))[0]}function lE(e,t){var r=dy(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const cE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ice,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>lE(e*100,t),r:lE,s:uce,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dE(e){return e}var uE=Array.prototype.map,fE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fce(e){var t=e.grouping===void 0||e.thousands===void 0?dE:oce(uE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?dE:lce(uE.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=e0(f);var h=f.fill,m=f.align,p=f.sign,x=f.symbol,y=f.zero,v=f.width,w=f.comma,j=f.precision,A=f.trim,C=f.type;C==="n"?(w=!0,C="g"):cE[C]||(j===void 0&&(j=12),A=!0,C="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",k=x==="$"?a:/[%p]/.test(C)?o:"",E=cE[C],T=/[defgprs%]/.test(C);j=j===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function F(O){var P=S,W=k,q,D,M;if(C==="c")W=E(O)+W,O="";else{O=+O;var H=O<0||1/O<0;if(O=isNaN(O)?c:E(Math.abs(O),j),A&&(O=dce(O)),H&&+O==0&&p!=="+"&&(H=!1),P=(H?p==="("?p:l:p==="-"||p==="("?"":p)+P,W=(C==="s"?fE[8+oF/3]:"")+W+(H&&p==="("?")":""),T){for(q=-1,D=O.length;++q<D;)if(M=O.charCodeAt(q),48>M||M>57){W=(M===46?s+O.slice(q+1):O.slice(q))+W,O=O.slice(0,q);break}}}w&&!y&&(O=t(O,1/0));var ee=P.length+O.length+W.length,X=ee<v?new Array(v-ee+1).join(h):"";switch(w&&y&&(O=t(X+O,X.length?v-W.length:1/0),X=""),m){case"<":O=P+O+W+X;break;case"=":O=P+X+O+W;break;case"^":O=X.slice(0,ee=X.length>>1)+P+O+W+X.slice(ee);break;default:O=X+P+O+W;break}return i(O)}return F.toString=function(){return f+""},F}function u(f,h){var m=d((f=e0(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ku(h)/3)))*3,x=Math.pow(10,-p),y=fE[8+p/3];return function(v){return m(x*v)+y}}return{format:d,formatPrefix:u}}var Xg,bS,lF;hce({thousands:",",grouping:[3],currency:["$",""]});function hce(e){return Xg=fce(e),bS=Xg.format,lF=Xg.formatPrefix,Xg}function mce(e){return Math.max(0,-Ku(Math.abs(e)))}function pce(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ku(t)/3)))*3-Ku(Math.abs(e)))}function gce(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ku(t)-Ku(e))+1}function cF(e,t,r,a){var s=rN(e,t,r),i;switch(a=e0(a==null?",f":a),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=pce(s,o))&&(a.precision=i),lF(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=gce(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=mce(s))&&(a.precision=i-(a.type==="%")*2);break}}return bS(a)}function uc(e){var t=e.domain;return e.ticks=function(r){var a=t();return eN(a[0],a[a.length-1],r==null?10:r)},e.tickFormat=function(r,a){var s=t();return cF(s[0],s[s.length-1],r==null?10:r,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,o=a[s],l=a[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=tN(o,l,r),d===c)return a[s]=o,a[i]=l,t(a);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function uy(){var e=yS();return e.copy=function(){return lp(e,uy())},Ti.apply(e,arguments),uc(e)}function dF(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,cy),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return dF(e).unknown(t)},e=arguments.length?Array.from(e,cy):[0,1],uc(r)}function uF(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],o;return i<s&&(o=r,r=a,a=o,o=s,s=i,i=o),e[r]=t.floor(s),e[a]=t.ceil(i),e}function hE(e){return Math.log(e)}function mE(e){return Math.exp(e)}function xce(e){return-Math.log(-e)}function yce(e){return-Math.exp(-e)}function vce(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bce(e){return e===10?vce:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wce(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pE(e){return(t,r)=>-e(-t,r)}function wS(e){const t=e(hE,mE),r=t.domain;let a=10,s,i;function o(){return s=wce(a),i=bce(a),r()[0]<0?(s=pE(s),i=pE(i),e(xce,yce)):e(hE,mE),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=s(d),m=s(u),p,x;const y=l==null?10:+l;let v=[];if(!(a%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),d>0){for(;h<=m;++h)for(p=1;p<a;++p)if(x=h<0?p/i(-h):p*i(h),!(x<d)){if(x>u)break;v.push(x)}}else for(;h<=m;++h)for(p=a-1;p>=1;--p)if(x=h>0?p/i(-h):p*i(h),!(x<d)){if(x>u)break;v.push(x)}v.length*2<y&&(v=eN(d,u,y))}else v=eN(h,m,Math.min(m-h,y)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=e0(c)).precision==null&&(c.trim=!0),c=bS(c)),l===1/0)return c;const d=Math.max(1,a*l/t.ticks().length);return u=>{let f=u/i(Math.round(s(u)));return f*a<a-.5&&(f*=a),f<=d?c(u):""}},t.nice=()=>r(uF(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function fF(){const e=wS(rb()).domain([1,10]);return e.copy=()=>lp(e,fF()).base(e.base()),Ti.apply(e,arguments),e}function gE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jS(e){var t=1,r=e(gE(t),xE(t));return r.constant=function(a){return arguments.length?e(gE(t=+a),xE(t)):t},uc(r)}function hF(){var e=jS(rb());return e.copy=function(){return lp(e,hF()).constant(e.constant())},Ti.apply(e,arguments)}function yE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jce(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nce(e){return e<0?-e*e:e*e}function NS(e){var t=e(is,is),r=1;function a(){return r===1?e(is,is):r===.5?e(jce,Nce):e(yE(r),yE(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},uc(t)}function SS(){var e=NS(rb());return e.copy=function(){return lp(e,SS()).exponent(e.exponent())},Ti.apply(e,arguments),e}function Sce(){return SS.apply(null,arguments).exponent(.5)}function vE(e){return Math.sign(e)*e*e}function kce(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mF(){var e=yS(),t=[0,1],r=!1,a;function s(i){var o=kce(e(i));return isNaN(o)?a:r?Math.round(o):o}return s.invert=function(i){return e.invert(vE(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,cy)).map(vE)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return mF(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Ti.apply(s,arguments),uc(s)}function pF(){var e=[],t=[],r=[],a;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Tle(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[ip(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Gl),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return pF().domain(e).range(t).unknown(a)},Ti.apply(i,arguments)}function gF(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[ip(a,c,0,r)]:i}function l(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=r?[a[r-1],t]:[a[d-1],a[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return gF().domain([e,t]).range(s).unknown(i)},Ti.apply(uc(o),arguments)}function xF(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[ip(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return xF().domain(e).range(t).unknown(r)},Ti.apply(s,arguments)}const gw=new Date,xw=new Date;function Xn(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>Xn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(gw.setTime(+i),xw.setTime(+o),e(gw),e(xw),Math.floor(r(gw,xw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const fy=Xn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fy);fy.range;const qo=1e3,vi=qo*60,Ko=vi*60,ll=Ko*24,kS=ll*7,bE=ll*30,yw=ll*365,qc=Xn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qo)},(e,t)=>(t-e)/qo,e=>e.getUTCSeconds());qc.range;const CS=Xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qo)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getMinutes());CS.range;const AS=Xn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCMinutes());AS.range;const _S=Xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qo-e.getMinutes()*vi)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getHours());_S.range;const ES=Xn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ko)},(e,t)=>(t-e)/Ko,e=>e.getUTCHours());ES.range;const cp=Xn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vi)/ll,e=>e.getDate()-1);cp.range;const nb=Xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ll,e=>e.getUTCDate()-1);nb.range;const yF=Xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ll,e=>Math.floor(e/ll));yF.range;function Ed(e){return Xn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*vi)/kS)}const ab=Ed(0),hy=Ed(1),Cce=Ed(2),Ace=Ed(3),Xu=Ed(4),_ce=Ed(5),Ece=Ed(6);ab.range;hy.range;Cce.range;Ace.range;Xu.range;_ce.range;Ece.range;function Td(e){return Xn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kS)}const sb=Td(0),my=Td(1),Tce=Td(2),Oce=Td(3),Yu=Td(4),Pce=Td(5),Ice=Td(6);sb.range;my.range;Tce.range;Oce.range;Yu.range;Pce.range;Ice.range;const TS=Xn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());TS.range;const OS=Xn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());OS.range;const cl=Xn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());cl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});cl.range;const dl=Xn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});dl.range;function vF(e,t,r,a,s,i){const o=[[qc,1,qo],[qc,5,5*qo],[qc,15,15*qo],[qc,30,30*qo],[i,1,vi],[i,5,5*vi],[i,15,15*vi],[i,30,30*vi],[s,1,Ko],[s,3,3*Ko],[s,6,6*Ko],[s,12,12*Ko],[a,1,ll],[a,2,2*ll],[r,1,kS],[t,1,bE],[t,3,3*bE],[e,1,yw]];function l(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const m=f&&typeof f.range=="function"?f:c(d,u,f),p=m?m.range(d,+u+1):[];return h?p.reverse():p}function c(d,u,f){const h=Math.abs(u-d)/f,m=hS(([,,y])=>y).right(o,h);if(m===o.length)return e.every(rN(d/yw,u/yw,f));if(m===0)return fy.every(Math.max(rN(d,u,f),1));const[p,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(x)}return[l,c]}const[Fce,Dce]=vF(dl,OS,sb,yF,ES,AS),[Rce,Mce]=vF(cl,TS,ab,cp,_S,CS);function vw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Lce(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Vh(s),u=Gh(s),f=Vh(i),h=Gh(i),m=Vh(o),p=Gh(o),x=Vh(l),y=Gh(l),v=Vh(c),w=Gh(c),j={a:H,A:ee,b:X,B:de,c:null,d:CE,e:CE,f:ode,g:xde,G:vde,H:ade,I:sde,j:ide,L:bF,m:lde,M:cde,p:le,q:G,Q:EE,s:TE,S:dde,u:ude,U:fde,V:hde,w:mde,W:pde,x:null,X:null,y:gde,Y:yde,Z:bde,"%":_E},A={a:K,A:Z,b:I,B:V,c:null,d:AE,e:AE,f:Sde,g:Fde,G:Rde,H:wde,I:jde,j:Nde,L:jF,m:kde,M:Cde,p:te,q:R,Q:EE,s:TE,S:Ade,u:_de,U:Ede,V:Tde,w:Ode,W:Pde,x:null,X:null,y:Ide,Y:Dde,Z:Mde,"%":_E},C={a:F,A:O,b:P,B:W,c:q,d:SE,e:SE,f:ede,g:NE,G:jE,H:kE,I:kE,j:Yce,L:Qce,m:Xce,M:Jce,p:T,q:Kce,Q:rde,s:nde,S:Zce,u:zce,U:Hce,V:Vce,w:Wce,W:Gce,x:D,X:M,y:NE,Y:jE,Z:qce,"%":tde};j.x=S(r,j),j.X=S(a,j),j.c=S(t,j),A.x=S(r,A),A.X=S(a,A),A.c=S(t,A);function S(U,Q){return function(J){var L=[],he=-1,ge=0,Ae=U.length,Ee,xe,Te;for(J instanceof Date||(J=new Date(+J));++he<Ae;)U.charCodeAt(he)===37&&(L.push(U.slice(ge,he)),(xe=wE[Ee=U.charAt(++he)])!=null?Ee=U.charAt(++he):xe=Ee==="e"?" ":"0",(Te=Q[Ee])&&(Ee=Te(J,xe)),L.push(Ee),ge=he+1);return L.push(U.slice(ge,he)),L.join("")}}function k(U,Q){return function(J){var L=Hh(1900,void 0,1),he=E(L,U,J+="",0),ge,Ae;if(he!=J.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(Q&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(ge=bw(Hh(L.y,0,1)),Ae=ge.getUTCDay(),ge=Ae>4||Ae===0?my.ceil(ge):my(ge),ge=nb.offset(ge,(L.V-1)*7),L.y=ge.getUTCFullYear(),L.m=ge.getUTCMonth(),L.d=ge.getUTCDate()+(L.w+6)%7):(ge=vw(Hh(L.y,0,1)),Ae=ge.getDay(),ge=Ae>4||Ae===0?hy.ceil(ge):hy(ge),ge=cp.offset(ge,(L.V-1)*7),L.y=ge.getFullYear(),L.m=ge.getMonth(),L.d=ge.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ae="Z"in L?bw(Hh(L.y,0,1)).getUTCDay():vw(Hh(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ae+5)%7:L.w+L.U*7-(Ae+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,bw(L)):vw(L)}}function E(U,Q,J,L){for(var he=0,ge=Q.length,Ae=J.length,Ee,xe;he<ge;){if(L>=Ae)return-1;if(Ee=Q.charCodeAt(he++),Ee===37){if(Ee=Q.charAt(he++),xe=C[Ee in wE?Q.charAt(he++):Ee],!xe||(L=xe(U,J,L))<0)return-1}else if(Ee!=J.charCodeAt(L++))return-1}return L}function T(U,Q,J){var L=d.exec(Q.slice(J));return L?(U.p=u.get(L[0].toLowerCase()),J+L[0].length):-1}function F(U,Q,J){var L=m.exec(Q.slice(J));return L?(U.w=p.get(L[0].toLowerCase()),J+L[0].length):-1}function O(U,Q,J){var L=f.exec(Q.slice(J));return L?(U.w=h.get(L[0].toLowerCase()),J+L[0].length):-1}function P(U,Q,J){var L=v.exec(Q.slice(J));return L?(U.m=w.get(L[0].toLowerCase()),J+L[0].length):-1}function W(U,Q,J){var L=x.exec(Q.slice(J));return L?(U.m=y.get(L[0].toLowerCase()),J+L[0].length):-1}function q(U,Q,J){return E(U,t,Q,J)}function D(U,Q,J){return E(U,r,Q,J)}function M(U,Q,J){return E(U,a,Q,J)}function H(U){return o[U.getDay()]}function ee(U){return i[U.getDay()]}function X(U){return c[U.getMonth()]}function de(U){return l[U.getMonth()]}function le(U){return s[+(U.getHours()>=12)]}function G(U){return 1+~~(U.getMonth()/3)}function K(U){return o[U.getUTCDay()]}function Z(U){return i[U.getUTCDay()]}function I(U){return c[U.getUTCMonth()]}function V(U){return l[U.getUTCMonth()]}function te(U){return s[+(U.getUTCHours()>=12)]}function R(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var Q=S(U+="",j);return Q.toString=function(){return U},Q},parse:function(U){var Q=k(U+="",!1);return Q.toString=function(){return U},Q},utcFormat:function(U){var Q=S(U+="",A);return Q.toString=function(){return U},Q},utcParse:function(U){var Q=k(U+="",!0);return Q.toString=function(){return U},Q}}}var wE={"-":"",_:" ",0:"0"},xa=/^\s*\d+/,$ce=/^%/,Bce=/[\\^$*+?|[\]().{}]/g;function gr(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function Uce(e){return e.replace(Bce,"\\$&")}function Vh(e){return new RegExp("^(?:"+e.map(Uce).join("|")+")","i")}function Gh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wce(e,t,r){var a=xa.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function zce(e,t,r){var a=xa.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function Hce(e,t,r){var a=xa.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Vce(e,t,r){var a=xa.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function Gce(e,t,r){var a=xa.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function jE(e,t,r){var a=xa.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function NE(e,t,r){var a=xa.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function qce(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function Kce(e,t,r){var a=xa.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function Xce(e,t,r){var a=xa.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function SE(e,t,r){var a=xa.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function Yce(e,t,r){var a=xa.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function kE(e,t,r){var a=xa.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function Jce(e,t,r){var a=xa.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function Zce(e,t,r){var a=xa.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function Qce(e,t,r){var a=xa.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function ede(e,t,r){var a=xa.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function tde(e,t,r){var a=$ce.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function rde(e,t,r){var a=xa.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function nde(e,t,r){var a=xa.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function CE(e,t){return gr(e.getDate(),t,2)}function ade(e,t){return gr(e.getHours(),t,2)}function sde(e,t){return gr(e.getHours()%12||12,t,2)}function ide(e,t){return gr(1+cp.count(cl(e),e),t,3)}function bF(e,t){return gr(e.getMilliseconds(),t,3)}function ode(e,t){return bF(e,t)+"000"}function lde(e,t){return gr(e.getMonth()+1,t,2)}function cde(e,t){return gr(e.getMinutes(),t,2)}function dde(e,t){return gr(e.getSeconds(),t,2)}function ude(e){var t=e.getDay();return t===0?7:t}function fde(e,t){return gr(ab.count(cl(e)-1,e),t,2)}function wF(e){var t=e.getDay();return t>=4||t===0?Xu(e):Xu.ceil(e)}function hde(e,t){return e=wF(e),gr(Xu.count(cl(e),e)+(cl(e).getDay()===4),t,2)}function mde(e){return e.getDay()}function pde(e,t){return gr(hy.count(cl(e)-1,e),t,2)}function gde(e,t){return gr(e.getFullYear()%100,t,2)}function xde(e,t){return e=wF(e),gr(e.getFullYear()%100,t,2)}function yde(e,t){return gr(e.getFullYear()%1e4,t,4)}function vde(e,t){var r=e.getDay();return e=r>=4||r===0?Xu(e):Xu.ceil(e),gr(e.getFullYear()%1e4,t,4)}function bde(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gr(t/60|0,"0",2)+gr(t%60,"0",2)}function AE(e,t){return gr(e.getUTCDate(),t,2)}function wde(e,t){return gr(e.getUTCHours(),t,2)}function jde(e,t){return gr(e.getUTCHours()%12||12,t,2)}function Nde(e,t){return gr(1+nb.count(dl(e),e),t,3)}function jF(e,t){return gr(e.getUTCMilliseconds(),t,3)}function Sde(e,t){return jF(e,t)+"000"}function kde(e,t){return gr(e.getUTCMonth()+1,t,2)}function Cde(e,t){return gr(e.getUTCMinutes(),t,2)}function Ade(e,t){return gr(e.getUTCSeconds(),t,2)}function _de(e){var t=e.getUTCDay();return t===0?7:t}function Ede(e,t){return gr(sb.count(dl(e)-1,e),t,2)}function NF(e){var t=e.getUTCDay();return t>=4||t===0?Yu(e):Yu.ceil(e)}function Tde(e,t){return e=NF(e),gr(Yu.count(dl(e),e)+(dl(e).getUTCDay()===4),t,2)}function Ode(e){return e.getUTCDay()}function Pde(e,t){return gr(my.count(dl(e)-1,e),t,2)}function Ide(e,t){return gr(e.getUTCFullYear()%100,t,2)}function Fde(e,t){return e=NF(e),gr(e.getUTCFullYear()%100,t,2)}function Dde(e,t){return gr(e.getUTCFullYear()%1e4,t,4)}function Rde(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Yu(e):Yu.ceil(e),gr(e.getUTCFullYear()%1e4,t,4)}function Mde(){return"+0000"}function _E(){return"%"}function EE(e){return+e}function TE(e){return Math.floor(+e/1e3)}var hu,SF,kF;Lde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lde(e){return hu=Lce(e),SF=hu.format,hu.parse,kF=hu.utcFormat,hu.utcParse,hu}function $de(e){return new Date(e)}function Bde(e){return e instanceof Date?+e:+new Date(+e)}function PS(e,t,r,a,s,i,o,l,c,d){var u=yS(),f=u.invert,h=u.domain,m=d(".%L"),p=d(":%S"),x=d("%I:%M"),y=d("%I %p"),v=d("%a %d"),w=d("%b %d"),j=d("%B"),A=d("%Y");function C(S){return(c(S)<S?m:l(S)<S?p:o(S)<S?x:i(S)<S?y:a(S)<S?s(S)<S?v:w:r(S)<S?j:A)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?h(Array.from(S,Bde)):h().map($de)},u.ticks=function(S){var k=h();return e(k[0],k[k.length-1],S==null?10:S)},u.tickFormat=function(S,k){return k==null?C:d(k)},u.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S==null?10:S)),S?h(uF(k,S)):u},u.copy=function(){return lp(u,PS(e,t,r,a,s,i,o,l,c,d))},u}function Ude(){return Ti.apply(PS(Rce,Mce,cl,TS,ab,cp,_S,CS,qc,SF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wde(){return Ti.apply(PS(Fce,Dce,dl,OS,sb,nb,ES,AS,qc,kF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ib(){var e=0,t=1,r,a,s,i,o=is,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(h){var m,p;return arguments.length?([m,p]=h,o=f(m,p),d):[o(0),o(1)]}}return d.range=u(Bf),d.rangeRound=u(xS),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),a=f(t),s=r===a?0:1/(a-r),d}}function fc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CF(){var e=uc(ib()(is));return e.copy=function(){return fc(e,CF())},gl.apply(e,arguments)}function AF(){var e=wS(ib()).domain([1,10]);return e.copy=function(){return fc(e,AF()).base(e.base())},gl.apply(e,arguments)}function _F(){var e=jS(ib());return e.copy=function(){return fc(e,_F()).constant(e.constant())},gl.apply(e,arguments)}function IS(){var e=NS(ib());return e.copy=function(){return fc(e,IS()).exponent(e.exponent())},gl.apply(e,arguments)}function zde(){return IS.apply(null,arguments).exponent(.5)}function EF(){var e=[],t=is;function r(a){if(a!=null&&!isNaN(a=+a))return t((ip(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Gl),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>Ele(e,i/a))},r.copy=function(){return EF(t).domain(e)},gl.apply(r,arguments)}function ob(){var e=0,t=.5,r=1,a=1,s,i,o,l,c,d=is,u,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-i)*(a*x<a*i?l:c),d(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(d=x,m):d};function p(x){return function(y){var v,w,j;return arguments.length?([v,w,j]=y,d=tce(x,[v,w,j]),m):[d(0),d(.5),d(1)]}}return m.range=p(Bf),m.rangeRound=p(xS),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return u=x,s=x(e),i=x(t),o=x(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,m}}function TF(){var e=uc(ob()(is));return e.copy=function(){return fc(e,TF())},gl.apply(e,arguments)}function OF(){var e=wS(ob()).domain([.1,1,10]);return e.copy=function(){return fc(e,OF()).base(e.base())},gl.apply(e,arguments)}function PF(){var e=jS(ob());return e.copy=function(){return fc(e,PF()).constant(e.constant())},gl.apply(e,arguments)}function FS(){var e=NS(ob());return e.copy=function(){return fc(e,FS()).exponent(e.exponent())},gl.apply(e,arguments)}function Hde(){return FS.apply(null,arguments).exponent(.5)}const OE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ym,scaleDiverging:TF,scaleDivergingLog:OF,scaleDivergingPow:FS,scaleDivergingSqrt:Hde,scaleDivergingSymlog:PF,scaleIdentity:dF,scaleImplicit:nN,scaleLinear:uy,scaleLog:fF,scaleOrdinal:mS,scalePoint:bm,scalePow:SS,scaleQuantile:pF,scaleQuantize:gF,scaleRadial:mF,scaleSequential:CF,scaleSequentialLog:AF,scaleSequentialPow:IS,scaleSequentialQuantile:EF,scaleSequentialSqrt:zde,scaleSequentialSymlog:_F,scaleSqrt:Sce,scaleSymlog:hF,scaleThreshold:xF,scaleTime:Ude,scaleUtc:Wde,tickFormat:cF},Symbol.toStringTag,{value:"Module"}));var Vde=Of;function Gde(e,t,r){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=t(i);if(o!=null&&(l===void 0?o===o&&!Vde(o):r(o,l)))var l=o,c=i}return c}var lb=Gde;function qde(e,t){return e>t}var IF=qde,Kde=lb,Xde=IF,Yde=$f;function Jde(e){return e&&e.length?Kde(e,Yde,Xde):void 0}var Zde=Jde;const cb=yr(Zde);function Qde(e,t){return e<t}var FF=Qde,eue=lb,tue=FF,rue=$f;function nue(e){return e&&e.length?eue(e,rue,tue):void 0}var aue=nue;const db=yr(aue);var sue=K2,iue=_o,oue=WI,lue=_s;function cue(e,t){var r=lue(e)?sue:oue;return r(e,iue(t))}var due=cue,uue=BI,fue=due;function hue(e,t){return uue(fue(e,t),1)}var mue=hue;const pue=yr(mue);var gue=cS;function xue(e,t){return gue(e,t)}var yue=xue;const Od=yr(yue);var Uf=1e9,vue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RS,rn=!0,ki="[DecimalError] ",Qc=ki+"Invalid argument: ",DS=ki+"Exponent out of range: ",Wf=Math.floor,Lc=Math.pow,bue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Us,na=1e7,Yr=7,DF=9007199254740991,py=Wf(DF/Yr),pt={};pt.absoluteValue=pt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};pt.comparedTo=pt.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};pt.decimalPlaces=pt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};pt.dividedBy=pt.div=function(e){return el(this,new this.constructor(e))};pt.dividedToIntegerBy=pt.idiv=function(e){var t=this,r=t.constructor;return Wr(el(t,new r(e),0,1),r.precision)};pt.equals=pt.eq=function(e){return!this.cmp(e)};pt.exponent=function(){return Dn(this)};pt.greaterThan=pt.gt=function(e){return this.cmp(e)>0};pt.greaterThanOrEqualTo=pt.gte=function(e){return this.cmp(e)>=0};pt.isInteger=pt.isint=function(){return this.e>this.d.length-2};pt.isNegative=pt.isneg=function(){return this.s<0};pt.isPositive=pt.ispos=function(){return this.s>0};pt.isZero=function(){return this.s===0};pt.lessThan=pt.lt=function(e){return this.cmp(e)<0};pt.lessThanOrEqualTo=pt.lte=function(e){return this.cmp(e)<1};pt.logarithm=pt.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Us))throw Error(ki+"NaN");if(r.s<1)throw Error(ki+(r.s?"NaN":"-Infinity"));return r.eq(Us)?new a(0):(rn=!1,t=el(t0(r,i),t0(e,i),i),rn=!0,Wr(t,s))};pt.minus=pt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LF(t,e):RF(t,(e.s=-e.s,e))};pt.modulo=pt.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(ki+"NaN");return r.s?(rn=!1,t=el(r,e,0,1).times(e),rn=!0,r.minus(t)):Wr(new a(r),s)};pt.naturalExponential=pt.exp=function(){return MF(this)};pt.naturalLogarithm=pt.ln=function(){return t0(this)};pt.negated=pt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};pt.plus=pt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RF(t,e):LF(t,(e.s=-e.s,e))};pt.precision=pt.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qc+e);if(t=Dn(s)+1,a=s.d.length-1,r=a*Yr+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};pt.squareRoot=pt.sqrt=function(){var e,t,r,a,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ki+"NaN")}for(e=Dn(l),rn=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=xo(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Wf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=a,a=i.plus(el(l,i,o+2)).times(.5),xo(i.d).slice(0,o)===(t=xo(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Wr(i,r+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return rn=!0,Wr(a,r)};pt.times=pt.mul=function(e){var t,r,a,s,i,o,l,c,d,u=this,f=u.constructor,h=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=m.length,c<d&&(i=h,h=m,m=i,o=c,c=d,d=o),i=[],o=c+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,s=c+a;s>a;)l=i[s]+m[a]*h[s-a-1]+t,i[s--]=l%na|0,t=l/na|0;i[s]=(i[s]+t)%na|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rn?Wr(e,f.precision):e};pt.toDecimalPlaces=pt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(ko(e,0,Uf),t===void 0?t=a.rounding:ko(t,0,8),Wr(r,e+Dn(r)+1,t))};pt.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=fd(a,!0):(ko(e,0,Uf),t===void 0?t=s.rounding:ko(t,0,8),a=Wr(new s(a),e+1,t),r=fd(a,!0,e+1)),r};pt.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?fd(s):(ko(e,0,Uf),t===void 0?t=i.rounding:ko(t,0,8),a=Wr(new i(s),e+Dn(s)+1,t),r=fd(a.abs(),!1,e+Dn(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};pt.toInteger=pt.toint=function(){var e=this,t=e.constructor;return Wr(new t(e),Dn(e)+1,t.rounding)};pt.toNumber=function(){return+this};pt.toPower=pt.pow=function(e){var t,r,a,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Us);if(l=new c(l),!l.s){if(e.s<1)throw Error(ki+"Infinity");return l}if(l.eq(Us))return l;if(a=c.precision,e.eq(Us))return Wr(l,a);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=DF){for(s=new c(Us),t=Math.ceil(a/Yr+4),rn=!1;r%2&&(s=s.times(l),IE(s.d,t)),r=Wf(r/2),r!==0;)l=l.times(l),IE(l.d,t);return rn=!0,e.s<0?new c(Us).div(s):Wr(s,a)}}else if(i<0)throw Error(ki+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rn=!1,s=e.times(t0(l,a+d)),rn=!0,s=MF(s),s.s=i,s};pt.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=Dn(s),a=fd(s,r<=i.toExpNeg||r>=i.toExpPos)):(ko(e,1,Uf),t===void 0?t=i.rounding:ko(t,0,8),s=Wr(new i(s),e,t),r=Dn(s),a=fd(s,e<=r||r<=i.toExpNeg,e)),a};pt.toSignificantDigits=pt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(ko(e,1,Uf),t===void 0?t=a.rounding:ko(t,0,8)),Wr(new a(r),e,t)};pt.toString=pt.valueOf=pt.val=pt.toJSON=pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Dn(e),r=e.constructor;return fd(e,t<=r.toExpNeg||t>=r.toExpPos)};function RF(e,t){var r,a,s,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),rn?Wr(t,f):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(a=c,i=-i,l=d.length):(a=d,s=o,l=c.length),o=Math.ceil(f/Yr),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,a=d,d=c,c=a),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/na|0,c[i]%=na;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,rn?Wr(t,f):t}function ko(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Qc+e)}function xo(e){var t,r,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)a=e[t]+"",r=Yr-a.length,r&&(i+=Fl(r)),i+=a;o=e[t],a=o+"",r=Yr-a.length,r&&(i+=Fl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var el=function(){function e(a,s){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*s+o,a[l]=i%na|0,o=i/na|0;return o&&a.unshift(o),a}function t(a,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=s[l]){c=a[l]>s[l]?1:-1;break}return c}function r(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*na+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var l,c,d,u,f,h,m,p,x,y,v,w,j,A,C,S,k,E,T=a.constructor,F=a.s==s.s?1:-1,O=a.d,P=s.d;if(!a.s)return new T(a);if(!s.s)throw Error(ki+"Division by zero");for(c=a.e-s.e,k=P.length,C=O.length,m=new T(F),p=m.d=[],d=0;P[d]==(O[d]||0);)++d;if(P[d]>(O[d]||0)&&--c,i==null?w=i=T.precision:o?w=i+(Dn(a)-Dn(s))+1:w=i,w<0)return new T(0);if(w=w/Yr+2|0,d=0,k==1)for(u=0,P=P[0],w++;(d<C||u)&&w--;d++)j=u*na+(O[d]||0),p[d]=j/P|0,u=j%P|0;else{for(u=na/(P[0]+1)|0,u>1&&(P=e(P,u),O=e(O,u),k=P.length,C=O.length),A=k,x=O.slice(0,k),y=x.length;y<k;)x[y++]=0;E=P.slice(),E.unshift(0),S=P[0],P[1]>=na/2&&++S;do u=0,l=t(P,x,k,y),l<0?(v=x[0],k!=y&&(v=v*na+(x[1]||0)),u=v/S|0,u>1?(u>=na&&(u=na-1),f=e(P,u),h=f.length,y=x.length,l=t(f,x,h,y),l==1&&(u--,r(f,k<h?E:P,h))):(u==0&&(l=u=1),f=P.slice()),h=f.length,h<y&&f.unshift(0),r(x,f,y),l==-1&&(y=x.length,l=t(P,x,k,y),l<1&&(u++,r(x,k<y?E:P,y))),y=x.length):l===0&&(u++,x=[0]),p[d++]=u,l&&x[0]?x[y++]=O[A]||0:(x=[O[A]],y=1);while((A++<C||x[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=c,Wr(m,o?i+Dn(m)+1:i)}}();function MF(e,t){var r,a,s,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(Dn(e)>16)throw Error(DS+Dn(e));if(!e.s)return new u(Us);for(t==null?(rn=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(Lc(2,d))/Math.LN10*2+5|0,l+=a,r=s=i=new u(Us),u.precision=l;;){if(s=Wr(s.times(e),l),r=r.times(++c),o=i.plus(el(s,r,l)),xo(o.d).slice(0,l)===xo(i.d).slice(0,l)){for(;d--;)i=Wr(i.times(i),l);return u.precision=f,t==null?(rn=!0,Wr(i,f)):i}i=o}}function Dn(e){for(var t=e.e*Yr,r=e.d[0];r>=10;r/=10)t++;return t}function ww(e,t,r){if(t>e.LN10.sd())throw rn=!0,r&&(e.precision=r),Error(ki+"LN10 precision limit exceeded");return Wr(new e(e.LN10),t)}function Fl(e){for(var t="";e--;)t+="0";return t}function t0(e,t){var r,a,s,i,o,l,c,d,u,f=1,h=10,m=e,p=m.d,x=m.constructor,y=x.precision;if(m.s<1)throw Error(ki+(m.s?"NaN":"-Infinity"));if(m.eq(Us))return new x(0);if(t==null?(rn=!1,d=y):d=t,m.eq(10))return t==null&&(rn=!0),ww(x,d);if(d+=h,x.precision=d,r=xo(p),a=r.charAt(0),i=Dn(m),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)m=m.times(e),r=xo(m.d),a=r.charAt(0),f++;i=Dn(m),a>1?(m=new x("0."+r),i++):m=new x(a+"."+r.slice(1))}else return c=ww(x,d+2,y).times(i+""),m=t0(new x(a+"."+r.slice(1)),d-h).plus(c),x.precision=y,t==null?(rn=!0,Wr(m,y)):m;for(l=o=m=el(m.minus(Us),m.plus(Us),d),u=Wr(m.times(m),d),s=3;;){if(o=Wr(o.times(u),d),c=l.plus(el(o,new x(s),d)),xo(c.d).slice(0,d)===xo(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(ww(x,d+2,y).times(i+""))),l=el(l,new x(f),d),x.precision=y,t==null?(rn=!0,Wr(l,y)):l;l=c,s+=2}}function PE(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=Wf(r/Yr),e.d=[],a=(r+1)%Yr,r<0&&(a+=Yr),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Yr;a<s;)e.d.push(+t.slice(a,a+=Yr));t=t.slice(a),a=Yr-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),rn&&(e.e>py||e.e<-py))throw Error(DS+r)}else e.s=0,e.e=0,e.d=[0];return e}function Wr(e,t,r){var a,s,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=Yr,s=t,d=f[u=0];else{if(u=Math.ceil((a+1)/Yr),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;a%=Yr,s=a-Yr+o}if(r!==void 0&&(i=Lc(10,o-s-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(a>0?s>0?d/Lc(10,o-s):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Dn(e),f.length=1,t=t-i-1,f[0]=Lc(10,(Yr-t%Yr)%Yr),e.e=Wf(-t/Yr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(a==0?(f.length=u,i=1,u--):(f.length=u+1,i=Lc(10,Yr-a),f[u]=s>0?(d/Lc(10,o-s)%Lc(10,s)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==na&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=na)break;f[u--]=0,i=1}for(a=f.length;f[--a]===0;)f.pop();if(rn&&(e.e>py||e.e<-py))throw Error(DS+Dn(e));return e}function LF(e,t){var r,a,s,i,o,l,c,d,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rn?Wr(t,m):t;if(c=e.d,f=t.d,a=t.e,d=e.e,c=c.slice(),o=d-a,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,a=d,l=c.length),s=Math.max(Math.ceil(m/Yr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){u=c[s]<f[s];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=na-1;--c[i],c[s]+=na}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,rn?Wr(t,m):t):new h(0)}function fd(e,t,r){var a,s=Dn(e),i=xo(e.d),o=i.length;return t?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Fl(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Fl(-s-1)+i,r&&(a=r-o)>0&&(i+=Fl(a))):s>=o?(i+=Fl(s+1-o),r&&(a=r-s-1)>0&&(i=i+"."+Fl(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(s+1===o&&(i+="."),i+=Fl(a))),e.s<0?"-"+i:i}function IE(e,t){if(e.length>t)return e.length=t,!0}function $F(e){var t,r,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Qc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return PE(o,i.toString())}else if(typeof i!="string")throw Error(Qc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,bue.test(i))PE(o,i);else throw Error(Qc+i)}if(s.prototype=pt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=$F,s.config=s.set=wue,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function wue(e){if(!e||typeof e!="object")throw Error(ki+"Object expected");var t,r,a,s=["precision",1,Uf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(Wf(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Qc+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Qc+r+": "+a);return this}var RS=$F(vue);Us=new RS(1);const Ir=RS;function jue(e){return Cue(e)||kue(e)||Sue(e)||Nue()}function Nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(e,t){if(e){if(typeof e=="string")return oN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oN(e,t)}}function kue(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function Cue(e){if(Array.isArray(e))return oN(e)}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Aue=function(t){return t},BF={"@@functional/placeholder":!0},UF=function(t){return t===BF},FE=function(t){return function r(){return arguments.length===0||arguments.length===1&&UF(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},_ue=function e(t,r){return t===1?r:FE(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==BF}).length;return o>=t?r.apply(void 0,s):e(t-o,FE(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(f){return UF(f)?c.shift():f});return r.apply(void 0,jue(u).concat(c))}))})},ub=function(t){return _ue(t.length,t)},lN=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},Eue=ub(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Tue=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return Aue;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},cN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},WF=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,a=t.apply(void 0,i)),a}};function Oue(e){var t;return e===0?t=1:t=Math.floor(new Ir(e).abs().log(10).toNumber())+1,t}function Pue(e,t,r){for(var a=new Ir(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var Iue=ub(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),Fue=ub(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),Due=ub(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const fb={rangeStep:Pue,getDigitCount:Oue,interpolateNumber:Iue,uninterpolateNumber:Fue,uninterpolateTruncation:Due};function dN(e){return Lue(e)||Mue(e)||zF(e)||Rue()}function Rue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mue(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function Lue(e){if(Array.isArray(e))return uN(e)}function r0(e,t){return Uue(e)||Bue(e,t)||zF(e,t)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zF(e,t){if(e){if(typeof e=="string")return uN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uN(e,t)}}function uN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Bue(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(c){s=!0,i=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function Uue(e){if(Array.isArray(e))return e}function HF(e){var t=r0(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function VF(e,t,r){if(e.lte(0))return new Ir(0);var a=fb.getDigitCount(e.toNumber()),s=new Ir(10).pow(a),i=e.div(s),o=a!==1?.05:.1,l=new Ir(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Ir(Math.ceil(c))}function Wue(e,t,r){var a=1,s=new Ir(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Ir(10).pow(fb.getDigitCount(e)-1),s=new Ir(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Ir(Math.floor(e)))}else e===0?s=new Ir(Math.floor((t-1)/2)):r||(s=new Ir(Math.floor(e)));var o=Math.floor((t-1)/2),l=Tue(Eue(function(c){return s.add(new Ir(c-o).mul(a)).toNumber()}),lN);return l(0,t)}function GF(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ir(0),tickMin:new Ir(0),tickMax:new Ir(0)};var i=VF(new Ir(t).sub(e).div(r-1),a,s),o;e<=0&&t>=0?o=new Ir(0):(o=new Ir(e).add(t).div(2),o=o.sub(new Ir(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ir(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?GF(e,t,r,a,s+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Ir(l).mul(i)),tickMax:o.add(new Ir(c).mul(i))})}function zue(e){var t=r0(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=HF([r,a]),c=r0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(dN(lN(0,s-1).map(function(){return 1/0}))):[].concat(dN(lN(0,s-1).map(function(){return-1/0})),[u]);return r>a?cN(f):f}if(d===u)return Wue(d,s,i);var h=GF(d,u,o,i),m=h.step,p=h.tickMin,x=h.tickMax,y=fb.rangeStep(p,x.add(new Ir(.1).mul(m)),m);return r>a?cN(y):y}function Hue(e,t){var r=r0(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=HF([a,s]),l=r0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[a,s];if(c===d)return[c];var u=Math.max(t,2),f=VF(new Ir(d).sub(c).div(u-1),i,0),h=[].concat(dN(fb.rangeStep(new Ir(c),new Ir(d).sub(new Ir(.99).mul(f)),f)),[d]);return a>s?cN(h):h}var Vue=WF(zue),Gue=WF(Hue),que="Invariant failed";function tc(e,t){throw new Error(que)}var Kue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gy.apply(this,arguments)}function Xue(e,t){return Que(e)||Zue(e,t)||Jue(e,t)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jue(e,t){if(e){if(typeof e=="string")return DE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(e,t)}}function DE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Zue(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Que(e){if(Array.isArray(e))return e}function efe(e,t){if(e==null)return{};var r=tfe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function tfe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function rfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nfe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XF(a.key),a)}}function afe(e,t,r){return t&&nfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sfe(e,t,r){return t=xy(t),ife(e,qF()?Reflect.construct(t,r||[],xy(e).constructor):t.apply(e,r))}function ife(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ofe(e)}function ofe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qF=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(e)}function lfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fN(e,t)}function fN(e,t){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},fN(e,t)}function KF(e,t,r){return t=XF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=cfe(e,"string");return Ju(t)=="symbol"?t:t+""}function cfe(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ju(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dp=function(e){function t(){return rfe(this,t),sfe(this,t,arguments)}return lfe(t,e),afe(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,l=a.dataKey,c=a.data,d=a.dataPointFormatter,u=a.xAxis,f=a.yAxis,h=efe(a,Kue),m=jt(h,!1);this.props.direction==="x"&&u.type!=="number"&&tc();var p=c.map(function(x){var y=d(x,l),v=y.x,w=y.y,j=y.value,A=y.errorVal;if(!A)return null;var C=[],S,k;if(Array.isArray(A)){var E=Xue(A,2);S=E[0],k=E[1]}else S=k=A;if(i==="vertical"){var T=u.scale,F=w+s,O=F+o,P=F-o,W=T(j-S),q=T(j+k);C.push({x1:q,y1:O,x2:q,y2:P}),C.push({x1:W,y1:F,x2:q,y2:F}),C.push({x1:W,y1:O,x2:W,y2:P})}else if(i==="horizontal"){var D=f.scale,M=v+s,H=M-o,ee=M+o,X=D(j-S),de=D(j+k);C.push({x1:H,y1:de,x2:ee,y2:de}),C.push({x1:M,y1:X,x2:M,y2:de}),C.push({x1:H,y1:X,x2:ee,y2:X})}return ne.createElement(Zt,gy({className:"recharts-errorBar",key:"bar-".concat(C.map(function(le){return"".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))},m),C.map(function(le){return ne.createElement("line",gy({},le,{key:"line-".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))}))});return ne.createElement(Zt,{className:"recharts-errorBars"},p)}}])}(ne.Component);KF(dp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});KF(dp,"displayName","ErrorBar");function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(a){dfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dfe(e,t,r){return t=ufe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ufe(e){var t=ffe(e,"string");return n0(t)=="symbol"?t:t+""}function ffe(e,t){if(n0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(n0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YF=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Ls(r,Vl);if(!o)return null;var l=Vl.defaultProps,c=l!==void 0?Oc(Oc({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(a||[]).reduce(function(u,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return u.concat(p.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(a||[]).map(function(u){var f=u.item,h=f.type.defaultProps,m=h!==void 0?Oc(Oc({},h),f.props):{},p=m.dataKey,x=m.name,y=m.legendType,v=m.hide;return{inactive:v,dataKey:p,type:c.iconType||y||"square",color:MS(f),value:x||p,payload:m}}),Oc(Oc(Oc({},c),Vl.getWithHeight(o,s)),{},{payload:d,item:o})};function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}function ME(e){return gfe(e)||pfe(e)||mfe(e)||hfe()}function hfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mfe(e,t){if(e){if(typeof e=="string")return hN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hN(e,t)}}function pfe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gfe(e){if(Array.isArray(e))return hN(e)}function hN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function LE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(r),!0).forEach(function(a){Du(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Du(e,t,r){return t=xfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xfe(e){var t=yfe(e,"string");return a0(t)=="symbol"?t:t+""}function yfe(e,t){if(a0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(a0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hn(e,t,r){return Mt(e)||Mt(t)?r:qn(t)?Gs(e,t,r):Ct(t)?t(e):r}function wm(e,t,r,a){var s=pue(e,function(l){return hn(l,t)});if(r==="number"){var i=s.filter(function(l){return Qe(l)||parseFloat(l)});return i.length?[db(i),cb(i)]:[1/0,-1/0]}var o=a?s.filter(function(l){return!Mt(l)}):s;return o.map(function(l){return qn(l)||l instanceof Date?l:""})}var vfe=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,f=s[d].coordinate,h=d>=l-1?s[0].coordinate:s[d+1].coordinate,m=void 0;if(ca(f-u)!==ca(h-f)){var p=[];if(ca(h-f)===ca(c[1]-c[0])){m=h;var x=f+c[1]-c[0];p[0]=Math.min(x,(x+u)/2),p[1]=Math.max(x,(x+u)/2)}else{m=u;var y=h+c[1]-c[0];p[0]=Math.min(f,(y+f)/2),p[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>v[0]&&t<=v[1]||t>=p[0]&&t<=p[1]){o=s[d].index;break}}else{var w=Math.min(u,h),j=Math.max(u,h);if(t>(w+f)/2&&t<=(j+f)/2){o=s[d].index;break}}}else for(var A=0;A<l;A++)if(A===0&&t<=(a[A].coordinate+a[A+1].coordinate)/2||A>0&&A<l-1&&t>(a[A].coordinate+a[A-1].coordinate)/2&&t<=(a[A].coordinate+a[A+1].coordinate)/2||A===l-1&&t>(a[A].coordinate+a[A-1].coordinate)/2){o=a[A].index;break}return o},MS=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},bfe=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,f=Object.keys(u),h=0,m=f.length;h<m;h++){var p=u[f[h]],x=p.items,y=p.cateAxisId,v=x.filter(function(k){return Qo(k.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,j=w!==void 0?un(un({},w),v[0].props):v[0].props,A=j.barSize,C=j[y];o[C]||(o[C]=[]);var S=Mt(A)?r:A;o[C].push({item:v[0],stackList:v.slice(1),barSize:Mt(S)?void 0:ss(S,a,0)})}}return o},wfe=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=ss(r,s,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,p=o.reduce(function(A,C){return A+C.barSize||0},0);p+=(c-1)*d,p>=s&&(p-=(c-1)*d,d=0),p>=s&&m>0&&(h=!0,m*=.9,p=c*m);var x=(s-p)/2>>0,y={offset:x-d,size:0};u=o.reduce(function(A,C){var S={item:C.item,position:{offset:y.offset+y.size+d,size:h?m:C.barSize}},k=[].concat(ME(A),[S]);return y=k[k.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){k.push({item:E,position:y})}),k},f)}else{var v=ss(a,s,0,!0);s-2*v-(c-1)*d<=0&&(d=0);var w=(s-2*v-(c-1)*d)/c;w>1&&(w>>=0);var j=l===+l?Math.min(w,l):w;u=o.reduce(function(A,C,S){var k=[].concat(ME(A),[{item:C.item,position:{offset:v+(w+d)*S+(w-j)/2,size:j}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(E){k.push({item:E,position:k[k.length-1].position})}),k},f)}return u},jfe=function(t,r,a,s){var i=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),d=YF({children:i,legendWidth:c});if(d){var u=s||{},f=u.width,h=u.height,m=d.align,p=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&p==="middle")&&m!=="center"&&Qe(t[m]))return un(un({},t),{},Du({},m,t[m]+(f||0)));if((x==="horizontal"||x==="vertical"&&m==="center")&&p!=="middle"&&Qe(t[p]))return un(un({},t),{},Du({},p,t[p]+(h||0)))}return t},Nfe=function(t,r,a){return Mt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},JF=function(t,r,a,s,i){var o=r.props.children,l=Ss(o,dp).filter(function(d){return Nfe(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=hn(u,a);if(Mt(f))return d;var h=Array.isArray(f)?[db(f),cb(f)]:[f,f],m=c.reduce(function(p,x){var y=hn(u,x,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,p[0]),Math.max(w,p[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},Sfe=function(t,r,a,s,i){var o=r.map(function(l){return JF(t,l,a,i,s)}).filter(function(l){return!Mt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},ZF=function(t,r,a,s,i){var o=r.map(function(c){var d=c.props.dataKey;return a==="number"&&d&&JF(t,c,d,s)||wm(t,d,a,i)});if(a==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},QF=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},eD=function(t,r,a,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===a&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(a),l},Xo=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||a)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ca(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+d,value:f,offset:d}});return u.filter(function(f){return!ap(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+d,value:f,index:h,offset:d}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+d,value:f,offset:d}}):s.domain().map(function(f,h){return{coordinate:s(f)+d,value:i?i[f]:f,index:h,offset:d}})},jw=new WeakMap,Yg=function(t,r){if(typeof r!="function")return t;jw.has(t)||jw.set(t,new WeakMap);var a=jw.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},tD=function(t,r,a){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ym(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:uy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:bm(),realScaleType:"point"}:i==="category"?{scale:Ym(),realScaleType:"band"}:{scale:uy(),realScaleType:"linear"};if(dd(s)){var c="scale".concat(Xv(s));return{scale:(OE[c]||bm)(),realScaleType:OE[c]?c:"point"}}return Ct(s)?{scale:s}:{scale:bm(),realScaleType:"point"}},$E=1e-4,rD=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-$E,o=Math.max(s[0],s[1])+$E,l=t(r[0]),c=t(r[a-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[a-1]])}},nD=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},aD=function(t,r){if(!r||r.length!==2||!Qe(r[0])||!Qe(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Qe(t[0])||t[0]<a)&&(i[0]=a),(!Qe(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},kfe=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0,l=0;l<r;++l){var c=ap(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=i,t[l][a][1]=i+c,i=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+c,o=t[l][a][1])}},Cfe=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0;o<r;++o){var l=ap(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},Afe={sign:kfe,expand:KZ,none:zu,silhouette:XZ,wiggle:YZ,positive:Cfe},_fe=function(t,r,a){var s=r.map(function(l){return l.props.dataKey}),i=Afe[a],o=qZ().keys(s).value(function(l,c){return+hn(l,c,0)}).order(Lj).offset(i);return o(t)},Efe=function(t,r,a,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?un(un({},h.type.defaultProps),h.props):h.props,x=p.stackId,y=p.hide;if(y)return f;var v=p[a],w=f[v]||{hasStack:!1,stackGroups:{}};if(qn(x)){var j=w.stackGroups[x]||{numericAxisId:a,cateAxisId:s,items:[]};j.items.push(h),w.hasStack=!0,w.stackGroups[x]=j}else w.stackGroups[Rf("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[h]};return un(un({},f),{},Du({},v,w))},c),u={};return Object.keys(d).reduce(function(f,h){var m=d[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(x,y){var v=m.stackGroups[y];return un(un({},x),{},Du({},y,{numericAxisId:a,cateAxisId:s,items:v.items,stackedData:_fe(t,v.items,i)}))},p)}return un(un({},f),{},Du({},h,m))},u)},sD=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=a||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=Vue(d,i,l);return t.domain([db(u),cb(u)]),{niceTicks:u}}if(i&&s==="number"){var f=t.domain(),h=Gue(f,i,l);return{niceTicks:h}}return null};function BE(e){var t=e.axis,r=e.ticks,a=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mt(s[t.dataKey])){var l=Hx(r,"value",s[t.dataKey]);if(l)return l.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=hn(s,Mt(o)?t.dataKey:o);return Mt(c)?null:t.scale(c)}var yy=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return a[l]?a[l].coordinate+s:null;var c=hn(o,r.dataKey,r.domain[l]);return Mt(c)?null:r.scale(c)-i/2+s},iD=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},Tfe=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(qn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Ofe=function(t){return t.reduce(function(r,a){return[db(a.concat([r[0]]).filter(Qe)),cb(a.concat([r[1]]).filter(Qe))]},[1/0,-1/0])},oD=function(t,r,a){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var f=Ofe(u.slice(r,a+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},UE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mN=function(t,r,a){if(Ct(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if(Qe(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(UE.test(t[0])){var i=+UE.exec(t[0])[1];s[0]=r[0]-i}else Ct(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Qe(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(WE.test(t[1])){var o=+WE.exec(t[1])[1];s[1]=r[1]+o}else Ct(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},vy=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=uS(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},zE=function(t,r,a){return!t||!t.length||Od(t,Gs(a,"type.defaultProps.domain"))?r:t},LS=function(t,r){var a=t.type.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,d=a.chartType,u=a.hide;return un(un({},jt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:MS(t),value:hn(r,s),type:c,payload:r,chartType:d,hide:u})};function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(a){lD(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lD(e,t,r){return t=Pfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pfe(e){var t=Ife(e,"string");return s0(t)=="symbol"?t:t+""}function Ife(e,t){if(s0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(s0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ffe(e,t){return Lfe(e)||Mfe(e,t)||Rfe(e,t)||Dfe()}function Dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rfe(e,t){if(e){if(typeof e=="string")return VE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VE(e,t)}}function VE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Mfe(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Lfe(e){if(Array.isArray(e))return e}var by=Math.PI/180,$fe=function(t){return t*180/Math.PI},pr=function(t,r,a,s){return{x:t+Math.cos(-by*s)*a,y:r+Math.sin(-by*s)*a}},cD=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},$S=function(t,r,a,s,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=ss(t.cx,o,o/2),f=ss(t.cy,l,l/2),h=cD(o,l,a),m=ss(t.innerRadius,h,0),p=ss(t.outerRadius,h,h*.8),x=Object.keys(r);return x.reduce(function(y,v){var w=r[v],j=w.domain,A=w.reversed,C;if(Mt(w.range))s==="angleAxis"?C=[c,d]:s==="radiusAxis"&&(C=[m,p]),A&&(C=[C[1],C[0]]);else{C=w.range;var S=C,k=Ffe(S,2);c=k[0],d=k[1]}var E=tD(w,i),T=E.realScaleType,F=E.scale;F.domain(j).range(C),rD(F);var O=sD(F,Vo(Vo({},w),{},{realScaleType:T})),P=Vo(Vo(Vo({},w),O),{},{range:C,radius:p,realScaleType:T,scale:F,cx:u,cy:f,innerRadius:m,outerRadius:p,startAngle:c,endAngle:d});return Vo(Vo({},y),{},lD({},v,P))},{})},Bfe=function(t,r){var a=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},Ufe=function(t,r){var a=t.x,s=t.y,i=r.cx,o=r.cy,l=Bfe({x:a,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(a-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:$fe(d),angleInRadian:d}},Wfe=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:a-o*360}},zfe=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},GE=function(t,r){var a=t.x,s=t.y,i=Ufe({x:a,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=Wfe(r),f=u.startAngle,h=u.endAngle,m=l,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?Vo(Vo({},r),{},{radius:o,angle:zfe(m,r)}):null},dD=function(t){return!N.isValidElement(t)&&!Ct(t)&&typeof t!="boolean"?t.className:""};function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}var Hfe=["offset"];function Vfe(e){return Xfe(e)||Kfe(e)||qfe(e)||Gfe()}function Gfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qfe(e,t){if(e){if(typeof e=="string")return pN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pN(e,t)}}function Kfe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xfe(e){if(Array.isArray(e))return pN(e)}function pN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Yfe(e,t){if(e==null)return{};var r=Jfe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Jfe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(a){Zfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zfe(e,t,r){return t=Qfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qfe(e){var t=ehe(e,"string");return i0(t)=="symbol"?t:t+""}function ehe(e,t){if(i0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(i0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},o0.apply(this,arguments)}var the=function(t){var r=t.value,a=t.formatter,s=Mt(t.children)?r:t.children;return Ct(a)?a(s):s},rhe=function(t,r){var a=ca(r-t),s=Math.min(Math.abs(r-t),360);return a*s},nhe=function(t,r,a){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,p=c.endAngle,x=c.clockWise,y=(f+h)/2,v=rhe(m,p),w=v>=0?1:-1,j,A;s==="insideStart"?(j=m+w*o,A=x):s==="insideEnd"?(j=p-w*o,A=!x):s==="end"&&(j=p+w*o,A=x),A=v<=0?A:!A;var C=pr(d,u,y,j),S=pr(d,u,y,j+(A?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(S.x,",").concat(S.y),E=Mt(t.id)?Rf("recharts-radial-line-"):t.id;return ne.createElement("text",o0({},a,{dominantBaseline:"central",className:Rt("recharts-radial-bar-label",l)}),ne.createElement("defs",null,ne.createElement("path",{id:E,d:k})),ne.createElement("textPath",{xlinkHref:"#".concat(E)},r))},ahe=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(s==="outside"){var m=pr(o,l,d+a,h),p=m.x,x=m.y;return{x:p,y:x,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,v=pr(o,l,y,h),w=v.x,j=v.y;return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},she=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,h=f*s,m=f>0?"end":"start",p=f>0?"start":"end",x=d>=0?1:-1,y=x*s,v=x>0?"end":"start",w=x>0?"start":"end";if(i==="top"){var j={x:l+d/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Wn(Wn({},j),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var A={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:p};return Wn(Wn({},A),a?{height:Math.max(a.y+a.height-(c+u),0),width:d}:{})}if(i==="left"){var C={x:l-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return Wn(Wn({},C),a?{width:Math.max(C.x-a.x,0),height:u}:{})}if(i==="right"){var S={x:l+d+y,y:c+u/2,textAnchor:w,verticalAnchor:"middle"};return Wn(Wn({},S),a?{width:Math.max(a.x+a.width-S.x,0),height:u}:{})}var k=a?{width:d,height:u}:{};return i==="insideLeft"?Wn({x:l+y,y:c+u/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideRight"?Wn({x:l+d-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},k):i==="insideTop"?Wn({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:p},k):i==="insideBottom"?Wn({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:m},k):i==="insideTopLeft"?Wn({x:l+y,y:c+h,textAnchor:w,verticalAnchor:p},k):i==="insideTopRight"?Wn({x:l+d-y,y:c+h,textAnchor:v,verticalAnchor:p},k):i==="insideBottomLeft"?Wn({x:l+y,y:c+u-h,textAnchor:w,verticalAnchor:m},k):i==="insideBottomRight"?Wn({x:l+d-y,y:c+u-h,textAnchor:v,verticalAnchor:m},k):Pf(i)&&(Qe(i.x)||Vc(i.x))&&(Qe(i.y)||Vc(i.y))?Wn({x:l+ss(i.x,d),y:c+ss(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):Wn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},ihe=function(t){return"cx"in t&&Qe(t.cx)};function ia(e){var t=e.offset,r=t===void 0?5:t,a=Yfe(e,Hfe),s=Wn({offset:r},a),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,f=u===void 0?"":u,h=s.textBreakAll;if(!i||Mt(l)&&Mt(c)&&!N.isValidElement(d)&&!Ct(d))return null;if(N.isValidElement(d))return N.cloneElement(d,s);var m;if(Ct(d)){if(m=N.createElement(d,s),N.isValidElement(m))return m}else m=the(s);var p=ihe(i),x=jt(s,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return nhe(s,m,x);var y=p?ahe(s):she(s);return ne.createElement(ud,o0({className:Rt("recharts-label",f)},x,y,{breakAll:h}),m)}ia.displayName="Label";var uD=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,m=t.top,p=t.left,x=t.width,y=t.height,v=t.clockWise,w=t.labelViewBox;if(w)return w;if(Qe(x)&&Qe(y)){if(Qe(f)&&Qe(h))return{x:f,y:h,width:x,height:y};if(Qe(m)&&Qe(p))return{x:m,y:p,width:x,height:y}}return Qe(f)&&Qe(h)?{x:f,y:h,width:0,height:0}:Qe(r)&&Qe(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},ohe=function(t,r){return t?t===!0?ne.createElement(ia,{key:"label-implicit",viewBox:r}):qn(t)?ne.createElement(ia,{key:"label-implicit",viewBox:r,value:t}):N.isValidElement(t)?t.type===ia?N.cloneElement(t,{key:"label-implicit",viewBox:r}):ne.createElement(ia,{key:"label-implicit",content:t,viewBox:r}):Ct(t)?ne.createElement(ia,{key:"label-implicit",content:t,viewBox:r}):Pf(t)?ne.createElement(ia,o0({viewBox:r},t,{key:"label-implicit"})):null:null},lhe=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=uD(t),o=Ss(s,ia).map(function(c,d){return N.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!a)return o;var l=ohe(t.label,r||i);return[l].concat(Vfe(o))};ia.parseViewBox=uD;ia.renderCallByParent=lhe;function che(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var dhe=che;const fD=yr(dhe);function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}var uhe=["valueAccessor"],fhe=["data","dataKey","clockWise","id","textBreakAll"];function hhe(e){return xhe(e)||ghe(e)||phe(e)||mhe()}function mhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function phe(e,t){if(e){if(typeof e=="string")return gN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gN(e,t)}}function ghe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xhe(e){if(Array.isArray(e))return gN(e)}function gN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wy.apply(this,arguments)}function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function XE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(a){yhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yhe(e,t,r){return t=vhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vhe(e){var t=bhe(e,"string");return l0(t)=="symbol"?t:t+""}function bhe(e,t){if(l0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(l0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YE(e,t){if(e==null)return{};var r=whe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function whe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var jhe=function(t){return Array.isArray(t.value)?fD(t.value):t.value};function Ji(e){var t=e.valueAccessor,r=t===void 0?jhe:t,a=YE(e,uhe),s=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=YE(a,fhe);return!s||!s.length?null:ne.createElement(Zt,{className:"recharts-label-list"},s.map(function(u,f){var h=Mt(i)?r(u,f):hn(u&&u.payload,i),m=Mt(l)?{}:{id:"".concat(l,"-").concat(f)};return ne.createElement(ia,wy({},jt(u,!0),d,m,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:ia.parseViewBox(Mt(o)?u:XE(XE({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ji.displayName="LabelList";function Nhe(e,t){return e?e===!0?ne.createElement(Ji,{key:"labelList-implicit",data:t}):ne.isValidElement(e)||Ct(e)?ne.createElement(Ji,{key:"labelList-implicit",data:t,content:e}):Pf(e)?ne.createElement(Ji,wy({data:t},e,{key:"labelList-implicit"})):null:null}function She(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=Ss(a,Ji).map(function(o,l){return N.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=Nhe(e.label,t);return[i].concat(hhe(s))}Ji.renderCallByParent=She;function c0(e){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xN.apply(this,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(a){khe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function khe(e,t,r){return t=Che(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Che(e){var t=Ahe(e,"string");return c0(t)=="symbol"?t:t+""}function Ahe(e,t){if(c0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(c0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _he=function(t,r){var a=ca(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},Jg=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+s,f=Math.asin(c/u)/by,h=d?i:i+o*f,m=pr(r,a,u,h),p=pr(r,a,s,h),x=d?i-o*f:i,y=pr(r,a,u*Math.cos(f*by),x);return{center:m,circleTangency:p,lineTangency:y,theta:f}},hD=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=_he(o,l),d=o+c,u=pr(r,a,i,o),f=pr(r,a,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=pr(r,a,s,o),p=pr(r,a,s,d);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(a," Z");return h},Ehe=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=ca(u-d),h=Jg({cx:r,cy:a,radius:i,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,p=h.lineTangency,x=h.theta,y=Jg({cx:r,cy:a,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,w=y.lineTangency,j=y.theta,A=c?Math.abs(d-u):Math.abs(d-u)-x-j;if(A<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):hD({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u});var C="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var S=Jg({cx:r,cy:a,radius:s,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=S.circleTangency,E=S.lineTangency,T=S.theta,F=Jg({cx:r,cy:a,radius:s,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=F.circleTangency,P=F.lineTangency,W=F.theta,q=c?Math.abs(d-u):Math.abs(d-u)-T-W;if(q<0&&o===0)return"".concat(C,"L").concat(r,",").concat(a,"Z");C+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else C+="L".concat(r,",").concat(a,"Z");return C},The={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mD=function(t){var r=ZE(ZE({},The),t),a=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<i||u===f)return null;var m=Rt("recharts-sector",h),p=o-i,x=ss(l,p,0,!0),y;return x>0&&Math.abs(u-f)<360?y=Ehe({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,p/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):y=hD({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),ne.createElement("path",xN({},jt(r,!0),{className:m,d:y,role:"img"}))};function d0(e){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0(e)}function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yN.apply(this,arguments)}function QE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function eT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(r),!0).forEach(function(a){Ohe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ohe(e,t,r){return t=Phe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Phe(e){var t=Ihe(e,"string");return d0(t)=="symbol"?t:t+""}function Ihe(e,t){if(d0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(d0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tT={curveBasisClosed:RZ,curveBasisOpen:MZ,curveBasis:DZ,curveBumpX:wZ,curveBumpY:jZ,curveLinearClosed:LZ,curveLinear:Jv,curveMonotoneX:$Z,curveMonotoneY:BZ,curveNatural:UZ,curveStep:WZ,curveStepAfter:HZ,curveStepBefore:zZ},Zg=function(t){return t.x===+t.x&&t.y===+t.y},qh=function(t){return t.x},Kh=function(t){return t.y},Fhe=function(t,r){if(Ct(t))return t;var a="curve".concat(Xv(t));return(a==="curveMonotone"||a==="curveBump")&&r?tT["".concat(a).concat(r==="vertical"?"Y":"X")]:tT[a]||Jv},Dhe=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=Fhe(a,l),f=d?i.filter(function(x){return Zg(x)}):i,h;if(Array.isArray(o)){var m=d?o.filter(function(x){return Zg(x)}):o,p=f.map(function(x,y){return eT(eT({},x),{},{base:m[y]})});return l==="vertical"?h=Wg().y(Kh).x1(qh).x0(function(x){return x.base.x}):h=Wg().x(qh).y1(Kh).y0(function(x){return x.base.y}),h.defined(Zg).curve(u),h(p)}return l==="vertical"&&Qe(o)?h=Wg().y(Kh).x1(qh).x0(o):Qe(o)?h=Wg().x(qh).y1(Kh).y0(o):h=sI().x(qh).y(Kh),h.defined(Zg).curve(u),h(f)},jy=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?Dhe(t):s;return N.createElement("path",yN({},jt(t,!1),Vx(t),{className:Rt("recharts-curve",r),d:o,ref:i}))},pD={exports:{}},Rhe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mhe=Rhe,Lhe=Mhe;function gD(){}function xD(){}xD.resetWarningCache=gD;var $he=function(){function e(a,s,i,o,l,c){if(c!==Lhe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xD,resetWarningCache:gD};return r.PropTypes=r,r};pD.exports=$he();var Bhe=pD.exports;const jr=yr(Bhe);var Uhe=Object.getOwnPropertyNames,Whe=Object.getOwnPropertySymbols,zhe=Object.prototype.hasOwnProperty;function rT(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function Qg(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,o=i.get(r),l=i.get(a);if(o&&l)return o===a&&l===r;i.set(r,a),i.set(a,r);var c=e(r,a,s);return i.delete(r),i.delete(a),c}}function nT(e){return Uhe(e).concat(Whe(e))}var Hhe=Object.hasOwn||function(e,t){return zhe.call(e,t)};function Pd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Vhe="__v",Ghe="__o",qhe="_owner",aT=Object.getOwnPropertyDescriptor,sT=Object.keys;function Khe(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Xhe(e,t){return Pd(e.getTime(),t.getTime())}function Yhe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Jhe(e,t){return e===t}function iT(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,f=0;(l=d.next())&&!l.done;){if(s[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){u=s[f]=!0;break}f++}if(!u)return!1;c++}return!0}var Zhe=Pd;function Qhe(e,t,r){var a=sT(e),s=a.length;if(sT(t).length!==s)return!1;for(;s-- >0;)if(!yD(e,t,r,a[s]))return!1;return!0}function Xh(e,t,r){var a=nT(e),s=a.length;if(nT(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=a[s],!yD(e,t,r,i)||(o=aT(e,i),l=aT(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function eme(e,t){return Pd(e.valueOf(),t.valueOf())}function tme(e,t){return e.source===t.source&&e.flags===t.flags}function oT(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function rme(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function nme(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function yD(e,t,r,a){return(a===qhe||a===Ghe||a===Vhe)&&(e.$$typeof||t.$$typeof)?!0:Hhe(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var ame="[object Arguments]",sme="[object Boolean]",ime="[object Date]",ome="[object Error]",lme="[object Map]",cme="[object Number]",dme="[object Object]",ume="[object RegExp]",fme="[object Set]",hme="[object String]",mme="[object URL]",pme=Array.isArray,lT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,cT=Object.assign,gme=Object.prototype.toString.call.bind(Object.prototype.toString);function xme(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(p,x,y){if(p===x)return!0;if(p==null||x==null)return!1;var v=typeof p;if(v!==typeof x)return!1;if(v!=="object")return v==="number"?o(p,x,y):v==="function"?s(p,x,y):!1;var w=p.constructor;if(w!==x.constructor)return!1;if(w===Object)return l(p,x,y);if(pme(p))return t(p,x,y);if(lT!=null&&lT(p))return f(p,x,y);if(w===Date)return r(p,x,y);if(w===RegExp)return d(p,x,y);if(w===Map)return i(p,x,y);if(w===Set)return u(p,x,y);var j=gme(p);return j===ime?r(p,x,y):j===ume?d(p,x,y):j===lme?i(p,x,y):j===fme?u(p,x,y):j===dme?typeof p.then!="function"&&typeof x.then!="function"&&l(p,x,y):j===mme?h(p,x,y):j===ome?a(p,x,y):j===ame?l(p,x,y):j===sme||j===cme||j===hme?c(p,x,y):!1}}function yme(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?Xh:Khe,areDatesEqual:Xhe,areErrorsEqual:Yhe,areFunctionsEqual:Jhe,areMapsEqual:a?rT(iT,Xh):iT,areNumbersEqual:Zhe,areObjectsEqual:a?Xh:Qhe,arePrimitiveWrappersEqual:eme,areRegExpsEqual:tme,areSetsEqual:a?rT(oT,Xh):oT,areTypedArraysEqual:a?Xh:rme,areUrlsEqual:nme};if(r&&(s=cT({},s,r(s))),t){var i=Qg(s.areArraysEqual),o=Qg(s.areMapsEqual),l=Qg(s.areObjectsEqual),c=Qg(s.areSetsEqual);s=cT({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function vme(e){return function(t,r,a,s,i,o,l){return e(t,r,l)}}function bme(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(c,d){var u=a(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,m=u.meta;return r(c,d,{cache:h,equals:s,meta:m,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var wme=hc();hc({strict:!0});hc({circular:!0});hc({circular:!0,strict:!0});hc({createInternalComparator:function(){return Pd}});hc({strict:!0,createInternalComparator:function(){return Pd}});hc({circular:!0,createInternalComparator:function(){return Pd}});hc({circular:!0,createInternalComparator:function(){return Pd},strict:!0});function hc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=yme(e),c=xme(l),d=a?a(c):vme(c);return bme({circular:r,comparator:c,createState:s,equals:d,strict:o})}function jme(e){typeof requestAnimationFrame!="undefined"&&requestAnimationFrame(e)}function dT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):jme(s)};requestAnimationFrame(a)}function vN(e){"@babel/helpers - typeof";return vN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vN(e)}function Nme(e){return Ame(e)||Cme(e)||kme(e)||Sme()}function Sme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kme(e,t){if(e){if(typeof e=="string")return uT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uT(e,t)}}function uT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Cme(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ame(e){if(Array.isArray(e))return e}function _me(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Nme(o),c=l[0],d=l.slice(1);if(typeof c=="number"){dT(s.bind(null,d),c);return}s(c),dT(s.bind(null,d));return}vN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function u0(e){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u0(e)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function hT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(a){vD(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vD(e,t,r){return t=Eme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eme(e){var t=Tme(e,"string");return u0(t)==="symbol"?t:String(t)}function Tme(e,t){if(u0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(u0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ome=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},Pme=function(t){return t},Ime=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jm=function(t,r){return Object.keys(r).reduce(function(a,s){return hT(hT({},a),{},vD({},s,t(s,r[s])))},{})},mT=function(t,r,a){return t.map(function(s){return"".concat(Ime(s)," ").concat(r,"ms ").concat(a)}).join(",")};function Fme(e,t){return Mme(e)||Rme(e,t)||bD(e,t)||Dme()}function Dme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rme(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Mme(e){if(Array.isArray(e))return e}function Lme(e){return Ume(e)||Bme(e)||bD(e)||$me()}function $me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bD(e,t){if(e){if(typeof e=="string")return bN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bN(e,t)}}function Bme(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ume(e){if(Array.isArray(e))return bN(e)}function bN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Ny=1e-4,wD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},jD=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},pT=function(t,r){return function(a){var s=wD(t,r);return jD(s,a)}},Wme=function(t,r){return function(a){var s=wD(t,r),i=[].concat(Lme(s.map(function(o,l){return o*l}).slice(1)),[0]);return jD(i,a)}},gT=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=Fme(d,4);s=u[0],i=u[1],o=u[2],l=u[3]}}}var f=pT(s,o),h=pT(i,l),m=Wme(s,o),p=function(v){return v>1?1:v<0?0:v},x=function(v){for(var w=v>1?1:v,j=w,A=0;A<8;++A){var C=f(j)-w,S=m(j);if(Math.abs(C-w)<Ny||S<Ny)return h(j);j=p(j-C/S)}return h(j)};return x.isStepper=!1,x},zme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(u,f,h){var m=-(u-f)*a,p=h*i,x=h+(m-p)*l/1e3,y=h*l/1e3+u;return Math.abs(y-f)<Ny&&Math.abs(x)<Ny?[f,0]:[y,x]};return c.isStepper=!0,c.dt=l,c},Hme=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gT(s);case"spring":return zme();default:if(s.split("(")[0]==="cubic-bezier")return gT(s)}return typeof s=="function"?s:null};function f0(e){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f0(e)}function xT(e){return qme(e)||Gme(e)||ND(e)||Vme()}function Vme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gme(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qme(e){if(Array.isArray(e))return jN(e)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(a){wN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wN(e,t,r){return t=Kme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kme(e){var t=Xme(e,"string");return f0(t)==="symbol"?t:String(t)}function Xme(e,t){if(f0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(f0(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yme(e,t){return Qme(e)||Zme(e,t)||ND(e,t)||Jme()}function Jme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ND(e,t){if(e){if(typeof e=="string")return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(e,t)}}function jN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Zme(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Qme(e){if(Array.isArray(e))return e}var Sy=function(t,r,a){return t+(r-t)*a},NN=function(t){var r=t.from,a=t.to;return r!==a},e0e=function e(t,r,a){var s=jm(function(i,o){if(NN(o)){var l=t(o.from,o.to,o.velocity),c=Yme(l,2),d=c[0],u=c[1];return ja(ja({},o),{},{from:d,velocity:u})}return o},r);return a<1?jm(function(i,o){return NN(o)?ja(ja({},o),{},{velocity:Sy(o.velocity,s[i].velocity,a),from:Sy(o.from,s[i].from,a)}):o},r):e(t,s,a-1)};const t0e=function(e,t,r,a,s){var i=Ome(e,t),o=i.reduce(function(y,v){return ja(ja({},y),{},wN({},v,[e[v],t[v]]))},{}),l=i.reduce(function(y,v){return ja(ja({},y),{},wN({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,d,u,f=function(){return null},h=function(){return jm(function(v,w){return w.from},l)},m=function(){return!Object.values(l).filter(NN).length},p=function(v){d||(d=v);var w=v-d,j=w/r.dt;l=e0e(r,l,j),s(ja(ja(ja({},e),t),h())),d=v,m()||(c=requestAnimationFrame(f))},x=function(v){u||(u=v);var w=(v-u)/a,j=jm(function(C,S){return Sy.apply(void 0,xT(S).concat([r(w)]))},o);if(s(ja(ja(ja({},e),t),j)),w<1)c=requestAnimationFrame(f);else{var A=jm(function(C,S){return Sy.apply(void 0,xT(S).concat([r(1)]))},o);s(ja(ja(ja({},e),t),A))}};return f=r.isStepper?p:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}var r0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function n0e(e,t){if(e==null)return{};var r=a0e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function a0e(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Nw(e){return l0e(e)||o0e(e)||i0e(e)||s0e()}function s0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(e,t){if(e){if(typeof e=="string")return SN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SN(e,t)}}function o0e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l0e(e){if(Array.isArray(e))return SN(e)}function SN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(a){hm(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hm(e,t,r){return t=SD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d0e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,SD(a.key),a)}}function u0e(e,t,r){return t&&d0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SD(e){var t=f0e(e,"string");return Zu(t)==="symbol"?t:String(t)}function f0e(e,t){if(Zu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zu(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},kN(e,t)}function m0e(e){var t=p0e();return function(){var a=ky(e),s;if(t){var i=ky(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return CN(this,s)}}function CN(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AN(e)}function AN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p0e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}var Ci=function(e){h0e(r,e);var t=m0e(r);function r(a,s){var i;c0e(this,r),i=t.call(this,a,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(AN(i)),i.changeStyle=i.changeStyle.bind(AN(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),CN(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof h=="function")return i.state={style:d},CN(i);i.state={style:c?hm({},c,d):d}}else i.state={style:{}};return i}return u0e(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?hm({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(m);return}if(!(wme(s.to,u)&&s.canBegin&&s.isActive)){var p=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=p||d?f:s.to;if(this.state&&h){var y={style:c?hm({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(y)}this.runAnimation(Li(Li({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=t0e(o,l,Hme(d),c,this.changeStyle),p=function(){i.stopJSAnimation=m()};this.manager.start([h,u,p,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,f=d.duration,h=f===void 0?0:f,m=function(x,y,v){if(v===0)return x;var w=y.duration,j=y.easing,A=j===void 0?"ease":j,C=y.style,S=y.properties,k=y.onAnimationEnd,E=v>0?o[v-1]:y,T=S||Object.keys(C);if(typeof A=="function"||A==="spring")return[].concat(Nw(x),[i.runJSAnimation.bind(i,{from:E.style,to:C,duration:w,easing:A}),w]);var F=mT(T,w,A),O=Li(Li(Li({},E.style),C),{},{transition:F});return[].concat(Nw(x),[O,w,k]).filter(Pme)};return this.manager.start([c].concat(Nw(o.reduce(m,[u,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=_me());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var x=l?hm({},l,c):c,y=mT(Object.keys(x),o,d);p.start([u,i,Li(Li({},x),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=n0e(s,r0e),d=N.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var f=function(m){var p=m.props,x=p.style,y=x===void 0?{}:x,v=p.className,w=N.cloneElement(m,Li(Li({},c),{},{style:Li(Li({},y),u),className:v}));return w};return d===1?f(N.Children.only(i)):ne.createElement("div",null,N.Children.map(i,function(h){return f(h)}))}}]),r}(N.PureComponent);Ci.displayName="Animate";Ci.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ci.propTypes={from:jr.oneOfType([jr.object,jr.string]),to:jr.oneOfType([jr.object,jr.string]),attributeName:jr.string,duration:jr.number,begin:jr.number,easing:jr.oneOfType([jr.string,jr.func]),steps:jr.arrayOf(jr.shape({duration:jr.number.isRequired,style:jr.object.isRequired,easing:jr.oneOfType([jr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jr.func]),properties:jr.arrayOf("string"),onAnimationEnd:jr.func})),children:jr.oneOfType([jr.node,jr.func]),isActive:jr.bool,canBegin:jr.bool,onAnimationEnd:jr.func,shouldReAnimate:jr.bool,onAnimationStart:jr.func,onAnimationReStart:jr.func};function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ql.apply(null,arguments)}function kD(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;r[a]=e[a]}return r}function h0(e){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h0(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cy.apply(this,arguments)}function g0e(e,t){return b0e(e)||v0e(e,t)||y0e(e,t)||x0e()}function x0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y0e(e,t){if(e){if(typeof e=="string")return bT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bT(e,t)}}function bT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function v0e(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function b0e(e){if(Array.isArray(e))return e}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function jT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(a){w0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function w0e(e,t,r){return t=j0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j0e(e){var t=N0e(e,"string");return h0(t)=="symbol"?t:t+""}function N0e(e,t){if(h0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(h0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NT=function(t,r,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+a-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+a,",").concat(r+l*f[1])),u+="L ".concat(t+a,",").concat(r+s-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+a-c*f[2],",").concat(r+s)),u+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+s-l*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+a-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+a,",").concat(r+l*p,`
            L `).concat(t+a,",").concat(r+s-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t+a-c*p,",").concat(r+s,`
            L `).concat(t+c*p,",").concat(r+s,`
            A `).concat(p,",").concat(p,",0,0,").concat(d,",").concat(t,",").concat(r+s-l*p," Z")}else u="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return u},S0e=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return a>=d&&a<=u&&s>=f&&s<=h}return!1},k0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BS=function(t){var r=jT(jT({},k0e),t),a=N.useRef(),s=N.useState(-1),i=g0e(s,2),o=i[0],l=i[1];N.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var A=a.current.getTotalLength();A&&l(A)}catch(C){}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,h=r.radius,m=r.className,p=r.animationEasing,x=r.animationDuration,y=r.animationBegin,v=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var j=Rt("recharts-rectangle",m);return w?ne.createElement(Ci,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:x,animationEasing:p,isActive:w},function(A){var C=A.width,S=A.height,k=A.x,E=A.y;return ne.createElement(Ci,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:v,easing:p},ne.createElement("path",Cy({},jt(r,!0),{className:j,d:NT(k,E,C,S,h),ref:a})))}):ne.createElement("path",Cy({},jt(r,!0),{className:j,d:NT(c,d,u,f,h)}))},C0e=["points","className","baseLinePoints","connectNulls"];function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ku.apply(this,arguments)}function A0e(e,t){if(e==null)return{};var r=_0e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function _0e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ST(e){return P0e(e)||O0e(e)||T0e(e)||E0e()}function E0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T0e(e,t){if(e){if(typeof e=="string")return _N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _N(e,t)}}function O0e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P0e(e){if(Array.isArray(e))return _N(e)}function _N(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var kT=function(t){return t&&t.x===+t.x&&t.y===+t.y},I0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(a){kT(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),kT(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Nm=function(t,r){var a=I0e(t);r&&(a=[a.reduce(function(i,o){return[].concat(ST(i),ST(o))},[])]);var s=a.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},F0e=function(t,r,a){var s=Nm(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Nm(r.reverse(),a).slice(1))},CD=function(t){var r=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,o=A0e(t,C0e);if(!r||!r.length)return null;var l=Rt("recharts-polygon",a);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=F0e(r,s,i);return ne.createElement("g",{className:l},ne.createElement("path",ku({},jt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?ne.createElement("path",ku({},jt(o,!0),{fill:"none",d:Nm(r,i)})):null,c?ne.createElement("path",ku({},jt(o,!0),{fill:"none",d:Nm(s,i)})):null)}var u=Nm(r,i);return ne.createElement("path",ku({},jt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},EN.apply(this,arguments)}var up=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,o=Rt("recharts-dot",i);return r===+r&&a===+a&&s===+s?N.createElement("circle",EN({},jt(t,!1),Vx(t),{className:o,cx:r,cy:a,r:s})):null};function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}var D0e=["x","y","top","left","width","height","className"];function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},TN.apply(this,arguments)}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function R0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(a){M0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function M0e(e,t,r){return t=L0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L0e(e){var t=$0e(e,"string");return m0(t)=="symbol"?t:t+""}function $0e(e,t){if(m0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(m0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B0e(e,t){if(e==null)return{};var r=U0e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function U0e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var W0e=function(t,r,a,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(a)},z0e=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,h=t.height,m=h===void 0?0:h,p=t.className,x=B0e(t,D0e),y=R0e({x:a,y:i,top:l,left:d,width:f,height:m},x);return!Qe(a)||!Qe(i)||!Qe(f)||!Qe(m)||!Qe(l)||!Qe(d)?null:ne.createElement("path",TN({},jt(y,!0),{className:Rt("recharts-cross",p),d:W0e(a,i,f,m,l,d)}))},H0e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function p0(e){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p0(e)}function V0e(e,t){if(e==null)return{};var r=G0e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function G0e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ul.apply(this,arguments)}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function g0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(a){q0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function q0e(e,t,r){return t=K0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K0e(e){var t=X0e(e,"string");return p0(t)=="symbol"?t:t+""}function X0e(e,t){if(p0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(p0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y0e=function(t,r,a,s){var i="";return s.forEach(function(o,l){var c=pr(r,a,t,o);l?i+="L ".concat(c.x,",").concat(c.y):i+="M ".concat(c.x,",").concat(c.y)}),i+="Z",i},J0e=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.polarAngles,l=t.radialLines;if(!o||!o.length||!l)return null;var c=g0({stroke:"#ccc"},jt(t,!1));return ne.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(d){var u=pr(r,a,s,d),f=pr(r,a,i,d);return ne.createElement("line",ul({},c,{key:"line-".concat(d),x1:u.x,y1:u.y,x2:f.x,y2:f.y}))}))},Z0e=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.index,o=g0(g0({stroke:"#ccc"},jt(t,!1)),{},{fill:"none"});return ne.createElement("circle",ul({},o,{className:Rt("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(i),cx:r,cy:a,r:s}))},Q0e=function(t){var r=t.radius,a=t.index,s=g0(g0({stroke:"#ccc"},jt(t,!1)),{},{fill:"none"});return ne.createElement("path",ul({},s,{className:Rt("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(a),d:Y0e(r,t.cx,t.cy,t.polarAngles)}))},epe=function(t){var r=t.polarRadius,a=t.gridType;return!r||!r.length?null:ne.createElement("g",{className:"recharts-polar-grid-concentric"},r.map(function(s,i){var o=i;return a==="circle"?ne.createElement(Z0e,ul({key:o},t,{radius:s,index:i})):ne.createElement(Q0e,ul({key:o},t,{radius:s,index:i}))}))},AD=function(t){var r=t.cx,a=r===void 0?0:r,s=t.cy,i=s===void 0?0:s,o=t.innerRadius,l=o===void 0?0:o,c=t.outerRadius,d=c===void 0?0:c,u=t.gridType,f=u===void 0?"polygon":u,h=t.radialLines,m=h===void 0?!0:h,p=V0e(t,H0e);return d<=0?null:ne.createElement("g",{className:"recharts-polar-grid"},ne.createElement(J0e,ul({cx:a,cy:i,innerRadius:l,outerRadius:d,gridType:f,radialLines:m},p)),ne.createElement(epe,ul({cx:a,cy:i,innerRadius:l,outerRadius:d,gridType:f,radialLines:m},p)))};AD.displayName="PolarGrid";var tpe=lb,rpe=IF,npe=_o;function ape(e,t){return e&&e.length?tpe(e,npe(t),rpe):void 0}var spe=ape;const ipe=yr(spe);var ope=lb,lpe=_o,cpe=FF;function dpe(e,t){return e&&e.length?ope(e,lpe(t),cpe):void 0}var upe=dpe;const fpe=yr(upe);var hpe=["cx","cy","angle","ticks","axisLine"],mpe=["ticks","tick","angle","tickFormatter","stroke"];function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sm.apply(this,arguments)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(a){hb(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ET(e,t){if(e==null)return{};var r=ppe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ppe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function gpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TT(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ED(a.key),a)}}function xpe(e,t,r){return t&&TT(e.prototype,t),r&&TT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ype(e,t,r){return t=Ay(t),vpe(e,_D()?Reflect.construct(t,r||[],Ay(e).constructor):t.apply(e,r))}function vpe(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bpe(e)}function bpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_D=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(e)}function wpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ON(e,t)}function hb(e,t,r){return t=ED(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ED(e){var t=jpe(e,"string");return Qu(t)=="symbol"?t:t+""}function jpe(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Qu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Id=function(e){function t(){return gpe(this,t),ype(this,t,arguments)}return wpe(t,e),xpe(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return pr(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=ipe(l,function(u){return u.coordinate||0}),d=fpe(l,function(u){return u.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=a.axisLine,d=ET(a,hpe),u=l.reduce(function(p,x){return[Math.min(p[0],x.coordinate),Math.max(p[1],x.coordinate)]},[1/0,-1/0]),f=pr(s,i,u[0],o),h=pr(s,i,u[1],o),m=Pc(Pc(Pc({},jt(d,!1)),{},{fill:"none"},jt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ne.createElement("line",Sm({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,u=ET(s,mpe),f=this.getTickTextAnchor(),h=jt(u,!1),m=jt(o,!1),p=i.map(function(x,y){var v=a.getTickValueCoord(x),w=Pc(Pc(Pc(Pc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:d},m),{},{index:y},v),{},{payload:x});return ne.createElement(Zt,Sm({className:Rt("recharts-polar-radius-axis-tick",dD(o)),key:"tick-".concat(x.coordinate)},ol(a.props,x,y)),t.renderTickItem(o,w,c?c(x.value,y):x.value))});return ne.createElement(Zt,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,o=a.tick;return!s||!s.length?null:ne.createElement(Zt,{className:Rt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ia.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return ne.isValidElement(a)?o=ne.cloneElement(a,s):Ct(a)?o=a(s):o=ne.createElement(ud,Sm({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(N.PureComponent);hb(Id,"displayName","PolarRadiusAxis");hb(Id,"axisType","radiusAxis");hb(Id,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Uc.apply(this,arguments)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(a){mb(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Npe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PT(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,OD(a.key),a)}}function Spe(e,t,r){return t&&PT(e.prototype,t),r&&PT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kpe(e,t,r){return t=_y(t),Cpe(e,TD()?Reflect.construct(t,r||[],_y(e).constructor):t.apply(e,r))}function Cpe(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ape(e)}function Ape(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(TD=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(e)}function _pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},PN(e,t)}function mb(e,t,r){return t=OD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OD(e){var t=Epe(e,"string");return ef(t)=="symbol"?t:t+""}function Epe(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ef(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tpe=Math.PI/180,IT=1e-5,Fd=function(e){function t(){return Npe(this,t),kpe(this,t,arguments)}return _pe(t,e),Spe(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,u=d||8,f=pr(i,o,l,a.coordinate),h=pr(i,o,l+(c==="inner"?-1:1)*u,a.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*Tpe),o;return i>IT?o=s==="outer"?"start":"end":i<-IT?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.radius,l=a.axisLine,c=a.axisLineType,d=Ic(Ic({},jt(this.props,!1)),{},{fill:"none"},jt(l,!1));if(c==="circle")return ne.createElement(up,Uc({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var u=this.props.ticks,f=u.map(function(h){return pr(s,i,o,h.coordinate)});return ne.createElement(CD,Uc({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,u=jt(this.props,!1),f=jt(o,!1),h=Ic(Ic({},u),{},{fill:"none"},jt(l,!1)),m=i.map(function(p,x){var y=a.getTickLineCoord(p),v=a.getTickTextAnchor(p),w=Ic(Ic(Ic({textAnchor:v},u),{},{stroke:"none",fill:d},f),{},{index:x,payload:p,x:y.x2,y:y.y2});return ne.createElement(Zt,Uc({className:Rt("recharts-polar-angle-axis-tick",dD(o)),key:"tick-".concat(p.coordinate)},ol(a.props,p,x)),l&&ne.createElement("line",Uc({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&t.renderTickItem(o,w,c?c(p.value,x):p.value))});return ne.createElement(Zt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!s||!s.length?null:ne.createElement(Zt,{className:Rt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var o;return ne.isValidElement(a)?o=ne.cloneElement(a,s):Ct(a)?o=a(s):o=ne.createElement(ud,Uc({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(N.PureComponent);mb(Fd,"displayName","PolarAngleAxis");mb(Fd,"axisType","angleAxis");mb(Fd,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ope=EI,Ppe=Ope(Object.getPrototypeOf,Object),Ipe=Ppe,Fpe=ml,Dpe=Ipe,Rpe=pl,Mpe="[object Object]",Lpe=Function.prototype,$pe=Object.prototype,PD=Lpe.toString,Bpe=$pe.hasOwnProperty,Upe=PD.call(Object);function Wpe(e){if(!Rpe(e)||Fpe(e)!=Mpe)return!1;var t=Dpe(e);if(t===null)return!0;var r=Bpe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&PD.call(r)==Upe}var zpe=Wpe;const Hpe=yr(zpe);var Vpe=ml,Gpe=pl,qpe="[object Boolean]";function Kpe(e){return e===!0||e===!1||Gpe(e)&&Vpe(e)==qpe}var Xpe=Kpe;const Ype=yr(Xpe);function x0(e){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x0(e)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ey.apply(this,arguments)}function Jpe(e,t){return tge(e)||ege(e,t)||Qpe(e,t)||Zpe()}function Zpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qpe(e,t){if(e){if(typeof e=="string")return FT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FT(e,t)}}function FT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ege(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function tge(e){if(Array.isArray(e))return e}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function RT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(a){rge(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rge(e,t,r){return t=nge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nge(e){var t=age(e,"string");return x0(t)=="symbol"?t:t+""}function age(e,t){if(x0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(x0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MT=function(t,r,a,s,i){var o=a-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+a,",").concat(r),l+="L ".concat(t+a-o/2,",").concat(r+i),l+="L ".concat(t+a-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},sge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ige=function(t){var r=RT(RT({},sge),t),a=N.useRef(),s=N.useState(-1),i=Jpe(s,2),o=i[0],l=i[1];N.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var j=a.current.getTotalLength();j&&l(j)}catch(A){}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,p=r.animationEasing,x=r.animationDuration,y=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var w=Rt("recharts-trapezoid",m);return v?ne.createElement(Ci,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:h,x:c,y:d},duration:x,animationEasing:p,isActive:v},function(j){var A=j.upperWidth,C=j.lowerWidth,S=j.height,k=j.x,E=j.y;return ne.createElement(Ci,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:p},ne.createElement("path",Ey({},jt(r,!0),{className:w,d:MT(k,E,A,C,S),ref:a})))}):ne.createElement("g",null,ne.createElement("path",Ey({},jt(r,!0),{className:w,d:MT(c,d,u,f,h)})))},oge=["option","shapeType","propTransformer","activeClassName","isActive"];function y0(e){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y0(e)}function lge(e,t){if(e==null)return{};var r=cge(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function cge(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(a){dge(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dge(e,t,r){return t=uge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uge(e){var t=fge(e,"string");return y0(t)=="symbol"?t:t+""}function fge(e,t){if(y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(y0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hge(e,t){return Ty(Ty({},t),e)}function mge(e,t){return e==="symbols"}function $T(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ne.createElement(BS,r);case"trapezoid":return ne.createElement(ige,r);case"sector":return ne.createElement(mD,r);case"symbols":if(mge(t))return ne.createElement(nS,r);break;default:return null}}function pge(e){return N.isValidElement(e)?e.props:e}function US(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?hge:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=lge(e,oge),d;if(N.isValidElement(t))d=N.cloneElement(t,Ty(Ty({},c),pge(t)));else if(Ct(t))d=t(c);else if(Hpe(t)&&!Ype(t)){var u=s(t,c);d=ne.createElement($T,{shapeType:r,elementProps:u})}else{var f=c;d=ne.createElement($T,{shapeType:r,elementProps:f})}return l?ne.createElement(Zt,{className:o},d):d}function pb(e,t){return t!=null&&"trapezoids"in e.props}function gb(e,t){return t!=null&&"sectors"in e.props}function v0(e,t){return t!=null&&"points"in e.props}function gge(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function xge(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function yge(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function vge(e,t){var r;return pb(e,t)?r=gge:gb(e,t)?r=xge:v0(e,t)&&(r=yge),r}function bge(e,t){var r;return pb(e,t)?r="trapezoids":gb(e,t)?r="sectors":v0(e,t)&&(r="points"),r}function wge(e,t){if(pb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(gb(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return v0(e,t)?t.payload:{}}function jge(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=bge(r,t),i=wge(r,t),o=a.filter(function(c,d){var u=Od(i,c),f=r.props[s].filter(function(p){var x=vge(r,t);return x(p,t)}),h=r.props[s].indexOf(f[f.length-1]),m=d===h;return u&&m}),l=a.indexOf(o[o.length-1]);return l}var Fx;function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cu.apply(this,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(a){gi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Nge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UT(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FD(a.key),a)}}function Sge(e,t,r){return t&&UT(e.prototype,t),r&&UT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kge(e,t,r){return t=Oy(t),Cge(e,ID()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function Cge(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Age(e)}function Age(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ID(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ID=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function _ge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IN(e,t)}function IN(e,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},IN(e,t)}function gi(e,t,r){return t=FD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FD(e){var t=Ege(e,"string");return tf(t)=="symbol"?t:t+""}function Ege(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(tf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var so=function(e){function t(r){var a;return Nge(this,t),a=kge(this,t,[r]),gi(a,"pieRef",null),gi(a,"sectorRefs",[]),gi(a,"id",Rf("recharts-pie-")),gi(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Ct(s)&&s()}),gi(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Ct(s)&&s()}),a.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},a}return _ge(t,e),Sge(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=jt(this.props,!1),f=jt(o,!1),h=jt(l,!1),m=o&&o.offsetRadius||20,p=a.map(function(x,y){var v=(x.startAngle+x.endAngle)/2,w=pr(x.cx,x.cy,x.outerRadius+m,v),j=Gr(Gr(Gr(Gr({},u),x),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(w.x,x.cx)},w),A=Gr(Gr(Gr(Gr({},u),x),{},{fill:"none",stroke:x.fill},h),{},{index:y,points:[pr(x.cx,x.cy,x.outerRadius,v),w]}),C=c;return Mt(c)&&Mt(d)?C="value":Mt(c)&&(C=d),ne.createElement(Zt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,A,"line"),t.renderLabelItem(o,j,hn(x,C)))});return ne.createElement(Zt,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return a.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&a.length!==1)return null;var f=s.isActiveIndex(u),h=c&&s.hasActiveIndex()?c:null,m=f?o:h,p=Gr(Gr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return ne.createElement(Zt,Cu({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},ol(s.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),ne.createElement(US,Cu({option:m,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return ne.createElement(Ci,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var x=p.t,y=[],v=i&&i[0],w=v.startAngle;return i.forEach(function(j,A){var C=h&&h[A],S=A>0?Gs(j,"paddingAngle",0):0;if(C){var k=In(C.endAngle-C.startAngle,j.endAngle-j.startAngle),E=Gr(Gr({},j),{},{startAngle:w+S,endAngle:w+k(x)+S});y.push(E),w=E.endAngle}else{var T=j.endAngle,F=j.startAngle,O=In(0,T-F),P=O(x),W=Gr(Gr({},j),{},{startAngle:w+S,endAngle:w+P+S});y.push(W),w=W.endAngle}}),ne.createElement(Zt,null,a.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Od(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,u=s.cy,f=s.innerRadius,h=s.outerRadius,m=s.isAnimationActive,p=this.state.isAnimationFinished;if(i||!o||!o.length||!Qe(d)||!Qe(u)||!Qe(f)||!Qe(h))return null;var x=Rt("recharts-pie",l);return ne.createElement(Zt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(v){a.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),ia.renderCallByParent(this.props,null,!1),(!m||p)&&Ji.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(ne.isValidElement(a))return ne.cloneElement(a,s);if(Ct(a))return a(s);var o=Rt("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return ne.createElement(jy,Cu({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,s,i){if(ne.isValidElement(a))return ne.cloneElement(a,s);var o=i;if(Ct(a)&&(o=a(s),ne.isValidElement(o)))return o;var l=Rt("recharts-pie-label-text",typeof a!="boolean"&&!Ct(a)?a.className:"");return ne.createElement(ud,Cu({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(N.PureComponent);Fx=so;gi(so,"displayName","Pie");gi(so,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});gi(so,"parseDeltaAngle",function(e,t){var r=ca(t-e),a=Math.min(Math.abs(t-e),360);return r*a});gi(so,"getRealPieData",function(e){var t=e.data,r=e.children,a=jt(e,!1),s=Ss(r,_d);return t&&t.length?t.map(function(i,o){return Gr(Gr(Gr({payload:i},a),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Gr(Gr({},a),i.props)}):[]});gi(so,"parseCoordinateOfPie",function(e,t){var r=t.top,a=t.left,s=t.width,i=t.height,o=cD(s,i),l=a+ss(e.cx,s,s/2),c=r+ss(e.cy,i,i/2),d=ss(e.innerRadius,o,0),u=ss(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});gi(so,"getComposedData",function(e){var t=e.item,r=e.offset,a=t.type.defaultProps!==void 0?Gr(Gr({},t.type.defaultProps),t.props):t.props,s=Fx.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,o=a.startAngle,l=a.endAngle,c=a.paddingAngle,d=a.dataKey,u=a.nameKey,f=a.valueKey,h=a.tooltipType,m=Math.abs(a.minAngle),p=Fx.parseCoordinateOfPie(a,r),x=Fx.parseDeltaAngle(o,l),y=Math.abs(x),v=d;Mt(d)&&Mt(f)?(Yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Mt(d)&&(Yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var w=s.filter(function(E){return hn(E,v,0)!==0}).length,j=(y>=360?w:w-1)*c,A=y-w*m-j,C=s.reduce(function(E,T){var F=hn(T,v,0);return E+(Qe(F)?F:0)},0),S;if(C>0){var k;S=s.map(function(E,T){var F=hn(E,v,0),O=hn(E,u,T),P=(Qe(F)?F:0)/C,W;T?W=k.endAngle+ca(x)*c*(F!==0?1:0):W=o;var q=W+ca(x)*((F!==0?m:0)+P*A),D=(W+q)/2,M=(p.innerRadius+p.outerRadius)/2,H=[{name:O,value:F,payload:E,dataKey:v,type:h}],ee=pr(p.cx,p.cy,M,D);return k=Gr(Gr(Gr({percent:P,cornerRadius:i,name:O,tooltipPayload:H,midAngle:D,middleRadius:M,tooltipPosition:ee},E),p),{},{value:hn(E,v),startAngle:W,endAngle:q,payload:E,paddingAngle:ca(x)*c}),k})}return Gr(Gr({},p),{},{sectors:S,data:s})});function Tge(e){return e&&e.length?e[0]:void 0}var Oge=Tge,Pge=Oge;const Ige=yr(Pge);var Fge=["key"];function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function Dge(e,t){if(e==null)return{};var r=Rge(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Rge(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Py.apply(this,arguments)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(a){Go(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zT(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,RD(a.key),a)}}function Lge(e,t,r){return t&&zT(e.prototype,t),r&&zT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ge(e,t,r){return t=Iy(t),Bge(e,DD()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function Bge(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uge(e)}function Uge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(DD=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function Wge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},FN(e,t)}function Go(e,t,r){return t=RD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RD(e){var t=zge(e,"string");return rf(t)=="symbol"?t:t+""}function zge(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(rf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ed=function(e){function t(){var r;Mge(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=$ge(this,t,[].concat(s)),Go(r,"state",{isAnimationFinished:!1}),Go(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ct(o)&&o()}),Go(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ct(o)&&o()}),Go(r,"handleMouseEnter",function(o){var l=r.props.onMouseEnter;l&&l(r.props,o)}),Go(r,"handleMouseLeave",function(o){var l=r.props.onMouseLeave;l&&l(r.props,o)}),r}return Wge(t,e),Lge(t,[{key:"renderDots",value:function(a){var s=this.props,i=s.dot,o=s.dataKey,l=jt(this.props,!1),c=jt(i,!0),d=a.map(function(u,f){var h=ts(ts(ts({key:"dot-".concat(f),r:3},l),c),{},{dataKey:o,cx:u.x,cy:u.y,index:f,payload:u});return t.renderDotItem(i,h)});return ne.createElement(Zt,{className:"recharts-radar-dots"},d)}},{key:"renderPolygonStatically",value:function(a){var s=this.props,i=s.shape,o=s.dot,l=s.isRange,c=s.baseLinePoints,d=s.connectNulls,u;return ne.isValidElement(i)?u=ne.cloneElement(i,ts(ts({},this.props),{},{points:a})):Ct(i)?u=i(ts(ts({},this.props),{},{points:a})):u=ne.createElement(CD,Py({},jt(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:a,baseLinePoints:l?c:null,connectNulls:d})),ne.createElement(Zt,{className:"recharts-radar-polygon"},u,o?this.renderDots(a):null)}},{key:"renderPolygonWithAnimation",value:function(){var a=this,s=this.props,i=s.points,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,f=this.state.prevPoints;return ne.createElement(Ci,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,p=f&&f.length/i.length,x=i.map(function(y,v){var w=f&&f[Math.floor(v*p)];if(w){var j=In(w.x,y.x),A=In(w.y,y.y);return ts(ts({},y),{},{x:j(m),y:A(m)})}var C=In(y.cx,y.x),S=In(y.cy,y.y);return ts(ts({},y),{},{x:C(m),y:S(m)})});return a.renderPolygonStatically(x)})}},{key:"renderPolygon",value:function(){var a=this.props,s=a.points,i=a.isAnimationActive,o=a.isRange,l=this.state.prevPoints;return i&&s&&s.length&&!o&&(!l||!Od(l,s))?this.renderPolygonWithAnimation():this.renderPolygonStatically(s)}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.className,o=a.points,l=a.isAnimationActive;if(s||!o||!o.length)return null;var c=this.state.isAnimationFinished,d=Rt("recharts-radar",i);return ne.createElement(Zt,{className:d},this.renderPolygon(),(!l||c)&&Ji.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"renderDotItem",value:function(a,s){var i;if(ne.isValidElement(a))i=ne.cloneElement(a,s);else if(Ct(a))i=a(s);else{var o=s.key,l=Dge(s,Fge);i=ne.createElement(up,Py({},l,{key:o,className:Rt("recharts-radar-dot",typeof a!="boolean"?a.className:"")}))}return i}}])}(N.PureComponent);Go(ed,"displayName","Radar");Go(ed,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!wi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Go(ed,"getComposedData",function(e){var t=e.radiusAxis,r=e.angleAxis,a=e.displayedData,s=e.dataKey,i=e.bandSize,o=r.cx,l=r.cy,c=!1,d=[],u=r.type!=="number"&&i!=null?i:0;a.forEach(function(h,m){var p=hn(h,r.dataKey,m),x=hn(h,s),y=r.scale(p)+u,v=Array.isArray(x)?fD(x):x,w=Mt(v)?void 0:t.scale(v);Array.isArray(x)&&x.length>=2&&(c=!0),d.push(ts(ts({},pr(o,l,w,y)),{},{name:p,value:x,cx:o,cy:l,radius:w,angle:y,payload:h}))});var f=[];return c&&d.forEach(function(h){if(Array.isArray(h.value)){var m=Ige(h.value),p=Mt(m)?void 0:t.scale(m);f.push(ts(ts({},h),{},{radius:p},pr(o,l,p,h.angle)))}else f.push(h)}),{points:d,isRange:c,baseLinePoints:f}});function b0(e){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b0(e)}function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},DN.apply(this,arguments)}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(a){Hge(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hge(e,t,r){return t=Vge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vge(e){var t=Gge(e,"string");return b0(t)=="symbol"?t:t+""}function Gge(e,t){if(b0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(b0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VT(e){return typeof e=="string"?parseInt(e,10):e}function qge(e,t){var r="".concat(t.cx||e.cx),a=Number(r),s="".concat(t.cy||e.cy),i=Number(s);return Sw(Sw(Sw({},t),e),{},{cx:a,cy:i})}function GT(e){return ne.createElement(US,DN({shapeType:"sector",propTransformer:qge},e))}var Kge=["shape","activeShape","activeIndex","cornerRadius"],Xge=["value","background"];function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fy.apply(this,arguments)}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(a){td(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KT(e,t){if(e==null)return{};var r=Yge(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Yge(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Jge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XT(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LD(a.key),a)}}function Zge(e,t,r){return t&&XT(e.prototype,t),r&&XT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qge(e,t,r){return t=Dy(t),exe(e,MD()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function exe(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return txe(e)}function txe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(MD=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}function rxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RN(e,t)}function RN(e,t){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},RN(e,t)}function td(e,t,r){return t=LD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LD(e){var t=nxe(e,"string");return nf(t)=="symbol"?t:t+""}function nxe(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(nf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fp=function(e){function t(){var r;Jge(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Qge(this,t,[].concat(s)),td(r,"state",{isAnimationFinished:!1}),td(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ct(o)&&o()}),td(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ct(o)&&o()}),r}return rxe(t,e),Zge(t,[{key:"getDeltaAngle",value:function(){var a=this.props,s=a.startAngle,i=a.endAngle,o=ca(i-s),l=Math.min(Math.abs(i-s),360);return o*l}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,o=i.shape,l=i.activeShape,c=i.activeIndex,d=i.cornerRadius,u=KT(i,Kge),f=jt(u,!1);return a.map(function(h,m){var p=m===c,x=ta(ta(ta(ta({},f),{},{cornerRadius:VT(d)},h),ol(s.props,h,m)),{},{className:"recharts-radial-bar-sector ".concat(h.className),forceCornerRadius:u.forceCornerRadius,cornerIsExternal:u.cornerIsExternal,isActive:p,option:p?l:o});return ne.createElement(GT,Fy({},x,{key:"sector-".concat(m)}))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,f=this.state.prevData;return ne.createElement(Ci,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radialBar-".concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(h){var m=h.t,p=i.map(function(x,y){var v=f&&f[y];if(v){var w=In(v.startAngle,x.startAngle),j=In(v.endAngle,x.endAngle);return ta(ta({},x),{},{startAngle:w(m),endAngle:j(m)})}var A=x.endAngle,C=x.startAngle,S=In(C,A);return ta(ta({},x),{},{endAngle:S(m)})});return ne.createElement(Zt,null,a.renderSectorsStatically(p))})}},{key:"renderSectors",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Od(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"renderBackground",value:function(a){var s=this,i=this.props.cornerRadius,o=jt(this.props.background,!1);return a.map(function(l,c){l.value;var d=l.background,u=KT(l,Xge);if(!d)return null;var f=ta(ta(ta(ta(ta({cornerRadius:VT(i)},u),{},{fill:"#eee"},d),o),ol(s.props,l,c)),{},{index:c,className:Rt("recharts-radial-bar-background-sector",o==null?void 0:o.className),option:d,isActive:!1});return ne.createElement(GT,Fy({},f,{key:"sector-".concat(c)}))})}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,l=a.background,c=a.isAnimationActive;if(s||!i||!i.length)return null;var d=this.state.isAnimationFinished,u=Rt("recharts-area",o);return ne.createElement(Zt,{className:u},l&&ne.createElement(Zt,{className:"recharts-radial-bar-background"},this.renderBackground(i)),ne.createElement(Zt,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!c||d)&&Ji.renderCallByParent(ta({},this.props),i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(N.PureComponent);td(fp,"displayName","RadialBar");td(fp,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!wi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});td(fp,"getComposedData",function(e){var t=e.item,r=e.props,a=e.radiusAxis,s=e.radiusAxisTicks,i=e.angleAxis,o=e.angleAxisTicks,l=e.displayedData,c=e.dataKey,d=e.stackedData,u=e.barPosition,f=e.bandSize,h=e.dataStartIndex,m=nD(u,t);if(!m)return null;var p=i.cx,x=i.cy,y=r.layout,v=t.props,w=v.children,j=v.minPointSize,A=y==="radial"?i:a,C=d?A.scale.domain():null,S=iD({numericAxis:A}),k=Ss(w,_d),E=l.map(function(T,F){var O,P,W,q,D,M;if(d?O=aD(d[h+F],C):(O=hn(T,c),Array.isArray(O)||(O=[S,O])),y==="radial"){P=yy({axis:a,ticks:s,bandSize:f,offset:m.offset,entry:T,index:F}),D=i.scale(O[1]),q=i.scale(O[0]),W=P+m.size;var H=D-q;if(Math.abs(j)>0&&Math.abs(H)<Math.abs(j)){var ee=ca(H||j)*(Math.abs(j)-Math.abs(H));D+=ee}M={background:{cx:p,cy:x,innerRadius:P,outerRadius:W,startAngle:r.startAngle,endAngle:r.endAngle}}}else{P=a.scale(O[0]),W=a.scale(O[1]),q=yy({axis:i,ticks:o,bandSize:f,offset:m.offset,entry:T,index:F}),D=q+m.size;var X=W-P;if(Math.abs(j)>0&&Math.abs(X)<Math.abs(j)){var de=ca(X||j)*(Math.abs(j)-Math.abs(X));W+=de}}return ta(ta(ta(ta({},T),M),{},{payload:T,value:d?O:O[1],cx:p,cy:x,innerRadius:P,outerRadius:W,startAngle:q,endAngle:D},k&&k[F]&&k[F].props),{},{tooltipPayload:[LS(t,T)],tooltipPosition:pr(p,x,(P+W)/2,(q+D)/2)})});return{data:E,layout:y}});var axe=Math.ceil,sxe=Math.max;function ixe(e,t,r,a){for(var s=-1,i=sxe(axe((t-e)/(r||1)),0),o=Array(i);i--;)o[a?i:++s]=e,e+=r;return o}var oxe=ixe,lxe=KI,YT=1/0,cxe=17976931348623157e292;function dxe(e){if(!e)return e===0?e:0;if(e=lxe(e),e===YT||e===-YT){var t=e<0?-1:1;return t*cxe}return e===e?e:0}var $D=dxe,uxe=oxe,fxe=tb,kw=$D;function hxe(e){return function(t,r,a){return a&&typeof a!="number"&&fxe(t,r,a)&&(r=a=void 0),t=kw(t),r===void 0?(r=t,t=0):r=kw(r),a=a===void 0?t<r?1:-1:kw(a),uxe(t,r,a,e)}}var mxe=hxe,pxe=mxe,gxe=pxe(),xxe=gxe;const Ry=yr(xxe);function w0(e){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w0(e)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ZT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(a){BD(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BD(e,t,r){return t=yxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yxe(e){var t=vxe(e,"string");return w0(t)=="symbol"?t:t+""}function vxe(e,t){if(w0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(w0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bxe=["Webkit","Moz","O","ms"],wxe=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=bxe.reduce(function(i,o){return ZT(ZT({},i),{},BD({},o+a,r))},{});return s[t]=r,s};function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},My.apply(this,arguments)}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(a){Ms(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eO(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WD(a.key),a)}}function Nxe(e,t,r){return t&&eO(e.prototype,t),r&&eO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sxe(e,t,r){return t=Ly(t),kxe(e,UD()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function kxe(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cxe(e)}function Cxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(UD=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function Axe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MN(e,t)}function MN(e,t){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},MN(e,t)}function Ms(e,t,r){return t=WD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WD(e){var t=_xe(e,"string");return af(t)=="symbol"?t:t+""}function _xe(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(af(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Exe=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=bm().domain(Ry(0,c)).range([i,i+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(s),scale:d,scaleValues:u}},tO=function(t){return t.changedTouches&&!!t.changedTouches.length},sf=function(e){function t(r){var a;return jxe(this,t),a=Sxe(this,t,[r]),Ms(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Ms(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Ms(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),Ms(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Ms(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Ms(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Ms(a,"handleSlideDragStart",function(s){var i=tO(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return Axe(t,e),Nxe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(s,i),h=Math.max(s,i),m=t.getIndexInRange(o,f),p=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:p===u?u:p-p%c}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=hn(i[a],l,a);return Ct(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,p=c.onChange,x=a.pageX-i;x>0?x=Math.min(x,d+u-f-l,d+u-f-o):x<0&&(x=Math.max(x,d-o,d-l));var y=this.getIndex({startX:o+x,endX:l+x});(y.startIndex!==h||y.endIndex!==m)&&p&&p(y),this.setState({startX:o+x,endX:l+x,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=tO(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,f=u.x,h=u.width,m=u.travellerWidth,p=u.onChange,x=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},w=a.pageX-i;w>0?w=Math.min(w,f+h-m-d):w<0&&(w=Math.max(w,f-d)),v[o]=d+w;var j=this.getIndex(v),A=j.startIndex,C=j.endIndex,S=function(){var E=y.length-1;return o==="startX"&&(l>c?A%x===0:C%x===0)||l<c&&C===E||o==="endX"&&(l>c?C%x===0:A%x===0)||l>c&&C===E};this.setState(Ms(Ms({},o,d+w),"brushMoveStartX",a.pageX),function(){p&&S()&&p(j)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],f=l.indexOf(u);if(f!==-1){var h=f+a;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=d||s==="endX"&&m<=c||this.setState(Ms({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.fill,d=a.stroke;return ne.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.data,d=a.children,u=a.padding,f=N.Children.only(d);return f?ne.cloneElement(f,{x:s,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,p=c.data,x=c.startIndex,y=c.endIndex,v=Math.max(a,this.props.x),w=Cw(Cw({},jt(this.props,!1)),{},{x:v,y:d,width:u,height:f}),j=m||"Min value: ".concat((i=p[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=p[y])===null||o===void 0?void 0:o.name);return ne.createElement(Zt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(a,s)+d,f=Math.max(Math.abs(s-a)-d,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,d=a.stroke,u=this.state,f=u.startX,h=u.endX,m=5,p={pointerEvents:"none",fill:d};return ne.createElement(Zt,{className:"recharts-brush-texts"},ne.createElement(ud,My({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},p),this.getTextOfTick(s)),ne.createElement(ud,My({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},p),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,l=a.x,c=a.y,d=a.width,u=a.height,f=a.alwaysShowText,h=this.state,m=h.startX,p=h.endX,x=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,w=h.isTravellerFocused;if(!s||!s.length||!Qe(l)||!Qe(c)||!Qe(d)||!Qe(u)||d<=0||u<=0)return null;var j=Rt("recharts-brush",i),A=ne.Children.count(o)===1,C=wxe("userSelect","none");return ne.createElement(Zt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(x||y||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,l=a.height,c=a.stroke,d=Math.floor(i+l/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),ne.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return ne.isValidElement(a)?i=ne.cloneElement(a,s):Ct(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,l=a.x,c=a.travellerWidth,d=a.updateId,u=a.startIndex,f=a.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return Cw({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?Exe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>s?l=c:o=c}return s>=a[l]?l:o}}])}(N.PureComponent);Ms(sf,"displayName","Brush");Ms(sf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Txe=dS;function Oxe(e,t){var r;return Txe(e,function(a,s,i){return r=t(a,s,i),!r}),!!r}var Pxe=Oxe,Ixe=wI,Fxe=_o,Dxe=Pxe,Rxe=_s,Mxe=tb;function Lxe(e,t,r){var a=Rxe(e)?Ixe:Dxe;return r&&Mxe(e,t,r)&&(t=void 0),a(e,Fxe(t))}var $xe=Lxe;const Bxe=yr($xe);var wo=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},rO=zI;function Uxe(e,t,r){t=="__proto__"&&rO?rO(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Wxe=Uxe,zxe=Wxe,Hxe=UI,Vxe=_o;function Gxe(e,t){var r={};return t=Vxe(t),Hxe(e,function(a,s,i){zxe(r,s,t(a,s,i))}),r}var qxe=Gxe;const Kxe=yr(qxe);function Xxe(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}var Yxe=Xxe,Jxe=dS;function Zxe(e,t){var r=!0;return Jxe(e,function(a,s,i){return r=!!t(a,s,i),r}),r}var Qxe=Zxe,eye=Yxe,tye=Qxe,rye=_o,nye=_s,aye=tb;function sye(e,t,r){var a=nye(e)?eye:tye;return r&&aye(e,t,r)&&(t=void 0),a(e,rye(t))}var iye=sye;const zD=yr(iye);var oye=["x","y"];function j0(e){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},LN.apply(this,arguments)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(a){lye(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lye(e,t,r){return t=cye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cye(e){var t=dye(e,"string");return j0(t)=="symbol"?t:t+""}function dye(e,t){if(j0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(j0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uye(e,t){if(e==null)return{};var r=fye(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fye(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function hye(e,t){var r=e.x,a=e.y,s=uye(e,oye),i="".concat(r),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Yh(Yh(Yh(Yh(Yh({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function aO(e){return ne.createElement(US,LN({shapeType:"rectangle",propTransformer:hye,activeClassName:"recharts-active-bar"},e))}var mye=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=Qe(a)||iJ(a);return i?t(a,s):(i||tc(),r)}},pye=["value","background"],HD;function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function gye(e,t){if(e==null)return{};var r=xye(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function xye(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$y.apply(this,arguments)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(a){Bl(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iO(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,GD(a.key),a)}}function vye(e,t,r){return t&&iO(e.prototype,t),r&&iO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bye(e,t,r){return t=By(t),wye(e,VD()?Reflect.construct(t,r||[],By(e).constructor):t.apply(e,r))}function wye(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jye(e)}function jye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(VD=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},By(e)}function Nye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$N(e,t)}function $N(e,t){return $N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$N(e,t)}function Bl(e,t,r){return t=GD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GD(e){var t=Sye(e,"string");return of(t)=="symbol"?t:t+""}function Sye(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(of(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fn=function(e){function t(){var r;yye(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=bye(this,t,[].concat(s)),Bl(r,"state",{isAnimationFinished:!1}),Bl(r,"id",Rf("recharts-bar-")),Bl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Bl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Nye(t,e),vye(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=jt(this.props,!1);return a&&a.map(function(f,h){var m=h===c,p=m?d:o,x=_n(_n(_n({},u),f),{},{isActive:m,option:p,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return ne.createElement(Zt,$y({className:"recharts-bar-rectangle"},ol(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ne.createElement(aO,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,h=this.state.prevData;return ne.createElement(Ci,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,x=i.map(function(y,v){var w=h&&h[v];if(w){var j=In(w.x,y.x),A=In(w.y,y.y),C=In(w.width,y.width),S=In(w.height,y.height);return _n(_n({},y),{},{x:j(p),y:A(p),width:C(p),height:S(p)})}if(o==="horizontal"){var k=In(0,y.height),E=k(p);return _n(_n({},y),{},{y:y.y+y.height-E,height:E})}var T=In(0,y.width),F=T(p);return _n(_n({},y),{},{width:F})});return ne.createElement(Zt,null,a.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Od(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=jt(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,h=gye(d,pye);if(!f)return null;var m=_n(_n(_n(_n(_n({},h),{},{fill:"#eee"},f),c),ol(a.props,d,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ne.createElement(aO,$y({key:"background-bar-".concat(u),option:a.props.background,isActive:u===l},m))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Ss(u,dp);if(!f)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,m=function(y,v){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:hn(y,v)}},p={clipPath:a?"url(#clipPath-".concat(s,")"):null};return ne.createElement(Zt,p,f.map(function(x){return ne.cloneElement(x,{key:"error-bar-".concat(s,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,l=a.xAxis,c=a.yAxis,d=a.left,u=a.top,f=a.width,h=a.height,m=a.isAnimationActive,p=a.background,x=a.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,v=Rt("recharts-bar",o),w=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,A=w||j,C=Mt(x)?this.id:x;return ne.createElement(Zt,{className:v},w||j?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(C)},ne.createElement("rect",{x:w?d:d-f/2,y:j?u:u-h/2,width:w?f:f*2,height:j?h:h*2}))):null,ne.createElement(Zt,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(C,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,C),(!m||y)&&Ji.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(N.PureComponent);HD=Fn;Bl(Fn,"displayName","Bar");Bl(Fn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bl(Fn,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,m=nD(a,r);if(!m)return null;var p=t.layout,x=r.type.defaultProps,y=x!==void 0?_n(_n({},x),r.props):r.props,v=y.dataKey,w=y.children,j=y.minPointSize,A=p==="horizontal"?o:i,C=d?A.scale.domain():null,S=iD({numericAxis:A}),k=Ss(w,_d),E=f.map(function(T,F){var O,P,W,q,D,M;d?O=aD(d[u+F],C):(O=hn(T,v),Array.isArray(O)||(O=[S,O]));var H=mye(j,HD.defaultProps.minPointSize)(O[1],F);if(p==="horizontal"){var ee,X=[o.scale(O[0]),o.scale(O[1])],de=X[0],le=X[1];P=yy({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:T,index:F}),W=(ee=le!=null?le:de)!==null&&ee!==void 0?ee:void 0,q=m.size;var G=de-le;if(D=Number.isNaN(G)?0:G,M={x:P,y:o.y,width:q,height:o.height},Math.abs(H)>0&&Math.abs(D)<Math.abs(H)){var K=ca(D||H)*(Math.abs(H)-Math.abs(D));W-=K,D+=K}}else{var Z=[i.scale(O[0]),i.scale(O[1])],I=Z[0],V=Z[1];if(P=I,W=yy({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:T,index:F}),q=V-I,D=m.size,M={x:i.x,y:W,width:i.width,height:D},Math.abs(H)>0&&Math.abs(q)<Math.abs(H)){var te=ca(q||H)*(Math.abs(H)-Math.abs(q));q+=te}}return _n(_n(_n({},T),{},{x:P,y:W,width:q,height:D,value:d?O:O[1],payload:T,background:M},k&&k[F]&&k[F].props),{},{tooltipPayload:[LS(r,T)],tooltipPosition:{x:P+q/2,y:W+D/2}})});return _n({data:E,layout:p},h)});function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}function kye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oO(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qD(a.key),a)}}function Cye(e,t,r){return t&&oO(e.prototype,t),r&&oO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(a){xb(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xb(e,t,r){return t=qD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qD(e){var t=Aye(e,"string");return N0(t)=="symbol"?t:t+""}function Aye(e,t){if(N0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(N0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KD=function(t,r,a,s,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},h=!!Ls(d,Fn);return u.reduce(function(m,p){var x=r[p],y=x.orientation,v=x.domain,w=x.padding,j=w===void 0?{}:w,A=x.mirror,C=x.reversed,S="".concat(y).concat(A?"Mirror":""),k,E,T,F,O;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var P=v[1]-v[0],W=1/0,q=x.categoricalDomain.sort(cJ);if(q.forEach(function(Z,I){I>0&&(W=Math.min((Z||0)-(q[I-1]||0),W))}),Number.isFinite(W)){var D=W/P,M=x.layout==="vertical"?a.height:a.width;if(x.padding==="gap"&&(k=D*M/2),x.padding==="no-gap"){var H=ss(t.barCategoryGap,D*M),ee=D*M/2;k=ee-H-(ee-H)/M*H}}}s==="xAxis"?E=[a.left+(j.left||0)+(k||0),a.left+a.width-(j.right||0)-(k||0)]:s==="yAxis"?E=c==="horizontal"?[a.top+a.height-(j.bottom||0),a.top+(j.top||0)]:[a.top+(j.top||0)+(k||0),a.top+a.height-(j.bottom||0)-(k||0)]:E=x.range,C&&(E=[E[1],E[0]]);var X=tD(x,i,h),de=X.scale,le=X.realScaleType;de.domain(v).range(E),rD(de);var G=sD(de,zi(zi({},x),{},{realScaleType:le}));s==="xAxis"?(O=y==="top"&&!A||y==="bottom"&&A,T=a.left,F=f[S]-O*x.height):s==="yAxis"&&(O=y==="left"&&!A||y==="right"&&A,T=f[S]-O*x.width,F=a.top);var K=zi(zi(zi({},x),G),{},{realScaleType:le,x:T,y:F,scale:de,width:s==="xAxis"?a.width:x.width,height:s==="yAxis"?a.height:x.height});return K.bandSize=vy(K,G),!x.hide&&s==="xAxis"?f[S]+=(O?-1:1)*K.height:x.hide||(f[S]+=(O?-1:1)*K.width),zi(zi({},m),{},xb({},p,K))},{})},XD=function(t,r){var a=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},_ye=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return XD({x:r,y:a},{x:s,y:i})},YD=function(){function e(t){kye(this,e),this.scale=t}return Cye(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();xb(YD,"EPS",1e-4);var WS=function(t){var r=Object.keys(t).reduce(function(a,s){return zi(zi({},a),{},xb({},s,YD.create(t[s])))},{});return zi(zi({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Kxe(s,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return zD(s,function(i,o){return r[o].isInRange(i)})}})};function Eye(e){return(e%180+180)%180}var Tye=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Eye(s),o=i*Math.PI/180,l=Math.atan(a/r),c=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Oye=_o,Pye=sp,Iye=Qv;function Fye(e){return function(t,r,a){var s=Object(t);if(!Pye(t)){var i=Oye(r);t=Iye(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,a);return o>-1?s[i?t[o]:o]:void 0}}var Dye=Fye,Rye=$D;function Mye(e){var t=Rye(e),r=t%1;return t===t?r?t-r:t:0}var Lye=Mye,$ye=DI,Bye=_o,Uye=Lye,Wye=Math.max;function zye(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var s=r==null?0:Uye(r);return s<0&&(s=Wye(a+s,0)),$ye(e,Bye(t),s)}var Hye=zye,Vye=Dye,Gye=Hye,qye=Vye(Gye),Kye=qye;const Xye=yr(Kye);var Yye=uY(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),zS=N.createContext(void 0),HS=N.createContext(void 0),JD=N.createContext(void 0),ZD=N.createContext({}),QD=N.createContext(void 0),eR=N.createContext(0),tR=N.createContext(0),cO=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=Yye(i);return ne.createElement(zS.Provider,{value:a},ne.createElement(HS.Provider,{value:s},ne.createElement(ZD.Provider,{value:i},ne.createElement(JD.Provider,{value:u},ne.createElement(QD.Provider,{value:o},ne.createElement(eR.Provider,{value:d},ne.createElement(tR.Provider,{value:c},l)))))))},Jye=function(){return N.useContext(QD)},rR=function(t){var r=N.useContext(zS);r==null&&tc();var a=r[t];return a==null&&tc(),a},Zye=function(){var t=N.useContext(zS);return Rl(t)},Qye=function(){var t=N.useContext(HS),r=Xye(t,function(a){return zD(a.domain,Number.isFinite)});return r||Rl(t)},nR=function(t){var r=N.useContext(HS);r==null&&tc();var a=r[t];return a==null&&tc(),a},eve=function(){var t=N.useContext(JD);return t},tve=function(){return N.useContext(ZD)},VS=function(){return N.useContext(tR)},GS=function(){return N.useContext(eR)};function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function rve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nve(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sR(a.key),a)}}function ave(e,t,r){return t&&nve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sve(e,t,r){return t=Uy(t),ive(e,aR()?Reflect.construct(t,r||[],Uy(e).constructor):t.apply(e,r))}function ive(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ove(e)}function ove(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(aR=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uy(e)}function lve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BN(e,t)}function BN(e,t){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},BN(e,t)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function uO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(a){qS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qS(e,t,r){return t=sR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sR(e){var t=cve(e,"string");return lf(t)=="symbol"?t:t+""}function cve(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(lf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dve(e,t){return mve(e)||hve(e,t)||fve(e,t)||uve()}function uve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fve(e,t){if(e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function hve(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function mve(e){if(Array.isArray(e))return e}function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},UN.apply(this,arguments)}var pve=function(t,r){var a;return ne.isValidElement(t)?a=ne.cloneElement(t,r):Ct(t)?a=t(r):a=ne.createElement("line",UN({},r,{className:"recharts-reference-line-line"})),a},gve=function(t,r,a,s,i,o,l,c,d){var u=i.x,f=i.y,h=i.width,m=i.height;if(a){var p=d.y,x=t.y.apply(p,{position:o});if(wo(d,"discard")&&!t.y.isInRange(x))return null;var y=[{x:u+h,y:x},{x:u,y:x}];return c==="left"?y.reverse():y}if(r){var v=d.x,w=t.x.apply(v,{position:o});if(wo(d,"discard")&&!t.x.isInRange(w))return null;var j=[{x:w,y:f+m},{x:w,y:f}];return l==="top"?j.reverse():j}if(s){var A=d.segment,C=A.map(function(S){return t.apply(S,{position:o})});return wo(d,"discard")&&Bxe(C,function(S){return!t.isInRange(S)})?null:C}return null};function xve(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=Jye(),u=rR(s),f=nR(i),h=eve();if(!d||!h)return null;Yi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=WS({x:u.scale,y:f.scale}),p=qn(t),x=qn(r),y=a&&a.length===2,v=gve(m,p,x,y,h,e.position,u.orientation,f.orientation,e);if(!v)return null;var w=dve(v,2),j=w[0],A=j.x,C=j.y,S=w[1],k=S.x,E=S.y,T=wo(e,"hidden")?"url(#".concat(d,")"):void 0,F=uO(uO({clipPath:T},jt(e,!0)),{},{x1:A,y1:C,x2:k,y2:E});return ne.createElement(Zt,{className:Rt("recharts-reference-line",l)},pve(o,F),ia.renderCallByParent(e,_ye({x1:A,y1:C,x2:k,y2:E})))}var KS=function(e){function t(){return rve(this,t),sve(this,t,arguments)}return lve(t,e),ave(t,[{key:"render",value:function(){return ne.createElement(xve,this.props)}}])}(ne.Component);qS(KS,"displayName","ReferenceLine");qS(KS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},WN.apply(this,arguments)}function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function mO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(a){yb(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vve(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oR(a.key),a)}}function bve(e,t,r){return t&&vve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wve(e,t,r){return t=Wy(t),jve(e,iR()?Reflect.construct(t,r||[],Wy(e).constructor):t.apply(e,r))}function jve(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nve(e)}function Nve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(iR=function(){return!!e})()}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(e)}function Sve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zN(e,t)}function zN(e,t){return zN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zN(e,t)}function yb(e,t,r){return t=oR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oR(e){var t=kve(e,"string");return cf(t)=="symbol"?t:t+""}function kve(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(cf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cve=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,o=WS({x:s.scale,y:i.scale}),l=o.apply({x:r,y:a},{bandAware:!0});return wo(t,"discard")&&!o.isInRange(l)?null:l},vb=function(e){function t(){return yve(this,t),wve(this,t,arguments)}return Sve(t,e),bve(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,d=qn(s),u=qn(i);if(Yi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=Cve(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,x=p.shape,y=p.className,v=wo(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=mO(mO({clipPath:v},jt(this.props,!0)),{},{cx:h,cy:m});return ne.createElement(Zt,{className:Rt("recharts-reference-dot",y)},t.renderDot(x,w),ia.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(ne.Component);yb(vb,"displayName","ReferenceDot");yb(vb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yb(vb,"renderDot",function(e,t){var r;return ne.isValidElement(e)?r=ne.cloneElement(e,t):Ct(e)?r=e(t):r=ne.createElement(up,WN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},HN.apply(this,arguments)}function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function gO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(a){bb(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ave(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ve(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cR(a.key),a)}}function Eve(e,t,r){return t&&_ve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tve(e,t,r){return t=zy(t),Ove(e,lR()?Reflect.construct(t,r||[],zy(e).constructor):t.apply(e,r))}function Ove(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pve(e)}function Pve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lR=function(){return!!e})()}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(e)}function Ive(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VN(e,t)}function VN(e,t){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},VN(e,t)}function bb(e,t,r){return t=cR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cR(e){var t=Fve(e,"string");return df(t)=="symbol"?t:t+""}function Fve(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(df(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dve=function(t,r,a,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=WS({x:u.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:a?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(d,{position:"end"}):h.y.rangeMax};return wo(i,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:XD(m,p)},wb=function(e){function t(){return Ave(this,t),Tve(this,t,arguments)}return Ive(t,e),Eve(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.className,d=a.alwaysShow,u=a.clipPathId;Yi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=qn(s),h=qn(i),m=qn(o),p=qn(l),x=this.props.shape;if(!f&&!h&&!m&&!p&&!x)return null;var y=Dve(f,h,m,p,this.props);if(!y&&!x)return null;var v=wo(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ne.createElement(Zt,{className:Rt("recharts-reference-area",c)},t.renderRect(x,gO(gO({clipPath:v},jt(this.props,!0)),y)),ia.renderCallByParent(this.props,y))}}])}(ne.Component);bb(wb,"displayName","ReferenceArea");bb(wb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});bb(wb,"renderRect",function(e,t){var r;return ne.isValidElement(e)?r=ne.cloneElement(e,t):Ct(e)?r=e(t):r=ne.createElement(BS,HN({},t,{className:"recharts-reference-area-rect"})),r});function dR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function Rve(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return Tye(a,r)}function Mve(e,t,r){var a=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:a?s:i,end:a?s+o:i+l}:{start:a?s+o:i+l,end:a?s:i}}function Hy(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function Lve(e,t){return dR(e,t+1)}function $ve(e,t,r,a,s){for(var i=(a||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var p=a==null?void 0:a[c];if(p===void 0)return{v:dR(a,d)};var x=c,y,v=function(){return y===void 0&&(y=r(p,x)),y},w=p.coordinate,j=c===0||Hy(e,w,v,u,l);j||(c=0,u=o,d+=1),j&&(u=w+e*(v()/2+s),c+=d)},h;d<=i.length;)if(h=f(),h)return h.v;return[]}function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(a){Bve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bve(e,t,r){return t=Uve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uve(e){var t=Wve(e,"string");return S0(t)=="symbol"?t:t+""}function Wve(e,t){if(S0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(S0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zve(e,t,r,a,s){for(var i=(a||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(h){var m=i[h],p,x=function(){return p===void 0&&(p=r(m,h)),p};if(h===o-1){var y=e*(m.coordinate+e*x()/2-c);i[h]=m=Da(Da({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Da(Da({},m),{},{tickCoord:m.coordinate});var v=Hy(e,m.tickCoord,x,l,c);v&&(c=m.tickCoord-e*(x()/2+s),i[h]=Da(Da({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function Hve(e,t,r,a,s,i){var o=(a||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=a[l-1],f=r(u,l-1),h=e*(u.coordinate+e*f/2-d);o[l-1]=u=Da(Da({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var m=Hy(e,u.tickCoord,function(){return f},c,d);m&&(d=u.tickCoord-e*(f/2+s),o[l-1]=Da(Da({},u),{},{isShow:!0}))}for(var p=i?l-1:l,x=function(w){var j=o[w],A,C=function(){return A===void 0&&(A=r(j,w)),A};if(w===0){var S=e*(j.coordinate-e*C()/2-c);o[w]=j=Da(Da({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[w]=j=Da(Da({},j),{},{tickCoord:j.coordinate});var k=Hy(e,j.tickCoord,C,c,d);k&&(c=j.tickCoord+e*(C()/2+s),o[w]=Da(Da({},j),{},{isShow:!0}))},y=0;y<p;y++)x(y);return o}function XS(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!s||!s.length||!a)return[];if(Qe(c)||wi.isSsr)return Lve(s,typeof c=="number"&&Qe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",p=u&&m==="width"?vm(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(j,A){var C=Ct(d)?d(j.value,A):j.value;return m==="width"?Rve(vm(C,{fontSize:t,letterSpacing:r}),p,f):vm(C,{fontSize:t,letterSpacing:r})[m]},y=s.length>=2?ca(s[1].coordinate-s[0].coordinate):1,v=Mve(i,y,m);return c==="equidistantPreserveStart"?$ve(y,v,x,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Hve(y,v,x,s,o,c==="preserveStartEnd"):h=zve(y,v,x,s,o),h.filter(function(w){return w.isShow}))}var Vve=["viewBox"],Gve=["viewBox"],qve=["ticks"];function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Au.apply(this,arguments)}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(a){YS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Aw(e,t){if(e==null)return{};var r=Kve(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Kve(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Xve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vO(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fR(a.key),a)}}function Yve(e,t,r){return t&&vO(e.prototype,t),r&&vO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jve(e,t,r){return t=Vy(t),Zve(e,uR()?Reflect.construct(t,r||[],Vy(e).constructor):t.apply(e,r))}function Zve(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qve(e)}function Qve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(uR=function(){return!!e})()}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(e)}function ebe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GN(e,t)}function GN(e,t){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},GN(e,t)}function YS(e,t,r){return t=fR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fR(e){var t=tbe(e,"string");return uf(t)=="symbol"?t:t+""}function tbe(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(uf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zf=function(e){function t(r){var a;return Xve(this,t),a=Jve(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return ebe(t,e),Yve(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=Aw(a,Vve),l=this.props,c=l.viewBox,d=Aw(l,Gve);return!Iu(i,c)||!Iu(o,d)||!Iu(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,f=s.mirror,h=s.tickMargin,m,p,x,y,v,w,j=f?-1:1,A=a.tickSize||u,C=Qe(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":m=p=a.coordinate,y=o+ +!f*c,x=y-j*A,w=x-j*h,v=C;break;case"left":x=y=a.coordinate,p=i+ +!f*l,m=p-j*A,v=m-j*h,w=C;break;case"right":x=y=a.coordinate,p=i+ +f*l,m=p+j*A,v=m+j*h,w=C;break;default:m=p=a.coordinate,y=o+ +f*c,x=y+j*A,w=x+j*h,v=C;break}return{line:{x1:m,y1:x,x2:p,y2:y},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.orientation,d=a.mirror,u=a.axisLine,f=Un(Un(Un({},jt(this.props,!1)),jt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);f=Un(Un({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);f=Un(Un({},f),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return ne.createElement("line",Au({},f,{className:Rt("recharts-cartesian-axis-line",Gs(u,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,h=l.unit,m=XS(Un(Un({},this.props),{},{ticks:a}),s,i),p=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=jt(this.props,!1),v=jt(u,!1),w=Un(Un({},y),{},{fill:"none"},jt(c,!1)),j=m.map(function(A,C){var S=o.getTickLineCoord(A),k=S.line,E=S.tick,T=Un(Un(Un(Un({textAnchor:p,verticalAnchor:x},y),{},{stroke:"none",fill:d},v),E),{},{index:C,payload:A,visibleTicksCount:m.length,tickFormatter:f});return ne.createElement(Zt,Au({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},ol(o.props,A,C)),c&&ne.createElement("line",Au({},w,k,{className:Rt("recharts-cartesian-axis-tick-line",Gs(c,"className"))})),u&&t.renderTickItem(u,T,"".concat(Ct(f)?f(A.value,C):A.value).concat(h||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var f=this.props,h=f.ticks,m=Aw(f,qve),p=h;return Ct(c)&&(p=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!p||!p.length?null:ne.createElement(Zt,{className:Rt("recharts-cartesian-axis",d),ref:function(y){a.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),ia.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o,l=Rt(s.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(a)?o=ne.cloneElement(a,Un(Un({},s),{},{className:l})):Ct(a)?o=a(Un(Un({},s),{},{className:l})):o=ne.createElement(ud,Au({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(N.Component);YS(zf,"displayName","CartesianAxis");YS(zf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rbe=["x1","y1","x2","y2","key"],nbe=["offset"];function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(a){abe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function abe(e,t,r){return t=sbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sbe(e){var t=ibe(e,"string");return hd(t)=="symbol"?t:t+""}function ibe(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(hd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kc.apply(this,arguments)}function wO(e,t){if(e==null)return{};var r=obe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function obe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var lbe=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return ne.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function hR(e,t){var r;if(ne.isValidElement(e))r=ne.cloneElement(e,t);else if(Ct(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=wO(t,rbe),d=jt(c,!1);d.offset;var u=wO(d,nbe);r=ne.createElement("line",Kc({},u,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function cbe(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=La(La({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return hR(s,d)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function dbe(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=La(La({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return hR(s,d)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ube(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==u[0]&&u.unshift(0);var f=u.map(function(h,m){var p=!u[m+1],x=p?s+o-h:u[m+1]-h;if(x<=0)return null;var y=m%t.length;return ne.createElement("rect",{key:"react-".concat(m),y:h,x:a,height:x,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function fbe(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!a||!a.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==u[0]&&u.unshift(0);var f=u.map(function(h,m){var p=!u[m+1],x=p?i+l-h:u[m+1]-h;if(x<=0)return null;var y=m%a.length;return ne.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:x,height:c,stroke:"none",fill:a[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var hbe=function(t,r){var a=t.xAxis,s=t.width,i=t.height,o=t.offset;return eD(XS(La(La(La({},zf.defaultProps),a),{},{ticks:Xo(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},mbe=function(t,r){var a=t.yAxis,s=t.width,i=t.height,o=t.offset;return eD(XS(La(La(La({},zf.defaultProps),a),{},{ticks:Xo(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},mu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Cs(e){var t,r,a,s,i,o,l=VS(),c=GS(),d=tve(),u=La(La({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:mu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:mu.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:mu.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:mu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:mu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:mu.verticalFill,x:Qe(e.x)?e.x:d.left,y:Qe(e.y)?e.y:d.top,width:Qe(e.width)?e.width:d.width,height:Qe(e.height)?e.height:d.height}),f=u.x,h=u.y,m=u.width,p=u.height,x=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,w=Zye(),j=Qye();if(!Qe(m)||m<=0||!Qe(p)||p<=0||!Qe(f)||f!==+f||!Qe(h)||h!==+h)return null;var A=u.verticalCoordinatesGenerator||hbe,C=u.horizontalCoordinatesGenerator||mbe,S=u.horizontalPoints,k=u.verticalPoints;if((!S||!S.length)&&Ct(C)){var E=y&&y.length,T=C({yAxis:j?La(La({},j),{},{ticks:E?y:j.ticks}):void 0,width:l,height:c,offset:d},E?!0:x);Yi(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hd(T),"]")),Array.isArray(T)&&(S=T)}if((!k||!k.length)&&Ct(A)){var F=v&&v.length,O=A({xAxis:w?La(La({},w),{},{ticks:F?v:w.ticks}):void 0,width:l,height:c,offset:d},F?!0:x);Yi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hd(O),"]")),Array.isArray(O)&&(k=O)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(lbe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ne.createElement(cbe,Kc({},u,{offset:d,horizontalPoints:S,xAxis:w,yAxis:j})),ne.createElement(dbe,Kc({},u,{offset:d,verticalPoints:k,xAxis:w,yAxis:j})),ne.createElement(ube,Kc({},u,{horizontalPoints:S})),ne.createElement(fbe,Kc({},u,{verticalPoints:k})))}Cs.displayName="CartesianGrid";var pbe=["type","layout","connectNulls","ref"],gbe=["key"];function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function jO(e,t){if(e==null)return{};var r=xbe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function xbe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},km.apply(this,arguments)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(a){Hi(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pu(e){return wbe(e)||bbe(e)||vbe(e)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vbe(e,t){if(e){if(typeof e=="string")return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}}function bbe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wbe(e){if(Array.isArray(e))return qN(e)}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function jbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SO(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,pR(a.key),a)}}function Nbe(e,t,r){return t&&SO(e.prototype,t),r&&SO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sbe(e,t,r){return t=Gy(t),kbe(e,mR()?Reflect.construct(t,r||[],Gy(e).constructor):t.apply(e,r))}function kbe(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cbe(e)}function Cbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mR=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(e)}function Abe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KN(e,t)}function KN(e,t){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},KN(e,t)}function Hi(e,t,r){return t=pR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pR(e){var t=_be(e,"string");return ff(t)=="symbol"?t:t+""}function _be(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ff(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hf=function(e){function t(){var r;jbe(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Sbe(this,t,[].concat(s)),Hi(r,"state",{isAnimationFinished:!0,totalLength:0}),Hi(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Hi(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(v,w){return v+w});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,h=l-o,m=[],p=0,x=0;p<c.length;x+=c[p],++p)if(x+c[p]>f){m=[].concat(pu(c.slice(0,p)),[f-x]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(pu(t.repeat(c,u)),pu(m),y).map(function(v){return"".concat(v,"px")}).join(", ")}),Hi(r,"id",Rf("recharts-line-")),Hi(r,"pathRef",function(o){r.mainCurve=o}),Hi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Hi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Abe(t,e),Nbe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch(s){return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Ss(u,dp);if(!f)return null;var h=function(x,y){return{x:x.x,y:x.y,value:x.value,errorVal:hn(x.payload,y)}},m={clipPath:a?"url(#clipPath-".concat(s,")"):null};return ne.createElement(Zt,m,f.map(function(p){return ne.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=jt(this.props,!1),h=jt(c,!0),m=d.map(function(x,y){var v=Rs(Rs(Rs({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:x.x,cy:x.y,value:x.value,dataKey:u,payload:x.payload,points:d});return t.renderDotItem(c,v)}),p={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return ne.createElement(Zt,km({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(a,s,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=jO(l,pbe),h=Rs(Rs(Rs({},jt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},o),{},{type:c,layout:d,connectNulls:u});return ne.createElement(jy,km({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,p=o.animateNewValues,x=o.width,y=o.height,v=this.state,w=v.prevPoints,j=v.totalLength;return ne.createElement(Ci,{begin:u,duration:f,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var C=A.t;if(w){var S=w.length/l.length,k=l.map(function(P,W){var q=Math.floor(W*S);if(w[q]){var D=w[q],M=In(D.x,P.x),H=In(D.y,P.y);return Rs(Rs({},P),{},{x:M(C),y:H(C)})}if(p){var ee=In(x*2,P.x),X=In(y/2,P.y);return Rs(Rs({},P),{},{x:ee(C),y:X(C)})}return Rs(Rs({},P),{},{x:P.x,y:P.y})});return i.renderCurveStatically(k,a,s)}var E=In(0,j),T=E(C),F;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});F=i.getStrokeDasharray(T,j,O)}else F=i.generateSimpleStrokeDasharray(j,T);return i.renderCurveStatically(l,a,s,{strokeDasharray:F})})}},{key:"renderCurve",value:function(a,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Od(d,o))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(o,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.xAxis,u=s.yAxis,f=s.top,h=s.left,m=s.width,p=s.height,x=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,w=l.length===1,j=Rt("recharts-line",c),A=d&&d.allowDataOverflow,C=u&&u.allowDataOverflow,S=A||C,k=Mt(y)?this.id:y,E=(a=jt(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},T=E.r,F=T===void 0?3:T,O=E.strokeWidth,P=O===void 0?2:O,W=yJ(o)?o:{},q=W.clipDot,D=q===void 0?!0:q,M=F*2+P;return ne.createElement(Zt,{className:j},A||C?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(k)},ne.createElement("rect",{x:A?h:h-m/2,y:C?f:f-p/2,width:A?m:m*2,height:C?p:p*2})),!D&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ne.createElement("rect",{x:h-M/2,y:f-M/2,width:m+M,height:p+M}))):null,!w&&this.renderCurve(S,k),this.renderErrorBar(S,k),(w||o)&&this.renderDots(S,D,k),(!x||v)&&Ji.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(pu(a),[0]):a,o=[],l=0;l<s;++l)o=[].concat(pu(o),pu(i));return o}},{key:"renderDotItem",value:function(a,s){var i;if(ne.isValidElement(a))i=ne.cloneElement(a,s);else if(Ct(a))i=a(s);else{var o=s.key,l=jO(s,gbe),c=Rt("recharts-line-dot",typeof a!="boolean"?a.className:"");i=ne.createElement(up,km({key:o},l,{className:c}))}return i}}])}(N.PureComponent);Hi(Hf,"displayName","Line");Hi(Hf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Hi(Hf,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(h,m){var p=hn(h,o);return u==="horizontal"?{x:BE({axis:r,ticks:s,bandSize:l,entry:h,index:m}),y:Mt(p)?null:a.scale(p),value:p,payload:h}:{x:Mt(p)?null:r.scale(p),y:BE({axis:a,ticks:i,bandSize:l,entry:h,index:m}),value:p,payload:h}});return Rs({points:f,layout:u},d)});function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function Ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tbe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yR(a.key),a)}}function Obe(e,t,r){return t&&Tbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pbe(e,t,r){return t=qy(t),Ibe(e,gR()?Reflect.construct(t,r||[],qy(e).constructor):t.apply(e,r))}function Ibe(e,t){if(t&&(hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fbe(e)}function Fbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(gR=function(){return!!e})()}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qy(e)}function Dbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XN(e,t)}function XN(e,t){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},XN(e,t)}function xR(e,t,r){return t=yR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yR(e){var t=Rbe(e,"string");return hf(t)=="symbol"?t:t+""}function Rbe(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(hf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},YN.apply(this,arguments)}function Mbe(e){var t=e.xAxisId,r=VS(),a=GS(),s=rR(t);return s==null?null:N.createElement(zf,YN({},s,{className:Rt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(o){return Xo(o,!0)}}))}var Aa=function(e){function t(){return Ebe(this,t),Pbe(this,t,arguments)}return Dbe(t,e),Obe(t,[{key:"render",value:function(){return N.createElement(Mbe,this.props)}}])}(N.Component);xR(Aa,"displayName","XAxis");xR(Aa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function Lbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $be(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wR(a.key),a)}}function Bbe(e,t,r){return t&&$be(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ube(e,t,r){return t=Ky(t),Wbe(e,vR()?Reflect.construct(t,r||[],Ky(e).constructor):t.apply(e,r))}function Wbe(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zbe(e)}function zbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(vR=function(){return!!e})()}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ky(e)}function Hbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JN(e,t)}function JN(e,t){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},JN(e,t)}function bR(e,t,r){return t=wR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wR(e){var t=Vbe(e,"string");return mf(t)=="symbol"?t:t+""}function Vbe(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(mf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ZN.apply(this,arguments)}var Gbe=function(t){var r=t.yAxisId,a=VS(),s=GS(),i=nR(r);return i==null?null:N.createElement(zf,ZN({},i,{className:Rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(l){return Xo(l,!0)}}))},_a=function(e){function t(){return Lbe(this,t),Ube(this,t,arguments)}return Hbe(t,e),Bbe(t,[{key:"render",value:function(){return N.createElement(Gbe,this.props)}}])}(N.Component);bR(_a,"displayName","YAxis");bR(_a,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kO(e){return Ybe(e)||Xbe(e)||Kbe(e)||qbe()}function qbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kbe(e,t){if(e){if(typeof e=="string")return QN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QN(e,t)}}function Xbe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ybe(e){if(Array.isArray(e))return QN(e)}function QN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var e2=function(t,r,a,s,i){var o=Ss(t,KS),l=Ss(t,vb),c=[].concat(kO(o),kO(l)),d=Ss(t,wb),u="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(x,y){if(y.props[u]===a&&wo(y.props,"extendDomain")&&Qe(y.props[f])){var v=y.props[f];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),d.length){var m="".concat(f,"1"),p="".concat(f,"2");h=d.reduce(function(x,y){if(y.props[u]===a&&wo(y.props,"extendDomain")&&Qe(y.props[m])&&Qe(y.props[p])){var v=y.props[m],w=y.props[p];return[Math.min(x[0],v,w),Math.max(x[1],v,w)]}return x},h)}return i&&i.length&&(h=i.reduce(function(x,y){return Qe(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},h)),h},jR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new s(u,f||c,h),p=r?r+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,h,m,p){var x=r?r+d:d;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,w,j;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,m),!0;case 6:return y.fn.call(y.context,u,f,h,m,p),!0}for(j=1,w=new Array(v-1);j<v;j++)w[j-1]=arguments[j];y.fn.apply(y.context,w)}else{var A=y.length,C;for(j=0;j<A;j++)switch(y[j].once&&this.removeListener(d,y[j].fn,void 0,!0),v){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,u);break;case 3:y[j].fn.call(y[j].context,u,f);break;case 4:y[j].fn.call(y[j].context,u,f,h);break;default:if(!w)for(C=1,w=new Array(v-1);C<v;C++)w[C-1]=arguments[C];y[j].fn.apply(y[j].context,w)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,h){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===u&&(!h||p.once)&&(!f||p.context===f)&&o(this,m);else{for(var x=0,y=[],v=p.length;x<v;x++)(p[x].fn!==u||h&&!p[x].once||f&&p[x].context!==f)&&y.push(p[x]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(jR);var Jbe=jR.exports;const Zbe=yr(Jbe);var _w=new Zbe,Ew="recharts.syncMouseEvents";function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function Qbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e1e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,NR(a.key),a)}}function t1e(e,t,r){return t&&e1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tw(e,t,r){return t=NR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){var t=r1e(e,"string");return k0(t)=="symbol"?t:t+""}function r1e(e,t){if(k0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(k0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n1e=function(){function e(){Qbe(this,e),Tw(this,"activeIndex",0),Tw(this,"coordinateList",[]),Tw(this,"layout","horizontal")}return t1e(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(a=i!=null?i:this.coordinateList)!==null&&a!==void 0?a:[],this.container=l!=null?l:this.container,this.layout=d!=null?d:this.layout,this.offset=f!=null?f:this.offset,this.mouseHandlerCallback=m!=null?m:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,f=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function a1e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&Qe(a)&&Qe(s))return!0}return!1}function s1e(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function SR(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,o=pr(t,r,a,s),l=pr(t,r,a,i);return{points:[o,l],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function i1e(e,t,r){var a,s,i,o;if(e==="horizontal")a=t.x,i=a,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,h=pr(l,c,d,f),m=pr(l,c,u,f);a=h.x,s=h.y,i=m.x,o=m.y}else return SR(t);return[{x:a,y:s},{x:i,y:o}]}function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(a){o1e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function o1e(e,t,r){return t=l1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l1e(e){var t=c1e(e,"string");return C0(t)=="symbol"?t:t+""}function c1e(e,t){if(C0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(C0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d1e(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!m||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var p,x=jy;if(h==="ScatterChart")p=o,x=z0e;else if(h==="BarChart")p=s1e(f,o,c,u),x=BS;else if(f==="radial"){var y=SR(o),v=y.cx,w=y.cy,j=y.radius,A=y.startAngle,C=y.endAngle;p={cx:v,cy:w,startAngle:A,endAngle:C,innerRadius:j,outerRadius:j},x=mD}else p={points:i1e(f,o,c)},x=jy;var S=ex(ex(ex(ex({stroke:"#ccc",pointerEvents:"none"},c),p),jt(m,!1)),{},{payload:l,payloadIndex:d,className:Rt("recharts-tooltip-cursor",m.className)});return N.isValidElement(m)?N.cloneElement(m,S):N.createElement(x,S)}var u1e=["item"],f1e=["children","className","width","height","style","compact","title","desc"];function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_u.apply(this,arguments)}function AO(e,t){return p1e(e)||m1e(e,t)||CR(e,t)||h1e()}function h1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m1e(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function p1e(e){if(Array.isArray(e))return e}function _O(e,t){if(e==null)return{};var r=g1e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function g1e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function x1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y1e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AR(a.key),a)}}function v1e(e,t,r){return t&&y1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b1e(e,t,r){return t=Xy(t),w1e(e,kR()?Reflect.construct(t,r||[],Xy(e).constructor):t.apply(e,r))}function w1e(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j1e(e)}function j1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(kR=function(){return!!e})()}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(e)}function N1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t2(e,t)}function t2(e,t){return t2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},t2(e,t)}function gf(e){return C1e(e)||k1e(e)||CR(e)||S1e()}function S1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CR(e,t){if(e){if(typeof e=="string")return r2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r2(e,t)}}function k1e(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C1e(e){if(Array.isArray(e))return r2(e)}function r2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(a){Pt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Pt(e,t,r){return t=AR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AR(e){var t=A1e(e,"string");return pf(t)=="symbol"?t:t+""}function A1e(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(pf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _1e={xAxis:["bottom","top"],yAxis:["left","right"]},E1e={width:"100%",height:"100%"},_R={x:0,y:0};function tx(e){return e}var T1e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},O1e=function(t,r,a,s){var i=r.find(function(u){return u&&u.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return $e($e($e({},s),pr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return $e($e($e({},s),pr(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return _R},jb=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(a!=null?a:[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(gf(l),gf(d)):l},[]);return o.length>0?o:t&&t.length&&Qe(s)&&Qe(i)?t.slice(s,i+1):[]};function ER(e){return e==="number"?[0,"auto"]:void 0}var n2=function(t,r,a,s){var i=t.graphicalItems,o=t.tooltipAxis,l=jb(r,t);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Hx(m,o.dataKey,s)}else h=f&&f[a]||l[a];return h?[].concat(gf(c),[LS(d,h)]):c},[])},TO=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},o=T1e(i,a),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=vfe(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,h=n2(t,r,u,f),m=O1e(a,l,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},P1e=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,m=QF(u,i);return a.reduce(function(p,x){var y,v=x.type.defaultProps!==void 0?$e($e({},x.type.defaultProps),x.props):x.props,w=v.type,j=v.dataKey,A=v.allowDataOverflow,C=v.allowDuplicatedCategory,S=v.scale,k=v.ticks,E=v.includeHidden,T=v[o];if(p[T])return p;var F=jb(t.data,{graphicalItems:s.filter(function(G){var K,Z=o in G.props?G.props[o]:(K=G.type.defaultProps)===null||K===void 0?void 0:K[o];return Z===T}),dataStartIndex:c,dataEndIndex:d}),O=F.length,P,W,q;a1e(v.domain,A,w)&&(P=mN(v.domain,null,A),m&&(w==="number"||S!=="auto")&&(q=wm(F,j,"category")));var D=ER(w);if(!P||P.length===0){var M,H=(M=v.domain)!==null&&M!==void 0?M:D;if(j){if(P=wm(F,j,w),w==="category"&&m){var ee=lJ(P);C&&ee?(W=P,P=Ry(0,O)):C||(P=zE(H,P,x).reduce(function(G,K){return G.indexOf(K)>=0?G:[].concat(gf(G),[K])},[]))}else if(w==="category")C?P=P.filter(function(G){return G!==""&&!Mt(G)}):P=zE(H,P,x).reduce(function(G,K){return G.indexOf(K)>=0||K===""||Mt(K)?G:[].concat(gf(G),[K])},[]);else if(w==="number"){var X=Sfe(F,s.filter(function(G){var K,Z,I=o in G.props?G.props[o]:(K=G.type.defaultProps)===null||K===void 0?void 0:K[o],V="hide"in G.props?G.props.hide:(Z=G.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return I===T&&(E||!V)}),j,i,u);X&&(P=X)}m&&(w==="number"||S!=="auto")&&(q=wm(F,j,"category"))}else m?P=Ry(0,O):l&&l[T]&&l[T].hasStack&&w==="number"?P=h==="expand"?[0,1]:oD(l[T].stackGroups,c,d):P=ZF(F,s.filter(function(G){var K=o in G.props?G.props[o]:G.type.defaultProps[o],Z="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return K===T&&(E||!Z)}),w,u,!0);if(w==="number")P=e2(f,P,T,i,k),H&&(P=mN(H,P,A));else if(w==="category"&&H){var de=H,le=P.every(function(G){return de.indexOf(G)>=0});le&&(P=de)}}return $e($e({},p),{},Pt({},T,$e($e({},v),{},{axisType:i,domain:P,categoricalDomain:q,duplicateDomain:W,originalDomain:(y=v.domain)!==null&&y!==void 0?y:D,isCategorical:m,layout:u})))},{})},I1e=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=jb(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:d}),m=h.length,p=QF(u,i),x=-1;return a.reduce(function(y,v){var w=v.type.defaultProps!==void 0?$e($e({},v.type.defaultProps),v.props):v.props,j=w[o],A=ER("number");if(!y[j]){x++;var C;return p?C=Ry(0,m):l&&l[j]&&l[j].hasStack?(C=oD(l[j].stackGroups,c,d),C=e2(f,C,j,i)):(C=mN(A,ZF(h,a.filter(function(S){var k,E,T=o in S.props?S.props[o]:(k=S.type.defaultProps)===null||k===void 0?void 0:k[o],F="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return T===j&&!F}),"number",u),s.defaultProps.allowDataOverflow),C=e2(f,C,j,i)),$e($e({},y),{},Pt({},j,$e($e({axisType:i},s.defaultProps),{},{hide:!0,orientation:Gs(_1e,"".concat(i,".").concat(x%2),null),domain:C,originalDomain:A,isCategorical:p,layout:u})))}return y},{})},F1e=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(s,"Id"),h=Ss(u,i),m={};return h&&h.length?m=P1e(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(m=I1e(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},D1e=function(t){var r=Rl(t),a=Xo(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:uS(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vy(r,a)}},OO=function(t){var r=t.children,a=t.defaultShowTooltip,s=Ls(r,sf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},R1e=function(t){return!t||!t.length?!1:t.some(function(r){var a=Qo(r&&r.type);return a&&a.indexOf("Bar")>=0})},PO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},M1e=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=a.width,u=a.height,f=a.children,h=a.margin||{},m=Ls(f,sf),p=Ls(f,Vl),x=Object.keys(c).reduce(function(C,S){var k=c[S],E=k.orientation;return!k.mirror&&!k.hide?$e($e({},C),{},Pt({},E,C[E]+k.width)):C},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(C,S){var k=o[S],E=k.orientation;return!k.mirror&&!k.hide?$e($e({},C),{},Pt({},E,Gs(C,"".concat(E))+k.height)):C},{top:h.top||0,bottom:h.bottom||0}),v=$e($e({},y),x),w=v.bottom;m&&(v.bottom+=m.props.height||sf.defaultProps.height),p&&r&&(v=jfe(v,s,a,r));var j=d-v.left-v.right,A=u-v.top-v.bottom;return $e($e({brushBottom:w},v),{},{width:Math.max(j,0),height:Math.max(A,0)})},L1e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},hp=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(v,w){var j=w.graphicalItems,A=w.stackGroups,C=w.offset,S=w.updateId,k=w.dataStartIndex,E=w.dataEndIndex,T=v.barSize,F=v.layout,O=v.barGap,P=v.barCategoryGap,W=v.maxBarSize,q=PO(F),D=q.numericAxisName,M=q.cateAxisName,H=R1e(j),ee=[];return j.forEach(function(X,de){var le=jb(v.data,{graphicalItems:[X],dataStartIndex:k,dataEndIndex:E}),G=X.type.defaultProps!==void 0?$e($e({},X.type.defaultProps),X.props):X.props,K=G.dataKey,Z=G.maxBarSize,I=G["".concat(D,"Id")],V=G["".concat(M,"Id")],te={},R=c.reduce(function(ct,mt){var ut=w["".concat(mt.axisType,"Map")],it=G["".concat(mt.axisType,"Id")];ut&&ut[it]||mt.axisType==="zAxis"||tc();var At=ut[it];return $e($e({},ct),{},Pt(Pt({},mt.axisType,At),"".concat(mt.axisType,"Ticks"),Xo(At)))},te),U=R[M],Q=R["".concat(M,"Ticks")],J=A&&A[I]&&A[I].hasStack&&Tfe(X,A[I].stackGroups),L=Qo(X.type).indexOf("Bar")>=0,he=vy(U,Q),ge=[],Ae=H&&bfe({barSize:T,stackGroups:A,totalSize:L1e(R,M)});if(L){var Ee,xe,Te=Mt(Z)?W:Z,Ue=(Ee=(xe=vy(U,Q,!0))!==null&&xe!==void 0?xe:Te)!==null&&Ee!==void 0?Ee:0;ge=wfe({barGap:O,barCategoryGap:P,bandSize:Ue!==he?Ue:he,sizeList:Ae[V],maxBarSize:Te}),Ue!==he&&(ge=ge.map(function(ct){return $e($e({},ct),{},{position:$e($e({},ct.position),{},{offset:ct.position.offset-Ue/2})})}))}var tt=X&&X.type&&X.type.getComposedData;tt&&ee.push({props:$e($e({},tt($e($e({},R),{},{displayedData:le,props:v,dataKey:K,item:X,bandSize:he,barPosition:ge,offset:C,stackedData:J,layout:F,dataStartIndex:k,dataEndIndex:E}))),{},Pt(Pt(Pt({key:X.key||"item-".concat(de)},D,R[D]),M,R[M]),"animationId",S)),childIndex:wJ(X,v.children),item:X})}),ee},m=function(v,w){var j=v.props,A=v.dataStartIndex,C=v.dataEndIndex,S=v.updateId;if(!M_({props:j}))return null;var k=j.children,E=j.layout,T=j.stackOffset,F=j.data,O=j.reverseStackOrder,P=PO(E),W=P.numericAxisName,q=P.cateAxisName,D=Ss(k,a),M=Efe(F,D,"".concat(W,"Id"),"".concat(q,"Id"),T,O),H=c.reduce(function(G,K){var Z="".concat(K.axisType,"Map");return $e($e({},G),{},Pt({},Z,F1e(j,$e($e({},K),{},{graphicalItems:D,stackGroups:K.axisType===W&&M,dataStartIndex:A,dataEndIndex:C}))))},{}),ee=M1e($e($e({},H),{},{props:j,graphicalItems:D}),w==null?void 0:w.legendBBox);Object.keys(H).forEach(function(G){H[G]=u(j,H[G],ee,G.replace("Map",""),r)});var X=H["".concat(q,"Map")],de=D1e(X),le=h(j,$e($e({},H),{},{dataStartIndex:A,dataEndIndex:C,updateId:S,graphicalItems:D,stackGroups:M,offset:ee}));return $e($e({formattedGraphicalItems:le,graphicalItems:D,offset:ee,stackGroups:M},de),H)},p=function(y){function v(w){var j,A,C;return x1e(this,v),C=b1e(this,v,[w]),Pt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pt(C,"accessibilityManager",new n1e),Pt(C,"handleLegendBBoxUpdate",function(S){if(S){var k=C.state,E=k.dataStartIndex,T=k.dataEndIndex,F=k.updateId;C.setState($e({legendBBox:S},m({props:C.props,dataStartIndex:E,dataEndIndex:T,updateId:F},$e($e({},C.state),{},{legendBBox:S}))))}}),Pt(C,"handleReceiveSyncEvent",function(S,k,E){if(C.props.syncId===S){if(E===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(k)}}),Pt(C,"handleBrushChange",function(S){var k=S.startIndex,E=S.endIndex;if(k!==C.state.dataStartIndex||E!==C.state.dataEndIndex){var T=C.state.updateId;C.setState(function(){return $e({dataStartIndex:k,dataEndIndex:E},m({props:C.props,dataStartIndex:k,dataEndIndex:E,updateId:T},C.state))}),C.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),Pt(C,"handleMouseEnter",function(S){var k=C.getMouseInfo(S);if(k){var E=$e($e({},k),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var T=C.props.onMouseEnter;Ct(T)&&T(E,S)}}),Pt(C,"triggeredAfterMouseMove",function(S){var k=C.getMouseInfo(S),E=k?$e($e({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var T=C.props.onMouseMove;Ct(T)&&T(E,S)}),Pt(C,"handleItemMouseEnter",function(S){C.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Pt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Pt(C,"handleMouseMove",function(S){S.persist(),C.throttleTriggeredAfterMouseMove(S)}),Pt(C,"handleMouseLeave",function(S){C.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};C.setState(k),C.triggerSyncEvent(k);var E=C.props.onMouseLeave;Ct(E)&&E(k,S)}),Pt(C,"handleOuterEvent",function(S){var k=bJ(S),E=Gs(C.props,"".concat(k));if(k&&Ct(E)){var T,F;/.*touch.*/i.test(k)?F=C.getMouseInfo(S.changedTouches[0]):F=C.getMouseInfo(S),E((T=F)!==null&&T!==void 0?T:{},S)}}),Pt(C,"handleClick",function(S){var k=C.getMouseInfo(S);if(k){var E=$e($e({},k),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var T=C.props.onClick;Ct(T)&&T(E,S)}}),Pt(C,"handleMouseDown",function(S){var k=C.props.onMouseDown;if(Ct(k)){var E=C.getMouseInfo(S);k(E,S)}}),Pt(C,"handleMouseUp",function(S){var k=C.props.onMouseUp;if(Ct(k)){var E=C.getMouseInfo(S);k(E,S)}}),Pt(C,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Pt(C,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&C.handleMouseDown(S.changedTouches[0])}),Pt(C,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&C.handleMouseUp(S.changedTouches[0])}),Pt(C,"handleDoubleClick",function(S){var k=C.props.onDoubleClick;if(Ct(k)){var E=C.getMouseInfo(S);k(E,S)}}),Pt(C,"handleContextMenu",function(S){var k=C.props.onContextMenu;if(Ct(k)){var E=C.getMouseInfo(S);k(E,S)}}),Pt(C,"triggerSyncEvent",function(S){C.props.syncId!==void 0&&_w.emit(Ew,C.props.syncId,S,C.eventEmitterSymbol)}),Pt(C,"applySyncEvent",function(S){var k=C.props,E=k.layout,T=k.syncMethod,F=C.state.updateId,O=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)C.setState($e({dataStartIndex:O,dataEndIndex:P},m({props:C.props,dataStartIndex:O,dataEndIndex:P,updateId:F},C.state)));else if(S.activeTooltipIndex!==void 0){var W=S.chartX,q=S.chartY,D=S.activeTooltipIndex,M=C.state,H=M.offset,ee=M.tooltipTicks;if(!H)return;if(typeof T=="function")D=T(ee,S);else if(T==="value"){D=-1;for(var X=0;X<ee.length;X++)if(ee[X].value===S.activeLabel){D=X;break}}var de=$e($e({},H),{},{x:H.left,y:H.top}),le=Math.min(W,de.x+de.width),G=Math.min(q,de.y+de.height),K=ee[D]&&ee[D].value,Z=n2(C.state,C.props.data,D),I=ee[D]?{x:E==="horizontal"?ee[D].coordinate:le,y:E==="horizontal"?G:ee[D].coordinate}:_R;C.setState($e($e({},S),{},{activeLabel:K,activeCoordinate:I,activePayload:Z,activeTooltipIndex:D}))}else C.setState(S)}),Pt(C,"renderCursor",function(S){var k,E=C.state,T=E.isTooltipActive,F=E.activeCoordinate,O=E.activePayload,P=E.offset,W=E.activeTooltipIndex,q=E.tooltipAxisBandSize,D=C.getTooltipEventType(),M=(k=S.props.active)!==null&&k!==void 0?k:T,H=C.props.layout,ee=S.key||"_recharts-cursor";return ne.createElement(d1e,{key:ee,activeCoordinate:F,activePayload:O,activeTooltipIndex:W,chartName:r,element:S,isActive:M,layout:H,offset:P,tooltipAxisBandSize:q,tooltipEventType:D})}),Pt(C,"renderPolarAxis",function(S,k,E){var T=Gs(S,"type.axisType"),F=Gs(C.state,"".concat(T,"Map")),O=S.type.defaultProps,P=O!==void 0?$e($e({},O),S.props):S.props,W=F&&F[P["".concat(T,"Id")]];return N.cloneElement(S,$e($e({},W),{},{className:Rt(T,W.className),key:S.key||"".concat(k,"-").concat(E),ticks:Xo(W,!0)}))}),Pt(C,"renderPolarGrid",function(S){var k=S.props,E=k.radialLines,T=k.polarAngles,F=k.polarRadius,O=C.state,P=O.radiusAxisMap,W=O.angleAxisMap,q=Rl(P),D=Rl(W),M=D.cx,H=D.cy,ee=D.innerRadius,X=D.outerRadius;return N.cloneElement(S,{polarAngles:Array.isArray(T)?T:Xo(D,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray(F)?F:Xo(q,!0).map(function(de){return de.coordinate}),cx:M,cy:H,innerRadius:ee,outerRadius:X,key:S.key||"polar-grid",radialLines:E})}),Pt(C,"renderLegend",function(){var S=C.state.formattedGraphicalItems,k=C.props,E=k.children,T=k.width,F=k.height,O=C.props.margin||{},P=T-(O.left||0)-(O.right||0),W=YF({children:E,formattedGraphicalItems:S,legendWidth:P,legendContent:d});if(!W)return null;var q=W.item,D=_O(W,u1e);return N.cloneElement(q,$e($e({},D),{},{chartWidth:T,chartHeight:F,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Pt(C,"renderTooltip",function(){var S,k=C.props,E=k.children,T=k.accessibilityLayer,F=Ls(E,Br);if(!F)return null;var O=C.state,P=O.isTooltipActive,W=O.activeCoordinate,q=O.activePayload,D=O.activeLabel,M=O.offset,H=(S=F.props.active)!==null&&S!==void 0?S:P;return N.cloneElement(F,{viewBox:$e($e({},M),{},{x:M.left,y:M.top}),active:H,label:D,payload:H?q:[],coordinate:W,accessibilityLayer:T})}),Pt(C,"renderBrush",function(S){var k=C.props,E=k.margin,T=k.data,F=C.state,O=F.offset,P=F.dataStartIndex,W=F.dataEndIndex,q=F.updateId;return N.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Yg(C.handleBrushChange,S.props.onChange),data:T,x:Qe(S.props.x)?S.props.x:O.left,y:Qe(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(E.bottom||0),width:Qe(S.props.width)?S.props.width:O.width,startIndex:P,endIndex:W,updateId:"brush-".concat(q)})}),Pt(C,"renderReferenceElement",function(S,k,E){if(!S)return null;var T=C,F=T.clipPathId,O=C.state,P=O.xAxisMap,W=O.yAxisMap,q=O.offset,D=S.type.defaultProps||{},M=S.props,H=M.xAxisId,ee=H===void 0?D.xAxisId:H,X=M.yAxisId,de=X===void 0?D.yAxisId:X;return N.cloneElement(S,{key:S.key||"".concat(k,"-").concat(E),xAxis:P[ee],yAxis:W[de],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:F})}),Pt(C,"renderActivePoints",function(S){var k=S.item,E=S.activePoint,T=S.basePoint,F=S.childIndex,O=S.isRange,P=[],W=k.props.key,q=k.item.type.defaultProps!==void 0?$e($e({},k.item.type.defaultProps),k.item.props):k.item.props,D=q.activeDot,M=q.dataKey,H=$e($e({index:F,dataKey:M,cx:E.x,cy:E.y,r:4,fill:MS(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},jt(D,!1)),Vx(D));return P.push(v.renderActiveDot(D,H,"".concat(W,"-activePoint-").concat(F))),T?P.push(v.renderActiveDot(D,$e($e({},H),{},{cx:T.x,cy:T.y}),"".concat(W,"-basePoint-").concat(F))):O&&P.push(null),P}),Pt(C,"renderGraphicChild",function(S,k,E){var T=C.filterFormatItem(S,k,E);if(!T)return null;var F=C.getTooltipEventType(),O=C.state,P=O.isTooltipActive,W=O.tooltipAxis,q=O.activeTooltipIndex,D=O.activeLabel,M=C.props.children,H=Ls(M,Br),ee=T.props,X=ee.points,de=ee.isRange,le=ee.baseLine,G=T.item.type.defaultProps!==void 0?$e($e({},T.item.type.defaultProps),T.item.props):T.item.props,K=G.activeDot,Z=G.hide,I=G.activeBar,V=G.activeShape,te=!!(!Z&&P&&H&&(K||I||V)),R={};F!=="axis"&&H&&H.props.trigger==="click"?R={onClick:Yg(C.handleItemMouseEnter,S.props.onClick)}:F!=="axis"&&(R={onMouseLeave:Yg(C.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Yg(C.handleItemMouseEnter,S.props.onMouseEnter)});var U=N.cloneElement(S,$e($e({},T.props),R));function Q(mt){return typeof W.dataKey=="function"?W.dataKey(mt.payload):null}if(te)if(q>=0){var J,L;if(W.dataKey&&!W.allowDuplicatedCategory){var he=typeof W.dataKey=="function"?Q:"payload.".concat(W.dataKey.toString());J=Hx(X,he,D),L=de&&le&&Hx(le,he,D)}else J=X==null?void 0:X[q],L=de&&le&&le[q];if(V||I){var ge=S.props.activeIndex!==void 0?S.props.activeIndex:q;return[N.cloneElement(S,$e($e($e({},T.props),R),{},{activeIndex:ge})),null,null]}if(!Mt(J))return[U].concat(gf(C.renderActivePoints({item:T,activePoint:J,basePoint:L,childIndex:q,isRange:de})))}else{var Ae,Ee=(Ae=C.getItemByXY(C.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:U},xe=Ee.graphicalItem,Te=xe.item,Ue=Te===void 0?S:Te,tt=xe.childIndex,ct=$e($e($e({},T.props),R),{},{activeIndex:tt});return[N.cloneElement(Ue,ct),null,null]}return de?[U,null,null]:[U,null]}),Pt(C,"renderCustomized",function(S,k,E){return N.cloneElement(S,$e($e({key:"recharts-customized-".concat(E)},C.props),C.state))}),Pt(C,"renderMap",{CartesianGrid:{handler:tx,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:tx},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:tx},YAxis:{handler:tx},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((j=w.id)!==null&&j!==void 0?j:Rf("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=XI(C.triggeredAfterMouseMove,(A=w.throttleDelay)!==null&&A!==void 0?A:1e3/60),C.state={},C}return N1e(v,y),v1e(v,[{key:"componentDidMount",value:function(){var j,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,A=j.children,C=j.data,S=j.height,k=j.layout,E=Ls(A,Br);if(E){var T=E.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,O=n2(this.state,C,T,F),P=this.state.tooltipTicks[T].coordinate,W=(this.state.offset.top+S)/2,q=k==="horizontal",D=q?{x:P,y:W}:{y:P,x:W},M=this.state.formattedGraphicalItems.find(function(ee){var X=ee.item;return X.type.name==="Scatter"});M&&(D=$e($e({},D),M.props.points[T].tooltipPosition),O=M.props.points[T].tooltipPayload);var H={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:F,activePayload:O,activeCoordinate:D};this.setState(H),this.renderCursor(E),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var C,S;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(j){Ej([Ls(j.children,Br)],[Ls(this.props.children,Br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Ls(this.props.children,Br);if(j&&typeof j.props.shared=="boolean"){var A=j.props.shared?"axis":"item";return l.indexOf(A)>=0?A:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var A=this.container,C=A.getBoundingClientRect(),S=qoe(C),k={chartX:Math.round(j.pageX-S.left),chartY:Math.round(j.pageY-S.top)},E=C.width/A.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,E);if(!T)return null;var F=this.state,O=F.xAxisMap,P=F.yAxisMap,W=this.getTooltipEventType(),q=TO(this.state,this.props.data,this.props.layout,T);if(W!=="axis"&&O&&P){var D=Rl(O).scale,M=Rl(P).scale,H=D&&D.invert?D.invert(k.chartX):null,ee=M&&M.invert?M.invert(k.chartY):null;return $e($e({},k),{},{xValue:H,yValue:ee},q)}return q?$e($e({},k),q):null}},{key:"inRange",value:function(j,A){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=j/C,E=A/C;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,F=k>=T.left&&k<=T.left+T.width&&E>=T.top&&E<=T.top+T.height;return F?{x:k,y:E}:null}var O=this.state,P=O.angleAxisMap,W=O.radiusAxisMap;if(P&&W){var q=Rl(P);return GE({x:k,y:E},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,A=this.getTooltipEventType(),C=Ls(j,Br),S={};C&&A==="axis"&&(C.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Vx(this.props,this.handleOuterEvent);return $e($e({},k),S)}},{key:"addListener",value:function(){_w.on(Ew,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_w.removeListener(Ew,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,A,C){for(var S=this.state.formattedGraphicalItems,k=0,E=S.length;k<E;k++){var T=S[k];if(T.item===j||T.props.key===j.key||A===Qo(T.item.type)&&C===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,A=this.state.offset,C=A.left,S=A.top,k=A.height,E=A.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:j},ne.createElement("rect",{x:C,y:S,height:k,width:E})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(A,C){var S=AO(C,2),k=S[0],E=S[1];return $e($e({},A),{},Pt({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(A,C){var S=AO(C,2),k=S[0],E=S[1];return $e($e({},A),{},Pt({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[j])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(j){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[j])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(j){var A=this.state,C=A.formattedGraphicalItems,S=A.activeItem;if(C&&C.length)for(var k=0,E=C.length;k<E;k++){var T=C[k],F=T.props,O=T.item,P=O.type.defaultProps!==void 0?$e($e({},O.type.defaultProps),O.props):O.props,W=Qo(O.type);if(W==="Bar"){var q=(F.data||[]).find(function(ee){return S0e(j,ee)});if(q)return{graphicalItem:T,payload:q}}else if(W==="RadialBar"){var D=(F.data||[]).find(function(ee){return GE(j,ee)});if(D)return{graphicalItem:T,payload:D}}else if(pb(T,S)||gb(T,S)||v0(T,S)){var M=jge({graphicalItem:T,activeTooltipItem:S,itemData:P.data}),H=P.activeIndex===void 0?M:P.activeIndex;return{graphicalItem:$e($e({},T),{},{childIndex:H}),payload:v0(T,S)?P.data[M]:T.props.data[M]}}}return null}},{key:"render",value:function(){var j=this;if(!M_(this))return null;var A=this.props,C=A.children,S=A.className,k=A.width,E=A.height,T=A.style,F=A.compact,O=A.title,P=A.desc,W=_O(A,f1e),q=jt(W,!1);if(F)return ne.createElement(cO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(Oj,_u({},q,{width:k,height:E,title:O,desc:P}),this.renderClipPath(),$_(C,this.renderMap)));if(this.props.accessibilityLayer){var D,M;q.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,q.role=(M=this.props.role)!==null&&M!==void 0?M:"application",q.onKeyDown=function(ee){j.accessibilityManager.keyboardEvent(ee)},q.onFocus=function(){j.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return ne.createElement(cO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",_u({className:Rt("recharts-wrapper",S),style:$e({position:"relative",cursor:"default",width:k,height:E},T)},H,{ref:function(X){j.container=X}}),ne.createElement(Oj,_u({},q,{width:k,height:E,title:O,desc:P,style:E1e}),this.renderClipPath(),$_(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);Pt(p,"displayName",r),Pt(p,"defaultProps",$e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Pt(p,"getDerivedStateFromProps",function(y,v){var w=y.dataKey,j=y.data,A=y.children,C=y.width,S=y.height,k=y.layout,E=y.stackOffset,T=y.margin,F=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var P=OO(y);return $e($e($e({},P),{},{updateId:0},m($e($e({props:y},P),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:j,prevWidth:C,prevHeight:S,prevLayout:k,prevStackOffset:E,prevMargin:T,prevChildren:A})}if(w!==v.prevDataKey||j!==v.prevData||C!==v.prevWidth||S!==v.prevHeight||k!==v.prevLayout||E!==v.prevStackOffset||!Iu(T,v.prevMargin)){var W=OO(y),q={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},D=$e($e({},TO(v,j,k)),{},{updateId:v.updateId+1}),M=$e($e($e({},W),q),D);return $e($e($e({},M),m($e({props:y},M),v)),{},{prevDataKey:w,prevData:j,prevWidth:C,prevHeight:S,prevLayout:k,prevStackOffset:E,prevMargin:T,prevChildren:A})}if(!Ej(A,v.prevChildren)){var H,ee,X,de,le=Ls(A,sf),G=le&&(H=(ee=le.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&H!==void 0?H:F,K=le&&(X=(de=le.props)===null||de===void 0?void 0:de.endIndex)!==null&&X!==void 0?X:O,Z=G!==F||K!==O,I=!Mt(j),V=I&&!Z?v.updateId:v.updateId+1;return $e($e({updateId:V},m($e($e({props:y},v),{},{updateId:V,dataStartIndex:G,dataEndIndex:K}),v)),{},{prevChildren:A,dataStartIndex:G,dataEndIndex:K})}return null}),Pt(p,"renderActiveDot",function(y,v,w){var j;return N.isValidElement(y)?j=N.cloneElement(y,v):Ct(y)?j=y(v):j=ne.createElement(up,v),ne.createElement(Zt,{className:"recharts-active-dot",key:w},j)});var x=N.forwardRef(function(v,w){return ne.createElement(p,_u({},v,{ref:w}))});return x.displayName=p.displayName,x},TR=hp({chartName:"LineChart",GraphicalChild:Hf,axisComponents:[{axisType:"xAxis",AxisComp:Aa},{axisType:"yAxis",AxisComp:_a}],formatAxisMap:KD}),no=hp({chartName:"BarChart",GraphicalChild:Fn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Aa},{axisType:"yAxis",AxisComp:_a}],formatAxisMap:KD}),JS=hp({chartName:"PieChart",GraphicalChild:so,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fd},{axisType:"radiusAxis",AxisComp:Id}],formatAxisMap:$S,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),$1e=hp({chartName:"RadarChart",GraphicalChild:ed,axisComponents:[{axisType:"angleAxis",AxisComp:Fd},{axisType:"radiusAxis",AxisComp:Id}],formatAxisMap:$S,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),B1e=hp({chartName:"RadialBarChart",GraphicalChild:fp,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:Fd},{axisType:"radiusAxis",AxisComp:Id}],formatAxisMap:$S,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function U1e(){const[e,t]=N.useState({stats:{totalSales:0,totalOrders:0,activeUsers:0,growth:0},recentOrders:[],notifications:[],connectionStatus:"disconnected"}),[r,a]=N.useState(!0),s=N.useCallback(m=>{switch(m.type){case"new_order":t(p=>{const x=m.data.order,y=[x,...p.recentOrders.slice(0,4)],v={...p.stats,totalOrders:p.stats.totalOrders+1,totalSales:p.stats.totalSales+x.totalAmount,growth:p.stats.growth},w={id:`order-${x._id}`,type:"order",title:"New Order Received",message:`Order #${x.orderNumber} from ${x.customerInfo.firstName} ${x.customerInfo.lastName}`,timestamp:new Date,read:!1,priority:"medium"};return{...p,stats:v,recentOrders:y,notifications:[w,...p.notifications.slice(0,19)]}});break;case"order_updated":t(p=>{const x=m.data.order,y=p.recentOrders.map(w=>w._id===x._id?x:w),v={id:`order-update-${x._id}-${Date.now()}`,type:"order",title:"Order Status Updated",message:`Order #${x.orderNumber} is now ${x.status}`,timestamp:new Date,read:!1,priority:"low"};return{...p,recentOrders:y,notifications:[v,...p.notifications.slice(0,19)]}});break;case"sales_update":t(p=>({...p,stats:{...m.data.data,growth:typeof m.data.data.growth=="number"?m.data.data.growth:p.stats.growth}}));break;case"inventory_alert":t(p=>{const x={id:`inventory-${Date.now()}`,type:"inventory",title:"Inventory Alert",message:m.data.message,timestamp:new Date,read:!1,priority:m.data.severity==="critical"?"high":"medium"};return{...p,notifications:[x,...p.notifications.slice(0,19)]}});break;default:console.log("Unhandled real-time event:",m.type)}},[]),i=N.useCallback(m=>{t(p=>({...p,connectionStatus:m.data.status}))},[]);N.useEffect(()=>{if(!r)return;const m=xi.subscribe("all",s),p=xi.subscribe("status_change",i);return t(x=>({...x,connectionStatus:xi.getConnectionStatus()})),()=>{m(),p()}},[r,s,i]);const o=N.useCallback(m=>{t(p=>({...p,notifications:p.notifications.map(x=>x.id===m?{...x,read:!0}:x)}))},[]),l=N.useCallback(()=>{t(m=>({...m,notifications:m.notifications.map(p=>({...p,read:!0}))}))},[]),c=N.useCallback(()=>{t(m=>({...m,notifications:[]}))},[]),d=N.useCallback(()=>{a(m=>!m)},[]),u=N.useCallback(()=>{xi.reconnect()},[]),f=N.useCallback(m=>{t(p=>({...p,...m}))},[]),h=e.notifications.filter(m=>!m.read).length;return{dashboardData:e,isRealTimeEnabled:r,unreadNotificationsCount:h,markNotificationAsRead:o,markAllNotificationsAsRead:l,clearNotifications:c,toggleRealTime:d,reconnect:u,updateDashboardData:f}}function W1e({isVisible:e,orderData:t,onClose:r}){const[a,s]=N.useState(!1);return N.useEffect(()=>{if(e){s(!0),$l.playNewOrderSound();const i=setTimeout(()=>{r()},8e3);return()=>clearTimeout(i)}},[e,r]),!e||!t?null:n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes bob {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
          }
          .animate-bob {
            animation: bob 2s ease-in-out infinite;
          }
        `}}),n.jsx("div",{className:"fixed top-4 right-4 z-50",children:n.jsxs("div",{className:`
            bg-gradient-to-r from-green-500 to-emerald-600 text-white p-4 rounded-lg shadow-2xl
            transform transition-all duration-300 ease-in-out
            ${a?"animate-bob scale-100 opacity-100":"scale-95 opacity-0"}
            max-w-sm w-full
          `,children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-2 animate-pulse",children:n.jsx(rr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-lg flex items-center gap-2",children:"🎉 New Order!"}),n.jsxs("p",{className:"text-green-100 text-sm",children:["Order #",t.orderNumber]}),n.jsx("p",{className:"text-white font-medium",children:t.customerName}),n.jsxs("p",{className:"text-green-100 text-sm font-semibold",children:["$",t.amount.toFixed(2)]})]})]}),n.jsx("button",{onClick:r,className:"text-white hover:text-green-200 transition-colors p-1 hover:bg-white hover:bg-opacity-10 rounded",children:n.jsx(xt,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"mt-3 flex justify-center",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-white bg-opacity-60 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-white bg-opacity-60 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-white bg-opacity-60 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})}),n.jsx("div",{className:"mt-3 w-full bg-white bg-opacity-20 rounded-full h-1",children:n.jsx("div",{className:"bg-white h-1 rounded-full animate-pulse",style:{width:"100%",animation:"progress 8s linear forwards"}})})]})})]})}function z1e(){const[e,t]=N.useState(!1),[r,a]=N.useState(!1),[s,i]=N.useState(.8),[o,l]=N.useState(1),[c,d]=N.useState(""),[u,f]=N.useState([]),[h,m]=N.useState(!0),[p,x]=N.useState(!1),[y,v]=N.useState(null),[w,j]=N.useState(!0),[A,C]=N.useState(.7),[S,k]=N.useState(()=>Dc.isEnabled()),[E,T]=N.useState([]);N.useEffect(()=>{const G=()=>{const I=Wi.getAvailableVoices();f(I),I.length>0&&!c&&d(I[0].name)};G(),setTimeout(G,100);const K=I=>{h&&(v(I),x(!0))};xi.setBobNotificationCallback(K);const Z=Dc.addListener(I=>{T(I.slice(0,5))});return T(Dc.getAlerts().slice(0,5)),()=>{xi.setBobNotificationCallback(null),Z()}},[c,h]),N.useEffect(()=>{$l.setEnabled(w),$l.setVolume(A)},[w,A]);const F=()=>{e?(Wi.disable(),t(!1)):(Wi.enable(),t(!0))},O=G=>{i(G),Wi.setVolume(G)},P=G=>{l(G),Wi.setRate(G)},W=G=>{d(G);const K=u.find(Z=>Z.name===G);K&&Wi.setVoice(K)},q=()=>{Wi.test()},D=()=>{m(!h)},M=()=>{v({orderNumber:"TEST123",customerName:"John Doe",amount:49.99}),x(!0)},H=()=>{j(!w)},ee=G=>{C(G)},X=()=>{$l.test()},de=()=>{const G=!S;k(G),Dc.setEnabled(G)},le=()=>{Dc.testAlert("high")};return n.jsxs(n.Fragment,{children:[n.jsx(W1e,{isVisible:p,orderData:y||void 0,onClose:()=>x(!1)}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(os,{className:"w-5 h-5 text-green-600"}),"Real-Time Order Monitoring"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Live monitoring for customer orders and sales data"})]}),n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-100 rounded-full",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm font-medium text-green-700",children:"System Active"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:F,className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium transition-colors ${e?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e?n.jsx(rq,{className:"w-4 h-4"}):n.jsx(nq,{className:"w-4 h-4"}),e?"Voice On":"Voice Off"]}),e&&n.jsx("button",{onClick:()=>a(!r),className:"p-1 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:n.jsx(Ha,{className:"w-4 h-4"})}),n.jsxs("button",{onClick:D,className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium transition-colors ${h?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(rr,{className:"w-4 h-4"}),h?"Bob On":"Bob Off"]}),n.jsxs("button",{onClick:de,className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium transition-colors ${S?"bg-orange-100 text-orange-700 hover:bg-orange-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[n.jsx(Ur,{className:"w-4 h-4"}),S?"Alerts On":"Alerts Off"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[e&&r&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("h4",{className:"font-medium text-blue-800 mb-4 flex items-center gap-2",children:[n.jsx(Ha,{className:"w-4 h-4"}),"Audio & Voice Settings"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h5",{className:"font-medium text-blue-700 border-b border-blue-300 pb-2",children:"Voice Announcements"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:["Volume: ",Math.round(s*100),"%"]}),n.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s,onChange:G=>O(parseFloat(G.target.value)),className:"w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:["Speed: ",o,"x"]}),n.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:o,onChange:G=>P(parseFloat(G.target.value)),className:"w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Voice"}),n.jsx("select",{value:c,onChange:G=>W(G.target.value),className:"w-full px-3 py-2 text-sm border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:u.map(G=>n.jsxs("option",{value:G.name,children:[G.name," (",G.lang,")"]},G.name))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h5",{className:"font-medium text-purple-700 border-b border-purple-300 pb-2",children:"Bob Notification Sounds"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Enable Audio"}),n.jsx("button",{onClick:H,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${w?"bg-purple-600":"bg-gray-300"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${w?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:["Audio Volume: ",Math.round(A*100),"%"]}),n.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:A,onChange:G=>ee(parseFloat(G.target.value)),disabled:!w,className:"w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer disabled:opacity-50"})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-center gap-3",children:[n.jsx("button",{onClick:q,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Test Voice"}),n.jsx("button",{onClick:X,disabled:!w,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Test Audio"}),n.jsx("button",{onClick:M,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm font-medium",children:"Test Bob + Audio"}),n.jsx("button",{onClick:le,className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors text-sm font-medium",children:"Test Inventory Alert"})]})]}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(os,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-green-800 font-medium",children:"Real-Time System Active"})]}),n.jsx("p",{className:"text-green-700 text-sm mt-2",children:"You will receive live notifications when customers place real orders through your checkout system. Enable voice announcements and bob notifications with sound effects for complete audio-visual alerts!"})]}),E.length>0&&n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ur,{className:"w-5 h-5 text-orange-600"}),n.jsx("span",{className:"text-orange-800 font-medium",children:"Recent Inventory Alerts"})]}),n.jsx("button",{onClick:()=>Dc.clearAllAlerts(),className:"text-orange-600 hover:text-orange-800 text-sm",children:"Clear All"})]}),n.jsx("div",{className:"space-y-2",children:E.map(G=>n.jsxs("div",{className:`p-3 rounded-md border-l-4 ${G.severity==="high"?"bg-red-50 border-red-400":G.severity==="medium"?"bg-orange-50 border-orange-400":"bg-yellow-50 border-yellow-400"}`,children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm font-medium ${G.severity==="high"?"text-red-800":G.severity==="medium"?"text-orange-800":"text-yellow-800"}`,children:G.message}),G.currentStock!==void 0&&n.jsxs("p",{className:`text-xs mt-1 ${G.severity==="high"?"text-red-600":G.severity==="medium"?"text-orange-600":"text-yellow-600"}`,children:["Current Stock: ",G.currentStock," units"]})]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${G.severity==="high"?"bg-red-100 text-red-600":G.severity==="medium"?"bg-orange-100 text-orange-600":"bg-yellow-100 text-yellow-600"}`,children:G.severity.toUpperCase()})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:G.timestamp.toLocaleTimeString()})]},G.id))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(rr,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-blue-800 font-medium",children:"New Orders"})]}),n.jsx("p",{className:"text-blue-700 text-sm",children:"Get instant notifications when customers complete checkout"})]}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(So,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{className:"text-purple-800 font-medium",children:"Order Updates"})]}),n.jsx("p",{className:"text-purple-700 text-sm",children:"Live updates when order status changes (processing, shipped, etc.)"})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Ql,{className:"w-5 h-5 text-yellow-600"}),n.jsx("span",{className:"text-yellow-800 font-medium",children:"Sales Metrics"})]}),n.jsx("p",{className:"text-yellow-700 text-sm",children:"Dashboard stats update automatically with new sales"})]}),n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Ur,{className:"w-5 h-5 text-orange-600"}),n.jsx("span",{className:"text-orange-800 font-medium",children:"Inventory Alerts"})]}),n.jsx("p",{className:"text-orange-700 text-sm",children:"Real-time alerts for low stock and out-of-stock items"})]})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"How Customers Place Real Orders:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Customer Journey:"}),n.jsxs("div",{className:"text-gray-600 text-sm space-y-1 pl-4",children:[n.jsx("p",{children:"1. Browse products on your website"}),n.jsx("p",{children:"2. Add items to shopping cart"}),n.jsx("p",{children:"3. Proceed to checkout"}),n.jsx("p",{children:"4. Fill shipping information"}),n.jsx("p",{children:"5. Select payment method (Card/COD)"}),n.jsx("p",{children:"6. Complete order → You get notified!"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"What You'll See:"}),n.jsxs("div",{className:"text-gray-600 text-sm space-y-1 pl-4",children:[n.jsx("p",{children:"• Toast notification with customer name"}),n.jsx("p",{children:"• Voice announcement (if enabled)"}),n.jsx("p",{children:"• Bob notification animation with sound (if enabled)"}),n.jsx("p",{children:"• Musical notification sound effects"}),n.jsx("p",{children:"• Order number and total amount"}),n.jsx("p",{children:"• Real-time dashboard updates"}),n.jsx("p",{children:"• Updated sales metrics"}),n.jsx("p",{children:"• Order appears in orders list"}),n.jsx("p",{children:"• Inventory alerts when stock is low"})]})]})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Real-Time Notifications:"})," The system uses WebSocket connection for instant notifications including new orders, order updates, sales metrics, and inventory alerts. Optional voice announcements are available for all notification types. Connection status is shown in the top navigation bar."]})})]})]})]})}const IO=["#4F46E5","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"];function H1e(){const[e,t]=N.useState("7"),[r,a]=N.useState({totalSales:0,totalOrders:0,activeUsers:0,growth:0}),[s,i]=N.useState([]),[o,l]=N.useState(!0),{currency:c}=Ta(),{dashboardData:d,updateDashboardData:u}=U1e();N.useEffect(()=>{f()},[e]),N.useEffect(()=>{d.stats.totalSales>0&&a(d.stats),d.recentOrders.length>0&&i(d.recentOrders)},[d]);const f=async()=>{try{const w=(await ue.getWithRetry("/orders/all")).data,j=w.reduce((E,T)=>E+T.totalAmount,0),A=h(w),S=new Set(w.map(E=>E.customerInfo?`${E.customerInfo.firstName}-${E.customerInfo.lastName}`:"guest")).size,k={totalSales:j,totalOrders:w.length,activeUsers:S,growth:A};a(k),i(w.slice(0,5)),u({stats:k,recentOrders:w.slice(0,5)})}catch(v){z.error("Failed to fetch dashboard data")}finally{l(!1)}},h=v=>{const w=new Date,j=new Date(w.setDate(w.getDate()-30)),A=v.filter(E=>new Date(E.createdAt)>=j),C=v.filter(E=>new Date(E.createdAt)<j);if(C.length===0)return 0;const S=A.reduce((E,T)=>E+T.totalAmount,0),k=C.reduce((E,T)=>E+T.totalAmount,0);return(S-k)/k*100},m=v=>{const w={},j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];v.forEach(S=>{const k=new Date(S.createdAt),E=j[k.getMonth()];w[E]=(w[E]||0)+S.totalAmount});const A=new Date().getMonth(),C=[];for(let S=6;S>=0;S--){const k=(A-S+12)%12,E=j[k];C.push({name:E,amount:Math.round(w[E]||0)})}return C},p=v=>{const w={};return v.forEach(j=>{j.items.forEach(A=>{if(A.product){let C="Other";const S=A.product.name.toLowerCase();S.includes("shirt")||S.includes("dress")||S.includes("clothing")?C=S.includes("women")||S.includes("female")?"Women":"Men":S.includes("shoe")||S.includes("boot")||S.includes("sneaker")?C="Shoes":S.includes("bag")||S.includes("watch")||S.includes("accessory")?C="Accessories":(S.includes("headphone")||S.includes("electronic"))&&(C="Electronics"),w[C]=(w[C]||0)+A.quantity*A.price}})}),Object.entries(w).map(([j,A])=>({name:j,value:Math.round(A)})).sort((j,A)=>A.value-j.value)},x=m(s),y=p(s);return o?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),d.connectionStatus==="connected"&&n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-100 rounded-full",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm font-medium text-green-700",children:"Live"})]})]}),n.jsxs("select",{value:e,onChange:v=>t(v.target.value),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"7",children:"Last 7 days"}),n.jsx("option",{value:"30",children:"Last 30 days"}),n.jsx("option",{value:"90",children:"Last 90 days"})]})]}),n.jsx(z1e,{}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:lt(r.totalSales,c)})]}),n.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-lg flex items-center justify-center",children:n.jsx(Cd,{className:"w-6 h-6 text-indigo-600"})})]}),n.jsxs("div",{className:"mt-4 flex items-center",children:[n.jsx("span",{className:"text-sm font-medium text-green-600",children:"+12.5%"}),n.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"vs last period"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:r.activeUsers.toLocaleString()})]}),n.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center",children:n.jsx(So,{className:"w-6 h-6 text-green-600"})})]}),n.jsxs("div",{className:"mt-4 flex items-center",children:[n.jsx("span",{className:"text-sm font-medium text-green-600",children:"+5.2%"}),n.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"vs last period"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:r.totalOrders.toLocaleString()})]}),n.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-lg flex items-center justify-center",children:n.jsx(rr,{className:"w-6 h-6 text-amber-600"})})]}),n.jsxs("div",{className:"mt-4 flex items-center",children:[n.jsx("span",{className:"text-sm font-medium text-green-600",children:"+8.1%"}),n.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"vs last period"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Growth"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:[(typeof r.growth=="number"?r.growth:0).toFixed(1),"%"]})]}),n.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-lg flex items-center justify-center",children:n.jsx(Nn,{className:"w-6 h-6 text-rose-600"})})]}),n.jsxs("div",{className:"mt-4 flex items-center",children:[n.jsx("span",{className:"text-sm font-medium text-green-600",children:"+2.4%"}),n.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"vs last period"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Sales by Category"}),n.jsx("div",{className:"h-[300px]",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(JS,{children:[n.jsx(so,{data:y,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:({name:v,percent:w})=>`${v} ${(w*100).toFixed(0)}%`,children:y.map((v,w)=>n.jsx(_d,{fill:IO[w%IO.length]},`cell-${w}`))}),n.jsx(Br,{})]})})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Revenue Overview"}),n.jsx("div",{className:"h-[300px]",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:x,children:[n.jsx(Cs,{strokeDasharray:"3 3"}),n.jsx(Aa,{dataKey:"name"}),n.jsx(_a,{}),n.jsx(Br,{}),n.jsx(Fn,{dataKey:"amount",fill:"#4F46E5"})]})})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Products"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(v=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-indigo-600",children:["#",v.orderNumber]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[v.customerInfo.firstName," ",v.customerInfo.lastName]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[v.items.length," items"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:lt(v.totalAmount,c)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.status==="delivered"?"bg-green-100 text-green-800":v.status==="processing"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})})]},v._id))})]})})]})]})}function Dd(){const{settings:e}=vr(),{currency:t}=Ta();return e!=null&&e.currency&&e.currency in Vi?e.currency:t}function FO(e){const t="https://api.cloudinary.com/v1_1/dyihyrkoz/upload";{if(e!=="auto"){if(t.includes("/image/upload"))return t.replace("/image/upload",`/${e}/upload`);if(t.includes("/video/upload"))return t.replace("/video/upload",`/${e}/upload`)}return t}}async function Nb(e,t={}){var i;const r=new FormData;r.append("file",e),r.append("upload_preset","ml_default"),r.append("cloud_name","dyihyrkoz"),t.folder&&r.append("folder",t.folder),t.tags&&r.append("tags",Array.isArray(t.tags)?t.tags.join(","):t.tags),t.context&&r.append("context",Object.entries(t.context).map(([o,l])=>`${o}=${l}`).join("|"));const a=(i=e.type)==null?void 0:i.startsWith("video/"),s=t.resourceType||(a?"video":"image");try{const o=FO(s);return(await Lx.post(o,r)).data.secure_url}catch(o){try{const l=FO("auto");return(await Lx.post(l,r)).data.secure_url}catch(l){throw console.error("Error uploading to Cloudinary:",l),new Error("Failed to upload media")}}}async function Ys(e){return Nb(e)}const Wc=Object.freeze(Object.defineProperty({__proto__:null,uploadMediaToCloudinary:Nb,uploadToCloudinary:Ys},Symbol.toStringTag,{value:"Module"}));function V1e({color:e,onUpdate:t,onRemove:r}){const[a,s]=N.useState([]),[i,o]=N.useState(e.images||[]),[l,c]=N.useState(""),[d,u]=N.useState(""),f=async x=>{const y=Array.from(x.target.files||[]);if(y.length+i.length>5){z.error("Maximum 5 images per color");return}s(w=>[...w,...y]);const v=await Promise.all(y.map(w=>Ys(w)));o(w=>[...w,...v]),t({...e,images:[...e.images||[],...v]})},h=x=>{o(y=>y.filter((v,w)=>w!==x)),t({...e,images:e.images.filter((y,v)=>v!==x)})},m=()=>{if(!l||!d)return;const x={name:l,stock:Number(d)};t({...e,sizes:[...e.sizes||[],x]}),c(""),u("")},p=x=>{t({...e,sizes:e.sizes.filter((y,v)=>v!==x)})};return n.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-gray-50",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-5 h-5 rounded-full",style:{backgroundColor:e.code}}),n.jsx("span",{className:"font-medium",children:e.name})]}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(xt,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Images (max 5)"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[i.map((x,y)=>n.jsxs("div",{className:"relative w-16 h-16 rounded overflow-hidden",children:[n.jsx("img",{src:x,alt:"Color",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>h(y),className:"absolute top-0 right-0 bg-white rounded-full p-0.5",children:n.jsx(xt,{className:"w-3 h-3"})})]},y)),i.length<5&&n.jsxs("label",{className:"w-16 h-16 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-gray-400",children:[n.jsx(Gn,{className:"w-4 h-4 text-gray-400"}),n.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"hidden"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sizes"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",placeholder:"Size name",value:l,onChange:x=>c(x.target.value),className:"px-2 py-1 border rounded text-xs"}),n.jsx("input",{type:"number",placeholder:"Stock",value:d,onChange:x=>u(x.target.value),className:"px-2 py-1 border rounded text-xs w-20"}),n.jsx("button",{type:"button",onClick:m,className:"px-2 py-1 bg-indigo-600 text-white rounded text-xs",children:"Add"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.sizes.map((x,y)=>n.jsxs("div",{className:"flex items-center gap-1 bg-white border rounded px-2 py-1 text-xs",children:[n.jsxs("span",{children:[x.name," (",x.stock,")"]}),n.jsx("button",{type:"button",onClick:()=>p(y),className:"text-gray-400 hover:text-gray-600",children:n.jsx(xt,{className:"w-3 h-3"})})]},y))})]})]})}function G1e({isOpen:e,onClose:t,onSubmit:r}){const a=Dd(),[s,i]=N.useState({name:"",description:"",price:"",category:"",isNew:!1,isFeatured:!1,colors:[],videoUrls:[]}),[o,l]=N.useState(!1),[c,d]=N.useState(!1),[u,f]=N.useState(null),[h,m]=N.useState([]),[p,x]=N.useState({name:"",code:"#000000"});N.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{const C=await ue.getWithRetry("/categories");m(C.data)}catch(C){z.error("Failed to fetch categories")}},v=()=>{if(!(!p.name||!p.code)){if(s.colors.some(C=>C.name===p.name)){z.error("Color already added");return}i(C=>({...C,colors:[...C.colors,{name:p.name,code:p.code,images:[],sizes:[]}]})),x({name:"",code:"#000000"})}},w=(C,S)=>{i(k=>({...k,colors:k.colors.map((E,T)=>T===C?S:E)}))},j=C=>{i(S=>({...S,colors:S.colors.filter((k,E)=>E!==C)}))},A=async C=>{var S;C.preventDefault(),l(!0);try{if(s.colors.length===0)throw new Error("Add at least one color");if(!s.colors.some(F=>F.sizes.length>0))throw new Error("Add at least one size for a color");const k=s.colors.reduce((F,O)=>F+O.sizes.reduce((P,W)=>P+W.stock,0),0),E=parseFloat(s.price);if(Number.isNaN(E)||E<0)throw new Error("Invalid price");const T={...s,price:E,stock:k,currency:a};console.log("Submitting product payload:",T),await r(T),i({name:"",description:"",price:"",category:"",isNew:!1,isFeatured:!1,colors:[],videoUrls:[]}),t(),z.success("Product added successfully")}catch(k){console.error("Product add error:",((S=k==null?void 0:k.response)==null?void 0:S.data)||k),z.error(k instanceof Error?k.message:"Failed to add product")}finally{l(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add New Product"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:A,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),n.jsx("input",{type:"text",required:!0,value:s.name,onChange:C=>i(S=>({...S,name:C.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{required:!0,value:s.description,onChange:C=>i(S=>({...S,description:C.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price (",a,")"]}),n.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:s.price,onChange:C=>i(S=>({...S,price:C.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),n.jsxs("select",{required:!0,value:s.category,onChange:C=>i(S=>({...S,category:C.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"Select Category"}),h.map(C=>n.jsx("option",{value:C._id,children:C.name},C._id))]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:s.isNew,onChange:C=>i(S=>({...S,isNew:C.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Mark as New"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:s.isFeatured,onChange:C=>i(S=>({...S,isFeatured:C.target.checked})),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Featured Product"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Videos (optional)"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Add or upload up to 8 videos. Uploading stores temporarily and auto-fills URL."})]}),n.jsx("div",{children:n.jsxs("label",{className:"inline-flex items-center px-3 py-1 bg-indigo-600 text-white text-xs rounded cursor-pointer hover:bg-indigo-700",children:[n.jsx("input",{type:"file",accept:"video/*",className:"hidden",disabled:c||s.videoUrls.length>=8,onChange:async C=>{var k,E,T,F,O;const S=(k=C.target.files)==null?void 0:k[0];if(S){if(s.videoUrls.length>=8){z.error("Maximum of 8 videos");return}d(!0),f(0);try{const P=new FormData;P.append("video",S);const q=(E=(await ue.post("/products/videos/temp",P,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:D=>{D.total&&f(Math.round(D.loaded/D.total*100))}})).data)==null?void 0:E.url;q?(i(D=>({...D,videoUrls:[...D.videoUrls,q]})),z.success("Video uploaded")):z.error("Upload response missing URL")}catch(P){console.error("Temp video upload failed",((T=P==null?void 0:P.response)==null?void 0:T.data)||P),z.error(((O=(F=P==null?void 0:P.response)==null?void 0:F.data)==null?void 0:O.message)||"Video upload failed")}finally{d(!1),f(null),C.target&&(C.target.value="")}}}}),c?"Uploading...":"Upload Video"]})})]}),c&&n.jsx("div",{className:"w-full bg-gray-200 h-2 rounded overflow-hidden",children:n.jsx("div",{className:"bg-indigo-600 h-2 transition-all",style:{width:`${u||0}%`}})}),n.jsxs("div",{className:"space-y-3",children:[s.videoUrls.map((C,S)=>n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("input",{type:"text",value:C,onChange:k=>i(E=>({...E,videoUrls:E.videoUrls.map((T,F)=>F===S?k.target.value:T)})),placeholder:"https://cdn.example.com/video.mp4",className:"flex-1 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"}),n.jsx("button",{type:"button",onClick:()=>i(k=>({...k,videoUrls:k.videoUrls.filter((E,T)=>T!==S)})),className:"text-xs px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"Remove"})]},S)),s.videoUrls.length<8&&n.jsx("button",{type:"button",onClick:()=>i(C=>({...C,videoUrls:[...C.videoUrls,""]})),className:"text-xs px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Add Video URL"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Colors, Images & Sizes"}),n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("input",{type:"text",placeholder:"Color name",value:p.name,onChange:C=>x(S=>({...S,name:C.target.value})),className:"px-2 py-1 border rounded text-sm"}),n.jsx("input",{type:"color",value:p.code,onChange:C=>x(S=>({...S,code:C.target.value})),className:"w-8 h-8 p-0 border rounded"}),n.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-indigo-600 text-white rounded text-sm",children:"Add Color"})]}),s.colors.map((C,S)=>n.jsx(V1e,{color:C,onUpdate:k=>w(S,k),onRemove:()=>j(S)},C.name))]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:o?"Adding Product...":"Add Product"})]})]})]})]})}):null}function q1e({isOpen:e,onClose:t,productId:r,currentRelatedProducts:a}){const[s,i]=N.useState(""),[o,l]=N.useState([]),[c,d]=N.useState(a),[u,f]=N.useState(!1);N.useEffect(()=>{e&&(async()=>{try{const y=(await ue.getWithRetry("/products")).data.filter(v=>v._id!==r&&!c.some(w=>w._id===v._id));l(y)}catch(x){z.error("Failed to fetch products")}})()},[e,r,c]);const h=async()=>{f(!0);try{await ue.putWithRetry(`/products/${r}/related`,{relatedProducts:c.map(p=>p._id)}),z.success("Related products updated successfully"),t()}catch(p){z.error("Failed to update related products")}finally{f(!1)}},m=o.filter(p=>{var v,w;const x=s.toLowerCase(),y=typeof p.category=="string"?p.category:(w=(v=p.category)==null?void 0:v.name)!=null?w:"";return p.name.toLowerCase().includes(x)||y.toLowerCase().includes(x)});return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Manage Related Products"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Selected Products (",c.length,")"]}),n.jsx("div",{className:"space-y-2",children:c.map(p=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:p.images[0],alt:p.name,className:"w-12 h-12 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:p.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["$",p.price]})]})]}),n.jsx("button",{onClick:()=>d(x=>x.filter(y=>y._id!==p._id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(en,{className:"w-5 h-5"})})]},p._id))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"search",placeholder:"Search products...",value:s,onChange:p=>i(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:m.map(p=>n.jsxs("button",{onClick:()=>d(x=>[...x,p]),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:p.images[0],alt:p.name,className:"w-12 h-12 rounded-lg object-cover"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-medium text-gray-900",children:p.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["$",p.price]})]})]}),n.jsx(fr,{className:"w-5 h-5 text-indigo-600"})]},p._id))})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:h,disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":"Save Changes"})]})]})]})]})}):null}function DO(e){if(e==null)return{isValid:!1,value:0};const t=typeof e=="string"?parseFloat(e):e;return typeof t!="number"||isNaN(t)?{isValid:!1,value:0}:t<0?{isValid:!1,value:0}:{isValid:!0,value:Math.round(t*100)/100}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Yy={};Yy.version="0.18.5";var OR=1252,K1e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ZS={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},QS=function(e){K1e.indexOf(e)!=-1&&(OR=ZS[0]=e)};function X1e(){QS(1252)}var qi=function(e){QS(e)};function ek(){qi(1200),X1e()}function RO(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function Y1e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function PR(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var mm=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Y1e(e.slice(2)):t==254&&r==255?PR(e.slice(2)):t==65279?e.slice(1):e},rx=function(t){return String.fromCharCode(t)},MO=function(t){return String.fromCharCode(t)},Ml,Ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function A0(e){for(var t="",r=0,a=0,s=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,a=e.charCodeAt(d++),o=(r&3)<<4|a>>4,s=e.charCodeAt(d++),l=(a&15)<<2|s>>6,c=s&63,isNaN(a)?l=c=64:isNaN(s)&&(c=64),t+=Ul.charAt(i)+Ul.charAt(o)+Ul.charAt(l)+Ul.charAt(c);return t}function Js(e){var t="",r=0,a=0,s=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Ul.indexOf(e.charAt(d++)),o=Ul.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Ul.indexOf(e.charAt(d++)),a=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(a)),c=Ul.indexOf(e.charAt(d++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var Jt=function(){return typeof Buffer!="undefined"&&typeof process!="undefined"&&typeof process.versions!="undefined"&&!!process.versions.node}(),xl=function(){if(typeof Buffer!="undefined"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function rc(e){return Jt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array!="undefined"?new Uint8Array(e):new Array(e)}function LO(e){return Jt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array!="undefined"?new Uint8Array(e):new Array(e)}var Ws=function(t){return Jt?xl(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Sb(e){if(typeof ArrayBuffer=="undefined")return Ws(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function mc(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function J1e(e){if(typeof Uint8Array=="undefined")throw new Error("Unsupported");return new Uint8Array(e)}function tk(e){if(typeof ArrayBuffer=="undefined")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return tk(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var oa=Jt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:xl(t)}))}:function(e){if(typeof Uint8Array!="undefined"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Z1e(e){for(var t=[],r=0,a=e.length+250,s=rc(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|l>>6&15|(o&3)<<4,s[r++]=128|l&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>a&&(t.push(s.slice(0,r)),r=0,s=rc(65535),a=65530)}return t.push(s.slice(0,r)),oa(t)}var ls=/\u0000/g,pm=/[\u0001-\u0006]/g;function Ru(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ki(e,t){var r=""+e;return r.length>=t?r:fn("0",t-r.length)+r}function rk(e,t){var r=""+e;return r.length>=t?r:fn(" ",t-r.length)+r}function Jy(e,t){var r=""+e;return r.length>=t?r:r+fn(" ",t-r.length)}function Q1e(e,t){var r=""+Math.round(e);return r.length>=t?r:fn("0",t-r.length)+r}function ewe(e,t){var r=""+e;return r.length>=t?r:fn("0",t-r.length)+r}var $O=Math.pow(2,32);function gu(e,t){if(e>$O||e<-$O)return Q1e(e,t);var r=Math.round(e);return ewe(r,t)}function Zy(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var BO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ow=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function twe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var It={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},UO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},rwe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Qy(e,t,r){for(var a=e<0?-1:1,s=e*a,i=0,o=1,l=0,c=1,d=0,u=0,f=Math.floor(s);d<t&&(f=Math.floor(s),l=f*o+i,u=f*d+c,!(s-f<5e-8));)s=1/(s-f),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,a*l,u];var h=Math.floor(a*l/u);return[h,a*l-h*u,u]}function Xc(e,t,r){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,o=[],l={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(a+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++a,++l.D)),a===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),r&&(i=lwe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var IR=new Date(1899,11,31,0,0,0),nwe=IR.getTime(),awe=new Date(1900,2,1,0,0,0);function FR(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=awe&&(r+=24*60*60*1e3),(r-(nwe+(e.getTimezoneOffset()-IR.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function nk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function swe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function iwe(e){var t=e<0?12:11,r=nk(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function owe(e){var t=nk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function _0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=iwe(e):t===10?r=e.toFixed(10).substr(0,12):r=owe(e),nk(swe(r.toUpperCase()))}function md(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):_0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ai(14,FR(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function lwe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function cwe(e,t,r,a){var s="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return Ow[r.m-1][1];case 5:return Ow[r.m-1][0];default:return Ow[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return BO[r.q][0];default:return BO[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ki(r.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(s=Ki(i,2+a),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Ki(c,d):"";return u}function Wl(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var DR=/%/g;function dwe(e,t,r){var a=t.replace(DR,""),s=t.length-a.length;return tl(e,a,r*Math.pow(10,2*s))+fn("%",s)}function uwe(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return tl(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function RR(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+RR(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var MR=/# (\?+)( ?)\/( ?)(\d+)/;function fwe(e,t,r){var a=parseInt(e[4],10),s=Math.round(t*a),i=Math.floor(s/a),o=s-i*a,l=a;return r+(i===0?"":""+i)+" "+(o===0?fn(" ",e[1].length+1+e[4].length):rk(o,e[1].length)+e[2]+"/"+e[3]+Ki(l,e[4].length))}function hwe(e,t,r){return r+(t===0?"":""+t)+fn(" ",e[1].length+2+e[4].length)}var LR=/^#*0*\.([0#]+)/,$R=/\).*[0#]/,BR=/\(###\) ###\\?-####/;function rs(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function WO(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function zO(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function mwe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function pwe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ui(e,t,r){if(e.charCodeAt(0)===40&&!t.match($R)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ui("n",a,r):"("+ui("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return uwe(e,t,r);if(t.indexOf("%")!==-1)return dwe(e,t,r);if(t.indexOf("E")!==-1)return RR(t,r);if(t.charCodeAt(0)===36)return"$"+ui(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+gu(c,t.length);if(t.match(/^[#?]+$/))return s=gu(r,0),s==="0"&&(s=""),s.length>t.length?s:rs(t.substr(0,t.length-s.length))+s;if(i=t.match(MR))return fwe(i,c,d);if(t.match(/^#+0+$/))return d+gu(c,t.length-t.indexOf("0"));if(i=t.match(LR))return s=WO(r,i[1].length).replace(/^([^\.]+)$/,"$1."+rs(i[1])).replace(/\.$/,"."+rs(i[1])).replace(/\.(\d*)$/,function(p,x){return"."+x+fn("0",rs(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+WO(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Wl(gu(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ui(e,t,-r):Wl(""+(Math.floor(r)+mwe(r,i[1].length)))+"."+Ki(zO(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ui(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Ru(ui(e,t.replace(/[\\-]/g,""),r)),o=0,Ru(Ru(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<s.length?s.charAt(o++):p==="0"?"0":""}));if(t.match(BR))return s=ui(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Qy(c,Math.pow(10,o)-1,!1),s=""+d,u=tl("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=Jy(l[2],o),u.length<i[4].length&&(u=rs(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Qy(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?rk(l[1],o)+i[2]+"/"+i[3]+Jy(l[2],o):fn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=gu(r,0),t.length<=s.length?s:rs(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var f=t.indexOf(".")-o,h=t.length-s.length-f;return rs(t.substr(0,f)+s+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=zO(r,i[1].length),r<0?"-"+ui(e,t,-r):Wl(pwe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ki(0,3-p.length):"")+p})+"."+Ki(o,i[1].length);switch(t){case"###,##0.00":return ui(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Wl(gu(c,0));return m!=="0"?d+m:"";case"###,###.00":return ui(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ui(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function gwe(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return tl(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function xwe(e,t,r){var a=t.replace(DR,""),s=t.length-a.length;return tl(e,a,r*Math.pow(10,2*s))+fn("%",s)}function UR(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+UR(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function fo(e,t,r){if(e.charCodeAt(0)===40&&!t.match($R)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?fo("n",a,r):"("+fo("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return gwe(e,t,r);if(t.indexOf("%")!==-1)return xwe(e,t,r);if(t.indexOf("E")!==-1)return UR(t,r);if(t.charCodeAt(0)===36)return"$"+fo(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Ki(c,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:rs(t.substr(0,t.length-s.length))+s;if(i=t.match(MR))return hwe(i,c,d);if(t.match(/^#+0+$/))return d+Ki(c,t.length-t.indexOf("0"));if(i=t.match(LR))return s=(""+r).replace(/^([^\.]+)$/,"$1."+rs(i[1])).replace(/\.$/,"."+rs(i[1])),s=s.replace(/\.(\d*)$/,function(p,x){return"."+x+fn("0",rs(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Wl(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+fo(e,t,-r):Wl(""+r)+"."+fn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return fo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Ru(fo(e,t.replace(/[\\-]/g,""),r)),o=0,Ru(Ru(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<s.length?s.charAt(o++):p==="0"?"0":""}));if(t.match(BR))return s=fo(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Qy(c,Math.pow(10,o)-1,!1),s=""+d,u=tl("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=Jy(l[2],o),u.length<i[4].length&&(u=rs(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Qy(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?rk(l[1],o)+i[2]+"/"+i[3]+Jy(l[2],o):fn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:rs(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var f=t.indexOf(".")-o,h=t.length-s.length-f;return rs(t.substr(0,f)+s+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+fo(e,t,-r):Wl(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Ki(0,3-p.length):"")+p})+"."+Ki(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Wl(""+c);return m!=="0"?d+m:"";default:if(t.match(/\.[0#?]*$/))return fo(e,t.slice(0,t.lastIndexOf(".")),r)+rs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function tl(e,t,r){return(r|0)===r?fo(e,t,r):ui(e,t,r)}function ywe(e){for(var t=[],r=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(s,a-s),s=a+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var WR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Vf(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":Zy(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(WR))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function vwe(e,t,r,a){for(var s=[],i="",o=0,l="",c="t",d,u,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Zy(e,o))throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);s[s.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),p=m==="("||m===")"?m:"t";s[s.length]={t:p,v:m},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Xc(t,r,e.charAt(o+1)==="2"),d==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Xc(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"上":var x={t:l,v:l};if(d==null&&(d=Xc(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(x.v=d.H>=12?"P":"A"),x.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(x.v=d.H>=12?"PM":"AM"),x.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(d!=null&&(x.v=d.H>=12?"下午":"上午"),x.t="T",o+=5,h="h"):(x.t="t",++o),d==null&&x.t==="T")return"";s[s.length]=x,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(WR)){if(d==null&&(d=Xc(t,r),d==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Vf(e)||(s[s.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:a===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);s[s.length]={t:"t",v:l},++o;break}var y=0,v=0,w;for(o=s.length-1,c="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=h,c="h",y<1&&(y=1);break;case"s":(w=s[o].v.match(/\.0+$/))&&(v=Math.max(v,w[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=s[o].t;break;case"m":c==="s"&&(s[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&s[o].v.match(/[Hh]/)&&(y=1),y<2&&s[o].v.match(/[Mm]/)&&(y=2),y<3&&s[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var j="",A;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=cwe(s[o].t.charCodeAt(0),s[o].v,d,v),s[o].t="t";break;case"n":case"?":for(A=o+1;s[A]!=null&&((l=s[A].t)==="?"||l==="D"||(l===" "||l==="t")&&s[A+1]!=null&&(s[A+1].t==="?"||s[A+1].t==="t"&&s[A+1].v==="/")||s[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[A].v==="/"||s[A].v===" "&&s[A+1]!=null&&s[A+1].t=="?"));)s[o].v+=s[A].v,s[A]={v:"",t:";"},++A;j+=s[o].v,o=A-1;break;case"G":s[o].t="t",s[o].v=md(t,r);break}var C="",S,k;if(j.length>0){j.charCodeAt(0)==40?(S=t<0&&j.charCodeAt(0)===45?-t:t,k=tl("n",j,S)):(S=t<0&&a>1?-t:t,k=tl("n",j,S),S<0&&s[0]&&s[0].t=="t"&&(k=k.substr(1),s[0].v="-"+s[0].v)),A=k.length-1;var E=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){E=o;break}var T=s.length;if(E===s.length&&k.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(A>=s[o].v.length-1?(A-=s[o].v.length,s[o].v=k.substr(A+1,s[o].v.length)):A<0?s[o].v="":(s[o].v=k.substr(0,A+1),A=-1),s[o].t="t",T=o);A>=0&&T<s.length&&(s[T].v=k.substr(0,A+1)+s[T].v)}else if(E!==s.length&&k.indexOf("E")===-1){for(A=k.indexOf(".")-1,o=E;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(u=s[o].v.indexOf(".")>-1&&o===E?s[o].v.indexOf(".")-1:s[o].v.length-1,C=s[o].v.substr(u+1);u>=0;--u)A>=0&&(s[o].v.charAt(u)==="0"||s[o].v.charAt(u)==="#")&&(C=k.charAt(A--)+C);s[o].v=C,s[o].t="t",T=o}for(A>=0&&T<s.length&&(s[T].v=k.substr(0,A+1)+s[T].v),A=k.indexOf(".")+1,o=E;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==E)){for(u=s[o].v.indexOf(".")>-1&&o===E?s[o].v.indexOf(".")+1:0,C=s[o].v.substr(0,u);u<s[o].v.length;++u)A<k.length&&(C+=k.charAt(A++));s[o].v=C,s[o].t="t",T=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(S=a>1&&t<0&&o>0&&s[o-1].v==="-"?-t:t,s[o].v=tl(s[o].t,s[o].v,S),s[o].t="t");var F="";for(o=0;o!==s.length;++o)s[o]!=null&&(F+=s[o].v);return F}var HO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function VO(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function bwe(e,t){var r=ywe(e),a=r.length,s=r[a-1].indexOf("@");if(a<4&&s>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(HO),l=r[1].match(HO);return VO(t,o)?[a,r[0]]:VO(t,l)?[a,r[1]]:[a,r[o!=null&&l!=null?2:1]]}return[a,i]}function Ai(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:It)[e],a==null&&(a=r.table&&r.table[UO[e]]||It[UO[e]]),a==null&&(a=rwe[e]||"General");break}if(Zy(a,0))return md(t,r);t instanceof Date&&(t=FR(t,r.date1904));var s=bwe(a,t);if(Zy(s[1]))return md(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return vwe(s[1],t,r,s[0])}function rl(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(It[r]==null){t<0&&(t=r);continue}if(It[r]==e){t=r;break}}t<0&&(t=391)}return It[t]=e,t}function kb(e){for(var t=0;t!=392;++t)e[t]!==void 0&&rl(e[t],t)}function Gf(){It=twe()}var wwe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},zR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function jwe(e){var t=typeof e=="number"?It[e]:e;return t=t.replace(zR,"(\\d+)"),new RegExp("^"+t+"$")}function Nwe(e,t,r){var a=-1,s=-1,i=-1,o=-1,l=-1,c=-1;(t.match(zR)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":a=m;break;case"d":i=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:s=m;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:a==-1&&s==-1&&i==-1?u:d+"T"+u}var Swe=function(){var e={};e.version="1.2.0";function t(){for(var k=0,E=new Array(256),T=0;T!=256;++T)k=T,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,E[T]=k;return typeof Int32Array!="undefined"?new Int32Array(E):E}var r=t();function a(k){var E=0,T=0,F=0,O=typeof Int32Array!="undefined"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)O[F]=k[F];for(F=0;F!=256;++F)for(T=k[F],E=256+F;E<4096;E+=256)T=O[E]=T>>>8^k[T&255];var P=[];for(F=1;F!=16;++F)P[F-1]=typeof Int32Array!="undefined"?O.subarray(F*256,F*256+256):O.slice(F*256,F*256+256);return P}var s=a(r),i=s[0],o=s[1],l=s[2],c=s[3],d=s[4],u=s[5],f=s[6],h=s[7],m=s[8],p=s[9],x=s[10],y=s[11],v=s[12],w=s[13],j=s[14];function A(k,E){for(var T=E^-1,F=0,O=k.length;F<O;)T=T>>>8^r[(T^k.charCodeAt(F++))&255];return~T}function C(k,E){for(var T=E^-1,F=k.length-15,O=0;O<F;)T=j[k[O++]^T&255]^w[k[O++]^T>>8&255]^v[k[O++]^T>>16&255]^y[k[O++]^T>>>24]^x[k[O++]]^p[k[O++]]^m[k[O++]]^h[k[O++]]^f[k[O++]]^u[k[O++]]^d[k[O++]]^c[k[O++]]^l[k[O++]]^o[k[O++]]^i[k[O++]]^r[k[O++]];for(F+=15;O<F;)T=T>>>8^r[(T^k[O++])&255];return~T}function S(k,E){for(var T=E^-1,F=0,O=k.length,P=0,W=0;F<O;)P=k.charCodeAt(F++),P<128?T=T>>>8^r[(T^P)&255]:P<2048?(T=T>>>8^r[(T^(192|P>>6&31))&255],T=T>>>8^r[(T^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,W=k.charCodeAt(F++)&1023,T=T>>>8^r[(T^(240|P>>8&7))&255],T=T>>>8^r[(T^(128|P>>2&63))&255],T=T>>>8^r[(T^(128|W>>6&15|(P&3)<<4))&255],T=T>>>8^r[(T^(128|W&63))&255]):(T=T>>>8^r[(T^(224|P>>12&15))&255],T=T>>>8^r[(T^(128|P>>6&63))&255],T=T>>>8^r[(T^(128|P&63))&255]);return~T}return e.table=r,e.bstr=A,e.buf=C,e.str=S,e}(),kt=function(){var t={};t.version="1.2.1";function r(re,fe){for(var oe=re.split("/"),ce=fe.split("/"),me=0,pe=0,Pe=Math.min(oe.length,ce.length);me<Pe;++me){if(pe=oe[me].length-ce[me].length)return pe;if(oe[me]!=ce[me])return oe[me]<ce[me]?-1:1}return oe.length-ce.length}function a(re){if(re.charAt(re.length-1)=="/")return re.slice(0,-1).indexOf("/")===-1?re:a(re.slice(0,-1));var fe=re.lastIndexOf("/");return fe===-1?re:re.slice(0,fe+1)}function s(re){if(re.charAt(re.length-1)=="/")return s(re.slice(0,-1));var fe=re.lastIndexOf("/");return fe===-1?re:re.slice(fe+1)}function i(re,fe){typeof fe=="string"&&(fe=new Date(fe));var oe=fe.getHours();oe=oe<<6|fe.getMinutes(),oe=oe<<5|fe.getSeconds()>>>1,re.write_shift(2,oe);var ce=fe.getFullYear()-1980;ce=ce<<4|fe.getMonth()+1,ce=ce<<5|fe.getDate(),re.write_shift(2,ce)}function o(re){var fe=re.read_shift(2)&65535,oe=re.read_shift(2)&65535,ce=new Date,me=oe&31;oe>>>=5;var pe=oe&15;oe>>>=4,ce.setMilliseconds(0),ce.setFullYear(oe+1980),ce.setMonth(pe-1),ce.setDate(me);var Pe=fe&31;fe>>>=5;var Me=fe&63;return fe>>>=6,ce.setHours(fe),ce.setMinutes(Me),ce.setSeconds(Pe<<1),ce}function l(re){Na(re,0);for(var fe={},oe=0;re.l<=re.length-4;){var ce=re.read_shift(2),me=re.read_shift(2),pe=re.l+me,Pe={};switch(ce){case 21589:oe=re.read_shift(1),oe&1&&(Pe.mtime=re.read_shift(4)),me>5&&(oe&2&&(Pe.atime=re.read_shift(4)),oe&4&&(Pe.ctime=re.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3));break}re.l=pe,fe[ce]=Pe}return fe}var c;function d(){return c||(c={})}function u(re,fe){if(re[0]==80&&re[1]==75)return tn(re,fe);if((re[0]|32)==109&&(re[1]|32)==105)return at(re,fe);if(re.length<512)throw new Error("CFB file size "+re.length+" < 512");var oe=3,ce=512,me=0,pe=0,Pe=0,Me=0,Ie=0,we=[],ae=re.slice(0,512);Na(ae,0);var Se=f(ae);switch(oe=Se[0],oe){case 3:ce=512;break;case 4:ce=4096;break;case 0:if(Se[1]==0)return tn(re,fe);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}ce!==512&&(ae=re.slice(0,ce),Na(ae,28));var De=re.slice(0,ce);h(ae,oe);var Ye=ae.read_shift(4,"i");if(oe===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);ae.l+=4,Pe=ae.read_shift(4,"i"),ae.l+=4,ae.chk("00100000","Mini Stream Cutoff Size: "),Me=ae.read_shift(4,"i"),me=ae.read_shift(4,"i"),Ie=ae.read_shift(4,"i"),pe=ae.read_shift(4,"i");for(var Ve=-1,Je=0;Je<109&&(Ve=ae.read_shift(4,"i"),!(Ve<0));++Je)we[Je]=Ve;var gt=m(re,ce);y(Ie,pe,gt,ce,we);var Qt=w(gt,Pe,we,ce);Qt[Pe].name="!Directory",me>0&&Me!==W&&(Qt[Me].name="!MiniFAT"),Qt[we[0]].name="!FAT",Qt.fat_addrs=we,Qt.ssz=ce;var or={},Hr=[],Nr=[],fs=[];j(Pe,Qt,gt,Hr,me,or,Nr,Me),p(Nr,fs,Hr),Hr.shift();var Es={FileIndex:Nr,FullPaths:fs};return fe&&fe.raw&&(Es.raw={header:De,sectors:gt}),Es}function f(re){if(re[re.l]==80&&re[re.l+1]==75)return[0,0];re.chk(q,"Header Signature: "),re.l+=16;var fe=re.read_shift(2,"u");return[re.read_shift(2,"u"),fe]}function h(re,fe){var oe=9;switch(re.l+=2,oe=re.read_shift(2)){case 9:if(fe!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(fe!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}re.chk("0600","Mini Sector Shift: "),re.chk("000000000000","Reserved: ")}function m(re,fe){for(var oe=Math.ceil(re.length/fe)-1,ce=[],me=1;me<oe;++me)ce[me-1]=re.slice(me*fe,(me+1)*fe);return ce[oe-1]=re.slice(oe*fe),ce}function p(re,fe,oe){for(var ce=0,me=0,pe=0,Pe=0,Me=0,Ie=oe.length,we=[],ae=[];ce<Ie;++ce)we[ce]=ae[ce]=ce,fe[ce]=oe[ce];for(;Me<ae.length;++Me)ce=ae[Me],me=re[ce].L,pe=re[ce].R,Pe=re[ce].C,we[ce]===ce&&(me!==-1&&we[me]!==me&&(we[ce]=we[me]),pe!==-1&&we[pe]!==pe&&(we[ce]=we[pe])),Pe!==-1&&(we[Pe]=ce),me!==-1&&ce!=we[ce]&&(we[me]=we[ce],ae.lastIndexOf(me)<Me&&ae.push(me)),pe!==-1&&ce!=we[ce]&&(we[pe]=we[ce],ae.lastIndexOf(pe)<Me&&ae.push(pe));for(ce=1;ce<Ie;++ce)we[ce]===ce&&(pe!==-1&&we[pe]!==pe?we[ce]=we[pe]:me!==-1&&we[me]!==me&&(we[ce]=we[me]));for(ce=1;ce<Ie;++ce)if(re[ce].type!==0){if(Me=ce,Me!=we[Me])do Me=we[Me],fe[ce]=fe[Me]+"/"+fe[ce];while(Me!==0&&we[Me]!==-1&&Me!=we[Me]);we[ce]=-1}for(fe[0]+="/",ce=1;ce<Ie;++ce)re[ce].type!==2&&(fe[ce]+="/")}function x(re,fe,oe){for(var ce=re.start,me=re.size,pe=[],Pe=ce;oe&&me>0&&Pe>=0;)pe.push(fe.slice(Pe*P,Pe*P+P)),me-=P,Pe=zc(oe,Pe*4);return pe.length===0?Le(0):oa(pe).slice(0,re.size)}function y(re,fe,oe,ce,me){var pe=W;if(re===W){if(fe!==0)throw new Error("DIFAT chain shorter than expected")}else if(re!==-1){var Pe=oe[re],Me=(ce>>>2)-1;if(!Pe)return;for(var Ie=0;Ie<Me&&(pe=zc(Pe,Ie*4))!==W;++Ie)me.push(pe);y(zc(Pe,ce-4),fe-1,oe,ce,me)}}function v(re,fe,oe,ce,me){var pe=[],Pe=[];me||(me=[]);var Me=ce-1,Ie=0,we=0;for(Ie=fe;Ie>=0;){me[Ie]=!0,pe[pe.length]=Ie,Pe.push(re[Ie]);var ae=oe[Math.floor(Ie*4/ce)];if(we=Ie*4&Me,ce<4+we)throw new Error("FAT boundary crossed: "+Ie+" 4 "+ce);if(!re[ae])break;Ie=zc(re[ae],we)}return{nodes:pe,data:n3([Pe])}}function w(re,fe,oe,ce){var me=re.length,pe=[],Pe=[],Me=[],Ie=[],we=ce-1,ae=0,Se=0,De=0,Ye=0;for(ae=0;ae<me;++ae)if(Me=[],De=ae+fe,De>=me&&(De-=me),!Pe[De]){Ie=[];var Ve=[];for(Se=De;Se>=0;){Ve[Se]=!0,Pe[Se]=!0,Me[Me.length]=Se,Ie.push(re[Se]);var Je=oe[Math.floor(Se*4/ce)];if(Ye=Se*4&we,ce<4+Ye)throw new Error("FAT boundary crossed: "+Se+" 4 "+ce);if(!re[Je]||(Se=zc(re[Je],Ye),Ve[Se]))break}pe[De]={nodes:Me,data:n3([Ie])}}return pe}function j(re,fe,oe,ce,me,pe,Pe,Me){for(var Ie=0,we=ce.length?2:0,ae=fe[re].data,Se=0,De=0,Ye;Se<ae.length;Se+=128){var Ve=ae.slice(Se,Se+128);Na(Ve,64),De=Ve.read_shift(2),Ye=dk(Ve,0,De-we),ce.push(Ye);var Je={name:Ye,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},gt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);gt!==0&&(Je.ct=A(Ve,Ve.l-8));var Qt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Qt!==0&&(Je.mt=A(Ve,Ve.l-8)),Je.start=Ve.read_shift(4,"i"),Je.size=Ve.read_shift(4,"i"),Je.size<0&&Je.start<0&&(Je.size=Je.type=0,Je.start=W,Je.name=""),Je.type===5?(Ie=Je.start,me>0&&Ie!==W&&(fe[Ie].name="!StreamData")):Je.size>=4096?(Je.storage="fat",fe[Je.start]===void 0&&(fe[Je.start]=v(oe,Je.start,fe.fat_addrs,fe.ssz)),fe[Je.start].name=Je.name,Je.content=fe[Je.start].data.slice(0,Je.size)):(Je.storage="minifat",Je.size<0?Je.size=0:Ie!==W&&Je.start!==W&&fe[Ie]&&(Je.content=x(Je,fe[Ie].data,(fe[Me]||{}).data))),Je.content&&Na(Je.content,0),pe[Ye]=Je,Pe.push(Je)}}function A(re,fe){return new Date((Bs(re,fe+4)/1e7*Math.pow(2,32)+Bs(re,fe)/1e7-11644473600)*1e3)}function C(re,fe){return d(),u(c.readFileSync(re),fe)}function S(re,fe){var oe=fe&&fe.type;switch(oe||Jt&&Buffer.isBuffer(re)&&(oe="buffer"),oe||"base64"){case"file":return C(re,fe);case"base64":return u(Ws(Js(re)),fe);case"binary":return u(Ws(re),fe)}return u(re,fe)}function k(re,fe){var oe=fe||{},ce=oe.root||"Root Entry";if(re.FullPaths||(re.FullPaths=[]),re.FileIndex||(re.FileIndex=[]),re.FullPaths.length!==re.FileIndex.length)throw new Error("inconsistent CFB structure");re.FullPaths.length===0&&(re.FullPaths[0]=ce+"/",re.FileIndex[0]={name:ce,type:5}),oe.CLSID&&(re.FileIndex[0].clsid=oe.CLSID),E(re)}function E(re){var fe="Sh33tJ5";if(!kt.find(re,"/"+fe)){var oe=Le(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,re.FileIndex.push({name:fe,type:2,content:oe,size:4,L:69,R:69,C:69}),re.FullPaths.push(re.FullPaths[0]+fe),T(re)}}function T(re,fe){k(re);for(var oe=!1,ce=!1,me=re.FullPaths.length-1;me>=0;--me){var pe=re.FileIndex[me];switch(pe.type){case 0:ce?oe=!0:(re.FileIndex.pop(),re.FullPaths.pop());break;case 1:case 2:case 5:ce=!0,isNaN(pe.R*pe.L*pe.C)&&(oe=!0),pe.R>-1&&pe.L>-1&&pe.R==pe.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!fe)){var Pe=new Date(1987,1,19),Me=0,Ie=Object.create?Object.create(null):{},we=[];for(me=0;me<re.FullPaths.length;++me)Ie[re.FullPaths[me]]=!0,re.FileIndex[me].type!==0&&we.push([re.FullPaths[me],re.FileIndex[me]]);for(me=0;me<we.length;++me){var ae=a(we[me][0]);ce=Ie[ae],ce||(we.push([ae,{name:s(ae).replace("/",""),type:1,clsid:M,ct:Pe,mt:Pe,content:null}]),Ie[ae]=!0)}for(we.sort(function(Ye,Ve){return r(Ye[0],Ve[0])}),re.FullPaths=[],re.FileIndex=[],me=0;me<we.length;++me)re.FullPaths[me]=we[me][0],re.FileIndex[me]=we[me][1];for(me=0;me<we.length;++me){var Se=re.FileIndex[me],De=re.FullPaths[me];if(Se.name=s(De).replace("/",""),Se.L=Se.R=Se.C=-(Se.color=1),Se.size=Se.content?Se.content.length:0,Se.start=0,Se.clsid=Se.clsid||M,me===0)Se.C=we.length>1?1:-1,Se.size=0,Se.type=5;else if(De.slice(-1)=="/"){for(Me=me+1;Me<we.length&&a(re.FullPaths[Me])!=De;++Me);for(Se.C=Me>=we.length?-1:Me,Me=me+1;Me<we.length&&a(re.FullPaths[Me])!=a(De);++Me);Se.R=Me>=we.length?-1:Me,Se.type=1}else a(re.FullPaths[me+1]||"")==a(De)&&(Se.R=me+1),Se.type=2}}}function F(re,fe){var oe=fe||{};if(oe.fileType=="mad")return bt(re,oe);switch(T(re),oe.fileType){case"zip":return je(re,oe)}var ce=function(Ye){for(var Ve=0,Je=0,gt=0;gt<Ye.FileIndex.length;++gt){var Qt=Ye.FileIndex[gt];if(Qt.content){var or=Qt.content.length;or>0&&(or<4096?Ve+=or+63>>6:Je+=or+511>>9)}}for(var Hr=Ye.FullPaths.length+3>>2,Nr=Ve+7>>3,fs=Ve+127>>7,Es=Nr+Je+Hr+fs,Qs=Es+127>>7,bl=Qs<=109?0:Math.ceil((Qs-109)/127);Es+Qs+bl+127>>7>Qs;)bl=++Qs<=109?0:Math.ceil((Qs-109)/127);var hs=[1,bl,Qs,fs,Hr,Je,Ve,0];return Ye.FileIndex[0].size=Ve<<6,hs[7]=(Ye.FileIndex[0].start=hs[0]+hs[1]+hs[2]+hs[3]+hs[4]+hs[5])+(hs[6]+7>>3),hs}(re),me=Le(ce[7]<<9),pe=0,Pe=0;{for(pe=0;pe<8;++pe)me.write_shift(1,D[pe]);for(pe=0;pe<8;++pe)me.write_shift(2,0);for(me.write_shift(2,62),me.write_shift(2,3),me.write_shift(2,65534),me.write_shift(2,9),me.write_shift(2,6),pe=0;pe<3;++pe)me.write_shift(2,0);for(me.write_shift(4,0),me.write_shift(4,ce[2]),me.write_shift(4,ce[0]+ce[1]+ce[2]+ce[3]-1),me.write_shift(4,0),me.write_shift(4,4096),me.write_shift(4,ce[3]?ce[0]+ce[1]+ce[2]-1:W),me.write_shift(4,ce[3]),me.write_shift(-4,ce[1]?ce[0]-1:W),me.write_shift(4,ce[1]),pe=0;pe<109;++pe)me.write_shift(-4,pe<ce[2]?ce[1]+pe:-1)}if(ce[1])for(Pe=0;Pe<ce[1];++Pe){for(;pe<236+Pe*127;++pe)me.write_shift(-4,pe<ce[2]?ce[1]+pe:-1);me.write_shift(-4,Pe===ce[1]-1?W:Pe+1)}var Me=function(Ye){for(Pe+=Ye;pe<Pe-1;++pe)me.write_shift(-4,pe+1);Ye&&(++pe,me.write_shift(-4,W))};for(Pe=pe=0,Pe+=ce[1];pe<Pe;++pe)me.write_shift(-4,H.DIFSECT);for(Pe+=ce[2];pe<Pe;++pe)me.write_shift(-4,H.FATSECT);Me(ce[3]),Me(ce[4]);for(var Ie=0,we=0,ae=re.FileIndex[0];Ie<re.FileIndex.length;++Ie)ae=re.FileIndex[Ie],ae.content&&(we=ae.content.length,!(we<4096)&&(ae.start=Pe,Me(we+511>>9)));for(Me(ce[6]+7>>3);me.l&511;)me.write_shift(-4,H.ENDOFCHAIN);for(Pe=pe=0,Ie=0;Ie<re.FileIndex.length;++Ie)ae=re.FileIndex[Ie],ae.content&&(we=ae.content.length,!(!we||we>=4096)&&(ae.start=Pe,Me(we+63>>6)));for(;me.l&511;)me.write_shift(-4,H.ENDOFCHAIN);for(pe=0;pe<ce[4]<<2;++pe){var Se=re.FullPaths[pe];if(!Se||Se.length===0){for(Ie=0;Ie<17;++Ie)me.write_shift(4,0);for(Ie=0;Ie<3;++Ie)me.write_shift(4,-1);for(Ie=0;Ie<12;++Ie)me.write_shift(4,0);continue}ae=re.FileIndex[pe],pe===0&&(ae.start=ae.size?ae.start-1:W);var De=pe===0&&oe.root||ae.name;if(we=2*(De.length+1),me.write_shift(64,De,"utf16le"),me.write_shift(2,we),me.write_shift(1,ae.type),me.write_shift(1,ae.color),me.write_shift(-4,ae.L),me.write_shift(-4,ae.R),me.write_shift(-4,ae.C),ae.clsid)me.write_shift(16,ae.clsid,"hex");else for(Ie=0;Ie<4;++Ie)me.write_shift(4,0);me.write_shift(4,ae.state||0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,ae.start),me.write_shift(4,ae.size),me.write_shift(4,0)}for(pe=1;pe<re.FileIndex.length;++pe)if(ae=re.FileIndex[pe],ae.size>=4096)if(me.l=ae.start+1<<9,Jt&&Buffer.isBuffer(ae.content))ae.content.copy(me,me.l,0,ae.size),me.l+=ae.size+511&-512;else{for(Ie=0;Ie<ae.size;++Ie)me.write_shift(1,ae.content[Ie]);for(;Ie&511;++Ie)me.write_shift(1,0)}for(pe=1;pe<re.FileIndex.length;++pe)if(ae=re.FileIndex[pe],ae.size>0&&ae.size<4096)if(Jt&&Buffer.isBuffer(ae.content))ae.content.copy(me,me.l,0,ae.size),me.l+=ae.size+63&-64;else{for(Ie=0;Ie<ae.size;++Ie)me.write_shift(1,ae.content[Ie]);for(;Ie&63;++Ie)me.write_shift(1,0)}if(Jt)me.l=me.length;else for(;me.l<me.length;)me.write_shift(1,0);return me}function O(re,fe){var oe=re.FullPaths.map(function(Ie){return Ie.toUpperCase()}),ce=oe.map(function(Ie){var we=Ie.split("/");return we[we.length-(Ie.slice(-1)=="/"?2:1)]}),me=!1;fe.charCodeAt(0)===47?(me=!0,fe=oe[0].slice(0,-1)+fe):me=fe.indexOf("/")!==-1;var pe=fe.toUpperCase(),Pe=me===!0?oe.indexOf(pe):ce.indexOf(pe);if(Pe!==-1)return re.FileIndex[Pe];var Me=!pe.match(pm);for(pe=pe.replace(ls,""),Me&&(pe=pe.replace(pm,"!")),Pe=0;Pe<oe.length;++Pe)if((Me?oe[Pe].replace(pm,"!"):oe[Pe]).replace(ls,"")==pe||(Me?ce[Pe].replace(pm,"!"):ce[Pe]).replace(ls,"")==pe)return re.FileIndex[Pe];return null}var P=64,W=-2,q="d0cf11e0a1b11ae1",D=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ee(re,fe,oe){d();var ce=F(re,oe);c.writeFileSync(fe,ce)}function X(re){for(var fe=new Array(re.length),oe=0;oe<re.length;++oe)fe[oe]=String.fromCharCode(re[oe]);return fe.join("")}function de(re,fe){var oe=F(re,fe);switch(fe&&fe.type||"buffer"){case"file":return d(),c.writeFileSync(fe.filename,oe),oe;case"binary":return typeof oe=="string"?oe:X(oe);case"base64":return A0(typeof oe=="string"?oe:X(oe));case"buffer":if(Jt)return Buffer.isBuffer(oe)?oe:xl(oe);case"array":return typeof oe=="string"?Ws(oe):oe}return oe}var le;function G(re){try{var fe=re.InflateRaw,oe=new fe;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)le=re;else throw new Error("zlib does not expose bytesRead")}catch(ce){console.error("cannot use native zlib: "+(ce.message||ce))}}function K(re,fe){if(!le)return qa(re,fe);var oe=le.InflateRaw,ce=new oe,me=ce._processChunk(re.slice(re.l),ce._finishFlushFlag);return re.l+=ce.bytesRead,me}function Z(re){return le?le.deflateRawSync(re):ft(re)}var I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function R(re){var fe=(re<<1|re<<11)&139536|(re<<5|re<<15)&558144;return(fe>>16|fe>>8|fe)&255}for(var U=typeof Uint8Array!="undefined",Q=U?new Uint8Array(256):[],J=0;J<256;++J)Q[J]=R(J);function L(re,fe){var oe=Q[re&255];return fe<=8?oe>>>8-fe:(oe=oe<<8|Q[re>>8&255],fe<=16?oe>>>16-fe:(oe=oe<<8|Q[re>>16&255],oe>>>24-fe))}function he(re,fe){var oe=fe&7,ce=fe>>>3;return(re[ce]|(oe<=6?0:re[ce+1]<<8))>>>oe&3}function ge(re,fe){var oe=fe&7,ce=fe>>>3;return(re[ce]|(oe<=5?0:re[ce+1]<<8))>>>oe&7}function Ae(re,fe){var oe=fe&7,ce=fe>>>3;return(re[ce]|(oe<=4?0:re[ce+1]<<8))>>>oe&15}function Ee(re,fe){var oe=fe&7,ce=fe>>>3;return(re[ce]|(oe<=3?0:re[ce+1]<<8))>>>oe&31}function xe(re,fe){var oe=fe&7,ce=fe>>>3;return(re[ce]|(oe<=1?0:re[ce+1]<<8))>>>oe&127}function Te(re,fe,oe){var ce=fe&7,me=fe>>>3,pe=(1<<oe)-1,Pe=re[me]>>>ce;return oe<8-ce||(Pe|=re[me+1]<<8-ce,oe<16-ce)||(Pe|=re[me+2]<<16-ce,oe<24-ce)||(Pe|=re[me+3]<<24-ce),Pe&pe}function Ue(re,fe,oe){var ce=fe&7,me=fe>>>3;return ce<=5?re[me]|=(oe&7)<<ce:(re[me]|=oe<<ce&255,re[me+1]=(oe&7)>>8-ce),fe+3}function tt(re,fe,oe){var ce=fe&7,me=fe>>>3;return oe=(oe&1)<<ce,re[me]|=oe,fe+1}function ct(re,fe,oe){var ce=fe&7,me=fe>>>3;return oe<<=ce,re[me]|=oe&255,oe>>>=8,re[me+1]=oe,fe+8}function mt(re,fe,oe){var ce=fe&7,me=fe>>>3;return oe<<=ce,re[me]|=oe&255,oe>>>=8,re[me+1]=oe&255,re[me+2]=oe>>>8,fe+16}function ut(re,fe){var oe=re.length,ce=2*oe>fe?2*oe:fe+5,me=0;if(oe>=fe)return re;if(Jt){var pe=LO(ce);if(re.copy)re.copy(pe);else for(;me<re.length;++me)pe[me]=re[me];return pe}else if(U){var Pe=new Uint8Array(ce);if(Pe.set)Pe.set(re);else for(;me<oe;++me)Pe[me]=re[me];return Pe}return re.length=ce,re}function it(re){for(var fe=new Array(re),oe=0;oe<re;++oe)fe[oe]=0;return fe}function At(re,fe,oe){var ce=1,me=0,pe=0,Pe=0,Me=0,Ie=re.length,we=U?new Uint16Array(32):it(32);for(pe=0;pe<32;++pe)we[pe]=0;for(pe=Ie;pe<oe;++pe)re[pe]=0;Ie=re.length;var ae=U?new Uint16Array(Ie):it(Ie);for(pe=0;pe<Ie;++pe)we[me=re[pe]]++,ce<me&&(ce=me),ae[pe]=0;for(we[0]=0,pe=1;pe<=ce;++pe)we[pe+16]=Me=Me+we[pe-1]<<1;for(pe=0;pe<Ie;++pe)Me=re[pe],Me!=0&&(ae[pe]=we[Me+16]++);var Se=0;for(pe=0;pe<Ie;++pe)if(Se=re[pe],Se!=0)for(Me=L(ae[pe],ce)>>ce-Se,Pe=(1<<ce+4-Se)-1;Pe>=0;--Pe)fe[Me|Pe<<Se]=Se&15|pe<<4;return ce}var Bt=U?new Uint16Array(512):it(512),vt=U?new Uint16Array(32):it(32);if(!U){for(var Gt=0;Gt<512;++Gt)Bt[Gt]=0;for(Gt=0;Gt<32;++Gt)vt[Gt]=0}(function(){for(var re=[],fe=0;fe<32;fe++)re.push(5);At(re,vt,32);var oe=[];for(fe=0;fe<=143;fe++)oe.push(8);for(;fe<=255;fe++)oe.push(9);for(;fe<=279;fe++)oe.push(7);for(;fe<=287;fe++)oe.push(8);At(oe,Bt,288)})();var Ut=function(){for(var fe=U?new Uint8Array(32768):[],oe=0,ce=0;oe<te.length-1;++oe)for(;ce<te[oe+1];++ce)fe[ce]=oe;for(;ce<32768;++ce)fe[ce]=29;var me=U?new Uint8Array(259):[];for(oe=0,ce=0;oe<V.length-1;++oe)for(;ce<V[oe+1];++ce)me[ce]=oe;function pe(Me,Ie){for(var we=0;we<Me.length;){var ae=Math.min(65535,Me.length-we),Se=we+ae==Me.length;for(Ie.write_shift(1,+Se),Ie.write_shift(2,ae),Ie.write_shift(2,~ae&65535);ae-- >0;)Ie[Ie.l++]=Me[we++]}return Ie.l}function Pe(Me,Ie){for(var we=0,ae=0,Se=U?new Uint16Array(32768):[];ae<Me.length;){var De=Math.min(65535,Me.length-ae);if(De<10){for(we=Ue(Ie,we,+(ae+De==Me.length)),we&7&&(we+=8-(we&7)),Ie.l=we/8|0,Ie.write_shift(2,De),Ie.write_shift(2,~De&65535);De-- >0;)Ie[Ie.l++]=Me[ae++];we=Ie.l*8;continue}we=Ue(Ie,we,+(ae+De==Me.length)+2);for(var Ye=0;De-- >0;){var Ve=Me[ae];Ye=(Ye<<5^Ve)&32767;var Je=-1,gt=0;if((Je=Se[Ye])&&(Je|=ae&-32768,Je>ae&&(Je-=32768),Je<ae))for(;Me[Je+gt]==Me[ae+gt]&&gt<250;)++gt;if(gt>2){Ve=me[gt],Ve<=22?we=ct(Ie,we,Q[Ve+1]>>1)-1:(ct(Ie,we,3),we+=5,ct(Ie,we,Q[Ve-23]>>5),we+=3);var Qt=Ve<8?0:Ve-4>>2;Qt>0&&(mt(Ie,we,gt-V[Ve]),we+=Qt),Ve=fe[ae-Je],we=ct(Ie,we,Q[Ve]>>3),we-=3;var or=Ve<4?0:Ve-2>>1;or>0&&(mt(Ie,we,ae-Je-te[Ve]),we+=or);for(var Hr=0;Hr<gt;++Hr)Se[Ye]=ae&32767,Ye=(Ye<<5^Me[ae])&32767,++ae;De-=gt-1}else Ve<=143?Ve=Ve+48:we=tt(Ie,we,1),we=ct(Ie,we,Q[Ve]),Se[Ye]=ae&32767,++ae}we=ct(Ie,we,0)-1}return Ie.l=(we+7)/8|0,Ie.l}return function(Ie,we){return Ie.length<8?pe(Ie,we):Pe(Ie,we)}}();function ft(re){var fe=Le(50+Math.floor(re.length*1.1)),oe=Ut(re,fe);return fe.slice(0,oe)}var Ht=U?new Uint16Array(32768):it(32768),dr=U?new Uint16Array(32768):it(32768),St=U?new Uint16Array(128):it(128),ir=1,Kr=1;function Jn(re,fe){var oe=Ee(re,fe)+257;fe+=5;var ce=Ee(re,fe)+1;fe+=5;var me=Ae(re,fe)+4;fe+=4;for(var pe=0,Pe=U?new Uint8Array(19):it(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ie=1,we=U?new Uint8Array(8):it(8),ae=U?new Uint8Array(8):it(8),Se=Pe.length,De=0;De<me;++De)Pe[I[De]]=pe=ge(re,fe),Ie<pe&&(Ie=pe),we[pe]++,fe+=3;var Ye=0;for(we[0]=0,De=1;De<=Ie;++De)ae[De]=Ye=Ye+we[De-1]<<1;for(De=0;De<Se;++De)(Ye=Pe[De])!=0&&(Me[De]=ae[Ye]++);var Ve=0;for(De=0;De<Se;++De)if(Ve=Pe[De],Ve!=0){Ye=Q[Me[De]]>>8-Ve;for(var Je=(1<<7-Ve)-1;Je>=0;--Je)St[Ye|Je<<Ve]=Ve&7|De<<3}var gt=[];for(Ie=1;gt.length<oe+ce;)switch(Ye=St[xe(re,fe)],fe+=Ye&7,Ye>>>=3){case 16:for(pe=3+he(re,fe),fe+=2,Ye=gt[gt.length-1];pe-- >0;)gt.push(Ye);break;case 17:for(pe=3+ge(re,fe),fe+=3;pe-- >0;)gt.push(0);break;case 18:for(pe=11+xe(re,fe),fe+=7;pe-- >0;)gt.push(0);break;default:gt.push(Ye),Ie<Ye&&(Ie=Ye);break}var Qt=gt.slice(0,oe),or=gt.slice(oe);for(De=oe;De<286;++De)Qt[De]=0;for(De=ce;De<30;++De)or[De]=0;return ir=At(Qt,Ht,286),Kr=At(or,dr,30),fe}function Zn(re,fe){if(re[0]==3&&!(re[1]&3))return[rc(fe),2];for(var oe=0,ce=0,me=LO(fe||1<<18),pe=0,Pe=me.length>>>0,Me=0,Ie=0;!(ce&1);){if(ce=ge(re,oe),oe+=3,ce>>>1)ce>>1==1?(Me=9,Ie=5):(oe=Jn(re,oe),Me=ir,Ie=Kr);else{oe&7&&(oe+=8-(oe&7));var we=re[oe>>>3]|re[(oe>>>3)+1]<<8;if(oe+=32,we>0)for(!fe&&Pe<pe+we&&(me=ut(me,pe+we),Pe=me.length);we-- >0;)me[pe++]=re[oe>>>3],oe+=8;continue}for(;;){!fe&&Pe<pe+32767&&(me=ut(me,pe+32767),Pe=me.length);var ae=Te(re,oe,Me),Se=ce>>>1==1?Bt[ae]:Ht[ae];if(oe+=Se&15,Se>>>=4,!(Se>>>8&255))me[pe++]=Se;else{if(Se==256)break;Se-=257;var De=Se<8?0:Se-4>>2;De>5&&(De=0);var Ye=pe+V[Se];De>0&&(Ye+=Te(re,oe,De),oe+=De),ae=Te(re,oe,Ie),Se=ce>>>1==1?vt[ae]:dr[ae],oe+=Se&15,Se>>>=4;var Ve=Se<4?0:Se-2>>1,Je=te[Se];for(Ve>0&&(Je+=Te(re,oe,Ve),oe+=Ve),!fe&&Pe<Ye&&(me=ut(me,Ye+100),Pe=me.length);pe<Ye;)me[pe]=me[pe-Je],++pe}}}return fe?[me,oe+7>>>3]:[me.slice(0,pe),oe+7>>>3]}function qa(re,fe){var oe=re.slice(re.l||0),ce=Zn(oe,fe);return re.l+=ce[1],ce[0]}function gn(re,fe){if(re)typeof console!="undefined"&&console.error(fe);else throw new Error(fe)}function tn(re,fe){var oe=re;Na(oe,0);var ce=[],me=[],pe={FileIndex:ce,FullPaths:me};k(pe,{root:fe.root});for(var Pe=oe.length-4;(oe[Pe]!=80||oe[Pe+1]!=75||oe[Pe+2]!=5||oe[Pe+3]!=6)&&Pe>=0;)--Pe;oe.l=Pe+4,oe.l+=4;var Me=oe.read_shift(2);oe.l+=6;var Ie=oe.read_shift(4);for(oe.l=Ie,Pe=0;Pe<Me;++Pe){oe.l+=20;var we=oe.read_shift(4),ae=oe.read_shift(4),Se=oe.read_shift(2),De=oe.read_shift(2),Ye=oe.read_shift(2);oe.l+=8;var Ve=oe.read_shift(4),Je=l(oe.slice(oe.l+Se,oe.l+Se+De));oe.l+=Se+De+Ye;var gt=oe.l;oe.l=Ve+4,va(oe,we,ae,pe,Je),oe.l=gt}return pe}function va(re,fe,oe,ce,me){re.l+=2;var pe=re.read_shift(2),Pe=re.read_shift(2),Me=o(re);if(pe&8257)throw new Error("Unsupported ZIP encryption");for(var Ie=re.read_shift(4),we=re.read_shift(4),ae=re.read_shift(4),Se=re.read_shift(2),De=re.read_shift(2),Ye="",Ve=0;Ve<Se;++Ve)Ye+=String.fromCharCode(re[re.l++]);if(De){var Je=l(re.slice(re.l,re.l+De));(Je[21589]||{}).mt&&(Me=Je[21589].mt),((me||{})[21589]||{}).mt&&(Me=me[21589].mt)}re.l+=De;var gt=re.slice(re.l,re.l+we);switch(Pe){case 8:gt=K(re,ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var Qt=!1;pe&8&&(Ie=re.read_shift(4),Ie==134695760&&(Ie=re.read_shift(4),Qt=!0),we=re.read_shift(4),ae=re.read_shift(4)),we!=fe&&gn(Qt,"Bad compressed size: "+fe+" != "+we),ae!=oe&&gn(Qt,"Bad uncompressed size: "+oe+" != "+ae),_e(ce,Ye,gt,{unsafe:!0,mt:Me})}function je(re,fe){var oe=fe||{},ce=[],me=[],pe=Le(1),Pe=oe.compression?8:0,Me=0,Ie=0,we=0,ae=0,Se=0,De=re.FullPaths[0],Ye=De,Ve=re.FileIndex[0],Je=[],gt=0;for(Ie=1;Ie<re.FullPaths.length;++Ie)if(Ye=re.FullPaths[Ie].slice(De.length),Ve=re.FileIndex[Ie],!(!Ve.size||!Ve.content||Ye=="Sh33tJ5")){var Qt=ae,or=Le(Ye.length);for(we=0;we<Ye.length;++we)or.write_shift(1,Ye.charCodeAt(we)&127);or=or.slice(0,or.l),Je[Se]=Swe.buf(Ve.content,0);var Hr=Ve.content;Pe==8&&(Hr=Z(Hr)),pe=Le(30),pe.write_shift(4,67324752),pe.write_shift(2,20),pe.write_shift(2,Me),pe.write_shift(2,Pe),Ve.mt?i(pe,Ve.mt):pe.write_shift(4,0),pe.write_shift(-4,Je[Se]),pe.write_shift(4,Hr.length),pe.write_shift(4,Ve.content.length),pe.write_shift(2,or.length),pe.write_shift(2,0),ae+=pe.length,ce.push(pe),ae+=or.length,ce.push(or),ae+=Hr.length,ce.push(Hr),pe=Le(46),pe.write_shift(4,33639248),pe.write_shift(2,0),pe.write_shift(2,20),pe.write_shift(2,Me),pe.write_shift(2,Pe),pe.write_shift(4,0),pe.write_shift(-4,Je[Se]),pe.write_shift(4,Hr.length),pe.write_shift(4,Ve.content.length),pe.write_shift(2,or.length),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(4,0),pe.write_shift(4,Qt),gt+=pe.l,me.push(pe),gt+=or.length,me.push(or),++Se}return pe=Le(22),pe.write_shift(4,101010256),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,Se),pe.write_shift(2,Se),pe.write_shift(4,gt),pe.write_shift(4,ae),pe.write_shift(2,0),oa([oa(ce),oa(me),pe])}var Oe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ze(re,fe){if(re.ctype)return re.ctype;var oe=re.name||"",ce=oe.match(/\.([^\.]+)$/);return ce&&Oe[ce[1]]||fe&&(ce=(oe=fe).match(/[\.\\]([^\.\\])+$/),ce&&Oe[ce[1]])?Oe[ce[1]]:"application/octet-stream"}function He(re){for(var fe=A0(re),oe=[],ce=0;ce<fe.length;ce+=76)oe.push(fe.slice(ce,ce+76));return oe.join(`\r
`)+`\r
`}function dt(re){var fe=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(we){var ae=we.charCodeAt(0).toString(16).toUpperCase();return"="+(ae.length==1?"0"+ae:ae)});fe=fe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),fe.charAt(0)==`
`&&(fe="=0D"+fe.slice(1)),fe=fe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],ce=fe.split(`\r
`),me=0;me<ce.length;++me){var pe=ce[me];if(pe.length==0){oe.push("");continue}for(var Pe=0;Pe<pe.length;){var Me=76,Ie=pe.slice(Pe,Pe+Me);Ie.charAt(Me-1)=="="?Me--:Ie.charAt(Me-2)=="="?Me-=2:Ie.charAt(Me-3)=="="&&(Me-=3),Ie=pe.slice(Pe,Pe+Me),Pe+=Me,Pe<pe.length&&(Ie+="="),oe.push(Ie)}}return oe.join(`\r
`)}function be(re){for(var fe=[],oe=0;oe<re.length;++oe){for(var ce=re[oe];oe<=re.length&&ce.charAt(ce.length-1)=="=";)ce=ce.slice(0,ce.length-1)+re[++oe];fe.push(ce)}for(var me=0;me<fe.length;++me)fe[me]=fe[me].replace(/[=][0-9A-Fa-f]{2}/g,function(pe){return String.fromCharCode(parseInt(pe.slice(1),16))});return Ws(fe.join(`\r
`))}function Ke(re,fe,oe){for(var ce="",me="",pe="",Pe,Me=0;Me<10;++Me){var Ie=fe[Me];if(!Ie||Ie.match(/^\s*$/))break;var we=Ie.match(/^(.*?):\s*([^\s].*)$/);if(we)switch(we[1].toLowerCase()){case"content-location":ce=we[2].trim();break;case"content-type":pe=we[2].trim();break;case"content-transfer-encoding":me=we[2].trim();break}}switch(++Me,me.toLowerCase()){case"base64":Pe=Ws(Js(fe.slice(Me).join("")));break;case"quoted-printable":Pe=be(fe.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+me)}var ae=_e(re,ce.slice(oe.length),Pe,{unsafe:!0});pe&&(ae.ctype=pe)}function at(re,fe){if(X(re.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=fe&&fe.root||"",ce=(Jt&&Buffer.isBuffer(re)?re.toString("binary"):X(re)).split(`\r
`),me=0,pe="";for(me=0;me<ce.length;++me)if(pe=ce[me],!!/^Content-Location:/i.test(pe)&&(pe=pe.slice(pe.indexOf("file")),oe||(oe=pe.slice(0,pe.lastIndexOf("/")+1)),pe.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),pe.slice(0,oe.length)!=oe););var Pe=(ce[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var Me="--"+(Pe[1]||""),Ie=[],we=[],ae={FileIndex:Ie,FullPaths:we};k(ae);var Se,De=0;for(me=0;me<ce.length;++me){var Ye=ce[me];Ye!==Me&&Ye!==Me+"--"||(De++&&Ke(ae,ce.slice(Se,me),oe),Se=me)}return ae}function bt(re,fe){var oe=fe||{},ce=oe.boundary||"SheetJS";ce="------="+ce;for(var me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ce.slice(2)+'"',"","",""],pe=re.FullPaths[0],Pe=pe,Me=re.FileIndex[0],Ie=1;Ie<re.FullPaths.length;++Ie)if(Pe=re.FullPaths[Ie].slice(pe.length),Me=re.FileIndex[Ie],!(!Me.size||!Me.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(gt){return"_x"+gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(gt){return"_u"+gt.charCodeAt(0).toString(16)+"_"});for(var we=Me.content,ae=Jt&&Buffer.isBuffer(we)?we.toString("binary"):X(we),Se=0,De=Math.min(1024,ae.length),Ye=0,Ve=0;Ve<=De;++Ve)(Ye=ae.charCodeAt(Ve))>=32&&Ye<128&&++Se;var Je=Se>=De*4/5;me.push(ce),me.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Pe),me.push("Content-Transfer-Encoding: "+(Je?"quoted-printable":"base64")),me.push("Content-Type: "+Ze(Me,Pe)),me.push(""),me.push(Je?dt(ae):He(ae))}return me.push(ce+`--\r
`),me.join(`\r
`)}function yt(re){var fe={};return k(fe,re),fe}function _e(re,fe,oe,ce){var me=ce&&ce.unsafe;me||k(re);var pe=!me&&kt.find(re,fe);if(!pe){var Pe=re.FullPaths[0];fe.slice(0,Pe.length)==Pe?Pe=fe:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+fe).replace("//","/")),pe={name:s(fe),type:2},re.FileIndex.push(pe),re.FullPaths.push(Pe),me||kt.utils.cfb_gc(re)}return pe.content=oe,pe.size=oe?oe.length:0,ce&&(ce.CLSID&&(pe.clsid=ce.CLSID),ce.mt&&(pe.mt=ce.mt),ce.ct&&(pe.ct=ce.ct)),pe}function Xe(re,fe){k(re);var oe=kt.find(re,fe);if(oe){for(var ce=0;ce<re.FileIndex.length;++ce)if(re.FileIndex[ce]==oe)return re.FileIndex.splice(ce,1),re.FullPaths.splice(ce,1),!0}return!1}function st(re,fe,oe){k(re);var ce=kt.find(re,fe);if(ce){for(var me=0;me<re.FileIndex.length;++me)if(re.FileIndex[me]==ce)return re.FileIndex[me].name=s(oe),re.FullPaths[me]=oe,!0}return!1}function _t(re){T(re,!0)}return t.find=O,t.read=S,t.parse=u,t.write=de,t.writeFile=ee,t.utils={cfb_new:yt,cfb_add:_e,cfb_del:Xe,cfb_mov:st,cfb_gc:_t,ReadShift:Cm,CheckField:uM,prep_blob:Na,bconcat:oa,use_zlib:G,_deflateRaw:ft,_inflateRaw:qa,consts:H},t}();function kwe(e){return typeof e=="string"?Sb(e):Array.isArray(e)?J1e(e):e}function mp(e,t,r){if(typeof Deno!="undefined"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Sb(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?yo(t):t;if(typeof IE_SaveFile!="undefined")return IE_SaveFile(a,e);if(typeof Blob!="undefined"){var s=new Blob([kwe(a)],{type:"application/octet-stream"});if(typeof navigator!="undefined"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs!="undefined")return saveAs(s,e);if(typeof URL!="undefined"&&typeof document!="undefined"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout!="undefined"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $!="undefined"&&typeof File!="undefined"&&typeof Folder!="undefined")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=mc(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Cwe(e){if(typeof Deno!="undefined")return Deno.readFileSync(e);if(typeof $!="undefined"&&typeof File!="undefined"&&typeof Folder!="undefined")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function pn(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function GO(e,t){for(var r=[],a=pn(e),s=0;s!==a.length;++s)r[e[a[s]][t]]==null&&(r[e[a[s]][t]]=a[s]);return r}function Cb(e){for(var t=[],r=pn(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function Ab(e){for(var t=[],r=pn(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function Awe(e){for(var t=[],r=pn(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var ev=new Date(1899,11,30,0,0,0);function Kn(e,t){var r=e.getTime(),a=ev.getTime()+(e.getTimezoneOffset()-ev.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var HR=new Date,_we=ev.getTime()+(HR.getTimezoneOffset()-ev.getTimezoneOffset())*6e4,qO=HR.getTimezoneOffset();function _b(e){var t=new Date;return t.setTime(e*24*60*60*1e3+_we),t.getTimezoneOffset()!==qO&&t.setTime(t.getTime()+(t.getTimezoneOffset()-qO)*6e4),t}function Ewe(e){var t=0,r=0,a=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(r=1,i>3&&(a=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(s[i],10)}return t}var KO=new Date("2017-02-19T19:06:09.000Z"),VR=isNaN(KO.getFullYear())?new Date("2/19/17"):KO,Twe=VR.getFullYear()==2017;function Zr(e,t){var r=new Date(e);if(Twe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(VR.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function pd(e,t){if(Jt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return yo(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return yo(PR(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder!="undefined")try{if(t){if(e[0]==255&&e[1]==254)return yo(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return yo(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch(i){}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function Qr(e){if(typeof JSON!="undefined"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Qr(e[r]));return t}function fn(e,t){for(var r="";r.length<t;)r+=e;return r}function Zi(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var Owe=["january","february","march","april","may","june","july","august","september","october","november","december"];function xf(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Owe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(s>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Pwe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,a,s){if(e||typeof a=="string")return r.split(a);for(var i=r.split(a),o=[i[0]],l=1;l<i.length;++l)o.push(s),o.push(i[l]);return o}}();function GR(e){return e?e.content&&e.type?pd(e.content,!0):e.data?mm(e.data):e.asNodeBuffer&&Jt?mm(e.asNodeBuffer().toString("binary")):e.asBinary?mm(e.asBinary()):e._data&&e._data.getContent?mm(pd(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function qR(e){if(!e)return null;if(e.data)return RO(e.data);if(e.asNodeBuffer&&Jt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?RO(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Iwe(e){return e&&e.name.slice(-4)===".bin"?qR(e):GR(e)}function mi(e,t){for(var r=e.FullPaths||pn(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),s=a.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==o||s==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function ak(e,t){var r=mi(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function En(e,t,r){if(!r)return Iwe(ak(e,t));if(!t)return null;try{return En(e,t)}catch(a){return null}}function zs(e,t,r){if(!r)return GR(ak(e,t));if(!t)return null;try{return zs(e,t)}catch(a){return null}}function Fwe(e,t,r){return qR(ak(e,t))}function XO(e){for(var t=e.FullPaths||pn(e.files),r=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function Kt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return Jt?a=xl(r):a=Z1e(r),kt.utils.cfb_add(e,t,a)}kt.utils.cfb_add(e,t,r)}else e.file(t,r)}function sk(){return kt.utils.cfb_new()}function KR(e,t){switch(t.type){case"base64":return kt.read(e,{type:"base64"});case"binary":return kt.read(e,{type:"binary"});case"buffer":case"array":return kt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function gm(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var a=e.split("/");a.length!==0;){var s=a.shift();s===".."?r.pop():s!=="."&&r.push(s)}return r.join("/")}var kn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Dwe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,YO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Rwe=/<[^>]*>/g,Ga=kn.match(YO)?YO:Rwe,Mwe=/<\w*:/,Lwe=/<(\/?)\w+:/;function Dt(e,t,r){for(var a={},s=0,i=0;s!==e.length&&!((i=e.charCodeAt(s))===32||i===10||i===13);++s);if(t||(a[0]=e.slice(0,s)),s===e.length)return a;var o=e.match(Dwe),l=0,c="",d=0,u="",f="",h=1;if(o)for(d=0;d!=o.length;++d){for(f=o[d],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(s=f.charCodeAt(i+1))==34||s==39?1:0,c=f.slice(i+1+h,f.length-h),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),a[u]=c,a[u.toLowerCase()]=c;else{var m=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(a[m]&&u.slice(l-3,l)=="ext")continue;a[m]=c,a[m.toLowerCase()]=c}}return a}function Eo(e){return e.replace(Lwe,"<$1")}var XR={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ik=Cb(XR),ur=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(a){var s=a+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(e,function(l,c){return XR[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=s.indexOf("]]>");return r(s.slice(0,i))+s.slice(i+9,o)+r(s.slice(o+3))}}(),ok=/[&<>'"]/g,$we=/[\u0000-\u0008\u000b-\u001f]/g;function Er(e){var t=e+"";return t.replace(ok,function(r){return ik[r]}).replace($we,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function JO(e){return Er(e).replace(/ /g,"_x0020_")}var YR=/[\u0000-\u001f]/g;function lk(e){var t=e+"";return t.replace(ok,function(r){return ik[r]}).replace(/\n/g,"<br/>").replace(YR,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Bwe(e){var t=e+"";return t.replace(ok,function(r){return ik[r]}).replace(YR,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var ZO=function(){var e=/&#(\d+);/g;function t(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}}();function Uwe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Jr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Pw(e){for(var t="",r=0,a=0,s=0,i=0,o=0,l=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(s=e.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=s&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function QO(e){var t=rc(2*e.length),r,a,s=1,i=0,o=0,l;for(a=0;a<e.length;a+=s)s=1,(l=e.charCodeAt(a))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(a+1)&63),s=2):l<240?(r=(l&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,r=(l&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function e3(e){return xl(e,"binary").toString("utf8")}var nx="foo bar bazâð£",Fr=Jt&&(e3(nx)==Pw(nx)&&e3||QO(nx)==Pw(nx)&&QO)||Pw,yo=Jt?function(e){return xl(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,s=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},E0=function(){var e={};return function(r,a){var s=r+"|"+(a||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}}(),JR=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}}(),Wwe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),zwe=/<\/?(?:vt:)?variant>/g,Hwe=/<(?:vt:)([^>]*)>([\s\S]*)</;function t3(e,t){var r=Dt(e),a=e.match(Wwe(r.baseType))||[],s=[];if(a.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return s}return a.forEach(function(i){var o=i.replace(zwe,"").match(Hwe);o&&s.push({v:Fr(o[2]),t:o[1]})}),s}var ZR=/(^\s|\s$|\n)/;function Sa(e,t){return"<"+e+(t.match(ZR)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function T0(e){return pn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function et(e,t,r){return"<"+e+(r!=null?T0(r):"")+(t!=null?(t.match(ZR)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function a2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Vwe(e,t){switch(typeof e){case"string":var r=et("vt:lpwstr",Er(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return et((e|0)==e?"vt:i4":"vt:r8",Er(String(e)));case"boolean":return et("vt:bool",e?"true":"false")}if(e instanceof Date)return et("vt:filetime",a2(e));throw new Error("Unable to serialize "+e)}function ck(e){if(Jt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array!="undefined"&&e instanceof Uint8Array)return Fr(mc(tk(e)));throw new Error("Bad input format: expected Buffer or string")}var O0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Hn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Rd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],$s={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Gwe(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return a==2047?s==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),r*Math.pow(2,a-52)*s)}function qwe(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,o=a?-t:t;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|a}var r3=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=r)t.push.apply(t,e[0][a].slice(s,s+r));return t},n3=Jt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:xl(t)})):r3(e)}:r3,a3=function(e,t,r){for(var a=[],s=t;s<r;s+=2)a.push(String.fromCharCode(Yo(e,s)));return a.join("").replace(ls,"")},dk=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ls,""):a3(e,t,r)}:a3,s3=function(e,t,r){for(var a=[],s=t;s<t+r;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},QR=Jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):s3(e,t,r)}:s3,i3=function(e,t,r){for(var a=[],s=t;s<r;s++)a.push(String.fromCharCode(Nu(e,s)));return a.join("")},pp=Jt?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):i3(t,r,a)}:i3,eM=function(e,t){var r=Bs(e,t);return r>0?pp(e,t+4,t+4+r-1):""},tM=eM,rM=function(e,t){var r=Bs(e,t);return r>0?pp(e,t+4,t+4+r-1):""},nM=rM,aM=function(e,t){var r=2*Bs(e,t);return r>0?pp(e,t+4,t+4+r-1):""},sM=aM,iM=function(t,r){var a=Bs(t,r);return a>0?dk(t,r+4,r+4+a):""},oM=iM,lM=function(e,t){var r=Bs(e,t);return r>0?pp(e,t+4,t+4+r):""},cM=lM,dM=function(e,t){return Gwe(e,t)},tv=dM,uk=function(t){return Array.isArray(t)||typeof Uint8Array!="undefined"&&t instanceof Uint8Array};Jt&&(tM=function(t,r){if(!Buffer.isBuffer(t))return eM(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},nM=function(t,r){if(!Buffer.isBuffer(t))return rM(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},sM=function(t,r){if(!Buffer.isBuffer(t))return aM(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},oM=function(t,r){if(!Buffer.isBuffer(t))return iM(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},cM=function(t,r){if(!Buffer.isBuffer(t))return lM(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},tv=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):dM(t,r)},uk=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array!="undefined"&&t instanceof Uint8Array});var Nu=function(e,t){return e[t]},Yo=function(e,t){return e[t+1]*256+e[t]},Kwe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Bs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},zc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Xwe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Cm(e,t){var r="",a,s,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,Jt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Yo(this,d)),d+=2;e*=2;break;case"utf8":r=pp(this,this.l,this.l+e);break;case"utf16le":e*=2,r=dk(this,this.l,this.l+e);break;case"wstr":return Cm.call(this,e,"dbcs");case"lpstr-ansi":r=tM(this,this.l),e=4+Bs(this,this.l);break;case"lpstr-cp":r=nM(this,this.l),e=4+Bs(this,this.l);break;case"lpwstr":r=sM(this,this.l),e=4+2*Bs(this,this.l);break;case"lpp4":e=4+Bs(this,this.l),r=oM(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Bs(this,this.l),r=cM(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Nu(this,this.l+e++))!==0;)i.push(rx(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Yo(this,this.l+e))!==0;)i.push(rx(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Nu(this,d),this.l=d+1,l=Cm.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(rx(Yo(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Nu(this,d),this.l=d+1,l=Cm.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(rx(Nu(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return a=Nu(this,this.l),this.l++,a;case 2:return a=(t==="i"?Kwe:Yo)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(a=(e>0?zc:Xwe)(this,this.l),this.l+=4,a):(s=Bs(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=tv(this,this.l):s=tv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=QR(this,this.l,e);break}}return this.l+=e,r}var Ywe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Jwe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Zwe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Qwe(e,t,r){var a=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)Zwe(this,t.charCodeAt(s),this.l+2*s);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;a=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,Ywe(this,t,this.l);break;case 8:if(a=8,r==="f"){qwe(this,t,this.l);break}case 16:break;case-4:a=4,Jwe(this,t,this.l);break}return this.l+=a,this}function uM(e,t){var r=QR(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Na(e,t){e.l=t,e.read_shift=Cm,e.chk=uM,e.write_shift=Qwe}function Va(e,t){e.l+=t}function Le(e){var t=rc(e);return Na(t,0),t}function yl(e,t,r){if(e){var a,s,i;Na(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var d=M0[l]||M0[65535];for(a=e.read_shift(1),i=a&127,s=1;s<4&&a&128;++s)i+=((a=e.read_shift(1))&127)<<7*s;c=e.l+i;var u=d.f&&d.f(e,i,r);if(e.l=c,t(u,d,l))return}}}function ks(){var e=[],t=Jt?256:2048,r=function(d){var u=Le(d);return Na(u,0),u},a=r(t),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(s(),a=r(Math.max(d+1,t)))},o=function(){return s(),oa(e)},l=function(d){s(),a=d,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Ge(e,t,r,a){var s=+t,i;if(!isNaN(s)){a||(a=M0[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var l=0;l!=4;++l)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&uk(r)&&e.push(r)}}function Am(e,t,r){var a=Qr(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function o3(e,t,r){var a=Qr(e);return a.s=Am(a.s,t.s,r),a.e=Am(a.e,t.s,r),a}function _m(e,t){if(e.cRel&&e.c<0)for(e=Qr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Qr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ft(e);return!e.cRel&&e.cRel!=null&&(r=rje(r)),!e.rRel&&e.rRel!=null&&(r=eje(r)),r}function Iw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+sn(e.s.c)+":"+(e.e.cRel?"":"$")+sn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Sn(e.s.r)+":"+(e.e.rRel?"":"$")+Sn(e.e.r):_m(e.s,t.biff)+":"+_m(e.e,t.biff)}function fk(e){return parseInt(tje(e),10)-1}function Sn(e){return""+(e+1)}function eje(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function tje(e){return e.replace(/\$(\d+)$/,"$1")}function hk(e){for(var t=nje(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function sn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function rje(e){return e.replace(/^([A-Z])/,"$$$1")}function nje(e){return e.replace(/^\$([A-Z])/,"$1")}function aje(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function on(e){for(var t=0,r=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function Ft(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function As(e){var t=e.indexOf(":");return t==-1?{s:on(e),e:on(e)}:{s:on(e.slice(0,t)),e:on(e.slice(t+1))}}function Vt(e,t){return typeof t=="undefined"||typeof t=="number"?Vt(e.s,e.e):(typeof e!="string"&&(e=Ft(e)),typeof t!="string"&&(t=Ft(t)),e==t?e:e+":"+t)}function hr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,s=0,i=e.length;for(r=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.s.c=--r,r=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;if(t.s.r=--r,a===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)r=26*r+s;for(t.e.c=--r,r=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)r=10*r+s;return t.e.r=--r,t}function l3(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ai(e.z,r?Kn(t):t)}catch(a){}try{return e.w=Ai((e.XF||{}).numFmtId||(r?14:0),r?Kn(t):t)}catch(a){return""+t}}function fl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?vl[e.v]||e.v:t==null?l3(e,e.v):l3(e,t))}function pc(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function fM(e,t,r){var a=r||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),o=0,l=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?on(a.origin):a.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=hr(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(typeof t[f][h]!="undefined"){var m={v:t[f][h]},p=o+f,x=l+h;if(d.s.r>p&&(d.s.r=p),d.s.c>x&&(d.s.c=x),d.e.r<p&&(d.e.r=p),d.e.c<x&&(d.e.c=x),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(a.nullError)m.t="e",m.v=0;else if(a.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=a.dateNF||It[14],a.cellDates?(m.t="d",m.w=Ai(m.z,Kn(m.v))):(m.t="n",m.v=Kn(m.v),m.w=Ai(m.z,m.v))):m.t="s";if(s)i[p]||(i[p]=[]),i[p][x]&&i[p][x].z&&(m.z=i[p][x].z),i[p][x]=m;else{var y=Ft({c:x,r:p});i[y]&&i[y].z&&(m.z=i[y].z),i[y]=m}}}return d.s.c<1e7&&(i["!ref"]=Vt(d)),i}function qf(e,t){return fM(null,e,t)}function sje(e){return e.read_shift(4,"i")}function Qi(e,t){return t||(t=Le(4)),t.write_shift(4,e),t}function za(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function da(e,t){var r=!1;return t==null&&(r=!0,t=Le(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function ije(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function oje(e,t){return t||(t=Le(4)),t.write_shift(2,0),t.write_shift(2,0),t}function mk(e,t){var r=e.l,a=e.read_shift(1),s=za(e),i=[],o={t:s,h:s};if(a&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(ije(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function lje(e,t){var r=!1;return t==null&&(r=!0,t=Le(15+4*e.t.length)),t.write_shift(1,0),da(e.t,t),r?t.slice(0,t.l):t}var cje=mk;function dje(e,t){var r=!1;return t==null&&(r=!0,t=Le(23+4*e.t.length)),t.write_shift(1,1),da(e.t,t),t.write_shift(4,1),oje({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Oi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Md(e,t){return t==null&&(t=Le(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Ld(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function $d(e,t){return t==null&&(t=Le(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var uje=za,hM=da;function pk(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function rv(e,t){var r=!1;return t==null&&(r=!0,t=Le(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var fje=za,s2=pk,gk=rv;function xk(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var s=a===0?tv([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):zc(t,0)>>2;return r?s/100:s}function mM(e,t){t==null&&(t=Le(4));var r=0,a=0,s=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?a=1:s==(s|0)&&s>=-(1<<29)&&s<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function pM(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function hje(e,t){return t||(t=Le(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Bd=pM,Kf=hje;function Ua(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function gd(e,t){return(t||Le(8)).write_shift(8,e,"f")}function mje(e){var t={},r=e.read_shift(1),a=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=s;var d=rd[s];d&&(t.rgb=I0(d));break;case 2:t.rgb=I0([o,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function nv(e,t){if(t||(t=Le(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function pje(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function gje(e,t){t||(t=Le(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function gM(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function xje(e){return gM(e,1)}function yje(e){return gM(e,2)}var yk=2,vs=3,ax=11,c3=12,av=19,sx=64,vje=65,bje=71,wje=4108,jje=4126,aa=80,xM=81,Nje=[aa,xM],i2={1:{n:"CodePage",t:yk},2:{n:"Category",t:aa},3:{n:"PresentationFormat",t:aa},4:{n:"ByteCount",t:vs},5:{n:"LineCount",t:vs},6:{n:"ParagraphCount",t:vs},7:{n:"SlideCount",t:vs},8:{n:"NoteCount",t:vs},9:{n:"HiddenCount",t:vs},10:{n:"MultimediaClipCount",t:vs},11:{n:"ScaleCrop",t:ax},12:{n:"HeadingPairs",t:wje},13:{n:"TitlesOfParts",t:jje},14:{n:"Manager",t:aa},15:{n:"Company",t:aa},16:{n:"LinksUpToDate",t:ax},17:{n:"CharacterCount",t:vs},19:{n:"SharedDoc",t:ax},22:{n:"HyperlinksChanged",t:ax},23:{n:"AppVersion",t:vs,p:"version"},24:{n:"DigSig",t:vje},26:{n:"ContentType",t:aa},27:{n:"ContentStatus",t:aa},28:{n:"Language",t:aa},29:{n:"Version",t:aa},255:{},2147483648:{n:"Locale",t:av},2147483651:{n:"Behavior",t:av},1919054434:{}},o2={1:{n:"CodePage",t:yk},2:{n:"Title",t:aa},3:{n:"Subject",t:aa},4:{n:"Author",t:aa},5:{n:"Keywords",t:aa},6:{n:"Comments",t:aa},7:{n:"Template",t:aa},8:{n:"LastAuthor",t:aa},9:{n:"RevNumber",t:aa},10:{n:"EditTime",t:sx},11:{n:"LastPrinted",t:sx},12:{n:"CreatedDate",t:sx},13:{n:"ModifiedDate",t:sx},14:{n:"PageCount",t:vs},15:{n:"WordCount",t:vs},16:{n:"CharCount",t:vs},17:{n:"Thumbnail",t:bje},18:{n:"Application",t:aa},19:{n:"DocSecurity",t:vs},255:{},2147483648:{n:"Locale",t:av},2147483651:{n:"Behavior",t:av},1919054434:{}},d3={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Sje=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function kje(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Cje=kje([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rd=Qr(Cje),vl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},yM={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},l2={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ix={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function vk(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Aje(e){var t=vk();if(!e||!e.match)return t;var r={};if((e.match(Ga)||[]).forEach(function(a){var s=Dt(a);switch(s[0].replace(Mwe,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[s.Extension]=s.ContentType;break;case"<Override":t[l2[s.ContentType]]!==void 0&&t[l2[s.ContentType]].push(s.PartName);break}}),t.xmlns!==Hn.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function vM(e,t){var r=Awe(l2),a=[],s;a[a.length]=kn,a[a.length]=et("Types",null,{xmlns:Hn.CT,"xmlns:xsd":Hn.xsd,"xmlns:xsi":Hn.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return et("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(s=e[c][0],a[a.length]=et("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:ix[c][t.bookType]||ix[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){a[a.length]=et("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:ix[c][t.bookType]||ix[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){a[a.length]=et("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var tr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function P0(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Em(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(Ga)||[]).forEach(function(s){var i=Dt(s);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:gm(i.Target,t);r[l]=o,a[i.Id]=o}}),r["!id"]=a,r}function Mu(e){var t=[kn,et("Relationships",null,{xmlns:Hn.RELS})];return pn(e["!id"]).forEach(function(r){t[t.length]=et("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function _r(e,t,r,a,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=a,s.Target=r,[tr.HLINK,tr.XPATH,tr.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}var _je="application/vnd.oasis.opendocument.spreadsheet";function Eje(e,t){for(var r=ck(e),a,s;a=O0.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(s=Dt(a[0],!1),s.path=="/"&&s.type!==_je)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function Tje(e){var t=[kn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function u3(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Oje(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Pje(e){var t=[kn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(u3(e[r][0],e[r][1])),t.push(Oje("",e[r][0]));return t.push(u3("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function bM(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Yy.version+"</meta:generator></office:meta></office:document-meta>"}var ji=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Ije=function(){for(var e=new Array(ji.length),t=0;t<ji.length;++t){var r=ji[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function wM(e){var t={};e=Fr(e);for(var r=0;r<ji.length;++r){var a=ji[r],s=e.match(Ije[r]);s!=null&&s.length>0&&(t[a[1]]=ur(s[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=Zr(t[a[1]]))}return t}function Fw(e,t,r,a,s){s[e]!=null||t==null||t===""||(s[e]=t,t=Er(t),a[a.length]=r?et(e,t,r):Sa(e,t))}function jM(e,t){var r=t||{},a=[kn,et("cp:coreProperties",null,{"xmlns:cp":Hn.CORE_PROPS,"xmlns:dc":Hn.dc,"xmlns:dcterms":Hn.dcterms,"xmlns:dcmitype":Hn.dcmitype,"xmlns:xsi":Hn.xsi})],s={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&Fw("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:a2(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s),e.ModifiedDate!=null&&Fw("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:a2(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,s));for(var i=0;i!=ji.length;++i){var o=ji[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Fw(o[0],l,null,a,s)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var nd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],NM=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function SM(e,t,r,a){var s=[];if(typeof e=="string")s=t3(e,a);else for(var i=0;i<e.length;++i)s=s.concat(e[i].map(function(u){return{v:u}}));var o=typeof t=="string"?t3(t,a).map(function(u){return u.v}):t,l=0,c=0;if(o.length>0)for(var d=0;d!==s.length;d+=2){switch(c=+s[d+1].v,s[d].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function Fje(e,t,r){var a={};return t||(t={}),e=Fr(e),nd.forEach(function(s){var i=(e.match(E0(s[0]))||[])[1];switch(s[2]){case"string":i&&(t[s[1]]=ur(i));break;case"bool":t[s[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));o&&o.length>0&&(a[s[1]]=o[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&SM(a.HeadingPairs,a.TitlesOfParts,t,r),t}function kM(e){var t=[],r=et;return e||(e={}),e.Application="SheetJS",t[t.length]=kn,t[t.length]=et("Properties",null,{xmlns:Hn.EXT_PROPS,"xmlns:vt":Hn.vt}),nd.forEach(function(a){if(e[a[1]]!==void 0){var s;switch(a[2]){case"string":s=Er(String(e[a[1]]));break;case"bool":s=e[a[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(a[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+Er(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Dje=/<[^>]+>[^<]*/g;function Rje(e,t){var r={},a="",s=e.match(Dje);if(s)for(var i=0;i!=s.length;++i){var o=s[i],l=Dt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":a=ur(l.name);break;case"</property>":a=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[a]=ur(u);break;case"bool":r[a]=Jr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(u);break;case"filetime":case"date":r[a]=Zr(u);break;case"cy":case"error":r[a]=ur(u);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console!="undefined"&&console.warn("Unexpected",o,d,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function CM(e){var t=[kn,et("Properties",null,{xmlns:Hn.CUST_PROPS,"xmlns:vt":Hn.vt})];if(!e)return t.join("");var r=1;return pn(e).forEach(function(s){++r,t[t.length]=et("property",Vwe(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Er(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var c2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Dw;function Mje(e,t,r){Dw||(Dw=Cb(c2)),t=Dw[t]||t,e[t]=r}function Lje(e,t){var r=[];return pn(c2).map(function(a){for(var s=0;s<ji.length;++s)if(ji[s][1]==a)return ji[s];for(s=0;s<nd.length;++s)if(nd[s][1]==a)return nd[s];throw a}).forEach(function(a){if(e[a[1]]!=null){var s=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Sa(c2[a[1]]||a[1],s))}}),et("DocumentProperties",r.join(""),{xmlns:$s.o})}function $je(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",s=[];return e&&pn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<ji.length;++o)if(i==ji[o][1])return;for(o=0;o<nd.length;++o)if(i==nd[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),s.push(et(JO(i),l,{"dt:dt":c}))}}),t&&pn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),s.push(et(JO(i),o,{"dt:dt":l}))}}),"<"+a+' xmlns="'+$s.o+'">'+s.join("")+"</"+a+">"}function bk(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Bje(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),s=(r-a)/Math.pow(2,32);a*=1e7,s*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),s+=i);var o=Le(8);return o.write_shift(4,a),o.write_shift(4,s),o}function AM(e,t,r){var a=e.l,s=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return s}function _M(e,t,r){var a=e.read_shift(0,"lpwstr");return a}function EM(e,t,r){return t===31?_M(e):AM(e,t,r)}function d2(e,t,r){return EM(e,t,r===!1?0:4)}function Uje(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return EM(e,t,0)}function Wje(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var s=e.l;r[a]=e.read_shift(0,"lpwstr").replace(ls,""),e.l-s&2&&(e.l+=2)}return r}function zje(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(ls,"");return r}function Hje(e){var t=e.l,r=sv(e,xM);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=sv(e,vs);return[r,a]}function Vje(e){for(var t=e.read_shift(4),r=[],a=0;a<t/2;++a)r.push(Hje(e));return r}function f3(e,t){for(var r=e.read_shift(4),a={},s=0;s!=r;++s){var i=e.read_shift(4),o=e.read_shift(4);a[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(ls,"").replace(pm,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function TM(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Gje(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function sv(e,t,r){var a=e.read_shift(2),s,i=r||{};if(e.l+=2,t!==c3&&a!==t&&Nje.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===c3?a:t){case 2:return s=e.read_shift(2,"i"),i.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return AM(e,a,4).replace(ls,"");case 31:return _M(e);case 64:return bk(e);case 65:return TM(e);case 71:return Gje(e);case 80:return d2(e,a,!i.raw).replace(ls,"");case 81:return Uje(e,a).replace(ls,"");case 4108:return Vje(e);case 4126:case 4127:return a==4127?Wje(e):zje(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function h3(e,t){var r=Le(4),a=Le(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=Le(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=Bje(t);break;case 31:case 80:for(a=Le(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return oa([r,a])}function m3(e,t){var r=e.l,a=e.read_shift(4),s=e.read_shift(4),i=[],o=0,l=0,c=-1,d={};for(o=0;o!=s;++o){var u=e.read_shift(4),f=e.read_shift(4);i[o]=[u,f+r]}i.sort(function(w,j){return w[1]-j[1]});var h={};for(o=0;o!=s;++o){if(e.l!==i[o][1]){var m=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],m=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],m=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(m=!1,e.l=i[o][1]),m)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var p=t[i[o][0]];if(h[p.n]=sv(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:qi(l=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(i[o][0]===1){if(l=h.CodePage=sv(e,yk),qi(l),c!==-1){var x=e.l;e.l=i[c][1],d=f3(e,l),e.l=x}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}d=f3(e,l)}else{var y=d[i[o][0]],v;switch(e[e.l]){case 65:e.l+=4,v=TM(e);break;case 30:e.l+=4,v=d2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=d2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=bn(e,4);break;case 64:e.l+=4,v=Zr(bk(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[y]=v}}return e.l=r+a,h}var OM=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function qje(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function p3(e,t,r){var a=Le(8),s=[],i=[],o=8,l=0,c=Le(8),d=Le(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),s.push(d),o+=8+c.length,!t){d=Le(8),d.write_shift(4,0),s.unshift(d);var u=[Le(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Le(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=oa(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(OM.indexOf(e[l][0])>-1||NM.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],m=0;if(t){m=+t[e[l][0]];var p=r[m];if(p.p=="version"&&typeof h=="string"){var x=h.split(".");h=(+x[0]<<16)+(+x[1]||0)}c=h3(p.t,h)}else{var y=qje(h);y==-1&&(y=31,h=String(h)),c=h3(y,h)}i.push(c),d=Le(8),d.write_shift(4,t?m:2+l),s.push(d),o+=8+c.length}var v=8*(i.length+1);for(l=0;l<i.length;++l)s[l].write_shift(4,v),v+=i[l].length;return a.write_shift(4,o),a.write_shift(4,i.length),oa([a].concat(s).concat(i))}function g3(e,t,r){var a=e.content;if(!a)return{};Na(a,0);var s,i,o,l,c=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),u=a.read_shift(16);if(u!==kt.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(s=a.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=a.read_shift(16),l=a.read_shift(4),s===1&&l!==a.l)throw new Error("Length mismatch: "+l+" !== "+a.l);s===2&&(o=a.read_shift(16),c=a.read_shift(4));var f=m3(a,t),h={SystemIdentifier:d};for(var m in f)h[m]=f[m];if(h.FMTID=i,s===1)return h;if(c-a.l==2&&(a.l+=2),a.l!==c)throw new Error("Length mismatch 2: "+a.l+" !== "+c);var p;try{p=m3(a,null)}catch(x){}for(m in p)h[m]=p[m];return h.FMTID=[i,o],h}function x3(e,t,r,a,s,i){var o=Le(s?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,kt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,s?68:48);var c=p3(e,r,a);if(l.push(c),s){var d=p3(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return oa(l)}function _l(e,t){return e.read_shift(t),null}function Kje(e,t){t||(t=Le(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Xje(e,t,r){for(var a=[],s=e.l+t;e.l<s;)a.push(r(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return a}function bn(e,t){return e.read_shift(t)===1}function ns(e,t){return t||(t=Le(2)),t.write_shift(2,+!!e),t}function Tn(e){return e.read_shift(2,"u")}function pi(e,t){return t||(t=Le(2)),t.write_shift(2,e),t}function PM(e,t){return Xje(e,t,Tn)}function Yje(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function IM(e,t,r){return r||(r=Le(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function gp(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=a?e.read_shift(a,s):"";return o}function Jje(e){var t=e.read_shift(2),r=e.read_shift(1),a=r&4,s=r&8,i=1+(r&1),o=0,l,c={};s&&(o=e.read_shift(2)),a&&(l=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,d);return s&&(e.l+=4*o),a&&(e.l+=l),c.t=u,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Zje(e){var t=e.t||"",r=Le(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=Le(2*t.length);a.write_shift(2*t.length,t,"utf16le");var s=[r,a];return oa(s)}function xd(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function xp(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):xd(e,a,r)}function Ud(e,t,r){if(r.biff>5)return xp(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function FM(e,t,r){return r||(r=Le(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Qje(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function eNe(e){var t=e.read_shift(4),r=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=r);var s=e.read_shift((a?t-24:t)>>1,"utf16le").replace(ls,"");return a&&(e.l+=24),s}function tNe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return r+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(ls,"");return r+o}function rNe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return eNe(e);case"0303000000000000c000000000000046":return tNe(e);default:throw new Error("Unsupported Moniker "+r)}}function ox(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ls,""):"";return r}function y3(e,t){t||(t=Le(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function nNe(e,t){var r=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var s=e.read_shift(2);e.l+=2;var i,o,l,c,d="",u,f;s&16&&(i=ox(e,r-e.l)),s&128&&(o=ox(e,r-e.l)),(s&257)===257&&(l=ox(e,r-e.l)),(s&257)===1&&(c=rNe(e,r-e.l)),s&8&&(d=ox(e,r-e.l)),s&32&&(u=e.read_shift(16)),s&64&&(f=bk(e)),e.l=r;var h=o||l||c||"";h&&d&&(h+="#"+d),h||(h="#"+d),s&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return u&&(m.guid=u),f&&(m.time=f),i&&(m.Tooltip=i),m}function aNe(e){var t=Le(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var s=a.indexOf("#"),i=s>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)a=a.slice(1),y3(a,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=s>-1?a.slice(0,s):a;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&y3(s>-1?a.slice(s+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),r=0;r<a.length-3*c;++r)t.write_shift(1,a.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function DM(e){var t=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(1);return[t,r,a,s]}function RM(e,t){var r=DM(e);return r[3]=0,r}function To(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{r:t,c:r,ixfe:a}}function yd(e,t,r,a){return a||(a=Le(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function sNe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function iNe(e,t,r){return t===0?"":Ud(e,t,r)}function oNe(e,t,r){var a=r.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[s,i,o]}function MM(e){var t=e.read_shift(2),r=xk(e);return[t,r]}function lNe(e,t,r){e.l+=4,t-=4;var a=e.l+t,s=gp(e,t,r),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,s}function Eb(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r:t},e:{c:s,r}}}function LM(e,t){return t||(t=Le(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function $M(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1);return{s:{c:a,r:t},e:{c:s,r}}}var cNe=$M;function BM(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function dNe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function uNe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Fa(e){e.l+=2,e.l+=e.read_shift(2)}var fNe={0:Fa,4:Fa,5:Fa,6:Fa,7:uNe,8:Fa,9:Fa,10:Fa,11:Fa,12:Fa,13:dNe,14:Fa,15:Fa,16:Fa,17:Fa,18:Fa,19:Fa,20:Fa,21:BM};function hNe(e,t){for(var r=e.l+t,a=[];e.l<r;){var s=e.read_shift(2);e.l-=2;try{a.push(fNe[s](e,r-e.l))}catch(i){return e.l=r,a}}return e.l!=r&&(e.l=r),a}function lx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function wk(e,t,r){var a=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,s=8;break;case"biff4":a=4,s=6;break;case"biff3":a=3,s=6;break;case"biff2":a=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Le(s);return i.write_shift(2,a),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function mNe(e,t){return t===0||e.read_shift(2),1200}function pNe(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,s=Ud(e,0,r);return e.read_shift(t+a-e.l),s}function gNe(e,t){var r=!t||t.biff==8,a=Le(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function xNe(e,t,r){var a=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function yNe(e,t,r){var a=e.read_shift(4),s=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=gp(e,0,r);return o.length===0&&(o="Sheet1"),{pos:a,hs:s,dt:i,name:o}}function vNe(e,t){var r=!t||t.biff>=8?2:1,a=Le(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=a.slice(0,a.l);return s.l=a.l,s}function bNe(e,t){for(var r=e.l+t,a=e.read_shift(4),s=e.read_shift(4),i=[],o=0;o!=s&&e.l<r;++o)i.push(Jje(e));return i.Count=a,i.Unique=s,i}function wNe(e,t){var r=Le(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],s=0;s<e.length;++s)a[s]=Zje(e[s]);var i=oa([r].concat(a));return i.parts=[r.length].concat(a.map(function(o){return o.length})),i}function jNe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function NNe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=r/20),t}function SNe(e){var t=sNe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function kNe(e){return e.read_shift(2),e.read_shift(4)}function v3(e,t,r){var a=0;r&&r.biff==2||(a=e.read_shift(2));var s=e.read_shift(2);r&&r.biff==2&&(a=1-(s>>15),s&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,s]}function CNe(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[a,s],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:d}}function ANe(){var e=Le(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function _Ne(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function ENe(e){var t=Le(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function TNe(){}function ONe(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=gp(e,0,r),a}function PNe(e,t){var r=e.name||"Arial",a=t&&t.biff==5,s=a?15+r.length:16+2*r.length,i=Le(s);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function INe(e){var t=To(e);return t.isst=e.read_shift(4),t}function FNe(e,t,r,a){var s=Le(10);return yd(e,t,a,s),s.write_shift(4,r),s}function DNe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=e.l+t,s=To(e);r.biff==2&&e.l++;var i=xp(e,a-e.l,r);return s.val=i,s}function RNe(e,t,r,a,s){var i=!s||s.biff==8,o=Le(8+ +i+(1+i)*r.length);return yd(e,t,a,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function MNe(e,t,r){var a=e.read_shift(2),s=Ud(e,0,r);return[a,s]}function LNe(e,t,r,a){var s=r&&r.biff==5;a||(a=Le(s?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(s?1:2,t.length),s||a.write_shift(1,1),a.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}var $Ne=Ud;function b3(e,t,r){var a=e.l+t,s=r.biff==8||!r.biff?4:2,i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(2),c=e.read_shift(2);return e.l=a,{s:{r:i,c:l},e:{r:o,c}}}function BNe(e,t){var r=t.biff==8||!t.biff?4:2,a=Le(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function UNe(e){var t=e.read_shift(2),r=e.read_shift(2),a=MM(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}function WNe(e,t){for(var r=e.l+t-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<r;)i.push(MM(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulRK length mismatch");return{r:a,c:s,C:o,rkrec:i}}function zNe(e,t){for(var r=e.l+t-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulBlank length mismatch");return{r:a,c:s,C:o,ixfe:i}}function HNe(e,t,r,a){var s={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return s.patternType=Sje[l>>26],a.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=o&15,s.dgRight=o>>4&15,s.dgTop=o>>8&15,s.dgBottom=o>>12&15,s.icvLeft=o>>16&127,s.icvRight=o>>23&127,s.grbitDiag=o>>30&3,s.icvTop=l&127,s.icvBottom=l>>7&127,s.icvDiag=l>>14&127,s.dgDiag=l>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function VNe(e,t,r){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=HNe(e,t,a.fStyle,r),a}function w3(e,t,r,a){var s=r&&r.biff==5;a||(a=Le(s?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),s||a.write_shift(4,0),a.write_shift(2,0),a}function GNe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function qNe(e){var t=Le(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function j3(e,t,r){var a=To(e);(r.biff==2||t==9)&&++e.l;var s=Yje(e);return a.val=s,a.t=s===!0||s===!1?"b":"e",a}function KNe(e,t,r,a,s,i){var o=Le(8);return yd(e,t,a,o),IM(r,i,o),o}function XNe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=To(e),s=Ua(e);return a.val=s,a}function YNe(e,t,r,a){var s=Le(14);return yd(e,t,a,s),gd(r,s),s}var N3=iNe;function JNe(e,t,r){var a=e.l+t,s=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=xd(e,i),l=[];a>e.l;)l.push(xp(e));return[i,s,o,l]}function S3(e,t,r){var a=e.read_shift(2),s,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(s=lNe(e,t-2,r)),i.body=s||e.read_shift(t-2),typeof s=="string"&&(i.Name=s),i}var ZNe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function k3(e,t,r){var a=e.l+t,s=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=xd(e,o,r);s&32&&(d=ZNe[d.charCodeAt(0)]);var u=a-e.l;r&&r.biff==2&&--u;var f=a==e.l||l===0||!(u>0)?[]:hAe(e,u,r,l);return{chKey:i,Name:d,itab:c,rgce:f}}function UM(e,t,r){if(r.biff<8)return QNe(e,t,r);for(var a=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(oNe(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function QNe(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=gp(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function e2e(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),s=e.read_shift(2),i=xd(e,a,r),o=xd(e,s,r);return[i,o]}function t2e(e,t,r){var a=$M(e);e.l++;var s=e.read_shift(1);return t-=8,[mAe(e,t,r),s,a]}function C3(e,t,r){var a=cNe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,uAe(e,t,r)]}function r2e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,a=e.read_shift(4);return[t,r,a]}function n2e(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=Ud(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:s},l,o,i]}}function a2e(e,t,r){return n2e(e,t,r)}function s2e(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(Eb(e));return r}function i2e(e){var t=Le(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)LM(e[r],t);return t}function o2e(e,t,r){if(r&&r.biff<8)return c2e(e,t,r);var a=BM(e),s=hNe(e,t-22,a[1]);return{cmo:a,ft:s}}var l2e={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=r,{fmt:a}}};function c2e(e,t,r){e.l+=4;var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((l2e[a]||Va)(e,t,r)),{cmo:[s,a,i],ft:o}}function d2e(e,t,r){var a=e.l,s="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=Qje(e,6,r);var l=e.read_shift(2);e.read_shift(2),Tn(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var u=e[e.l],f=xd(e,e.lens[d+1]-e.lens[d]-1);if(s+=f,s.length>=(u?l:2*l))break}if(s.length!==l&&s.length!==l*2)throw new Error("cchText: "+l+" != "+s.length);return e.l=a+t,{t:s}}catch(h){return e.l=a+t,{t:s}}}function u2e(e,t){var r=Eb(e);e.l+=16;var a=nNe(e,t-24);return[r,a]}function f2e(e){var t=Le(24),r=on(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(a[s],16));return oa([t,aNe(e[1])])}function h2e(e,t){e.read_shift(2);var r=Eb(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(ls,""),[r,a]}function m2e(e){var t=e[1].Tooltip,r=Le(10+2*(t.length+1));r.write_shift(2,2048);var a=on(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function p2e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=d3[r]||r,r=e.read_shift(2),t[1]=d3[r]||r,t}function g2e(e){return e||(e=Le(4)),e.write_shift(2,1),e.write_shift(2,1),e}function x2e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(RM(e));return r}function y2e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(RM(e));return r}function v2e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function WM(e,t,r){if(!r.cellStyles)return Va(e,t);var a=r&&r.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var d={s,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function b2e(e,t){var r=Le(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function w2e(e,t){var r={};return t<32||(e.l+=16,r.header=Ua(e),r.footer=Ua(e),e.l+=2),r}function j2e(e,t,r){var a={area:!1};if(r.biff!=5)return e.l+=t,a;var s=e.read_shift(1);return e.l+=3,s&16&&(a.area=!0),a}function N2e(e){for(var t=Le(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var S2e=To,k2e=PM,C2e=xp;function A2e(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,s}function _2e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=To(e);++e.l;var s=Ud(e,t-7,r);return a.t="str",a.val=s,a}function E2e(e){var t=To(e);++e.l;var r=Ua(e);return t.t="n",t.val=r,t}function T2e(e,t,r){var a=Le(15);return wp(a,e,t),a.write_shift(8,r,"f"),a}function O2e(e){var t=To(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function P2e(e,t,r){var a=Le(9);return wp(a,e,t),a.write_shift(2,r),a}function I2e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function F2e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function D2e(e,t,r){var a=e.l+t,s=To(e),i=e.read_shift(2),o=xd(e,i,r);return e.l=a,s.t="str",s.val=o,s}var R2e=[2,3,48,49,131,139,140,245],u2=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Cb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=rc(1);switch(c.type){case"base64":u=Ws(Js(l));break;case"binary":u=Ws(l);break;case"buffer":case"array":u=l;break}Na(u,0);var f=u.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var x=0,y=521;f==2&&(x=u.read_shift(2)),u.l+=3,f!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),f!=2&&(y=u.read_shift(2));var v=u.read_shift(2),w=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var j=[],A={},C=Math.min(u.length,f==2?521:y-10-(m?264:0)),S=p?32:11;u.l<C&&u[u.l]!=13;)switch(A={},A.name=Ml.utils.decode(w,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,A.type=String.fromCharCode(u.read_shift(1)),f!=2&&!p&&(A.offset=u.read_shift(4)),A.len=u.read_shift(1),f==2&&(A.offset=u.read_shift(2)),A.dec=u.read_shift(1),A.name.length&&j.push(A),f!=2&&(u.l+=p?13:14),A.type){case"B":(!m||A.len!=8)&&c.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var k=0,E=0;for(d[0]=[],E=0;E!=j.length;++E)d[0][E]=j[E].name;for(;x-- >0;){if(u[u.l]===42){u.l+=v;continue}for(++u.l,d[++k]=[],E=0,E=0;E!=j.length;++E){var T=u.slice(u.l,u.l+j[E].len);u.l+=j[E].len,Na(T,0);var F=Ml.utils.decode(w,T);switch(j[E].type){case"C":F.trim().length&&(d[k][E]=F.replace(/\s+$/,""));break;case"D":F.length===8?d[k][E]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):d[k][E]=F;break;case"F":d[k][E]=parseFloat(F.trim());break;case"+":case"I":d[k][E]=p?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":d[k][E]=!0;break;case"N":case"F":d[k][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[k][E]="##MEMO##"+(p?parseInt(F.trim(),10):T.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(d[k][E]=+F||0);break;case"@":d[k][E]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":d[k][E]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":d[k][E]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[k][E]=-T.read_shift(-8,"f");break;case"B":if(m&&j[E].len==8){d[k][E]=T.read_shift(8,"f");break}case"G":case"P":T.l+=j[E].len;break;case"0":if(j[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[E].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=j,d}function a(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=qf(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function s(l,c){try{return pc(a(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&qi(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=ks(),f=lv(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=l["!cols"]||[],x=0,y=0,v=0,w=1;for(x=0;x<h.length;++x){if(((p[x]||{}).DBF||{}).name){h[x]=p[x].DBF.name,++v;continue}if(h[x]!=null){if(++v,typeof h[x]=="number"&&(h[x]=h[x].toString(10)),typeof h[x]!="string")throw new Error("DBF Invalid column name "+h[x]+" |"+typeof h[x]+"|");if(h.indexOf(h[x])!==x){for(y=0;y<1024;++y)if(h.indexOf(h[x]+"_"+y)==-1){h[x]+="_"+y;break}}}}var j=hr(l["!ref"]),A=[],C=[],S=[];for(x=0;x<=j.e.c-j.s.c;++x){var k="",E="",T=0,F=[];for(y=0;y<m.length;++y)m[y][x]!=null&&F.push(m[y][x]);if(F.length==0||h[x]==null){A[x]="?";continue}for(y=0;y<F.length;++y){switch(typeof F[y]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=F[y]instanceof Date?"D":"C";break;default:E="C"}T=Math.max(T,String(F[y]).length),k=k&&k!=E?"C":E}T>250&&(T=250),E=((p[x]||{}).DBF||{}).type,E=="C"&&p[x].DBF.len>T&&(T=p[x].DBF.len),k=="B"&&E=="N"&&(k="N",S[x]=p[x].DBF.dec,T=p[x].DBF.len),C[x]=k=="C"||E=="N"?T:i[k]||0,w+=C[x],A[x]=k}var O=u.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*v),O.write_shift(2,w),x=0;x<4;++x)O.write_shift(4,0);for(O.write_shift(4,0|(+t[OR]||3)<<8),x=0,y=0;x<h.length;++x)if(h[x]!=null){var P=u.next(32),W=(h[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,W,"sbcs"),P.write_shift(1,A[x]=="?"?"C":A[x],"sbcs"),P.write_shift(4,y),P.write_shift(1,C[x]||i[A[x]]||0),P.write_shift(1,S[x]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),y+=C[x]||i[A[x]]||0}var q=u.next(264);for(q.write_shift(4,13),x=0;x<65;++x)q.write_shift(4,0);for(x=0;x<m.length;++x){var D=u.next(w);for(D.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(A[y]){case"L":D.write_shift(1,m[x][y]==null?63:m[x][y]?84:70);break;case"B":D.write_shift(8,m[x][y]||0,"f");break;case"N":var M="0";for(typeof m[x][y]=="number"&&(M=m[x][y].toFixed(S[y]||0)),v=0;v<C[y]-M.length;++v)D.write_shift(1,32);D.write_shift(1,M,"sbcs");break;case"D":m[x][y]?(D.write_shift(4,("0000"+m[x][y].getFullYear()).slice(-4),"sbcs"),D.write_shift(2,("00"+(m[x][y].getMonth()+1)).slice(-2),"sbcs"),D.write_shift(2,("00"+m[x][y].getDate()).slice(-2),"sbcs")):D.write_shift(8,"00000000","sbcs");break;case"C":var H=String(m[x][y]!=null?m[x][y]:"").slice(0,C[y]);for(D.write_shift(1,H,"sbcs"),v=0;v<C[y]-H.length;++v)D.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:s,to_sheet:a,from_sheet:o}}(),zM=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+pn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?MO(p):p},a=function(h,m,p){var x=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return x==59?h:MO(x)};e["|"]=254;function s(h,m){switch(m.type){case"base64":return i(Js(h),m);case"binary":return i(h,m);case"buffer":return i(Jt&&Buffer.isBuffer(h)?h.toString("binary"):mc(h),m);case"array":return i(pd(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var p=h.split(/[\n\r]+/),x=-1,y=-1,v=0,w=0,j=[],A=[],C=null,S={},k=[],E=[],T=[],F=0,O;for(+m.codepage>=0&&qi(+m.codepage);v!==p.length;++v){F=0;var P=p[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),W=P.replace(/;;/g,"\0").split(";").map(function(I){return I.replace(/\u0000/g,";")}),q=W[0],D;if(P.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&A.push(P.slice(3).replace(/;;/g,";"));break;case"C":var M=!1,H=!1,ee=!1,X=!1,de=-1,le=-1;for(w=1;w<W.length;++w)switch(W[w].charAt(0)){case"A":break;case"X":y=parseInt(W[w].slice(1))-1,H=!0;break;case"Y":for(x=parseInt(W[w].slice(1))-1,H||(y=0),O=j.length;O<=x;++O)j[O]=[];break;case"K":D=W[w].slice(1),D.charAt(0)==='"'?D=D.slice(1,D.length-1):D==="TRUE"?D=!0:D==="FALSE"?D=!1:isNaN(Zi(D))?isNaN(xf(D).getDate())||(D=Zr(D)):(D=Zi(D),C!==null&&Vf(C)&&(D=_b(D))),M=!0;break;case"E":X=!0;var G=Lu(W[w].slice(1),{r:x,c:y});j[x][y]=[j[x][y],G];break;case"S":ee=!0,j[x][y]=[j[x][y],"S5S"];break;case"G":break;case"R":de=parseInt(W[w].slice(1))-1;break;case"C":le=parseInt(W[w].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}if(M&&(j[x][y]&&j[x][y].length==2?j[x][y][0]=D:j[x][y]=D,C=null),ee){if(X)throw new Error("SYLK shared formula cannot have own formula");var K=de>-1&&j[de][le];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");j[x][y][1]=oL(K[1],{r:x-de,c:y-le})}break;case"F":var Z=0;for(w=1;w<W.length;++w)switch(W[w].charAt(0)){case"X":y=parseInt(W[w].slice(1))-1,++Z;break;case"Y":for(x=parseInt(W[w].slice(1))-1,O=j.length;O<=x;++O)j[O]=[];break;case"M":F=parseInt(W[w].slice(1))/20;break;case"F":break;case"G":break;case"P":C=A[parseInt(W[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=W[w].slice(1).split(" "),O=parseInt(T[0],10);O<=parseInt(T[1],10);++O)F=parseInt(T[2],10),E[O-1]=F===0?{hidden:!0}:{wch:F},nc(E[O-1]);break;case"C":y=parseInt(W[w].slice(1))-1,E[y]||(E[y]={});break;case"R":x=parseInt(W[w].slice(1))-1,k[x]||(k[x]={}),F>0?(k[x].hpt=F,k[x].hpx=vf(F)):F===0&&(k[x].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}Z<1&&(C=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}}return k.length>0&&(S["!rows"]=k),E.length>0&&(S["!cols"]=E),m&&m.sheetRows&&(j=j.slice(0,m.sheetRows)),[j,S]}function o(h,m){var p=s(h,m),x=p[0],y=p[1],v=qf(x,m);return pn(y).forEach(function(w){v[w]=y[w]}),v}function l(h,m){return pc(o(h,m),m)}function c(h,m,p,x){var y="C;Y"+(p+1)+";X"+(x+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+Ak(h.f,{r:p,c:x}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function d(h,m){m.forEach(function(p,x){var y="F;W"+(x+1)+" "+(x+1)+" ";p.hidden?y+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=F0(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=D0(p.wpx)),typeof p.wch=="number"&&(y+=Math.round(p.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function u(h,m){m.forEach(function(p,x){var y="F;";p.hidden?y+="M0;":p.hpt?y+="M"+20*p.hpt+";":p.hpx&&(y+="M"+20*R0(p.hpx)+";"),y.length>2&&h.push(y+"R"+(x+1))})}function f(h,m){var p=["ID;PWXL;N;E"],x=[],y=hr(h["!ref"]),v,w=Array.isArray(h),j=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&d(p,h["!cols"]),h["!rows"]&&u(p,h["!rows"]),p.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var A=y.s.r;A<=y.e.r;++A)for(var C=y.s.c;C<=y.e.c;++C){var S=Ft({r:A,c:C});v=w?(h[A]||[])[C]:h[S],!(!v||v.v==null&&(!v.f||v.F))&&x.push(c(v,h,A,C))}return p.join(j)+j+x.join(j)+j+"E"+j}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),HM=function(){function e(i,o){switch(o.type){case"base64":return t(Js(i),o);case"binary":return t(i,o);case"buffer":return t(Jt&&Buffer.isBuffer(i)?i.toString("binary"):mc(i),o);case"array":return t(pd(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var h=l[u].trim().split(","),m=h[0],p=h[1];++u;for(var x=l[u]||"";(x.match(/["]/g)||[]).length&1&&u<l.length-1;)x+=`
`+l[++u];switch(x=x.trim(),+m){case-1:if(x==="BOT"){f[++c]=[],d=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?f[c][d]=!0:x==="FALSE"?f[c][d]=!1:isNaN(Zi(p))?isNaN(xf(p).getDate())?f[c][d]=p:f[c][d]=Zr(p):f[c][d]=Zi(p),++d;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),f[c][d++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return qf(e(i,o),o)}function a(i,o){return pc(r(i,o),o)}var s=function(){var i=function(c,d,u,f,h){c.push(d),c.push(u+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=hr(c["!ref"]),f,h=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){o(d,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var x=Ft({r:m,c:p});if(f=h?(c[m]||[])[p]:c[x],!f){o(d,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?o(d,1,0,"="+f.f):o(d,1,0,""):o(d,0,y,"V");break;case"b":o(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ai(f.z||It[14],Kn(Zr(f.v)))),o(d,0,f.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var v=`\r
`,w=d.join(v);return w}}();return{to_workbook:a,to_sheet:r,from_sheet:s}}(),VM=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,x=-1,y=0,v=[];y!==m.length;++y){var w=m[y].trim().split(":");if(w[0]==="cell"){var j=on(w[1]);if(v.length<=j.r)for(p=v.length;p<=j.r;++p)v[p]||(v[p]=[]);switch(p=j.r,x=j.c,w[2]){case"t":v[p][x]=e(w[3]);break;case"v":v[p][x]=+w[3];break;case"vtf":var A=w[w.length-1];case"vtc":switch(w[3]){case"nl":v[p][x]=!!+w[4];break;default:v[p][x]=+w[4];break}w[2]=="vtf"&&(v[p][x]=[v[p][x],A])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function a(f,h){return qf(r(f,h),h)}function s(f,h){return pc(a(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,x="",y=As(f["!ref"]),v=Array.isArray(f),w=y.s.r;w<=y.e.r;++w)for(var j=y.s.c;j<=y.e.c;++j)if(x=Ft({r:w,c:j}),p=v?(f[w]||[])[j]:f[x],!(!p||p.v==null||p.t==="z")){switch(m=["cell",x,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var A=Kn(Zr(p.v));m[2]="vtc",m[3]="nd",m[4]=""+A,m[5]=p.w||Ai(p.z||It[14],A);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,o,l,o,d(f),c].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:u}}(),yf=function(){function e(u,f,h,m,p){p.raw?f[h][m]=u:u===""||(u==="TRUE"?f[h][m]=!0:u==="FALSE"?f[h][m]=!1:isNaN(Zi(u))?isNaN(xf(u).getDate())?f[h][m]=u:f[h][m]=Zr(u):f[h][m]=Zi(u))}function t(u,f){var h=f||{},m=[];if(!u||u.length===0)return m;for(var p=u.split(/[\r\n]/),x=p.length-1;x>=0&&p[x].length===0;)--x;for(var y=10,v=0,w=0;w<=x;++w)v=p[w].indexOf(" "),v==-1?v=p[w].length:v++,y=Math.max(y,v);for(w=0;w<=x;++w){m[w]=[];var j=0;for(e(p[w].slice(0,y).trim(),m,w,j,h),j=1;j<=(p[w].length-y)/10+1;++j)e(p[w].slice(y+(j-1)*10,y+j*10).trim(),m,w,j,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(u){for(var f={},h=!1,m=0,p=0;m<u.length;++m)(p=u.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=a;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(x,y){return x[0]-y[0]||a[x[1]]-a[y[1]]}),r[p.pop()[1]]||44}function i(u,f){var h=f||{},m="",p=h.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=s(u.slice(0,1024)):h&&h.FS?m=h.FS:m=s(u.slice(0,1024));var y=0,v=0,w=0,j=0,A=0,C=m.charCodeAt(0),S=!1,k=0,E=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?jwe(h.dateNF):null;function F(){var O=u.slice(j,A),P={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)P.t="z";else if(h.raw)P.t="s",P.v=O;else if(O.trim().length===0)P.t="s",P.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(P.t="s",P.v=O.slice(2,-1).replace(/""/g,'"')):Jke(O)?(P.t="n",P.f=O.slice(1)):(P.t="s",P.v=O);else if(O=="TRUE")P.t="b",P.v=!0;else if(O=="FALSE")P.t="b",P.v=!1;else if(!isNaN(w=Zi(O)))P.t="n",h.cellText!==!1&&(P.w=O),P.v=w;else if(!isNaN(xf(O).getDate())||T&&O.match(T)){P.z=h.dateNF||It[14];var W=0;T&&O.match(T)&&(O=Nwe(O,h.dateNF,O.match(T)||[]),W=1),h.cellDates?(P.t="d",P.v=Zr(O,W)):(P.t="n",P.v=Kn(Zr(O,W))),h.cellText!==!1&&(P.w=Ai(P.z,P.v instanceof Date?Kn(P.v):P.v)),h.cellNF||delete P.z}else P.t="s",P.v=O;if(P.t=="z"||(h.dense?(p[y]||(p[y]=[]),p[y][v]=P):p[Ft({c:v,r:y})]=P),j=A+1,E=u.charCodeAt(j),x.e.c<v&&(x.e.c=v),x.e.r<y&&(x.e.r=y),k==C)++v;else if(v=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;A<u.length;++A)switch(k=u.charCodeAt(A)){case 34:E===34&&(S=!S);break;case C:case 10:case 13:if(!S&&F())break e;break}return A-j>0&&F(),p["!ref"]=Vt(x),p}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):qf(t(u,f),f)}function l(u,f){var h="",m=f.type=="string"?[0,0,0,0]:Dk(u,f);switch(f.type){case"base64":h=Js(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Ml!="undefined"?h=Ml.utils.decode(f.codepage,u):h=Jt&&Buffer.isBuffer(u)?u.toString("binary"):mc(u);break;case"array":h=pd(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Fr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Fr(h):f.type=="binary"&&typeof Ml!="undefined"&&f.codepage&&(h=Ml.utils.decode(f.codepage,Ml.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?VM.to_sheet(f.type=="string"?h:Fr(h),f):o(h,f)}function c(u,f){return pc(l(u,f),f)}function d(u){for(var f=[],h=hr(u["!ref"]),m,p=Array.isArray(u),x=h.s.r;x<=h.e.r;++x){for(var y=[],v=h.s.c;v<=h.e.c;++v){var w=Ft({r:x,c:v});if(m=p?(u[x]||[])[v]:u[w],!m||m.v==null){y.push("          ");continue}for(var j=(m.w||(fl(m),m.w)||"").slice(0,10);j.length<10;)j+=" ";y.push(j+(v===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}();function M2e(e,t){var r=t||{},a=!!r.WTF;r.WTF=!0;try{var s=zM.to_workbook(e,r);return r.WTF=a,s}catch(i){if(r.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return yf.to_workbook(e,t)}}var ad=function(){function e(G,K,Z){if(G){Na(G,G.l||0);for(var I=Z.Enum||de;G.l<G.length;){var V=G.read_shift(2),te=I[V]||I[65535],R=G.read_shift(2),U=G.l+R,Q=te.f&&te.f(G,R,Z);if(G.l=U,K(Q,te,V))return}}}function t(G,K){switch(K.type){case"base64":return r(Ws(Js(G)),K);case"binary":return r(Ws(G),K);case"buffer":case"array":return r(G,K)}throw"Unsupported type "+K.type}function r(G,K){if(!G)return G;var Z=K||{},I=Z.dense?[]:{},V="Sheet1",te="",R=0,U={},Q=[],J=[],L={s:{r:0,c:0},e:{r:0,c:0}},he=Z.sheetRows||0;if(G[2]==0&&(G[3]==8||G[3]==9)&&G.length>=16&&G[14]==5&&G[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(G[2]==2)Z.Enum=de,e(G,function(xe,Te,Ue){switch(Ue){case 0:Z.vers=xe,xe>=4096&&(Z.qpro=!0);break;case 6:L=xe;break;case 204:xe&&(te=xe);break;case 222:te=xe;break;case 15:case 51:Z.qpro||(xe[1].v=xe[1].v.slice(1));case 13:case 14:case 16:Ue==14&&(xe[2]&112)==112&&(xe[2]&15)>1&&(xe[2]&15)<15&&(xe[1].z=Z.dateNF||It[14],Z.cellDates&&(xe[1].t="d",xe[1].v=_b(xe[1].v))),Z.qpro&&xe[3]>R&&(I["!ref"]=Vt(L),U[V]=I,Q.push(V),I=Z.dense?[]:{},L={s:{r:0,c:0},e:{r:0,c:0}},R=xe[3],V=te||"Sheet"+(R+1),te="");var tt=Z.dense?(I[xe[0].r]||[])[xe[0].c]:I[Ft(xe[0])];if(tt){tt.t=xe[1].t,tt.v=xe[1].v,xe[1].z!=null&&(tt.z=xe[1].z),xe[1].f!=null&&(tt.f=xe[1].f);break}Z.dense?(I[xe[0].r]||(I[xe[0].r]=[]),I[xe[0].r][xe[0].c]=xe[1]):I[Ft(xe[0])]=xe[1];break}},Z);else if(G[2]==26||G[2]==14)Z.Enum=le,G[2]==14&&(Z.qpro=!0,G.l=0),e(G,function(xe,Te,Ue){switch(Ue){case 204:V=xe;break;case 22:xe[1].v=xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xe[3]>R&&(I["!ref"]=Vt(L),U[V]=I,Q.push(V),I=Z.dense?[]:{},L={s:{r:0,c:0},e:{r:0,c:0}},R=xe[3],V="Sheet"+(R+1)),he>0&&xe[0].r>=he)break;Z.dense?(I[xe[0].r]||(I[xe[0].r]=[]),I[xe[0].r][xe[0].c]=xe[1]):I[Ft(xe[0])]=xe[1],L.e.c<xe[0].c&&(L.e.c=xe[0].c),L.e.r<xe[0].r&&(L.e.r=xe[0].r);break;case 27:xe[14e3]&&(J[xe[14e3][0]]=xe[14e3][1]);break;case 1537:J[xe[0]]=xe[1],xe[0]==R&&(V=xe[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+G[2]);if(I["!ref"]=Vt(L),U[te||V]=I,Q.push(te||V),!J.length)return{SheetNames:Q,Sheets:U};for(var ge={},Ae=[],Ee=0;Ee<J.length;++Ee)U[Q[Ee]]?(Ae.push(J[Ee]||Q[Ee]),ge[J[Ee]]=U[J[Ee]]||U[Q[Ee]]):(Ae.push(J[Ee]),ge[J[Ee]]={"!ref":"A1"});return{SheetNames:Ae,Sheets:ge}}function a(G,K){var Z=K||{};if(+Z.codepage>=0&&qi(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var I=ks(),V=hr(G["!ref"]),te=Array.isArray(G),R=[];rt(I,0,i(1030)),rt(I,6,c(V));for(var U=Math.min(V.e.r,8191),Q=V.s.r;Q<=U;++Q)for(var J=Sn(Q),L=V.s.c;L<=V.e.c;++L){Q===V.s.r&&(R[L]=sn(L));var he=R[L]+J,ge=te?(G[Q]||[])[L]:G[he];if(!(!ge||ge.t=="z"))if(ge.t=="n")(ge.v|0)==ge.v&&ge.v>=-32768&&ge.v<=32767?rt(I,13,m(Q,L,ge.v)):rt(I,14,x(Q,L,ge.v));else{var Ae=fl(ge);rt(I,15,f(Q,L,Ae.slice(0,239)))}}return rt(I,1),I.end()}function s(G,K){var Z=K||{};if(+Z.codepage>=0&&qi(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var I=ks();rt(I,0,o(G));for(var V=0,te=0;V<G.SheetNames.length;++V)(G.Sheets[G.SheetNames[V]]||{})["!ref"]&&rt(I,27,X(G.SheetNames[V],te++));var R=0;for(V=0;V<G.SheetNames.length;++V){var U=G.Sheets[G.SheetNames[V]];if(!(!U||!U["!ref"])){for(var Q=hr(U["!ref"]),J=Array.isArray(U),L=[],he=Math.min(Q.e.r,8191),ge=Q.s.r;ge<=he;++ge)for(var Ae=Sn(ge),Ee=Q.s.c;Ee<=Q.e.c;++Ee){ge===Q.s.r&&(L[Ee]=sn(Ee));var xe=L[Ee]+Ae,Te=J?(U[ge]||[])[Ee]:U[xe];if(!(!Te||Te.t=="z"))if(Te.t=="n")rt(I,23,F(ge,Ee,R,Te.v));else{var Ue=fl(Te);rt(I,22,k(ge,Ee,R,Ue.slice(0,239)))}}++R}}return rt(I,1),I.end()}function i(G){var K=Le(2);return K.write_shift(2,G),K}function o(G){var K=Le(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var Z=0,I=0,V=0,te=0;te<G.SheetNames.length;++te){var R=G.SheetNames[te],U=G.Sheets[R];if(!(!U||!U["!ref"])){++V;var Q=As(U["!ref"]);Z<Q.e.r&&(Z=Q.e.r),I<Q.e.c&&(I=Q.e.c)}}return Z>8191&&(Z=8191),K.write_shift(2,Z),K.write_shift(1,V),K.write_shift(1,I),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function l(G,K,Z){var I={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&Z.qpro?(I.s.c=G.read_shift(1),G.l++,I.s.r=G.read_shift(2),I.e.c=G.read_shift(1),G.l++,I.e.r=G.read_shift(2),I):(I.s.c=G.read_shift(2),I.s.r=G.read_shift(2),K==12&&Z.qpro&&(G.l+=2),I.e.c=G.read_shift(2),I.e.r=G.read_shift(2),K==12&&Z.qpro&&(G.l+=2),I.s.c==65535&&(I.s.c=I.e.c=I.s.r=I.e.r=0),I)}function c(G){var K=Le(8);return K.write_shift(2,G.s.c),K.write_shift(2,G.s.r),K.write_shift(2,G.e.c),K.write_shift(2,G.e.r),K}function d(G,K,Z){var I=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(I[0].c=G.read_shift(1),I[3]=G.read_shift(1),I[0].r=G.read_shift(2),G.l+=2):(I[2]=G.read_shift(1),I[0].c=G.read_shift(2),I[0].r=G.read_shift(2)),I}function u(G,K,Z){var I=G.l+K,V=d(G,K,Z);if(V[1].t="s",Z.vers==20768){G.l++;var te=G.read_shift(1);return V[1].v=G.read_shift(te,"utf8"),V}return Z.qpro&&G.l++,V[1].v=G.read_shift(I-G.l,"cstr"),V}function f(G,K,Z){var I=Le(7+Z.length);I.write_shift(1,255),I.write_shift(2,K),I.write_shift(2,G),I.write_shift(1,39);for(var V=0;V<I.length;++V){var te=Z.charCodeAt(V);I.write_shift(1,te>=128?95:te)}return I.write_shift(1,0),I}function h(G,K,Z){var I=d(G,K,Z);return I[1].v=G.read_shift(2,"i"),I}function m(G,K,Z){var I=Le(7);return I.write_shift(1,255),I.write_shift(2,K),I.write_shift(2,G),I.write_shift(2,Z,"i"),I}function p(G,K,Z){var I=d(G,K,Z);return I[1].v=G.read_shift(8,"f"),I}function x(G,K,Z){var I=Le(13);return I.write_shift(1,255),I.write_shift(2,K),I.write_shift(2,G),I.write_shift(8,Z,"f"),I}function y(G,K,Z){var I=G.l+K,V=d(G,K,Z);if(V[1].v=G.read_shift(8,"f"),Z.qpro)G.l=I;else{var te=G.read_shift(2);A(G.slice(G.l,G.l+te),V),G.l+=te}return V}function v(G,K,Z){var I=K&32768;return K&=-32769,K=(I?G:0)+(K>=8192?K-16384:K),(I?"":"$")+(Z?sn(K):Sn(K))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(G,K){Na(G,0);for(var Z=[],I=0,V="",te="",R="",U="";G.l<G.length;){var Q=G[G.l++];switch(Q){case 0:Z.push(G.read_shift(8,"f"));break;case 1:te=v(K[0].c,G.read_shift(2),!0),V=v(K[0].r,G.read_shift(2),!1),Z.push(te+V);break;case 2:{var J=v(K[0].c,G.read_shift(2),!0),L=v(K[0].r,G.read_shift(2),!1);te=v(K[0].c,G.read_shift(2),!0),V=v(K[0].r,G.read_shift(2),!1),Z.push(J+L+":"+te+V)}break;case 3:if(G.l<G.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(G.read_shift(2));break;case 6:{for(var he="";Q=G[G.l++];)he+=String.fromCharCode(Q);Z.push('"'+he.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:U=Z.pop(),R=Z.pop(),Z.push(["AND","OR"][Q-20]+"("+R+","+U+")");break;default:if(Q<32&&j[Q])U=Z.pop(),R=Z.pop(),Z.push(R+j[Q]+U);else if(w[Q]){if(I=w[Q][1],I==69&&(I=G[G.l++]),I>Z.length){console.error("WK1 bad formula parse 0x"+Q.toString(16)+":|"+Z.join("|")+"|");return}var ge=Z.slice(-I);Z.length-=I,Z.push(w[Q][0]+"("+ge.join(",")+")")}else return Q<=7?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=24?console.error("WK1 unsupported op "+Q.toString(16)):Q<=30?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=115?console.error("WK1 unsupported function opcode "+Q.toString(16)):console.error("WK1 unrecognized opcode "+Q.toString(16))}}Z.length==1?K[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function C(G){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=G.read_shift(2),K[3]=G[G.l++],K[0].c=G[G.l++],K}function S(G,K){var Z=C(G);return Z[1].t="s",Z[1].v=G.read_shift(K-4,"cstr"),Z}function k(G,K,Z,I){var V=Le(6+I.length);V.write_shift(2,G),V.write_shift(1,Z),V.write_shift(1,K),V.write_shift(1,39);for(var te=0;te<I.length;++te){var R=I.charCodeAt(te);V.write_shift(1,R>=128?95:R)}return V.write_shift(1,0),V}function E(G,K){var Z=C(G);Z[1].v=G.read_shift(2);var I=Z[1].v>>1;if(Z[1].v&1)switch(I&7){case 0:I=(I>>3)*5e3;break;case 1:I=(I>>3)*500;break;case 2:I=(I>>3)/20;break;case 3:I=(I>>3)/200;break;case 4:I=(I>>3)/2e3;break;case 5:I=(I>>3)/2e4;break;case 6:I=(I>>3)/16;break;case 7:I=(I>>3)/64;break}return Z[1].v=I,Z}function T(G,K){var Z=C(G),I=G.read_shift(4),V=G.read_shift(4),te=G.read_shift(2);if(te==65535)return I===0&&V===3221225472?(Z[1].t="e",Z[1].v=15):I===0&&V===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var R=te&32768;return te=(te&32767)-16446,Z[1].v=(1-R*2)*(V*Math.pow(2,te+32)+I*Math.pow(2,te)),Z}function F(G,K,Z,I){var V=Le(14);if(V.write_shift(2,G),V.write_shift(1,Z),V.write_shift(1,K),I==0)return V.write_shift(4,0),V.write_shift(4,0),V.write_shift(2,65535),V;var te=0,R=0,U=0,Q=0;return I<0&&(te=1,I=-I),R=Math.log2(I)|0,I/=Math.pow(2,R-31),Q=I>>>0,Q&2147483648||(I/=2,++R,Q=I>>>0),I-=Q,Q|=2147483648,Q>>>=0,I*=Math.pow(2,32),U=I>>>0,V.write_shift(4,U),V.write_shift(4,Q),R+=16383+(te?32768:0),V.write_shift(2,R),V}function O(G,K){var Z=T(G);return G.l+=K-14,Z}function P(G,K){var Z=C(G),I=G.read_shift(4);return Z[1].v=I>>6,Z}function W(G,K){var Z=C(G),I=G.read_shift(8,"f");return Z[1].v=I,Z}function q(G,K){var Z=W(G);return G.l+=K-10,Z}function D(G,K){return G[G.l+K-1]==0?G.read_shift(K,"cstr"):""}function M(G,K){var Z=G[G.l++];Z>K-1&&(Z=K-1);for(var I="";I.length<Z;)I+=String.fromCharCode(G[G.l++]);return I}function H(G,K,Z){if(!(!Z.qpro||K<21)){var I=G.read_shift(1);G.l+=17,G.l+=1,G.l+=2;var V=G.read_shift(K-21,"cstr");return[I,V]}}function ee(G,K){for(var Z={},I=G.l+K;G.l<I;){var V=G.read_shift(2);if(V==14e3){for(Z[V]=[0,""],Z[V][0]=G.read_shift(2);G[G.l];)Z[V][1]+=String.fromCharCode(G[G.l]),G.l++;G.l++}}return Z}function X(G,K){var Z=Le(5+G.length);Z.write_shift(2,14e3),Z.write_shift(2,K);for(var I=0;I<G.length;++I){var V=G.charCodeAt(I);Z[Z.l++]=V>127?95:V}return Z[Z.l++]=0,Z}var de={0:{n:"BOF",f:Tn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:D},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ee},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:D},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:t}}();function L2e(e){var t={},r=e.match(Ga),a=0,s=!1;if(r)for(;a!=r.length;++a){var i=Dt(r[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=ZS[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return t}var $2e=function(){var e=E0("t"),t=E0("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:ur(o[1])},c=i.match(t);return c&&(l.s=L2e(c[1])),l}var a=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(o){return o.replace(a,"").split(s).map(r).filter(function(l){return l.v})}}(),B2e=function(){var t=/(\r\n|\n)/g;function r(s,i,o){var l=[];s.u&&l.push("text-decoration: underline;"),s.uval&&l.push("text-underline-style:"+s.uval+";"),s.sz&&l.push("font-size:"+s.sz+"pt;"),s.outline&&l.push("text-effect: outline;"),s.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),s.b&&(i.push("<b>"),o.push("</b>")),s.i&&(i.push("<i>"),o.push("</i>")),s.strike&&(i.push("<s>"),o.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),s}function a(s){var i=[[],s.v,[]];return s.v?(s.s&&r(s.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}}(),U2e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,W2e=/<(?:\w+:)?r>/,z2e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function jk(e,t){var r=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=ur(Fr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=Fr(e),r&&(a.h=lk(a.t))):e.match(W2e)&&(a.r=Fr(e),a.t=ur(Fr((e.replace(z2e,"").match(U2e)||[]).join("").replace(Ga,""))),r&&(a.h=B2e($2e(a.r)))),a):{t:""}}var H2e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,V2e=/<(?:\w+:)?(?:si|sstItem)>/g,G2e=/<\/(?:\w+:)?(?:si|sstItem)>/;function q2e(e,t){var r=[],a="";if(!e)return r;var s=e.match(H2e);if(s){a=s[2].replace(V2e,"").split(G2e);for(var i=0;i!=a.length;++i){var o=jk(a[i].trim(),t);o!=null&&(r[r.length]=o)}s=Dt(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}var K2e=/^\s|\s$|[\t\n\r]/;function GM(e,t){if(!t.bookSST)return"";var r=[kn];r[r.length]=et("sst",null,{xmlns:Rd[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var s=e[a],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(K2e)&&(i+=' xml:space="preserve"'),i+=">"+Er(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function X2e(e){return[e.read_shift(4),e.read_shift(4)]}function Y2e(e,t){var r=[],a=!1;return yl(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T,!a||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function J2e(e,t){return t||(t=Le(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Z2e=lje;function Q2e(e){var t=ks();Ge(t,159,J2e(e));for(var r=0;r<e.length;++r)Ge(t,19,Z2e(e[r]));return Ge(t,160),t.end()}function qM(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function nl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function eSe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=nl(e,4),t.U=nl(e,4),t.W=nl(e,4),t}function tSe(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},s=e.read_shift(4),i=[];s-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}function rSe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(tSe(e));return t}function nSe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function aSe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=nl(e,4),t.U=nl(e,4),t.W=nl(e,4),t}function sSe(e){var t=aSe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function KM(e,t){var r=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var s=!1;switch(a.AlgID){case 26126:case 26127:case 26128:s=a.Flags==36;break;case 26625:s=a.Flags==4;break;case 0:s=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function XM(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function iSe(e){var t=nl(e);switch(t.Minor){case 2:return[t.Minor,oSe(e)];case 3:return[t.Minor,lSe()];case 4:return[t.Minor,cSe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function oSe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),a=KM(e,r),s=XM(e,e.length-e.l);return{t:"Std",h:a,v:s}}function lSe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function cSe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),a={};return r.replace(Ga,function(i){var o=Dt(i);switch(Eo(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){a[l]=o[l]});break;case"<dataIntegrity":a.encryptedHmacKey=o.encryptedHmacKey,a.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(o);break;default:throw o[0]}}),a}function dSe(e,t){var r={},a=r.EncryptionVersionInfo=nl(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var s=e.read_shift(4);return t-=4,r.EncryptionHeader=KM(e,s),t-=s,r.EncryptionVerifier=XM(e,t),r}function uSe(e){var t={},r=t.EncryptionVersionInfo=nl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Nk(e){var t=0,r,a=qM(e),s=a.length+1,i,o,l,c,d;for(r=rc(s),r[0]=a.length,i=1;i!=s;++i)r[i]=a[i-1];for(i=s-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var YM=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(o){return(o/2|o*128)&255},s=function(o,l){return a(o^l)},i=function(o){for(var l=t[o.length-1],c=104,d=o.length-1;d>=0;--d)for(var u=o[d],f=0;f!=7;++f)u&64&&(l^=r[c]),u*=2,--c;return l};return function(o){for(var l=qM(o),c=i(l),d=l.length,u=rc(16),f=0;f!=16;++f)u[f]=0;var h,m,p;for((d&1)===1&&(h=c>>8,u[d]=s(e[0],h),--d,h=c&255,m=l[l.length-1],u[d]=s(m,h));d>0;)--d,h=c>>8,u[d]=s(l[d],h),--d,h=c&255,u[d]=s(l[d],h);for(d=15,p=15-l.length;p>0;)h=c>>8,u[d]=s(e[p],h),--d,--p,h=c&255,u[d]=s(l[d],h),--d,--p;return u}}(),fSe=function(e,t,r,a,s){s||(s=t),a||(a=YM(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=a[r],o=(o>>5|o<<3)&255,s[i]=o,++r;return[s,r,a]},hSe=function(e){var t=0,r=YM(e);return function(a){var s=fSe("",a,t,r);return t=s[1],s[0]}};function mSe(e,t,r,a){var s={key:Tn(e),verificationBytes:Tn(e)};return r.password&&(s.verifier=Nk(r.password)),a.valid=s.verificationBytes===s.verifier,a.valid&&(a.insitu=hSe(r.password)),s}function pSe(e,t,r){var a=r||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=uSe(e):a.Data=dSe(e,t),a}function gSe(e,t,r){var a={Type:r.biff>=8?e.read_shift(2):0};return a.Type?pSe(e,t-2,a):mSe(e,r.biff>=8?t:t-2,r,a),a}var JM=function(){function e(s,i){switch(i.type){case"base64":return t(Js(s),i);case"binary":return t(s,i);case"buffer":return t(Jt&&Buffer.isBuffer(s)?s.toString("binary"):mc(s),i);case"array":return t(pd(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var o=i||{},l=o.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,p,x=-1;p=h.exec(u);){switch(p[0]){case"\\cell":var y=u.slice(m,h.lastIndex-p[0].length);if(y[0]==" "&&(y=y.slice(1)),++x,y.length){var v={v:y,t:"s"};Array.isArray(l)?l[f][x]=v:l[Ft({r:f,c:x})]=v}break}m=h.lastIndex}x>d.e.c&&(d.e.c=x)}),l["!ref"]=Vt(d),l}function r(s,i){return pc(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],o=hr(s["!ref"]),l,c=Array.isArray(s),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Ft({r:d,c:u});l=c?(s[d]||[])[u]:s[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(fl(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function xSe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function I0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function ySe(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,s=Math.max(t,r,a),i=Math.min(t,r,a),o=s-i;if(o===0)return[0,0,t];var l=0,c=0,d=s+i;switch(c=o/(d>1?2-d:d),s){case t:l=((r-a)/o+6)%6;break;case r:l=(a-t)/o+2;break;case a:l=(t-r)/o+4;break}return[l/6,c,d/2]}function vSe(e){var t=e[0],r=e[1],a=e[2],s=r*2*(a<.5?a:1-a),i=a-s/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=s*l,o[0]+=s,o[1]+=c;break;case 1:c=s*(2-l),o[0]+=c,o[1]+=s;break;case 2:c=s*(l-2),o[1]+=s,o[2]+=c;break;case 3:c=s*(4-l),o[1]+=c,o[2]+=s;break;case 4:c=s*(l-4),o[2]+=s,o[0]+=c;break;case 5:c=s*(6-l),o[2]+=c,o[0]+=s;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function iv(e,t){if(t===0)return e;var r=ySe(xSe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),I0(vSe(r))}var ZM=6,bSe=15,wSe=1,$a=ZM;function F0(e){return Math.floor((e+Math.round(128/$a)/256)*$a)}function D0(e){return Math.floor((e-5)/$a*100+.5)/100}function ov(e){return Math.round((e*$a+5)/$a*256)/256}function Rw(e){return ov(D0(F0(e)))}function Sk(e){var t=Math.abs(e-Rw(e)),r=$a;if(t>.005)for($a=wSe;$a<bSe;++$a)Math.abs(e-Rw(e))<=t&&(t=Math.abs(e-Rw(e)),r=$a);$a=r}function nc(e){e.width?(e.wpx=F0(e.width),e.wch=D0(e.wpx),e.MDW=$a):e.wpx?(e.wch=D0(e.wpx),e.width=ov(e.wch),e.MDW=$a):typeof e.wch=="number"&&(e.width=ov(e.wch),e.wpx=F0(e.width),e.MDW=$a),e.customWidth&&delete e.customWidth}var jSe=96,QM=jSe;function R0(e){return e*96/QM}function vf(e){return e*QM/96}var NSe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function SSe(e,t,r,a){t.Borders=[];var s={},i=!1;(e[0].match(Ga)||[]).forEach(function(o){var l=Dt(o);switch(Eo(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},l.diagonalUp&&(s.diagonalUp=Jr(l.diagonalUp)),l.diagonalDown&&(s.diagonalDown=Jr(l.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function kSe(e,t,r,a){t.Fills=[];var s={},i=!1;(e[0].match(Ga)||[]).forEach(function(o){var l=Dt(o);switch(Eo(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":l.patternType&&(s.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),l.indexed&&(s.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(s.bgColor.theme=parseInt(l.theme,10)),l.tint&&(s.bgColor.tint=parseFloat(l.tint)),l.rgb&&(s.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),l.theme&&(s.fgColor.theme=parseInt(l.theme,10)),l.tint&&(s.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(s.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function CSe(e,t,r,a){t.Fonts=[];var s={},i=!1;(e[0].match(Ga)||[]).forEach(function(o){var l=Dt(o);switch(Eo(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":l.val&&(s.name=Fr(l.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=l.val?Jr(l.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=l.val?Jr(l.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(l.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=l.val?Jr(l.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=l.val?Jr(l.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=l.val?Jr(l.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=l.val?Jr(l.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=l.val?Jr(l.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":l.val&&(s.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(s.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(s.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(s.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=ZS[parseInt(l.val,10)];break;case"<color":if(s.color||(s.color={}),l.auto&&(s.color.auto=Jr(l.auto)),l.rgb)s.color.rgb=l.rgb.slice(-6);else if(l.indexed){s.color.index=parseInt(l.indexed,10);var c=rd[s.color.index];s.color.index==81&&(c=rd[1]),c||(c=rd[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(s.color.theme=parseInt(l.theme,10),l.tint&&(s.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=iv(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function ASe(e,t,r){t.NumberFmt=[];for(var a=pn(It),s=0;s<a.length;++s)t.NumberFmt[a[s]]=It[a[s]];var i=e[0].match(Ga);if(i)for(s=0;s<i.length;++s){var o=Dt(i[s]);switch(Eo(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=ur(Fr(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}rl(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function _Se(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=et("numFmt",null,{numFmtId:a,formatCode:Er(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=et("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var cx=["numFmtId","fillId","fontId","borderId","xfId"],dx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function ESe(e,t,r){t.CellXf=[];var a,s=!1;(e[0].match(Ga)||[]).forEach(function(i){var o=Dt(i),l=0;switch(Eo(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=o,delete a[0],l=0;l<cx.length;++l)a[cx[l]]&&(a[cx[l]]=parseInt(a[cx[l]],10));for(l=0;l<dx.length;++l)a[dx[l]]&&(a[dx[l]]=Jr(a[dx[l]]));if(t.NumberFmt&&a.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[l]){a.numFmtId=l;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Jr(o.wrapText)),a.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function TSe(e){var t=[];return t[t.length]=et("cellXfs",null),e.forEach(function(r){t[t.length]=et("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=et("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var OSe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&ASe(f,u,d),(f=l.match(s))&&CSe(f,u,c,d),(f=l.match(a))&&kSe(f,u,c,d),(f=l.match(i))&&SSe(f,u,c,d),(f=l.match(r))&&ESe(f,u,d),u}}();function eL(e,t){var r=[kn,et("styleSheet",null,{xmlns:Rd[0],"xmlns:vt":Hn.vt})],a;return e.SSF&&(a=_Se(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=TSe(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function PSe(e,t){var r=e.read_shift(2),a=za(e);return[r,a]}function ISe(e,t,r){r||(r=Le(6+4*t.length)),r.write_shift(2,e),da(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function FSe(e,t,r){var a={};a.sz=e.read_shift(2)/20;var s=pje(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var l=e.read_shift(1);l>0&&(a.family=l);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=mje(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=za(e),a}function DSe(e,t){t||(t=Le(25+4*32)),t.write_shift(2,e.sz*20),gje(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),nv(e.color,t);var a=0;return e.scheme=="major"&&(a=1),e.scheme=="minor"&&(a=2),t.write_shift(1,a),da(e.name,t),t.length>t.l?t.slice(0,t.l):t}var RSe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Mw,MSe=Va;function A3(e,t){t||(t=Le(4*3+8*7+16*1)),Mw||(Mw=Cb(RSe));var r=Mw[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(nv({auto:1},t),nv({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function LSe(e,t){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:s}}function tL(e,t,r){r||(r=Le(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Jh(e,t){return t||(t=Le(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var $Se=Va;function BSe(e,t){return t||(t=Le(51)),t.write_shift(1,0),Jh(null,t),Jh(null,t),Jh(null,t),Jh(null,t),Jh(null,t),t.length>t.l?t.slice(0,t.l):t}function USe(e,t){return t||(t=Le(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),rv(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function WSe(e,t,r){var a=Le(2052);return a.write_shift(4,e),rv(t,a),rv(r,a),a.length>a.l?a.slice(0,a.l):a}function zSe(e,t,r){var a={};a.NumberFmt=[];for(var s in It)a.NumberFmt[s]=It[s];a.CellXf=[],a.Fonts=[];var i=[],o=!1;return yl(e,function(c,d,u){switch(u){case 44:a.NumberFmt[c[0]]=c[1],rl(c[1],c[0]);break;case 43:a.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=iv(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(u),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),a}function HSe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&++r}),r!=0&&(Ge(e,615,Qi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&Ge(e,44,ISe(s,t[s]))}),Ge(e,616))}}function VSe(e){var t=1;Ge(e,611,Qi(t)),Ge(e,43,DSe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ge(e,612)}function GSe(e){var t=2;Ge(e,603,Qi(t)),Ge(e,45,A3({patternType:"none"})),Ge(e,45,A3({patternType:"gray125"})),Ge(e,604)}function qSe(e){var t=1;Ge(e,613,Qi(t)),Ge(e,46,BSe()),Ge(e,614)}function KSe(e){var t=1;Ge(e,626,Qi(t)),Ge(e,47,tL({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ge(e,627)}function XSe(e,t){Ge(e,617,Qi(t.length)),t.forEach(function(r){Ge(e,47,tL(r,0))}),Ge(e,618)}function YSe(e){var t=1;Ge(e,619,Qi(t)),Ge(e,48,USe({xfId:0,builtinId:0,name:"Normal"})),Ge(e,620)}function JSe(e){var t=0;Ge(e,505,Qi(t)),Ge(e,506)}function ZSe(e){var t=0;Ge(e,508,WSe(t,"TableStyleMedium9","PivotStyleMedium4")),Ge(e,509)}function QSe(e,t){var r=ks();return Ge(r,278),HSe(r,e.SSF),VSe(r),GSe(r),qSe(r),KSe(r),XSe(r,t.cellXfs),YSe(r),JSe(r),ZSe(r),Ge(r,279),r.end()}var eke=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function tke(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(Ga)||[]).forEach(function(s){var i=Dt(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[eke.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function rke(){}function nke(){}var ake=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ske=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,ike=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function oke(e,t,r){t.themeElements={};var a;[["clrScheme",ake,tke],["fontScheme",ske,rke],["fmtScheme",ike,nke]].forEach(function(s){if(!(a=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](a,t,r)})}var lke=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function rL(e,t){(!e||e.length===0)&&(e=kk());var r,a={};if(!(r=e.match(lke)))throw new Error("themeElements not found in theme");return oke(r[0],a,t),a.raw=e,a}function kk(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[kn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function cke(e,t,r){var a=e.l+t,s=e.read_shift(4);if(s!==124226){if(!r.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var o;try{o=KR(i,{type:"array"})}catch(c){return}var l=zs(o,"theme/theme/theme1.xml",!0);if(l)return rL(l,r)}}function dke(e){return e.read_shift(4)}function uke(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=fke(e,4);break;case 2:t.xclrValue=DM(e);break;case 3:t.xclrValue=dke(e);break;case 4:e.l+=4;break}return e.l+=8,t}function fke(e,t){return Va(e,t)}function hke(e,t){return Va(e,t)}function mke(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=uke(e);break;case 6:a[1]=hke(e,r);break;case 14:case 15:a[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return a}function pke(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),i=[];s-- >0;)i.push(mke(e,r-e.l));return{ixfe:a,ext:i}}function gke(e,t){t.forEach(function(r){switch(r[0]){}})}function xke(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:za(e)}}function yke(e){var t=Le(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),da(e.name,t),t.slice(0,t.l)}function vke(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function bke(e){var t=Le(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function wke(e,t){var r=Le(8+2*t.length);return r.write_shift(4,e),da(t,r),r.slice(0,r.l)}function jke(e){return e.l+=4,e.read_shift(4)!=0}function Nke(e,t){var r=Le(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Ske(e,t,r){var a={Types:[],Cell:[],Value:[]},s=r||{},i=[],o=!1,l=2;return yl(e,function(c,d,u){switch(u){case 335:a.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?a.Cell.push({type:a.Types[f[0]-1].name,index:f[1]}):l==0&&a.Value.push({type:a.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),a}function kke(){var e=ks();return Ge(e,332),Ge(e,334,Qi(1)),Ge(e,335,yke({name:"XLDAPR",version:12e4,flags:3496657072})),Ge(e,336),Ge(e,339,wke(1,"XLDAPR")),Ge(e,52),Ge(e,35,Qi(514)),Ge(e,4096,Qi(0)),Ge(e,4097,pi(1)),Ge(e,36),Ge(e,53),Ge(e,340),Ge(e,337,Nke(1)),Ge(e,51,bke([[1,0]])),Ge(e,338),Ge(e,333),e.end()}function Cke(e,t,r){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var s=!1,i=2,o;return e.replace(Ga,function(l){var c=Dt(l);switch(Eo(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==c.name&&(o=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[c.t-1].name,index:+c.v}):i==0&&a.Value.push({type:a.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),a}function nL(){var e=[kn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Ake(e){var t=[];if(!e)return t;var r=1;return(e.match(Ga)||[]).forEach(function(a){var s=Dt(a);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?r=s.i:s.i=r,t.push(s);break}}),t}function _ke(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ft(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function Eke(e,t,r){var a=[];return yl(e,function(i,o,l){switch(l){case 63:a.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),a}function Tke(e,t,r,a){if(!e)return e;var s=a||{},i=!1;yl(e,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},s)}function Oke(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Eu=1024;function aL(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[et("xml",null,{"xmlns:v":$s.v,"xmlns:o":$s.o,"xmlns:x":$s.x,"xmlns:mv":$s.mv}).replace(/\/>/,">"),et("o:shapelayout",et("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),et("v:shapetype",[et("v:stroke",null,{joinstyle:"miter"}),et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Eu<e*1e3;)Eu+=1e3;return t.forEach(function(i){var o=on(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=et("v:fill",c,l),u={on:"t",obscured:"t"};++Eu,s=s.concat(["<v:shape"+T0({id:"_x0000_s"+Eu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,et("v:shadow",null,u),et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Sa("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Sa("x:AutoFill","False"),Sa("x:Row",String(o.r)),Sa("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function _3(e,t,r,a){var s=Array.isArray(e),i;t.forEach(function(o){var l=on(o.ref);if(s?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},s?e[l.r][l.c]=i:e[o.ref]=i;var c=hr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=Vt(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var u={a:o.author,t:o.t,r:o.r,T:r};o.h&&(u.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&a){for(f=0;f<a.length;++f)if(u.a==a[f].id){u.a=a[f].name||u.a;break}}i.c.push(u)})}function Pke(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Dt(l[0]),d={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=on(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&jk(f[1])||{r:"",t:"",h:""};d.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),d.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=h.h),a.push(d)}}}}),a}function sL(e){var t=[kn,et("comments",null,{xmlns:Rd[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(s){var i=Er(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var s=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?s=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(s=r.indexOf(Er(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(Sa("t",Er(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Sa("t",Er(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Ike(e,t){var r=[],a=!1,s={},i=0;return e.replace(Ga,function(l,c){var d=Dt(l);switch(Eo(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":s.t!=null&&r.push(s);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":s.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),r}function Fke(e,t,r){var a=[kn,et("ThreadedComments",null,{xmlns:Hn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(et("threadedComment",Sa("text",o.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function Dke(e,t){var r=[],a=!1;return e.replace(Ga,function(i){var o=Dt(i);switch(Eo(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function Rke(e){var t=[kn,et("personList",null,{xmlns:Hn.TCMNT,"xmlns:x":Rd[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(et("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Mke(e){var t={};t.iauthor=e.read_shift(4);var r=Bd(e);return t.rfx=r.s,t.ref=Ft(r.s),e.l+=16,t}function Lke(e,t){return t==null&&(t=Le(36)),t.write_shift(4,e[1].iauthor),Kf(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var $ke=za;function Bke(e){return da(e.slice(0,54))}function Uke(e,t){var r=[],a=[],s={},i=!1;return yl(e,function(l,c,d){switch(d){case 632:a.push(l);break;case 635:s=l;break;case 637:s.t=l.t,s.h=l.h,s.r=l.r;break;case 636:if(s.author=a[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function Wke(e){var t=ks(),r=[];return Ge(t,628),Ge(t,630),e.forEach(function(a){a[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Ge(t,632,Bke(s.a)))})}),Ge(t,631),Ge(t,633),e.forEach(function(a){a[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:on(a[0]),e:on(a[0])};Ge(t,635,Lke([i,s])),s.t&&s.t.length>0&&Ge(t,637,dje(s)),Ge(t,636),delete s.iauthor})}),Ge(t,634),Ge(t,629),t.end()}var zke="application/vnd.ms-office.vbaProject";function Hke(e){var t=kt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");kt.utils.cfb_add(t,s,e.FileIndex[a].content)}}),kt.write(t)}function Vke(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&kt.utils.cfb_add(e,s,t.FileIndex[a].content)}})}var iL=["xlsb","xlsm","xlam","biff8","xla"];function Gke(){return{"!type":"dialog"}}function qke(){return{"!type":"dialog"}}function Kke(){return{"!type":"macro"}}function Xke(){return{"!type":"macro"}}var Lu=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,s,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,s+(l?"":"$")+sn(u)+(c?"":"$")+Sn(d)}return function(s,i){return t=i,s.replace(e,r)}}(),Ck=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ak=function(){return function(t,r){return t.replace(Ck,function(a,s,i,o,l,c){var d=hk(o)-(i?0:r.c),u=fk(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",h=d==0?"":i?d+1:"["+d+"]";return s+"R"+f+"C"+h})}}();function oL(e,t){return e.replace(Ck,function(r,a,s,i,o,l){return a+(s=="$"?s+i:sn(hk(i)+t.c))+(o=="$"?o+l:Sn(fk(l)+t.r))})}function Yke(e,t,r){var a=As(t),s=a.s,i=on(r),o={r:i.r-s.r,c:i.c-s.c};return oL(e,o)}function Jke(e){return e.length!=1}function E3(e){return e.replace(/_xlfn\./g,"")}function An(e){e.l+=1}function ac(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function lL(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return cL(e);r.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),o=ac(e),l=ac(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function cL(e){var t=ac(e),r=ac(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function Zke(e,t,r){if(r.biff<8)return cL(e);var a=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=ac(e),o=ac(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function dL(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Qke(e);var a=e.read_shift(r&&r.biff==12?4:2),s=ac(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function Qke(e){var t=ac(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function eCe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function tCe(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return rCe(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:l}}function rCe(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:a}}function nCe(e,t,r){var a=(e[e.l++]&96)>>5,s=lL(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,s]}function aCe(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=lL(e,i,r);return[a,s,o]}function sCe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function iCe(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function oCe(e,t,r){var a=(e[e.l++]&96)>>5,s=Zke(e,t-1,r);return[a,s]}function lCe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function T3(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function cCe(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function dCe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function uCe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function fCe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function hCe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function uL(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function mCe(e){return e.read_shift(2),uL(e)}function pCe(e){return e.read_shift(2),uL(e)}function gCe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=dL(e,0,r);return[a,s]}function xCe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=tCe(e,0,r);return[a,s]}function yCe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=dL(e,0,r);return[a,s,i]}function vCe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[jAe[s],mL[s],a]}function bCe(e,t,r){var a=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:wCe(e);return[s,(i[0]===0?mL:wAe)[i[1]]]}function wCe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function jCe(e,t,r){e.l+=r&&r.biff==2?3:4}function NCe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function SCe(e){return e.l++,vl[e.read_shift(1)]}function kCe(e){return e.l++,e.read_shift(2)}function CCe(e){return e.l++,e.read_shift(1)!==0}function ACe(e){return e.l++,Ua(e)}function _Ce(e,t,r){return e.l++,gp(e,t-1,r)}function ECe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=bn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=vl[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ua(e);break;case 2:r[1]=Ud(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function TCe(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((r.biff==12?Bd:Eb)(e));return s}function OCe(e,t,r){var a=0,s=0;r.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--s==0&&(s=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var l=0;l!=s;++l)o[i][l]=ECe(e,r.biff);return o}function PCe(e,t,r){var a=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function ICe(e,t,r){if(r.biff==5)return FCe(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function FCe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function DCe(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function RCe(e,t,r){var a=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[a,s]}function MCe(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function LCe(e,t,r){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var $Ce=Va,BCe=Va,UCe=Va;function yp(e,t,r){return e.l+=2,[eCe(e)]}function _k(e){return e.l+=6,[]}var WCe=yp,zCe=_k,HCe=_k,VCe=yp;function fL(e){return e.l+=2,[Tn(e),e.read_shift(2)&1]}var GCe=yp,qCe=fL,KCe=_k,XCe=yp,YCe=yp,JCe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ZCe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=JCe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:a,c:s,C:i}}function QCe(e){return e.l+=2,[e.read_shift(4)]}function eAe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function tAe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function rAe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function nAe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function aAe(e){return e.l+=4,[0,0]}var O3={1:{n:"PtgExp",f:NCe},2:{n:"PtgTbl",f:UCe},3:{n:"PtgAdd",f:An},4:{n:"PtgSub",f:An},5:{n:"PtgMul",f:An},6:{n:"PtgDiv",f:An},7:{n:"PtgPower",f:An},8:{n:"PtgConcat",f:An},9:{n:"PtgLt",f:An},10:{n:"PtgLe",f:An},11:{n:"PtgEq",f:An},12:{n:"PtgGe",f:An},13:{n:"PtgGt",f:An},14:{n:"PtgNe",f:An},15:{n:"PtgIsect",f:An},16:{n:"PtgUnion",f:An},17:{n:"PtgRange",f:An},18:{n:"PtgUplus",f:An},19:{n:"PtgUminus",f:An},20:{n:"PtgPercent",f:An},21:{n:"PtgParen",f:An},22:{n:"PtgMissArg",f:An},23:{n:"PtgStr",f:_Ce},26:{n:"PtgSheet",f:eAe},27:{n:"PtgEndSheet",f:tAe},28:{n:"PtgErr",f:SCe},29:{n:"PtgBool",f:CCe},30:{n:"PtgInt",f:kCe},31:{n:"PtgNum",f:ACe},32:{n:"PtgArray",f:lCe},33:{n:"PtgFunc",f:vCe},34:{n:"PtgFuncVar",f:bCe},35:{n:"PtgName",f:PCe},36:{n:"PtgRef",f:gCe},37:{n:"PtgArea",f:nCe},38:{n:"PtgMemArea",f:DCe},39:{n:"PtgMemErr",f:$Ce},40:{n:"PtgMemNoMem",f:BCe},41:{n:"PtgMemFunc",f:RCe},42:{n:"PtgRefErr",f:MCe},43:{n:"PtgAreaErr",f:sCe},44:{n:"PtgRefN",f:xCe},45:{n:"PtgAreaN",f:oCe},46:{n:"PtgMemAreaN",f:rAe},47:{n:"PtgMemNoMemN",f:nAe},57:{n:"PtgNameX",f:ICe},58:{n:"PtgRef3d",f:yCe},59:{n:"PtgArea3d",f:aCe},60:{n:"PtgRefErr3d",f:LCe},61:{n:"PtgAreaErr3d",f:iCe},255:{}},sAe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},iAe={1:{n:"PtgElfLel",f:fL},2:{n:"PtgElfRw",f:XCe},3:{n:"PtgElfCol",f:WCe},6:{n:"PtgElfRwV",f:YCe},7:{n:"PtgElfColV",f:VCe},10:{n:"PtgElfRadical",f:GCe},11:{n:"PtgElfRadicalS",f:KCe},13:{n:"PtgElfColS",f:zCe},15:{n:"PtgElfColSV",f:HCe},16:{n:"PtgElfRadicalLel",f:qCe},25:{n:"PtgList",f:ZCe},29:{n:"PtgSxName",f:QCe},255:{}},oAe={0:{n:"PtgAttrNoop",f:aAe},1:{n:"PtgAttrSemi",f:hCe},2:{n:"PtgAttrIf",f:uCe},4:{n:"PtgAttrChoose",f:cCe},8:{n:"PtgAttrGoto",f:dCe},16:{n:"PtgAttrSum",f:jCe},32:{n:"PtgAttrBaxcel",f:T3},33:{n:"PtgAttrBaxcel",f:T3},64:{n:"PtgAttrSpace",f:mCe},65:{n:"PtgAttrSpaceSemi",f:pCe},128:{n:"PtgAttrIfError",f:fCe},255:{}};function vp(e,t,r,a){if(a.biff<8)return Va(e,t);for(var s=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=OCe(e,0,a),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=TCe(e,r[o][1],a),i.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=s-e.l,t!==0&&i.push(Va(e,t)),i}function bp(e,t,r){for(var a=e.l+t,s,i,o=[];a!=e.l;)t=a-e.l,i=e[e.l],s=O3[i]||O3[sAe[i]],(i===24||i===25)&&(s=(i===24?iAe:oAe)[e[e.l+1]]),!s||!s.f?Va(e,t):o.push([s.n,s.f(e,t,r)]);return o}function lAe(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],s=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var cAe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function dAe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function hL(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function P3(e,t,r){var a=hL(e,t,r);return a=="#REF"?a:dAe(a,r)}function Ma(e,t,r,a,s){var i=s&&s.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var x=-1,y="",v=0,w=e[0].length;v<w;++v){var j=e[0][v];switch(j[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:y=fn(" ",e[0][x][1][1]);break;case 1:y=fn("\r",e[0][x][1][1]);break;default:if(y="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}d=d+y,x=-1}l.push(d+cAe[j[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Am(j[1][1],o,s),l.push(_m(u,i));break;case"PtgRefN":u=r?Am(j[1][1],r,s):j[1][1],l.push(_m(u,i));break;case"PtgRef3d":f=j[1][1],u=Am(j[1][2],o,s),p=P3(a,f,s),l.push(p+"!"+_m(u,i));break;case"PtgFunc":case"PtgFuncVar":var A=j[1][0],C=j[1][1];A||(A=0),A&=127;var S=A==0?[]:l.slice(-A);l.length-=A,C==="User"&&(C=S.shift()),l.push(C+"("+S.join(",")+")");break;case"PtgBool":l.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(j[1]);break;case"PtgNum":l.push(String(j[1]));break;case"PtgStr":l.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(j[1]);break;case"PtgAreaN":m=o3(j[1][1],r?{s:r}:o,s),l.push(Iw(m,s));break;case"PtgArea":m=o3(j[1][1],o,s),l.push(Iw(m,s));break;case"PtgArea3d":f=j[1][1],m=j[1][2],p=P3(a,f,s),l.push(p+"!"+Iw(m,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=j[1][2];var k=(a.names||[])[h-1]||(a[0]||[])[h],E=k?k.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!s.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var T=j[1][1];h=j[1][2];var F;if(s.biff<=5)T<0&&(T=-T),a[T]&&(F=a[T][h]);else{var O="";if(((a[T]||[])[0]||[])[0]==14849||(((a[T]||[])[0]||[])[0]==1025?a[T][h]&&a[T][h].itab>0&&(O=a.SheetNames[a[T][h].itab-1]+"!"):O=a.SheetNames[h-1]+"!"),a[T]&&a[T][h])O+=a[T][h].Name;else if(a[0]&&a[0][h])O+=a[0][h].Name;else{var P=(hL(a,T,s)||"").split(";;");P[h-1]?O=P[h-1]:O+="SH33TJSERRX"}l.push(O);break}F||(F={Name:"SH33TJSERRY"}),l.push(F.Name);break;case"PtgParen":var W="(",q=")";if(x>=0){switch(y="",e[0][x][1][0]){case 2:W=fn(" ",e[0][x][1][1])+W;break;case 3:W=fn("\r",e[0][x][1][1])+W;break;case 4:q=fn(" ",e[0][x][1][1])+q;break;case 5:q=fn("\r",e[0][x][1][1])+q;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(W+l.pop()+q);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:j[1][1],r:j[1][0]};var D={c:r.c,r:r.r};if(a.sharedf[Ft(u)]){var M=a.sharedf[Ft(u)];l.push(Ma(M,o,D,a,s))}else{var H=!1;for(c=0;c!=a.arrayf.length;++c)if(d=a.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Ma(d[1],o,D,a,s)),H=!0;break}H||l.push(j[1])}break;case"PtgArray":l.push("{"+lAe(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var ee=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&x>=0&&ee.indexOf(e[0][v][0])==-1){j=e[0][x];var X=!0;switch(j[1][0]){case 4:X=!1;case 0:y=fn(" ",j[1][1]);break;case 5:X=!1;case 1:y=fn("\r",j[1][1]);break;default:if(y="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}l.push((X?y:"")+l.pop()+(X?"":y)),x=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function uAe(e,t,r){var a=e.l+t,s=r.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],Va(e,t-2)];var l=bp(e,o,r);return t!==o+s&&(i=vp(e,t-o-s,l,r)),e.l=a,[l,i]}function fAe(e,t,r){var a=e.l+t,s=r.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],Va(e,t-2)];var l=bp(e,o,r);return t!==o+s&&(i=vp(e,t-o-s,l,r)),e.l=a,[l,i]}function hAe(e,t,r,a){var s=e.l+t,i=bp(e,a,r),o;return s!==e.l&&(o=vp(e,s-e.l,i,r)),[i,o]}function mAe(e,t,r){var a=e.l+t,s,i=e.read_shift(2),o=bp(e,i,r);return i==65535?[[],Va(e,t-2)]:(t!==i+2&&(s=vp(e,a-i-2,o,r)),[o,s])}function pAe(e){var t;if(Yo(e,e.l+6)!==65535)return[Ua(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function gAe(e){if(e==null){var t=Le(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return gd(e);return gd(0)}function Lw(e,t,r){var a=e.l+t,s=To(e);r.biff==2&&++e.l;var i=pAe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=fAe(e,a-e.l,r);return{cell:s,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function xAe(e,t,r,a,s){var i=yd(t,r,s),o=gAe(e.v),l=Le(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Le(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=oa([i,o,l,d]);return f}function Tb(e,t,r){var a=e.read_shift(4),s=bp(e,a,r),i=e.read_shift(4),o=i>0?vp(e,i,s,r):null;return[s,o]}var yAe=Tb,Ob=Tb,vAe=Tb,bAe=Tb,wAe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},mL={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jAe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function I3(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function NAe(e){var t="of:="+e.replace(Ck,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function $w(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function SAe(e){return e.replace(/\./,"!")}var Tm={},$u={},Om=typeof Map!="undefined";function Ek(e,t,r){var a=0,s=e.length;if(r){if(Om?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Om?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<s;++a)if(e[a].t===t)return e.Count++,a;return e[s]={t},e.Count++,e.Unique++,r&&(Om?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function Pb(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&($a=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=D0(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=ov(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function sd(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function gc(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(a==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){rl(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=a=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===a)return s;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function pL(e,t,r,a,s,i){try{a.cellNF&&(e.z=It[t])}catch(l){if(a.WTF)throw l}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Zr(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(It[t]==null&&rl(wwe[t]||"General",t),e.t==="e")e.w=e.w||vl[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_0(e.v);else if(e.t==="d"){var o=Kn(e.v);(o|0)===o?e.w=o.toString(10):e.w=_0(o)}else{if(e.v===void 0)return"";e.w=md(e.v,$u)}else e.t==="d"?e.w=Ai(t,Kn(e.v),$u):e.w=Ai(t,e.v,$u)}catch(l){if(a.WTF)throw l}if(a.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=iv(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=iv(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(a.WTF&&i.Fills)throw l}}}function kAe(e,t,r){if(e&&e["!ref"]){var a=hr(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function CAe(e,t){var r=hr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Vt(r))}var AAe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,_Ae=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,EAe=/<(?:\w:)?hyperlink [^>]*>/mg,TAe=/"(\w*:\w*)"/,OAe=/<(?:\w:)?col\b[^>]*[\/]?>/g,PAe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,IAe=/<(?:\w:)?pageMargins[^>]*\/>/g,gL=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,FAe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,DAe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function RAe(e,t,r,a,s,i,o){if(!e)return e;a||(a={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",f=e.match(_Ae);f?(d=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):d=u=e;var h=d.match(gL);h?Tk(h[0],l,s,r):(h=d.match(FAe))&&LAe(h[0],h[1]||"",l,s,r);var m=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=d.slice(m,m+50).match(TAe);p&&CAe(l,p[1])}var x=d.match(DAe);x&&x[1]&&JAe(x[1],s);var y=[];if(t.cellStyles){var v=d.match(OAe);v&&GAe(y,v)}f&&e_e(f[1],l,t,c,i,o);var w=u.match(PAe);w&&(l["!autofilter"]=KAe(w[0]));var j=[],A=u.match(AAe);if(A)for(m=0;m!=A.length;++m)j[m]=hr(A[m].slice(A[m].indexOf('"')+1));var C=u.match(EAe);C&&zAe(l,C,a);var S=u.match(IAe);if(S&&(l["!margins"]=HAe(Dt(S[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Vt(c)),t.sheetRows>0&&l["!ref"]){var k=hr(l["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>c.e.r&&(k.e.r=c.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>c.e.c&&(k.e.c=c.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Vt(k))}return y.length>0&&(l["!cols"]=y),j.length>0&&(l["!merges"]=j),l}function MAe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Vt(e[r])+'"/>';return t+"</mergeCells>"}function Tk(e,t,r,a){var s=Dt(e);r.Sheets[a]||(r.Sheets[a]={}),s.codeName&&(r.Sheets[a].CodeName=ur(Fr(s.codeName)))}function LAe(e,t,r,a,s){Tk(e.slice(0,e.indexOf(">")),r,a,s)}function $Ae(e,t,r,a,s){var i=!1,o={},l=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch(u){}i=!0,o.codeName=yo(Er(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+et("outlinePr",null,d)}!i&&!l||(s[s.length]=et("sheetPr",l,o))}var BAe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],UAe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function WAe(e){var t={sheet:1};return BAe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),UAe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Nk(e.password).toString(16).toUpperCase()),et("sheetProtection",null,t)}function zAe(e,t,r){for(var a=Array.isArray(e),s=0;s!=t.length;++s){var i=Dt(Fr(t[s]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+ur(i.location))):(i.Target="#"+ur(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=hr(i.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var u=Ft({c:d,r:c});a?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function HAe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function VAe(e){return sd(e),et("pageMargins",null,e)}function GAe(e,t){for(var r=!1,a=0;a!=t.length;++a){var s=Dt(t[a],!0);s.hidden&&(s.hidden=Jr(s.hidden));var i=parseInt(s.min,10)-1,o=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,Sk(s.width)),nc(s);i<=o;)e[i++]=Qr(s)}}function qAe(e,t){for(var r=["<cols>"],a,s=0;s!=t.length;++s)(a=t[s])&&(r[r.length]=et("col",null,Pb(s,a)));return r[r.length]="</cols>",r.join("")}function KAe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function XAe(e,t,r,a){var s=typeof e.ref=="string"?e.ref:Vt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=As(s);o.s.r==o.e.r&&(o.e.r=As(t["!ref"]).e.r,s=Vt(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+s;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),et("autoFilter",null,{ref:s})}var YAe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function JAe(e,t){t.Views||(t.Views=[{}]),(e.match(YAe)||[]).forEach(function(r,a){var s=Dt(r);t.Views[a]||(t.Views[a]={}),+s.zoomScale&&(t.Views[a].zoom=+s.zoomScale),Jr(s.rightToLeft)&&(t.Views[a].RTL=!0)})}function ZAe(e,t,r,a){var s={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),et("sheetViews",et("sheetView",null,s),{})}function QAe(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=vl[e.v];break;case"d":a&&a.cellDates?s=Zr(e.v,-1).toISOString():(e=Qr(e),e.t="n",s=""+(e.v=Kn(Zr(e.v)))),typeof e.z=="undefined"&&(e.z=It[14]);break;default:s=e.v;break}var l=Sa("v",Er(s)),c={r:t},d=gc(a.cellXfs,e,a);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){l=Sa("v",""+Ek(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=et("f",Er(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),et("c",l,c)}var e_e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=E0("v"),o=E0("f");return function(c,d,u,f,h,m){for(var p=0,x="",y=[],v=[],w=0,j=0,A=0,C="",S,k,E=0,T=0,F,O,P=0,W=0,q=Array.isArray(m.CellXf),D,M=[],H=[],ee=Array.isArray(d),X=[],de={},le=!1,G=!!u.sheetStubs,K=c.split(t),Z=0,I=K.length;Z!=I;++Z){x=K[Z].trim();var V=x.length;if(V!==0){var te=0;e:for(p=0;p<V;++p)switch(x[p]){case">":if(x[p-1]!="/"){++p;break e}if(u&&u.cellStyles){if(k=Dt(x.slice(te,p),!0),E=k.r!=null?parseInt(k.r,10):E+1,T=-1,u.sheetRows&&u.sheetRows<E)continue;de={},le=!1,k.ht&&(le=!0,de.hpt=parseFloat(k.ht),de.hpx=vf(de.hpt)),k.hidden=="1"&&(le=!0,de.hidden=!0),k.outlineLevel!=null&&(le=!0,de.level=+k.outlineLevel),le&&(X[E-1]=de)}break;case"<":te=p;break}if(te>=p)break;if(k=Dt(x.slice(te,p),!0),E=k.r!=null?parseInt(k.r,10):E+1,T=-1,!(u.sheetRows&&u.sheetRows<E)){f.s.r>E-1&&(f.s.r=E-1),f.e.r<E-1&&(f.e.r=E-1),u&&u.cellStyles&&(de={},le=!1,k.ht&&(le=!0,de.hpt=parseFloat(k.ht),de.hpx=vf(de.hpt)),k.hidden=="1"&&(le=!0,de.hidden=!0),k.outlineLevel!=null&&(le=!0,de.level=+k.outlineLevel),le&&(X[E-1]=de)),y=x.slice(p).split(e);for(var R=0;R!=y.length&&y[R].trim().charAt(0)=="<";++R);for(y=y.slice(R),p=0;p!=y.length;++p)if(x=y[p].trim(),x.length!==0){if(v=x.match(r),w=p,j=0,A=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,v!=null&&v.length===2){for(w=0,C=v[1],j=0;j!=C.length&&!((A=C.charCodeAt(j)-64)<1||A>26);++j)w=26*w+A;--w,T=w}else++T;for(j=0;j!=x.length&&x.charCodeAt(j)!==62;++j);if(++j,k=Dt(x.slice(0,j),!0),k.r||(k.r=Ft({r:E-1,c:T})),C=x.slice(j),S={t:""},(v=C.match(i))!=null&&v[1]!==""&&(S.v=ur(v[1])),u.cellFormula){if((v=C.match(o))!=null&&v[1]!==""){if(S.f=ur(Fr(v[1])).replace(/\r\n/g,`
`),u.xlfn||(S.f=E3(S.f)),v[0].indexOf('t="array"')>-1)S.F=(C.match(s)||[])[1],S.F.indexOf(":")>-1&&M.push([hr(S.F),S.F]);else if(v[0].indexOf('t="shared"')>-1){O=Dt(v[0]);var U=ur(Fr(v[1]));u.xlfn||(U=E3(U)),H[parseInt(O.si,10)]=[O,U,k.r]}}else(v=C.match(/<f[^>]*\/>/))&&(O=Dt(v[0]),H[O.si]&&(S.f=Yke(H[O.si][1],H[O.si][2],k.r)));var Q=on(k.r);for(j=0;j<M.length;++j)Q.r>=M[j][0].s.r&&Q.r<=M[j][0].e.r&&Q.c>=M[j][0].s.c&&Q.c<=M[j][0].e.c&&(S.F=M[j][1])}if(k.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(G)S.t="z";else continue;else S.t=k.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),S.t){case"n":if(S.v==""||S.v==null){if(!G)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v=="undefined"){if(!G)continue;S.t="z"}else F=Tm[parseInt(S.v,10)],S.v=F.t,S.r=F.r,u.cellHTML&&(S.h=F.h);break;case"str":S.t="s",S.v=S.v!=null?Fr(S.v):"",u.cellHTML&&(S.h=lk(S.v));break;case"inlineStr":v=C.match(a),S.t="s",v!=null&&(F=jk(v[1]))?(S.v=F.t,u.cellHTML&&(S.h=F.h)):S.v="";break;case"b":S.v=Jr(S.v);break;case"d":u.cellDates?S.v=Zr(S.v,1):(S.v=Kn(Zr(S.v,1)),S.t="n");break;case"e":(!u||u.cellText!==!1)&&(S.w=S.v),S.v=yM[S.v];break}if(P=W=0,D=null,q&&k.s!==void 0&&(D=m.CellXf[k.s],D!=null&&(D.numFmtId!=null&&(P=D.numFmtId),u.cellStyles&&D.fillId!=null&&(W=D.fillId))),pL(S,P,W,u,h,m),u.cellDates&&q&&S.t=="n"&&Vf(It[P])&&(S.t="d",S.v=_b(S.v)),k.cm&&u.xlmeta){var J=(u.xlmeta.Cell||[])[+k.cm-1];J&&J.type=="XLDAPR"&&(S.D=!0)}if(ee){var L=on(k.r);d[L.r]||(d[L.r]=[]),d[L.r][L.c]=S}else d[k.r]=S}}}}X.length>0&&(d["!rows"]=X)}}();function t_e(e,t,r,a){var s=[],i=[],o=hr(e["!ref"]),l="",c,d="",u=[],f=0,h=0,m=e["!rows"],p=Array.isArray(e),x={r:d},y,v=-1;for(h=o.s.c;h<=o.e.c;++h)u[h]=sn(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],d=Sn(f),h=o.s.c;h<=o.e.c;++h){c=u[h]+d;var w=p?(e[f]||[])[h]:e[c];w!==void 0&&(l=QAe(w,c,e,t))!=null&&i.push(l)}(i.length>0||m&&m[f])&&(x={r:d},m&&m[f]&&(y=m[f],y.hidden&&(x.hidden=1),v=-1,y.hpx?v=R0(y.hpx):y.hpt&&(v=y.hpt),v>-1&&(x.ht=v,x.customHeight=1),y.level&&(x.outlineLevel=y.level)),s[s.length]=et("row",i.join(""),x))}if(m)for(;f<m.length;++f)m&&m[f]&&(x={r:f+1},y=m[f],y.hidden&&(x.hidden=1),v=-1,y.hpx?v=R0(y.hpx):y.hpt&&(v=y.hpt),v>-1&&(x.ht=v,x.customHeight=1),y.level&&(x.outlineLevel=y.level),s[s.length]=et("row","",x));return s.join("")}function xL(e,t,r,a){var s=[kn,et("worksheet",null,{xmlns:Rd[0],"xmlns:r":Hn.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=hr(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=Vt(u)}a||(a={}),c["!comments"]=[];var f=[];$Ae(c,r,e,t,s),s[s.length]=et("dimension",null,{ref:d}),s[s.length]=ZAe(c,t,e,r),t.sheetFormat&&(s[s.length]=et("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(s[s.length]=qAe(c,c["!cols"])),s[o=s.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=t_e(c,t),l.length>0&&(s[s.length]=l)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),c["!protect"]&&(s[s.length]=WAe(c["!protect"])),c["!autofilter"]!=null&&(s[s.length]=XAe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(s[s.length]=MAe(c["!merges"]));var h=-1,m,p=-1;return c["!links"].length>0&&(s[s.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(m={ref:x[0]},x[1].Target.charAt(0)!="#"&&(p=_r(a,-1,Er(x[1].Target).replace(/#.*$/,""),tr.HLINK),m["r:id"]="rId"+p),(h=x[1].Target.indexOf("#"))>-1&&(m.location=Er(x[1].Target.slice(h+1))),x[1].Tooltip&&(m.tooltip=Er(x[1].Tooltip)),s[s.length]=et("hyperlink",null,m))}),s[s.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(s[s.length]=VAe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Sa("ignoredErrors",et("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(p=_r(a,-1,"../drawings/drawing"+(e+1)+".xml",tr.DRAW),s[s.length]=et("drawing",null,{"r:id":"rId"+p}),c["!drawing"]=f),c["!comments"].length>0&&(p=_r(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",tr.VML),s[s.length]=et("legacyDrawing",null,{"r:id":"rId"+p}),c["!legacy"]=p),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function r_e(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function n_e(e,t,r){var a=Le(145),s=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;s.hpx?i=R0(s.hpx)*20:s.hpt&&(i=s.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var l=0,c=a.l;a.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,h=-1,m=u<<10;m<u+1<<10;++m){d.c=m;var p=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Ft(d)];p&&(f<0&&(f=m),h=m)}f<0||(++l,a.write_shift(4,f),a.write_shift(4,h))}var x=a.l;return a.l=c,a.write_shift(4,l),a.l=x,a.length>a.l?a.slice(0,a.l):a}function a_e(e,t,r,a){var s=n_e(a,r,t);(s.length>17||(t["!rows"]||[])[a])&&Ge(e,0,s)}var s_e=Bd,i_e=Kf;function o_e(){}function l_e(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=uje(e),r}function c_e(e,t,r){r==null&&(r=Le(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var s=1;s<3;++s)r.write_shift(1,0);return nv({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),hM(e,r),r.slice(0,r.l)}function d_e(e){var t=Oi(e);return[t]}function u_e(e,t,r){return r==null&&(r=Le(8)),Md(t,r)}function f_e(e){var t=Ld(e);return[t]}function h_e(e,t,r){return r==null&&(r=Le(4)),$d(t,r)}function m_e(e){var t=Oi(e),r=e.read_shift(1);return[t,r,"b"]}function p_e(e,t,r){return r==null&&(r=Le(9)),Md(t,r),r.write_shift(1,e.v?1:0),r}function g_e(e){var t=Ld(e),r=e.read_shift(1);return[t,r,"b"]}function x_e(e,t,r){return r==null&&(r=Le(5)),$d(t,r),r.write_shift(1,e.v?1:0),r}function y_e(e){var t=Oi(e),r=e.read_shift(1);return[t,r,"e"]}function v_e(e,t,r){return r==null&&(r=Le(9)),Md(t,r),r.write_shift(1,e.v),r}function b_e(e){var t=Ld(e),r=e.read_shift(1);return[t,r,"e"]}function w_e(e,t,r){return r==null&&(r=Le(8)),$d(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function j_e(e){var t=Oi(e),r=e.read_shift(4);return[t,r,"s"]}function N_e(e,t,r){return r==null&&(r=Le(12)),Md(t,r),r.write_shift(4,t.v),r}function S_e(e){var t=Ld(e),r=e.read_shift(4);return[t,r,"s"]}function k_e(e,t,r){return r==null&&(r=Le(8)),$d(t,r),r.write_shift(4,t.v),r}function C_e(e){var t=Oi(e),r=Ua(e);return[t,r,"n"]}function A_e(e,t,r){return r==null&&(r=Le(16)),Md(t,r),gd(e.v,r),r}function yL(e){var t=Ld(e),r=Ua(e);return[t,r,"n"]}function __e(e,t,r){return r==null&&(r=Le(12)),$d(t,r),gd(e.v,r),r}function E_e(e){var t=Oi(e),r=xk(e);return[t,r,"n"]}function T_e(e,t,r){return r==null&&(r=Le(12)),Md(t,r),mM(e.v,r),r}function O_e(e){var t=Ld(e),r=xk(e);return[t,r,"n"]}function P_e(e,t,r){return r==null&&(r=Le(8)),$d(t,r),mM(e.v,r),r}function I_e(e){var t=Oi(e),r=mk(e);return[t,r,"is"]}function F_e(e){var t=Oi(e),r=za(e);return[t,r,"str"]}function D_e(e,t,r){return r==null&&(r=Le(12+4*e.v.length)),Md(t,r),da(e.v,r),r.length>r.l?r.slice(0,r.l):r}function R_e(e){var t=Ld(e),r=za(e);return[t,r,"str"]}function M_e(e,t,r){return r==null&&(r=Le(8+4*e.v.length)),$d(t,r),da(e.v,r),r.length>r.l?r.slice(0,r.l):r}function L_e(e,t,r){var a=e.l+t,s=Oi(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(r.cellFormula){e.l+=2;var l=Ob(e,a-e.l,r);o[3]=Ma(l,null,s,r.supbooks,r)}else e.l=a;return o}function $_e(e,t,r){var a=e.l+t,s=Oi(e);s.r=r["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(r.cellFormula){e.l+=2;var l=Ob(e,a-e.l,r);o[3]=Ma(l,null,s,r.supbooks,r)}else e.l=a;return o}function B_e(e,t,r){var a=e.l+t,s=Oi(e);s.r=r["!row"];var i=Ua(e),o=[s,i,"n"];if(r.cellFormula){e.l+=2;var l=Ob(e,a-e.l,r);o[3]=Ma(l,null,s,r.supbooks,r)}else e.l=a;return o}function U_e(e,t,r){var a=e.l+t,s=Oi(e);s.r=r["!row"];var i=za(e),o=[s,i,"str"];if(r.cellFormula){e.l+=2;var l=Ob(e,a-e.l,r);o[3]=Ma(l,null,s,r.supbooks,r)}else e.l=a;return o}var W_e=Bd,z_e=Kf;function H_e(e,t){return t==null&&(t=Le(4)),t.write_shift(4,e),t}function V_e(e,t){var r=e.l+t,a=Bd(e),s=pk(e),i=za(e),o=za(e),l=za(e);e.l=r;var c={rfx:a,relId:s,loc:i,display:l};return o&&(c.Tooltip=o),c}function G_e(e,t){var r=Le(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Kf({s:on(e[0]),e:on(e[0])},r),gk("rId"+t,r);var a=e[1].Target.indexOf("#"),s=a==-1?"":e[1].Target.slice(a+1);return da(s||"",r),da(e[1].Tooltip||"",r),da("",r),r.slice(0,r.l)}function q_e(){}function K_e(e,t,r){var a=e.l+t,s=pM(e),i=e.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var l=yAe(e,a-e.l,r);o[1]=l}else e.l=a;return o}function X_e(e,t,r){var a=e.l+t,s=Bd(e),i=[s];if(r.cellFormula){var o=bAe(e,a-e.l,r);i[1]=o,e.l=a}else e.l=a;return i}function Y_e(e,t,r){r==null&&(r=Le(18));var a=Pb(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof a.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var vL=["left","right","top","bottom","header","footer"];function J_e(e){var t={};return vL.forEach(function(r){t[r]=Ua(e)}),t}function Z_e(e,t){return t==null&&(t=Le(6*8)),sd(e),vL.forEach(function(r){gd(e[r],t)}),t}function Q_e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function e4e(e,t,r){r==null&&(r=Le(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function t4e(e){var t=Le(24);return t.write_shift(4,4),t.write_shift(4,1),Kf(e,t),t}function r4e(e,t){return t==null&&(t=Le(16*4+2)),t.write_shift(2,e.password?Nk(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function n4e(){}function a4e(){}function s4e(e,t,r,a,s,i,o){if(!e)return e;var l=t||{};a||(a={"!id":{}});var c=l.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,x,y,v,w,j,A,C,S=[];l.biff=12,l["!row"]=0;var k=0,E=!1,T=[],F={},O=l.supbooks||s.supbooks||[[]];if(O.sharedf=F,O.arrayf=T,O.SheetNames=s.SheetNames||s.Sheets.map(function(ee){return ee.name}),!l.supbooks&&(l.supbooks=O,s.Names))for(var P=0;P<s.Names.length;++P)O[0][P+1]=s.Names[P];var W=[],q=[],D=!1;M0[16]={n:"BrtShortReal",f:yL};var M;if(yl(e,function(X,de,le){if(!h)switch(le){case 148:d=X;break;case 0:m=X,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),A=Sn(y=m.r),l["!row"]=m.r,(X.hidden||X.hpt||X.level!=null)&&(X.hpt&&(X.hpx=vf(X.hpt)),q[X.r]=X);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:X[2]},X[2]){case"n":p.v=X[1];break;case"s":j=Tm[X[1]],p.v=j.t,p.r=j.r;break;case"b":p.v=!!X[1];break;case"e":p.v=X[1],l.cellText!==!1&&(p.w=vl[p.v]);break;case"str":p.t="s",p.v=X[1];break;case"is":p.t="s",p.v=X[1].t;break}if((x=o.CellXf[X[0].iStyleRef])&&pL(p,x.numFmtId,null,l,i,o),v=X[0].c==-1?v+1:X[0].c,l.dense?(c[y]||(c[y]=[]),c[y][v]=p):c[sn(v)+A]=p,l.cellFormula){for(E=!1,k=0;k<T.length;++k){var G=T[k];m.r>=G[0].s.r&&m.r<=G[0].e.r&&v>=G[0].s.c&&v<=G[0].e.c&&(p.F=Vt(G[0]),E=!0)}!E&&X.length>3&&(p.f=X[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>v&&(u.s.c=v),u.e.r<m.r&&(u.e.r=m.r),u.e.c<v&&(u.e.c=v),l.cellDates&&x&&p.t=="n"&&Vf(It[x.numFmtId])){var K=Xc(p.v);K&&(p.t="d",p.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}M&&(M.type=="XLDAPR"&&(p.D=!0),M=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;p={t:"z",v:void 0},v=X[0].c==-1?v+1:X[0].c,l.dense?(c[y]||(c[y]=[]),c[y][v]=p):c[sn(v)+A]=p,u.s.r>m.r&&(u.s.r=m.r),u.s.c>v&&(u.s.c=v),u.e.r<m.r&&(u.e.r=m.r),u.e.c<v&&(u.e.c=v),M&&(M.type=="XLDAPR"&&(p.D=!0),M=void 0);break;case 176:S.push(X);break;case 49:M=((l.xlmeta||{}).Cell||[])[X-1];break;case 494:var Z=a["!id"][X.relId];for(Z?(X.Target=Z.Target,X.loc&&(X.Target+="#"+X.loc),X.Rel=Z):X.relId==""&&(X.Target="#"+X.loc),y=X.rfx.s.r;y<=X.rfx.e.r;++y)for(v=X.rfx.s.c;v<=X.rfx.e.c;++v)l.dense?(c[y]||(c[y]=[]),c[y][v]||(c[y][v]={t:"z",v:void 0}),c[y][v].l=X):(w=Ft({c:v,r:y}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=X);break;case 426:if(!l.cellFormula)break;T.push(X),C=l.dense?c[y][v]:c[sn(v)+A],C.f=Ma(X[1],u,{r:m.r,c:v},O,l),C.F=Vt(X[0]);break;case 427:if(!l.cellFormula)break;F[Ft(X[0].s)]=X[1],C=l.dense?c[y][v]:c[sn(v)+A],C.f=Ma(X[1],u,{r:m.r,c:v},O,l);break;case 60:if(!l.cellStyles)break;for(;X.e>=X.s;)W[X.e--]={width:X.w/256,hidden:!!(X.flags&1),level:X.level},D||(D=!0,Sk(X.w/256)),nc(W[X.e+1]);break;case 161:c["!autofilter"]={ref:Vt(X)};break;case 476:c["!margins"]=X;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),X.name&&(s.Sheets[r].CodeName=X.name),(X.above||X.left)&&(c["!outline"]={above:X.above,left:X.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),X.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!de.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+le.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=Vt(d||u)),l.sheetRows&&c["!ref"]){var H=hr(c["!ref"]);l.sheetRows<=+H.e.r&&(H.e.r=l.sheetRows-1,H.e.r>u.e.r&&(H.e.r=u.e.r),H.e.r<H.s.r&&(H.s.r=H.e.r),H.e.c>u.e.c&&(H.e.c=u.e.c),H.e.c<H.s.c&&(H.s.c=H.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Vt(H))}return S.length>0&&(c["!merges"]=S),W.length>0&&(c["!cols"]=W),q.length>0&&(c["!rows"]=q),c}function i4e(e,t,r,a,s,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Qr(t),t.z=t.z||It[14],t.v=Kn(Zr(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:a};switch(c.s=gc(s.cellXfs,t,s),t.l&&i["!links"].push([Ft(c),t.l]),t.c&&i["!comments"].push([Ft(c),t.c]),t.t){case"s":case"str":return s.bookSST?(l=Ek(s.Strings,t.v,s.revStrings),c.t="s",c.v=l,o?Ge(e,18,k_e(t,c)):Ge(e,7,N_e(t,c))):(c.t="str",o?Ge(e,17,M_e(t,c)):Ge(e,6,D_e(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ge(e,13,P_e(t,c)):Ge(e,2,T_e(t,c)):o?Ge(e,16,__e(t,c)):Ge(e,5,A_e(t,c)),!0;case"b":return c.t="b",o?Ge(e,15,x_e(t,c)):Ge(e,4,p_e(t,c)),!0;case"e":return c.t="e",o?Ge(e,14,w_e(t,c)):Ge(e,3,v_e(t,c)),!0}return o?Ge(e,12,h_e(t,c)):Ge(e,1,u_e(t,c)),!0}function o4e(e,t,r,a){var s=hr(t["!ref"]||"A1"),i,o="",l=[];Ge(e,145);var c=Array.isArray(t),d=s.e.r;t["!rows"]&&(d=Math.max(s.e.r,t["!rows"].length-1));for(var u=s.s.r;u<=d;++u){o=Sn(u),a_e(e,t,s,u);var f=!1;if(u<=s.e.r)for(var h=s.s.c;h<=s.e.c;++h){u===s.s.r&&(l[h]=sn(h)),i=l[h]+o;var m=c?(t[u]||[])[h]:t[i];if(!m){f=!1;continue}f=i4e(e,m,u,h,a,t,f)}}Ge(e,146)}function l4e(e,t){!t||!t["!merges"]||(Ge(e,177,H_e(t["!merges"].length)),t["!merges"].forEach(function(r){Ge(e,176,z_e(r))}),Ge(e,178))}function c4e(e,t){!t||!t["!cols"]||(Ge(e,390),t["!cols"].forEach(function(r,a){r&&Ge(e,60,Y_e(a,r))}),Ge(e,391))}function d4e(e,t){!t||!t["!ref"]||(Ge(e,648),Ge(e,649,t4e(hr(t["!ref"]))),Ge(e,650))}function u4e(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var s=_r(r,-1,a[1].Target.replace(/#.*$/,""),tr.HLINK);Ge(e,494,G_e(a,s))}}),delete t["!links"]}function f4e(e,t,r,a){if(t["!comments"].length>0){var s=_r(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",tr.VML);Ge(e,551,gk("rId"+s)),t["!legacy"]=s}}function h4e(e,t,r,a){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:Vt(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=As(i);l.s.r==l.e.r&&(l.e.r=As(t["!ref"]).e.r,i=Vt(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+r.SheetNames[a]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),Ge(e,161,Kf(hr(i))),Ge(e,162)}}function m4e(e,t,r){Ge(e,133),Ge(e,137,e4e(t,r)),Ge(e,138),Ge(e,134)}function p4e(e,t){t["!protect"]&&Ge(e,535,r4e(t["!protect"]))}function g4e(e,t,r,a){var s=ks(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch(d){}var c=hr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ge(s,129),(r.vbaraw||o["!outline"])&&Ge(s,147,c_e(l,o["!outline"])),Ge(s,148,i_e(c)),m4e(s,o,r.Workbook),c4e(s,o),o4e(s,o,e,t),p4e(s,o),h4e(s,o,r,e),l4e(s,o),u4e(s,o,a),o["!margins"]&&Ge(s,476,Z_e(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&d4e(s,o),f4e(s,o,e,a),Ge(s,130),s.end()}function x4e(e){var t=[],r=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var s=ur((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[t,s,a]}function y4e(e,t,r,a,s,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=x4e(f);u.s.r=u.s.c=0,u.e.c=l,d=sn(l),h[0].forEach(function(m,p){o[d+Sn(p)]={t:"n",v:m,z:h[1]},c=p}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(o["!ref"]=Vt(u)),o}function v4e(e,t,r,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(gL);return l&&Tk(l[0],i,s,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function b4e(e,t){e.l+=10;var r=za(e);return{name:r}}function w4e(e,t,r,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return yl(e,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),c.name&&(s.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var Ok=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],j4e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],N4e=[],S4e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function F3(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],s=0;s!=t.length;++s){var i=t[s];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=Jr(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function D3(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Jr(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function bL(e){D3(e.WBProps,Ok),D3(e.CalcPr,S4e),F3(e.WBView,j4e),F3(e.Sheets,N4e),$u.date1904=Jr(e.WBProps.date1904)}function k4e(e){return!e.Workbook||!e.Workbook.WBProps?"false":Jr(e.Workbook.WBProps.date1904)?"true":"false"}var C4e="][*?/\\".split("");function wL(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return C4e.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function A4e(e,t,r){e.forEach(function(a,s){wL(a);for(var i=0;i<s;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var o=t&&t[s]&&t[s].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function _4e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];A4e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)kAe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var E4e=/<\w+:workbook/;function T4e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,s="xmlns",i={},o=0;if(e.replace(Ga,function(c,d){var u=Dt(c);switch(Eo(u[0])){case"<?xml":break;case"<workbook":c.match(E4e)&&(s="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=u[s];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Ok.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Jr(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Fr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=ur(Fr(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=Fr(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Jr(u.hidden||"0")&&(i.Hidden=!0),o=d+c.length;break;case"</definedName>":i.Ref=ur(Fr(e.slice(o,d))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),Rd.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return bL(r),r}function jL(e){var t=[kn];t[t.length]=et("workbook",null,{xmlns:Rd[0],"xmlns:r":Hn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Ok.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(a[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=et("workbookPr",null,a);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Er(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=et("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=et("definedName",Er(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function O4e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=s2(e),r.name=za(e),r}function P4e(e,t){return t||(t=Le(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),gk(e.strRelID,t),da(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function I4e(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?za(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function F4e(e,t){t||(t=Le(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),hM(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function D4e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function R4e(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=fje(e),o=vAe(e,0,r),l=pk(e);e.l=a;var c={Name:i,Ptg:o};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function M4e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],s=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],M0[16]={n:"BrtFRTArchID$",f:D4e},yl(e,function(c,d,u){switch(u){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Ma(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(u),s=!0;break;case 36:a.pop(),s=!1;break;case 37:a.push(u),s=!0;break;case 38:a.pop(),s=!1;break;case 16:break;default:if(!d.T){if(!s||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),bL(r),r.Names=i,r.supbooks=o,r}function L4e(e,t){Ge(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ge(e,156,P4e(s))}Ge(e,144)}function $4e(e,t){t||(t=Le(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return da("SheetJS",t),da(Yy.version,t),da(Yy.version,t),da("7262",t),t.length>t.l?t.slice(0,t.l):t}function B4e(e,t){t||(t=Le(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function U4e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,s=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&s==-1?s=a:r[a].Hidden==1&&i==-1&&(i=a);i>s||(Ge(e,135),Ge(e,158,B4e(s)),Ge(e,136))}}function W4e(e,t){var r=ks();return Ge(r,131),Ge(r,128,$4e()),Ge(r,153,F4e(e.Workbook&&e.Workbook.WBProps||null)),U4e(r,e),L4e(r,e),Ge(r,132),r.end()}function z4e(e,t,r){return t.slice(-4)===".bin"?M4e(e,r):T4e(e,r)}function H4e(e,t,r,a,s,i,o,l){return t.slice(-4)===".bin"?s4e(e,a,r,s,i,o,l):RAe(e,a,r,s,i,o,l)}function V4e(e,t,r,a,s,i,o,l){return t.slice(-4)===".bin"?w4e(e,a,r,s,i):v4e(e,a,r,s,i)}function G4e(e,t,r,a,s,i,o,l){return t.slice(-4)===".bin"?Kke():Xke()}function q4e(e,t,r,a,s,i,o,l){return t.slice(-4)===".bin"?Gke():qke()}function K4e(e,t,r,a){return t.slice(-4)===".bin"?zSe(e,r,a):OSe(e,r,a)}function X4e(e,t,r){return rL(e,r)}function Y4e(e,t,r){return t.slice(-4)===".bin"?Y2e(e,r):q2e(e,r)}function J4e(e,t,r){return t.slice(-4)===".bin"?Uke(e,r):Pke(e,r)}function Z4e(e,t,r){return t.slice(-4)===".bin"?Eke(e):Ake(e)}function Q4e(e,t,r,a){return r.slice(-4)===".bin"?Tke(e,t,r,a):void 0}function eEe(e,t,r){return t.slice(-4)===".bin"?Ske(e,t,r):Cke(e,t,r)}function tEe(e,t,r){return(t.slice(-4)===".bin"?W4e:jL)(e)}function rEe(e,t,r,a,s){return(t.slice(-4)===".bin"?g4e:xL)(e,r,a,s)}function nEe(e,t,r){return(t.slice(-4)===".bin"?QSe:eL)(e,r)}function aEe(e,t,r){return(t.slice(-4)===".bin"?Q2e:GM)(e,r)}function sEe(e,t,r){return(t.slice(-4)===".bin"?Wke:sL)(e)}function iEe(e){return(e.slice(-4)===".bin"?kke:nL)()}var NL=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,SL=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function $i(e,t){var r=e.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var s=e.match(NL),i,o,l,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(SL),(o=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),a[l]=i[2].slice(1,i[2].length-1));return a}function oEe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var a=e.match(NL),s,i,o,l;if(a)for(l=0;l!=a.length;++l)s=a[l].match(SL),(i=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),r[o]=s[2].slice(1,s[2].length-1));return r}var Pm;function lEe(e,t){var r=Pm[e]||ur(e);return r==="General"?md(t):Ai(r,t)}function cEe(e,t,r,a){var s=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=Jr(a);break;case"i2":case"int":s=parseInt(a,10);break;case"r4":case"float":s=parseFloat(a);break;case"date":case"dateTime.tz":s=Zr(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[ur(t)]=s}function dEe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||vl[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_0(e.v):e.w=md(e.v):e.w=lEe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var a=Pm[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&Vf(a)){var s=Xc(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(r.WTF)throw i}}}function uEe(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=NSe[a.Pattern]||a.Pattern)}e[t.ID]=t}function fEe(e,t,r,a,s,i,o,l,c,d){var u="General",f=a.StyleID,h={};d=d||{};var m=[],p=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=Jr(e);break;case"String":a.t="s",a.r=ZO(ur(e)),a.v=e.indexOf("<")>-1?ur(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(Zr(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=ur(e):a.v<60&&(a.v=a.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=yM[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=ZO(t||e));break}if(dEe(a,u,d),d.cellFormula!==!1)if(a.Formula){var x=ur(a.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),a.f=Lu(x,s),delete a.Formula,a.ArrayRange=="RC"?a.F=Lu("RC:RC",s):a.ArrayRange&&(a.F=Lu(a.ArrayRange,s),c.push([hr(a.F),a.F]))}else for(p=0;p<c.length;++p)s.r>=c[p][0].s.r&&s.r<=c[p][0].e.r&&s.c>=c[p][0].s.c&&s.c<=c[p][0].e.c&&(a.F=c[p][1]);d.cellStyles&&(m.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),a.s=h),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function hEe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Bw(e,t){var r=t||{};Gf();var a=mm(ck(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=Fr(a));var s=a.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var o=Qr(r);return o.type="string",yf.to_workbook(a,o)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Te){s.indexOf("<"+Te)>=0&&(i=!0)}),i)return ZEe(a,r);Pm={"General Number":"General","General Date":It[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":It[15],"Short Date":It[14],"Long Time":It[19],"Medium Time":It[18],"Short Time":It[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:It[2],Standard:It[4],Percent:It[10],Scientific:It[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,u={},f=[],h=r.dense?[]:{},m="",p={},x={},y=$i('<Data ss:Type="String">'),v=0,w=0,j=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},S={},k="",E=0,T=[],F={},O={},P=0,W=[],q=[],D={},M=[],H,ee=!1,X=[],de=[],le={},G=0,K=0,Z={Sheets:[],WBProps:{date1904:!1}},I={};O0.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var V="";l=O0.exec(a);)switch(l[3]=(V=l[3]).toLowerCase()){case"data":if(V=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?fEe(a.slice(v,l.index),k,y,c[c.length-1][0]=="comment"?D:p,{c:w,r:j},C,M[w],x,X,r):(k="",y=$i(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(q.length>0&&(p.c=q),(!r.sheetRows||r.sheetRows>j)&&p.v!==void 0&&(r.dense?(h[j]||(h[j]=[]),h[j][w]=p):h[sn(w)+Sn(j)]=p),p.HRef&&(p.l={Target:ur(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(G=w+(parseInt(p.MergeAcross,10)|0),K=j+(parseInt(p.MergeDown,10)|0),T.push({s:{c:w,r:j},e:{c:G,r:K}})),!r.sheetStubs)p.MergeAcross?w=G+1:++w;else if(p.MergeAcross||p.MergeDown){for(var te=w;te<=G;++te)for(var R=j;R<=K;++R)(te>w||R>j)&&(r.dense?(h[R]||(h[R]=[]),h[R][te]={t:"z"}):h[sn(te)+Sn(R)]={t:"z"});w=G+1}else++w;else p=oEe(l[0]),p.Index&&(w=+p.Index-1),w<A.s.c&&(A.s.c=w),w>A.e.c&&(A.e.c=w),l[0].slice(-2)==="/>"&&++w,q=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(j<A.s.r&&(A.s.r=j),j>A.e.r&&(A.e.r=j),l[0].slice(-2)==="/>"&&(x=$i(l[0]),x.Index&&(j=+x.Index-1)),w=0,++j):(x=$i(l[0]),x.Index&&(j=+x.Index-1),le={},(x.AutoFitHeight=="0"||x.Height)&&(le.hpx=parseInt(x.Height,10),le.hpt=R0(le.hpx),de[j]=le),x.Hidden=="1"&&(le.hidden=!0,de[j]=le));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));f.push(m),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(h["!ref"]=Vt(A),r.sheetRows&&r.sheetRows<=A.e.r&&(h["!fullref"]=h["!ref"],A.e.r=r.sheetRows-1,h["!ref"]=Vt(A))),T.length&&(h["!merges"]=T),M.length>0&&(h["!cols"]=M),de.length>0&&(h["!rows"]=de),u[m]=h}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=w=0,c.push([l[3],!1]),d=$i(l[0]),m=ur(d.Name),h=r.dense?[]:{},T=[],X=[],de=[],I={name:m,Hidden:0},Z.Sheets.push(I);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),M=[],ee=!1}break;case"style":l[1]==="/"?uEe(C,S,r):S=$i(l[0]);break;case"numberformat":S.nf=ur($i(l[0]).Format||"General"),Pm[S.nf]&&(S.nf=Pm[S.nf]);for(var U=0;U!=392&&It[U]!=S.nf;++U);if(U==392){for(U=57;U!=392;++U)if(It[U]==null){rl(S.nf,U);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(H=$i(l[0]),H.Hidden&&(H.hidden=!0,delete H.Hidden),H.Width&&(H.wpx=parseInt(H.Width,10)),!ee&&H.wpx>10){ee=!0,$a=ZM;for(var Q=0;Q<M.length;++Q)M[Q]&&nc(M[Q])}ee&&nc(H),M[H.Index-1||M.length]=H;for(var J=0;J<+H.Span;++J)M[M.length]=Qr(H);break;case"namedrange":if(l[1]==="/")break;Z.Names||(Z.Names=[]);var L=Dt(l[0]),he={Name:L.Name,Ref:Lu(L.RefersTo.slice(1),{r:0,c:0})};Z.Sheets.length>0&&(he.Sheet=Z.Sheets.length-1),Z.Names.push(he);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?k+=a.slice(E,l.index):E=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=$i(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Mje(F,V,a.slice(P,l.index)):P=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));hEe(D),q.push(D)}else c.push([l[3],!1]),d=$i(l[0]),D={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var ge=$i(l[0]);h["!autofilter"]={ref:Lu(ge.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return B3(a,r);var Ae=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ae=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ae=!1}break;case"excelworkbook":switch(l[3]){case"date1904":Z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ae=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ae=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(a.slice(P,l.index)){case"SheetHidden":I.Hidden=1;break;case"SheetVeryHidden":I.Hidden=2;break}else P=l.index+l[0].length;break;case"header":h["!margins"]||sd(h["!margins"]={},"xlml"),isNaN(+Dt(l[0]).Margin)||(h["!margins"].header=+Dt(l[0]).Margin);break;case"footer":h["!margins"]||sd(h["!margins"]={},"xlml"),isNaN(+Dt(l[0]).Margin)||(h["!margins"].footer=+Dt(l[0]).Margin);break;case"pagemargins":var Ee=Dt(l[0]);h["!margins"]||sd(h["!margins"]={},"xlml"),isNaN(+Ee.Top)||(h["!margins"].top=+Ee.Top),isNaN(+Ee.Left)||(h["!margins"].left=+Ee.Left),isNaN(+Ee.Right)||(h["!margins"].right=+Ee.Right),isNaN(+Ee.Bottom)||(h["!margins"].bottom=+Ee.Bottom);break;case"displayrighttoleft":Z.Views||(Z.Views=[]),Z.Views[0]||(Z.Views[0]={}),Z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ae=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ae=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ae=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ae=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ae=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ae=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ae=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ae=!1}break;case"smarttags":break;default:Ae=!1;break}if(Ae||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?cEe(O,V,W,a.slice(P,l.index)):(W=l,P=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var xe={};return!r.bookSheets&&!r.bookProps&&(xe.Sheets=u),xe.SheetNames=f,xe.Workbook=Z,xe.SSF=Qr(It),xe.Props=F,xe.Custprops=O,xe}function f2(e,t){switch(Ik(t=t||{}),t.type||"base64"){case"base64":return Bw(Js(e),t);case"binary":case"buffer":case"file":return Bw(e,t);case"array":return Bw(mc(e),t)}}function mEe(e,t){var r=[];return e.Props&&r.push(Lje(e.Props,t)),e.Custprops&&r.push($je(e.Props,e.Custprops)),r.join("")}function pEe(){return""}function gEe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,s){var i=[];i.push(et("NumberFormat",null,{"ss:Format":Er(It[a.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(et("Style",i.join(""),o))}),et("Styles",r.join(""))}function kL(e){return et("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Ak(e.Ref,{r:0,c:0})})}function xEe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var s=t[a];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(kL(s)))}return et("Names",r.join(""))}function yEe(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var s=a.Workbook.Names,i=[],o=0;o<s.length;++o){var l=s[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(kL(l)))}return i.join("")}function vEe(e,t,r,a){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(et("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(et("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(et("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)s.push(et("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Sa("ProtectContents","True")),e["!protect"].objects&&s.push(Sa("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Sa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(Sa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(Sa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":et("WorksheetOptions",s.join(""),{xmlns:$s.x})}function bEe(e){return e.map(function(t){var r=Uwe(t.t||""),a=et("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return et("Comment",a,{"ss:Author":t.a})}).join("")}function wEe(e,t,r,a,s,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Er(Ak(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=on(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Er(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Er(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",h="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=vl[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||It[14]);break;case"s":f="String",h=Bwe(e.v||"");break}var m=gc(a.cellXfs,e,a);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var p=e.v!=null?h:"",x=e.t=="z"?"":'<Data ss:Type="'+f+'">'+p+"</Data>";return(e.c||[]).length>0&&(x+=bEe(e.c)),et("Cell",x,l)}function jEe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=vf(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function NEe(e,t,r,a){if(!e["!ref"])return"";var s=hr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(y,v){nc(y);var w=!!y.width,j=Pb(v,y),A={"ss:Index":v+1};w&&(A["ss:Width"]=F0(j.width)),y.hidden&&(A["ss:Hidden"]="1"),l.push(et("Column",null,A))});for(var c=Array.isArray(e),d=s.s.r;d<=s.e.r;++d){for(var u=[jEe(d,(e["!rows"]||[])[d])],f=s.s.c;f<=s.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>d)&&!(i[o].e.c<f)&&!(i[o].e.r<d)){(i[o].s.c!=f||i[o].s.r!=d)&&(h=!0);break}if(!h){var m={r:d,c:f},p=Ft(m),x=c?(e[d]||[])[f]:e[p];u.push(wEe(x,p,e,t,r,a,m))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function SEe(e,t,r){var a=[],s=r.SheetNames[e],i=r.Sheets[s],o=i?yEe(i,t,e,r):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=i?NEe(i,t,e,r):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push(vEe(i,t,e,r)),a.join("")}function kEe(e,t){t||(t={}),e.SSF||(e.SSF=Qr(It)),e.SSF&&(Gf(),kb(e.SSF),t.revssf=Ab(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],gc(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(mEe(e,t)),r.push(pEe()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(et("Worksheet",SEe(a,t,e),{"ss:Name":Er(e.SheetNames[a])}));return r[2]=gEe(e,t),r[3]=xEe(e),kn+et("Workbook",r.join(""),{xmlns:$s.ss,"xmlns:o":$s.o,"xmlns:x":$s.x,"xmlns:ss":$s.ss,"xmlns:dt":$s.dt,"xmlns:html":$s.html})}function CEe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=xje(r),r.length-r.l<=4)return t;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=yje(r),a=r.read_shift(4),a==0||a>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var AEe=[60,1084,2066,2165,2175];function _Ee(e,t,r,a,s){var i=a,o=[],l=r.slice(r.l,r.l+i);if(s&&s.enc&&s.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(l)}o.push(l),r.l+=i;for(var c=Yo(r,r.l),d=h2[c],u=0;d!=null&&AEe.indexOf(c)>-1;)i=Yo(r,r.l+2),u=r.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=r.slice(u,r.l+4+i),o.push(l),r.l+=4+i,d=h2[c=Yo(r,r.l)];var f=oa(o);Na(f,0);var h=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(h),h+=o[m].length;if(f.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+a;return t.f(f,f.length,s)}function uo(e,t,r){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=It[a])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||vl[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_0(e.v):e.w=md(e.v):e.w=Ai(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&a&&e.t=="n"&&Vf(It[a]||String(a))){var s=Xc(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function ux(e,t,r){return{v:e,ixfe:t,t:r}}function EEe(e,t){var r={opts:{}},a={},s=t.dense?[]:{},i={},o={},l=null,c=[],d="",u={},f,h="",m,p,x,y,v={},w=[],j,A,C=[],S=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},T=function(ft){return ft<8?rd[ft]:ft<64&&S[ft-8]||rd[ft]},F=function(ft,Ht,dr){var St=Ht.XF.data;if(!(!St||!St.patternType||!dr||!dr.cellStyles)){Ht.s={},Ht.s.patternType=St.patternType;var ir;(ir=I0(T(St.icvFore)))&&(Ht.s.fgColor={rgb:ir}),(ir=I0(T(St.icvBack)))&&(Ht.s.bgColor={rgb:ir})}},O=function(ft,Ht,dr){if(!(le>1)&&!(dr.sheetRows&&ft.r>=dr.sheetRows)){if(dr.cellStyles&&Ht.XF&&Ht.XF.data&&F(ft,Ht,dr),delete Ht.ixfe,delete Ht.XF,f=ft,h=Ft(ft),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ft.r<o.s.r&&(o.s.r=ft.r),ft.c<o.s.c&&(o.s.c=ft.c),ft.r+1>o.e.r&&(o.e.r=ft.r+1),ft.c+1>o.e.c&&(o.e.c=ft.c+1),dr.cellFormula&&Ht.f){for(var St=0;St<w.length;++St)if(!(w[St][0].s.c>ft.c||w[St][0].s.r>ft.r)&&!(w[St][0].e.c<ft.c||w[St][0].e.r<ft.r)){Ht.F=Vt(w[St][0]),(w[St][0].s.c!=ft.c||w[St][0].s.r!=ft.r)&&delete Ht.f,Ht.f&&(Ht.f=""+Ma(w[St][1],o,ft,X,P));break}}dr.dense?(s[ft.r]||(s[ft.r]=[]),s[ft.r][ft.c]=Ht):s[h]=Ht}},P={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(P.password=t.password);var W,q=[],D=[],M=[],H=[],ee=!1,X=[];X.SheetNames=P.snames,X.sharedf=P.sharedf,X.arrayf=P.arrayf,X.names=[],X.XTI=[];var de=0,le=0,G=0,K=[],Z=[],I;P.codepage=1200,qi(1200);for(var V=!1;e.l<e.length-1;){var te=e.l,R=e.read_shift(2);if(R===0&&de===10)break;var U=e.l===e.length?0:e.read_shift(2),Q=h2[R];if(Q&&Q.f){if(t.bookSheets&&de===133&&R!==133)break;if(de=R,Q.r===2||Q.r==12){var J=e.read_shift(2);if(U-=2,!P.enc&&J!==R&&((J&255)<<8|J>>8)!==R)throw new Error("rt mismatch: "+J+"!="+R);Q.r==12&&(e.l+=10,U-=10)}var L={};if(R===10?L=Q.f(e,U,P):L=_Ee(R,Q,e,U,P),le==0&&[9,521,1033,2057].indexOf(de)===-1)continue;switch(R){case 34:r.opts.Date1904=k.WBProps.date1904=L;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(P.enc||(e.l=0),P.enc=L,!t.password)throw new Error("File is password-protected");if(L.valid==null)throw new Error("Encryption scheme unsupported");if(!L.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=L;break;case 66:var he=Number(L);switch(he){case 21010:he=1200;break;case 32768:he=1e4;break;case 32769:he=1252;break}qi(P.codepage=he),V=!0;break;case 317:P.rrtabid=L;break;case 25:P.winlocked=L;break;case 439:r.opts.RefreshAll=L;break;case 12:r.opts.CalcCount=L;break;case 16:r.opts.CalcDelta=L;break;case 17:r.opts.CalcIter=L;break;case 13:r.opts.CalcMode=L;break;case 14:r.opts.CalcPrecision=L;break;case 95:r.opts.CalcSaveRecalc=L;break;case 15:P.CalcRefMode=L;break;case 2211:r.opts.FullCalc=L;break;case 129:L.fDialog&&(s["!type"]="dialog"),L.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),L.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:C.push(L);break;case 430:X.push([L]),X[X.length-1].XTI=[];break;case 35:case 547:X[X.length-1].push(L);break;case 24:case 536:I={Name:L.Name,Ref:Ma(L.rgce,o,null,X,P)},L.itab>0&&(I.Sheet=L.itab-1),X.names.push(I),X[0]||(X[0]=[],X[0].XTI=[]),X[X.length-1].push(L),L.Name=="_xlnm._FilterDatabase"&&L.itab>0&&L.rgce&&L.rgce[0]&&L.rgce[0][0]&&L.rgce[0][0][0]=="PtgArea3d"&&(Z[L.itab-1]={ref:Vt(L.rgce[0][0][1][2])});break;case 22:P.ExternCount=L;break;case 23:X.length==0&&(X[0]=[],X[0].XTI=[]),X[X.length-1].XTI=X[X.length-1].XTI.concat(L),X.XTI=X.XTI.concat(L);break;case 2196:if(P.biff<8)break;I!=null&&(I.Comment=L[1]);break;case 18:s["!protect"]=L;break;case 19:L!==0&&P.WTF&&console.error("Password verifier: "+L);break;case 133:i[L.pos]=L,P.snames.push(L.name);break;case 10:{if(--le)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,s["!ref"]=Vt(o),t.sheetRows&&t.sheetRows<=o.e.r){var ge=o.e.r;o.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Vt(o),o.e.r=ge}o.e.r++,o.e.c++}q.length>0&&(s["!merges"]=q),D.length>0&&(s["!objects"]=D),M.length>0&&(s["!cols"]=M),H.length>0&&(s["!rows"]=H),k.Sheets.push(E)}d===""?u=s:a[d]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[R]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[L.BIFFVer]||8),P.biffguess=L.BIFFVer==0,L.BIFFVer==0&&L.dt==4096&&(P.biff=5,V=!0,qi(P.codepage=28591)),P.biff==8&&L.BIFFVer==0&&L.dt==16&&(P.biff=2),le++)break;if(s=t.dense?[]:{},P.biff<8&&!V&&(V=!0,qi(P.codepage=t.codepage||1252)),P.biff<5||L.BIFFVer==0&&L.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ae={pos:e.l-U,name:d};i[Ae.pos]=Ae,P.snames.push(d)}else d=(i[te]||{name:""}).name;L.dt==32&&(s["!type"]="chart"),L.dt==64&&(s["!type"]="macro"),q=[],D=[],P.arrayf=w=[],M=[],H=[],ee=!1,E={Hidden:(i[te]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[L.r]||[])[L.c]:s[Ft({c:L.c,r:L.r})])&&++L.c,j={ixfe:L.ixfe,XF:C[L.ixfe]||{},v:L.val,t:"n"},G>0&&(j.z=K[j.ixfe>>8&63]),uo(j,t,r.opts.Date1904),O({c:L.c,r:L.r},j,t);break;case 5:case 517:j={ixfe:L.ixfe,XF:C[L.ixfe],v:L.val,t:L.t},G>0&&(j.z=K[j.ixfe>>8&63]),uo(j,t,r.opts.Date1904),O({c:L.c,r:L.r},j,t);break;case 638:j={ixfe:L.ixfe,XF:C[L.ixfe],v:L.rknum,t:"n"},G>0&&(j.z=K[j.ixfe>>8&63]),uo(j,t,r.opts.Date1904),O({c:L.c,r:L.r},j,t);break;case 189:for(var Ee=L.c;Ee<=L.C;++Ee){var xe=L.rkrec[Ee-L.c][0];j={ixfe:xe,XF:C[xe],v:L.rkrec[Ee-L.c][1],t:"n"},G>0&&(j.z=K[j.ixfe>>8&63]),uo(j,t,r.opts.Date1904),O({c:Ee,r:L.r},j,t)}break;case 6:case 518:case 1030:{if(L.val=="String"){l=L;break}if(j=ux(L.val,L.cell.ixfe,L.tt),j.XF=C[j.ixfe],t.cellFormula){var Te=L.formula;if(Te&&Te[0]&&Te[0][0]&&Te[0][0][0]=="PtgExp"){var Ue=Te[0][0][1][0],tt=Te[0][0][1][1],ct=Ft({r:Ue,c:tt});v[ct]?j.f=""+Ma(L.formula,o,L.cell,X,P):j.F=((t.dense?(s[Ue]||[])[tt]:s[ct])||{}).F}else j.f=""+Ma(L.formula,o,L.cell,X,P)}G>0&&(j.z=K[j.ixfe>>8&63]),uo(j,t,r.opts.Date1904),O(L.cell,j,t),l=L}break;case 7:case 519:if(l)l.val=L,j=ux(L,l.cell.ixfe,"s"),j.XF=C[j.ixfe],t.cellFormula&&(j.f=""+Ma(l.formula,o,l.cell,X,P)),G>0&&(j.z=K[j.ixfe>>8&63]),uo(j,t,r.opts.Date1904),O(l.cell,j,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(L);var mt=Ft(L[0].s);if(m=t.dense?(s[L[0].s.r]||[])[L[0].s.c]:s[mt],t.cellFormula&&m){if(!l||!mt||!m)break;m.f=""+Ma(L[1],o,L[0],X,P),m.F=Vt(L[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;v[Ft(l.cell)]=L[0],m=t.dense?(s[l.cell.r]||[])[l.cell.c]:s[Ft(l.cell)],(m||{}).f=""+Ma(L[0],o,f,X,P)}}break;case 253:j=ux(c[L.isst].t,L.ixfe,"s"),c[L.isst].h&&(j.h=c[L.isst].h),j.XF=C[j.ixfe],G>0&&(j.z=K[j.ixfe>>8&63]),uo(j,t,r.opts.Date1904),O({c:L.c,r:L.r},j,t);break;case 513:t.sheetStubs&&(j={ixfe:L.ixfe,XF:C[L.ixfe],t:"z"},G>0&&(j.z=K[j.ixfe>>8&63]),uo(j,t,r.opts.Date1904),O({c:L.c,r:L.r},j,t));break;case 190:if(t.sheetStubs)for(var ut=L.c;ut<=L.C;++ut){var it=L.ixfe[ut-L.c];j={ixfe:it,XF:C[it],t:"z"},G>0&&(j.z=K[j.ixfe>>8&63]),uo(j,t,r.opts.Date1904),O({c:ut,r:L.r},j,t)}break;case 214:case 516:case 4:j=ux(L.val,L.ixfe,"s"),j.XF=C[j.ixfe],G>0&&(j.z=K[j.ixfe>>8&63]),uo(j,t,r.opts.Date1904),O({c:L.c,r:L.r},j,t);break;case 0:case 512:le===1&&(o=L);break;case 252:c=L;break;case 1054:if(P.biff==4){K[G++]=L[1];for(var At=0;At<G+163&&It[At]!=L[1];++At);At>=163&&rl(L[1],G+163)}else rl(L[1],L[0]);break;case 30:{K[G++]=L;for(var Bt=0;Bt<G+163&&It[Bt]!=L;++Bt);Bt>=163&&rl(L,G+163)}break;case 229:q=q.concat(L);break;case 93:D[L.cmo[0]]=P.lastobj=L;break;case 438:P.lastobj.TxO=L;break;case 127:P.lastobj.ImData=L;break;case 440:for(y=L[0].s.r;y<=L[0].e.r;++y)for(x=L[0].s.c;x<=L[0].e.c;++x)m=t.dense?(s[y]||[])[x]:s[Ft({c:x,r:y})],m&&(m.l=L[1]);break;case 2048:for(y=L[0].s.r;y<=L[0].e.r;++y)for(x=L[0].s.c;x<=L[0].e.c;++x)m=t.dense?(s[y]||[])[x]:s[Ft({c:x,r:y})],m&&m.l&&(m.l.Tooltip=L[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;m=t.dense?(s[L[0].r]||[])[L[0].c]:s[Ft(L[0])];var vt=D[L[2]];m||(t.dense?(s[L[0].r]||(s[L[0].r]=[]),m=s[L[0].r][L[0].c]={t:"z"}):m=s[Ft(L[0])]={t:"z"},o.e.r=Math.max(o.e.r,L[0].r),o.s.r=Math.min(o.s.r,L[0].r),o.e.c=Math.max(o.e.c,L[0].c),o.s.c=Math.min(o.s.c,L[0].c)),m.c||(m.c=[]),p={a:L[1],t:vt.TxO.t},m.c.push(p)}break;case 2173:gke(C[L.ixfe],L.ext);break;case 125:{if(!P.cellStyles)break;for(;L.e>=L.s;)M[L.e--]={width:L.w/256,level:L.level||0,hidden:!!(L.flags&1)},ee||(ee=!0,Sk(L.w/256)),nc(M[L.e+1])}break;case 520:{var Gt={};L.level!=null&&(H[L.r]=Gt,Gt.level=L.level),L.hidden&&(H[L.r]=Gt,Gt.hidden=!0),L.hpt&&(H[L.r]=Gt,Gt.hpt=L.hpt,Gt.hpx=vf(L.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||sd(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[R]]=L;break;case 161:s["!margins"]||sd(s["!margins"]={}),s["!margins"].header=L.header,s["!margins"].footer=L.footer;break;case 574:L.RTL&&(k.Views[0].RTL=!0);break;case 146:S=L;break;case 2198:W=L;break;case 140:A=L;break;case 442:d?E.CodeName=L||E.name:k.WBProps.CodeName=L||"ThisWorkbook";break}}else Q||console.error("Missing Info for XLS Record 0x"+R.toString(16)),e.l+=U}return r.SheetNames=pn(i).sort(function(Ut,ft){return Number(Ut)-Number(ft)}).map(function(Ut){return i[Ut].name}),t.bookSheets||(r.Sheets=a),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&Z.forEach(function(Ut,ft){r.Sheets[r.SheetNames[ft]]["!autofilter"]=Ut}),r.Strings=c,r.SSF=Qr(It),P.enc&&(r.Encryption=P.enc),W&&(r.Themes=W),r.Metadata={},A!==void 0&&(r.Metadata.Country=A),X.names.length>0&&(k.Names=X.names),r.Workbook=k,r}var Im={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function TEe(e,t,r){var a=kt.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var s=g3(a,i2,Im.DSI);for(var i in s)t[i]=s[i]}catch(d){if(r.WTF)throw d}var o=kt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=g3(o,o2,Im.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(SM(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function OEe(e,t){var r=[],a=[],s=[],i=0,o,l=GO(i2,"n"),c=GO(o2,"n");if(e.Props)for(o=pn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:s).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=pn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?a:s).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<s.length;++i)OM.indexOf(s[i][0])>-1||NM.indexOf(s[i][0])>-1||s[i][1]!=null&&d.push(s[i]);a.length&&kt.utils.cfb_add(t,"/SummaryInformation",x3(a,Im.SI,c,o2)),(r.length||d.length)&&kt.utils.cfb_add(t,"/DocumentSummaryInformation",x3(r,Im.DSI,l,i2,d.length?d:null,Im.UDI))}function CL(e,t){t||(t={}),Ik(t),ek(),t.codepage&&QS(t.codepage);var r,a;if(e.FullPaths){if(kt.find(e,"/encryption"))throw new Error("File is password-protected");r=kt.find(e,"!CompObj"),a=kt.find(e,"/Workbook")||kt.find(e,"/Book")}else{switch(t.type){case"base64":e=Ws(Js(e));break;case"binary":e=Ws(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Na(e,0),a={content:e}}var s,i;if(r&&CEe(r),t.bookProps&&!t.bookSheets)s={};else{var o=Jt?"buffer":"array";if(a&&a.content)s=EEe(a.content,t);else if((i=kt.find(e,"PerfectOffice_MAIN"))&&i.content)s=ad.to_workbook(i.content,(t.type=o,t));else if((i=kt.find(e,"NativeContent_MAIN"))&&i.content)s=ad.to_workbook(i.content,(t.type=o,t));else throw(i=kt.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&kt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=Hke(e))}var l={};return e.FullPaths&&TEe(e,l,t),s.Props=s.Custprops=l,t.bookFiles&&(s.cfb=e),s}function PEe(e,t){var r=t||{},a=kt.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return kt.utils.cfb_add(a,s,AL(e,r)),r.biff==8&&(e.Props||e.Custprops)&&OEe(e,a),r.biff==8&&e.vbaraw&&Vke(a,kt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var M0={0:{f:r_e},1:{f:d_e},2:{f:E_e},3:{f:y_e},4:{f:m_e},5:{f:C_e},6:{f:F_e},7:{f:j_e},8:{f:U_e},9:{f:B_e},10:{f:L_e},11:{f:$_e},12:{f:f_e},13:{f:O_e},14:{f:b_e},15:{f:g_e},16:{f:yL},17:{f:R_e},18:{f:S_e},19:{f:mk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:R4e},40:{},42:{},43:{f:FSe},44:{f:PSe},45:{f:MSe},46:{f:$Se},47:{f:LSe},48:{},49:{f:sje},50:{},51:{f:vke},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:WM},62:{f:I_e},63:{f:_ke},64:{f:n4e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Va,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Q_e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:l_e},148:{f:s_e,p:16},151:{f:q_e},152:{},153:{f:I4e},154:{},155:{},156:{f:O4e},157:{},158:{},159:{T:1,f:X2e},160:{T:-1},161:{T:1,f:Bd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:W_e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:xke},336:{T:-1},337:{f:jke,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:s2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:UM},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:K_e},427:{f:X_e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:J_e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:o_e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:V_e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:s2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$ke},633:{T:1},634:{T:-1},635:{T:1,f:Mke},636:{T:-1},637:{f:cje},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:b4e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:a4e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},h2={6:{f:Lw},10:{f:_l},12:{f:Tn},13:{f:Tn},14:{f:bn},15:{f:bn},16:{f:Ua},17:{f:bn},18:{f:bn},19:{f:Tn},20:{f:N3},21:{f:N3},23:{f:UM},24:{f:k3},25:{f:bn},26:{},27:{},28:{f:a2e},29:{},34:{f:bn},35:{f:S3},38:{f:Ua},39:{f:Ua},40:{f:Ua},41:{f:Ua},42:{f:bn},43:{f:bn},47:{f:gSe},49:{f:ONe},51:{f:Tn},60:{},61:{f:CNe},64:{f:bn},65:{f:TNe},66:{f:Tn},77:{},80:{},81:{},82:{},85:{f:Tn},89:{},90:{},91:{},92:{f:pNe},93:{f:o2e},94:{},95:{f:bn},96:{},97:{},99:{f:bn},125:{f:WM},128:{f:GNe},129:{f:xNe},130:{f:Tn},131:{f:bn},132:{f:bn},133:{f:yNe},134:{},140:{f:p2e},141:{f:Tn},144:{},146:{f:y2e},151:{},152:{},153:{},154:{},155:{},156:{f:Tn},157:{},158:{},160:{f:k2e},161:{f:w2e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:WNe},190:{f:zNe},193:{f:_l},197:{},198:{},199:{},200:{},201:{},202:{f:bn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Tn},220:{},221:{f:bn},222:{},224:{f:VNe},225:{f:mNe},226:{f:_l},227:{},229:{f:s2e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:bNe},253:{f:INe},255:{f:jNe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:PM},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:bn},353:{f:_l},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:JNe},431:{f:bn},432:{},433:{},434:{},437:{},438:{f:d2e},439:{f:bn},440:{f:u2e},441:{},442:{f:xp},443:{},444:{f:Tn},445:{},446:{},448:{f:_l},449:{f:kNe,r:2},450:{f:_l},512:{f:b3},513:{f:S2e},515:{f:XNe},516:{f:DNe},517:{f:j3},519:{f:C2e},520:{f:NNe},523:{},545:{f:C3},549:{f:v3},566:{},574:{f:_Ne},638:{f:UNe},659:{},1048:{},1054:{f:MNe},1084:{},1212:{f:t2e},2048:{f:h2e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:lx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:_l},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:v2e,r:12},2173:{f:pke,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:bn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:e2e,r:12},2197:{},2198:{f:cke,r:12},2199:{},2200:{},2201:{},2202:{f:r2e,r:12},2203:{f:_l},2204:{},2205:{},2206:{},2207:{},2211:{f:SNe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Tn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:j2e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:x2e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:b3},1:{},2:{f:O2e},3:{f:E2e},4:{f:_2e},5:{f:j3},7:{f:I2e},8:{},9:{f:lx},11:{},22:{f:Tn},30:{f:$Ne},31:{},32:{},33:{f:C3},36:{},37:{f:v3},50:{f:F2e},62:{},52:{},67:{},68:{f:Tn},69:{},86:{},126:{},127:{f:A2e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:D2e},223:{},234:{},354:{},421:{},518:{f:Lw},521:{f:lx},536:{f:k3},547:{f:S3},561:{},579:{},1030:{f:Lw},1033:{f:lx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function rt(e,t,r,a){var s=t;if(!isNaN(s)){var i=a||(r||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&uk(r)&&e.push(r)}}function IEe(e,t,r,a){var s=(r||[]).length||0;if(s<=8224)return rt(e,t,r,s);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<s;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function wp(e,t,r){return e||(e=Le(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function FEe(e,t,r,a){var s=Le(9);return wp(s,e,t),IM(r,a||"b",s),s}function DEe(e,t,r){var a=Le(8+2*r.length);return wp(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function REe(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Kn(Zr(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?rt(e,2,P2e(r,a,s)):rt(e,3,T2e(r,a,s));return;case"b":case"e":rt(e,5,FEe(r,a,t.v,t.t));return;case"s":case"str":rt(e,4,DEe(r,a,(t.v||"").slice(0,255)));return}rt(e,1,wp(null,r,a))}function MEe(e,t,r,a){var s=Array.isArray(t),i=hr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Vt(i)}for(var d=i.s.r;d<=i.e.r;++d){l=Sn(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=sn(u)),o=c[u]+l;var f=s?(t[d]||[])[u]:t[o];f&&REe(e,f,d,u)}}}function LEe(e,t){for(var r=t||{},a=ks(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return rt(a,r.biff==4?1033:r.biff==3?521:9,wk(e,16,r)),MEe(a,e.Sheets[e.SheetNames[s]],s,r),rt(a,10),a.end()}function $Ee(e,t,r){rt(e,49,PNe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function BEe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var s=a[0];s<=a[1];++s)t[s]!=null&&rt(e,1054,LNe(s,t[s],r))})}function UEe(e,t){var r=Le(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),rt(e,2151,r),r=Le(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),LM(hr(t["!ref"]||"A1"),r),r.write_shift(4,4),rt(e,2152,r)}function WEe(e,t){for(var r=0;r<16;++r)rt(e,224,w3({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){rt(e,224,w3(a,0,t))})}function zEe(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];rt(e,440,f2e(a)),a[1].Tooltip&&rt(e,2048,m2e(a))}delete t["!links"]}function HEe(e,t){if(t){var r=0;t.forEach(function(a,s){++r<=256&&a&&rt(e,125,b2e(Pb(s,a),s))})}}function VEe(e,t,r,a,s){var i=16+gc(s.cellXfs,t,s);if(t.v==null&&!t.bf){rt(e,513,yd(r,a,i));return}if(t.bf)rt(e,6,xAe(t,r,a,s,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Kn(Zr(t.v)):t.v;rt(e,515,YNe(r,a,o,i));break;case"b":case"e":rt(e,517,KNe(r,a,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var l=Ek(s.Strings,t.v,s.revStrings);rt(e,253,FNe(r,a,l,i))}else rt(e,516,RNe(r,a,(t.v||"").slice(0,255),i,s));break;default:rt(e,513,yd(r,a,i))}}function GEe(e,t,r){var a=ks(),s=r.SheetNames[e],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",h=[],m=hr(i["!ref"]||"A1"),p=d?65536:16384;if(m.e.c>255||m.e.r>=p){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}rt(a,2057,wk(r,16,t)),rt(a,13,pi(1)),rt(a,12,pi(100)),rt(a,15,ns(!0)),rt(a,17,ns(!1)),rt(a,16,gd(.001)),rt(a,95,ns(!0)),rt(a,42,ns(!1)),rt(a,43,ns(!1)),rt(a,130,pi(1)),rt(a,128,qNe()),rt(a,131,ns(!1)),rt(a,132,ns(!1)),d&&HEe(a,i["!cols"]),rt(a,512,BNe(m,t)),d&&(i["!links"]=[]);for(var x=m.s.r;x<=m.e.r;++x){f=Sn(x);for(var y=m.s.c;y<=m.e.c;++y){x===m.s.r&&(h[y]=sn(y)),u=h[y]+f;var v=c?(i[x]||[])[y]:i[u];v&&(VEe(a,v,x,y,t),d&&v.l&&i["!links"].push([u,v.l]))}}var w=l.CodeName||l.name||s;return d&&rt(a,574,ENe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&rt(a,229,i2e(i["!merges"])),d&&zEe(a,i),rt(a,442,FM(w)),d&&UEe(a,i),rt(a,10),a.end()}function qEe(e,t,r){var a=ks(),s=(e||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},l=r.biff==8,c=r.biff==5;if(rt(a,2057,wk(e,5,r)),r.bookType=="xla"&&rt(a,135),rt(a,225,l?pi(1200):null),rt(a,193,Kje(2)),c&&rt(a,191),c&&rt(a,192),rt(a,226),rt(a,92,gNe("SheetJS",r)),rt(a,66,pi(l?1200:1252)),l&&rt(a,353,pi(0)),l&&rt(a,448),rt(a,317,N2e(e.SheetNames.length)),l&&e.vbaraw&&rt(a,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";rt(a,442,FM(d))}rt(a,156,pi(17)),rt(a,25,ns(!1)),rt(a,18,ns(!1)),rt(a,19,pi(0)),l&&rt(a,431,ns(!1)),l&&rt(a,444,pi(0)),rt(a,61,ANe()),rt(a,64,ns(!1)),rt(a,141,pi(0)),rt(a,34,ns(k4e(e)=="true")),rt(a,14,ns(!0)),l&&rt(a,439,ns(!1)),rt(a,218,pi(0)),$Ee(a,e,r),BEe(a,e.SSF,r),WEe(a,r),l&&rt(a,352,ns(!1));var u=a.end(),f=ks();l&&rt(f,140,g2e()),l&&r.Strings&&IEe(f,252,wNe(r.Strings)),rt(f,10);var h=f.end(),m=ks(),p=0,x=0;for(x=0;x<e.SheetNames.length;++x)p+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var y=u.length+p+h.length;for(x=0;x<e.SheetNames.length;++x){var v=i[x]||{};rt(m,133,vNe({pos:y,hs:v.Hidden||0,dt:0,name:e.SheetNames[x]},r)),y+=t[x].length}var w=m.end();if(p!=w.length)throw new Error("BS8 "+p+" != "+w.length);var j=[];return u.length&&j.push(u),w.length&&j.push(w),h.length&&j.push(h),oa(j)}function KEe(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=Qr(It)),e&&e.SSF&&(Gf(),kb(e.SSF),r.revssf=Ab(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Fk(r),r.cellXfs=[],gc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)a[a.length]=GEe(s,r,e);return a.unshift(qEe(e,a,r)),oa(a)}function AL(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var s=As(a["!ref"]);s.e.c>255&&typeof console!="undefined"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return KEe(e,t);case 4:case 3:case 2:return LEe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function R3(e,t){var r=t||{},a=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=s.index,l=i&&i.index||e.length,c=Pwe(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(o=0;o<c.length;++o){var x=c[o].trim(),y=x.slice(0,3).toLowerCase();if(y=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var v=x.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var w=v[l].trim();if(w.match(/<t[dh]/i)){for(var j=w,A=0;j.charAt(0)=="<"&&(A=j.indexOf(">"))>-1;)j=j.slice(A+1);for(var C=0;C<p.length;++C){var S=p[C];S.s.c==u&&S.s.r<d&&d<=S.e.r&&(u=S.e.c+1,C=-1)}var k=Dt(w.slice(0,w.indexOf(">")));h=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||h>1)&&p.push({s:{r:d,c:u},e:{r:d+(f||1)-1,c:u+h-1}});var E=k.t||k["data-t"]||"";if(!j.length){u+=h;continue}if(j=JR(j),m.s.r>d&&(m.s.r=d),m.e.r<d&&(m.e.r=d),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!j.length){u+=h;continue}var T={t:"s",v:j};r.raw||!j.trim().length||E=="s"||(j==="TRUE"?T={t:"b",v:!0}:j==="FALSE"?T={t:"b",v:!1}:isNaN(Zi(j))?isNaN(xf(j).getDate())||(T={t:"d",v:Zr(j)},r.cellDates||(T={t:"n",v:Kn(T.v)}),T.z=r.dateNF||It[14]):T={t:"n",v:Zi(j)}),r.dense?(a[d]||(a[d]=[]),a[d][u]=T):a[Ft({r:d,c:u})]=T,u+=h}}}}return a["!ref"]=Vt(m),p.length&&(a["!merges"]=p),a}function XEe(e,t,r,a){for(var s=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<s.length;++d)if(!(s[d].s.r>r||s[d].s.c>o)&&!(s[d].e.r<r||s[d].e.c<o)){if(s[d].s.r<r||s[d].s.c<o){l=-1;break}l=s[d].e.r-s[d].s.r+1,c=s[d].e.c-s[d].s.c+1;break}if(!(l<0)){var u=Ft({r,c:o}),f=a.dense?(e[r]||[])[o]:e[u],h=f&&f.v!=null&&(f.h||lk(f.w||(fl(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),a.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(a.id||"sjs")+"-"+u,i.push(et("td",h,m))}}var p="<tr>";return p+i.join("")+"</tr>"}var YEe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',JEe="</body></html>";function ZEe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return pc(R3(r[0],t),t);var a=Mk();return r.forEach(function(s,i){Lk(a,R3(s,t),"Sheet"+(i+1))}),a}function QEe(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function _L(e,t){var r=t||{},a=r.header!=null?r.header:YEe,s=r.footer!=null?r.footer:JEe,i=[a],o=As(e["!ref"]);r.dense=Array.isArray(e),i.push(QEe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(XEe(e,o,l,r));return i.push("</table>"+s),i.join("")}function EL(e,t,r){var a=r||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?on(a.origin):a.origin;s=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var u=As(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),s==-1&&(d.e.r=s=u.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,x=0,y=0,v=0,w=0,j=0;for(e["!cols"]||(e["!cols"]=[]);p<l.length&&x<c;++p){var A=l[p];if(M3(A)){if(a.display)continue;m[x]={hidden:!0}}var C=A.children;for(y=v=0;y<C.length;++y){var S=C[y];if(!(a.display&&M3(S))){var k=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):JR(S.innerHTML),E=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==v+i&&T.s.r<x+s&&x+s<=T.e.r&&(v=T.e.c+1-i,h=-1)}j=+S.getAttribute("colspan")||1,((w=+S.getAttribute("rowspan")||1)>1||j>1)&&f.push({s:{r:x+s,c:v+i},e:{r:x+s+(w||1)-1,c:v+i+(j||1)-1}});var F={t:"s",v:k},O=S.getAttribute("data-t")||S.getAttribute("t")||"";k!=null&&(k.length==0?F.t=O||"z":a.raw||k.trim().length==0||O=="s"||(k==="TRUE"?F={t:"b",v:!0}:k==="FALSE"?F={t:"b",v:!1}:isNaN(Zi(k))?isNaN(xf(k).getDate())||(F={t:"d",v:Zr(k)},a.cellDates||(F={t:"n",v:Kn(F.v)}),F.z=a.dateNF||It[14]):F={t:"n",v:Zi(k)})),F.z===void 0&&E!=null&&(F.z=E);var P="",W=S.getElementsByTagName("A");if(W&&W.length)for(var q=0;q<W.length&&!(W[q].hasAttribute("href")&&(P=W[q].getAttribute("href"),P.charAt(0)!="#"));++q);P&&P.charAt(0)!="#"&&(F.l={Target:P}),a.dense?(e[x+s]||(e[x+s]=[]),e[x+s][v+i]=F):e[Ft({c:v+i,r:x+s})]=F,d.e.c<v+i&&(d.e.c=v+i),v+=j}}++x}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,x-1+s),e["!ref"]=Vt(d),x>=c&&(e["!fullref"]=Vt((d.e.r=l.length-p+x-1+s,d))),e}function TL(e,t){var r=t||{},a=r.dense?[]:{};return EL(a,e,t)}function eTe(e,t){return pc(TL(e,t),t)}function M3(e){var t="",r=tTe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function tTe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function rTe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=ur(t.replace(/<[^>]*>/g,""));return[r]}var L3={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function OL(e,t){var r=t||{},a=ck(e),s=[],i,o,l={name:""},c="",d=0,u,f,h={},m=[],p=r.dense?[]:{},x,y,v={value:""},w="",j=0,A=[],C=-1,S=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,T={},F=[],O={},P=0,W=0,q=[],D=1,M=1,H=[],ee={Names:[]},X={},de=["",""],le=[],G={},K="",Z=0,I=!1,V=!1,te=0;for(O0.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=O0.exec(a);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"工作表":x[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?p["!ref"]=Vt(k):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=k.e.r&&(p["!fullref"]=p["!ref"],k.e.r=r.sheetRows-1,p["!ref"]=Vt(k)),F.length&&(p["!merges"]=F),q.length&&(p["!rows"]=q),u.name=u.名称||u.name,typeof JSON!="undefined"&&JSON.stringify(u),m.push(u.name),h[u.name]=p,V=!1):x[0].charAt(x[0].length-2)!=="/"&&(u=Dt(x[0],!1),C=S=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,p=r.dense?[]:{},F=[],q=[],V=!0);break;case"table-row-group":x[1]==="/"?--E:++E;break;case"table-row":case"行":if(x[1]==="/"){C+=D,D=1;break}if(f=Dt(x[0],!1),f.行号?C=f.行号-1:C==-1&&(C=0),D=+f["number-rows-repeated"]||1,D<10)for(te=0;te<D;++te)E>0&&(q[C+te]={level:E});S=-1;break;case"covered-table-cell":x[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(p[C]||(p[C]=[]),p[C][S]={t:"z"}):p[Ft({r:C,c:S})]={t:"z"}),w="",A=[];break;case"table-cell":case"数据":if(x[0].charAt(x[0].length-2)==="/")++S,v=Dt(x[0],!1),M=parseInt(v["number-columns-repeated"]||"1",10),y={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(y.f=I3(ur(v.formula))),(v.数据类型||v["value-type"])=="string"&&(y.t="s",y.v=ur(v["string-value"]||""),r.dense?(p[C]||(p[C]=[]),p[C][S]=y):p[Ft({r:C,c:S})]=y),S+=M-1;else if(x[1]!=="/"){++S,w="",j=0,A=[],M=1;var R=D?C+D-1:C;if(S>k.e.c&&(k.e.c=S),S<k.s.c&&(k.s.c=S),C<k.s.r&&(k.s.r=C),R>k.e.r&&(k.e.r=R),v=Dt(x[0],!1),le=[],G={},y={t:v.数据类型||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=ur(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(P=parseInt(v["number-matrix-rows-spanned"],10)||0,W=parseInt(v["number-matrix-columns-spanned"],10)||0,O={s:{r:C,c:S},e:{r:C+P-1,c:S+W-1}},y.F=Vt(O),H.push([O,y.F])),v.formula)y.f=I3(v.formula);else for(te=0;te<H.length;++te)C>=H[te][0].s.r&&C<=H[te][0].e.r&&S>=H[te][0].s.c&&S<=H[te][0].e.c&&(y.F=H[te][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(P=parseInt(v["number-rows-spanned"],10)||0,W=parseInt(v["number-columns-spanned"],10)||0,O={s:{r:C,c:S},e:{r:C+P-1,c:S+W-1}},F.push(O)),v["number-columns-repeated"]&&(M=parseInt(v["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Jr(v["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(v.value);break;case"percentage":y.t="n",y.v=parseFloat(v.value);break;case"currency":y.t="n",y.v=parseFloat(v.value);break;case"date":y.t="d",y.v=Zr(v["date-value"]),r.cellDates||(y.t="n",y.v=Kn(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=Ewe(v["time-value"])/86400,r.cellDates&&(y.t="d",y.v=_b(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(v.数据数值);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",v["string-value"]!=null&&(w=ur(v["string-value"]),A=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(I=!1,y.t==="s"&&(y.v=w||"",A.length&&(y.R=A),I=j==0),X.Target&&(y.l=X),le.length>0&&(y.c=le,le=[]),w&&r.cellText!==!1&&(y.w=w),I&&(y.t="z",delete y.v),(!I||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=C))for(var U=0;U<D;++U){if(M=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(p[C+U]||(p[C+U]=[]),p[C+U][S]=U==0?y:Qr(y);--M>0;)p[C+U][S+M]=Qr(y);else for(p[Ft({r:C+U,c:S})]=y;--M>0;)p[Ft({r:C+U,c:S+M})]=Qr(y);k.e.c<=S&&(k.e.c=S)}M=parseInt(v["number-columns-repeated"]||"1",10),S+=M-1,M=0,y={},w="",A=[]}X={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i;G.t=w,A.length&&(G.R=A),G.a=K,le.push(G)}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);K="",Z=0,w="",j=0,A=[];break;case"creator":x[1]==="/"?K=a.slice(Z,x.index):Z=x.index+x[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);w="",j=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(T[l.name]=c,(i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=Dt(x[0],!1),s.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Dt(x[0],!1),c+=L3[x[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Dt(x[0],!1),c+=L3[x[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=a.slice(d,x.index);break}else d=x.index+x[0].length;break;case"named-range":o=Dt(x[0],!1),de=$w(o["cell-range-address"]);var Q={Name:o.name,Ref:de[0]+"!"+de[1]};V&&(Q.Sheet=m.length),ee.Names.push(Q);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(x[1]==="/"&&(!v||!v["string-value"])){var J=rTe(a.slice(j,x.index));w=(w.length>0?w+`
`:"")+J[0]}else Dt(x[0],!1),j=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{de=$w(Dt(x[0])["target-range-address"]),h[de[0]]["!autofilter"]={ref:de[1]}}catch(he){}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(X=Dt(x[0],!1),!X.href)break;X.Target=ur(X.href),delete X.href,X.Target.charAt(0)=="#"&&X.Target.indexOf(".")>-1?(de=$w(X.Target.slice(1)),X.Target="#"+de[0]+"!"+de[1]):X.Target.match(/^\.\.[\\\/]/)&&(X.Target=X.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(x)}}var L={Sheets:h,SheetNames:m,Workbook:ee};return r.bookSheets&&delete L.Sheets,L}function $3(e,t){t=t||{},mi(e,"META-INF/manifest.xml")&&Eje(En(e,"META-INF/manifest.xml"),t);var r=zs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=OL(Fr(r),t);return mi(e,"meta.xml")&&(a.Props=wM(En(e,"meta.xml"))),a}function B3(e,t){return OL(e,t)}var nTe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+T0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return kn+t}}(),U3=function(){var e=function(i){return Er(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Er(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,f=As(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var x="",y=i["!rows"]||[];for(d=0;d<f.s.r;++d)x=y[d]?' table:style-name="ro'+y[d].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;d<=f.e.r;++d){for(x=y[d]?' table:style-name="ro'+y[d].ods+'"':"",c.push("        <table:table-row"+x+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var v=!1,w={},j="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>u)&&!(h[m].s.r>d)&&!(h[m].e.c<u)&&!(h[m].e.r<d)){(h[m].s.c!=u||h[m].s.r!=d)&&(v=!0),w["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,w["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(v){c.push(r);continue}var A=Ft({r:d,c:u}),C=p?(i[d]||[])[u]:i[A];if(C&&C.f&&(w["table:formula"]=Er(NAe(C.f)),C.F&&C.F.slice(0,A.length)==A)){var S=As(C.F);w["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,w["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!C){c.push(t);continue}switch(C.t){case"b":j=C.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=C.v?"true":"false";break;case"n":j=C.w||String(C.v||0),w["office:value-type"]="float",w["office:value"]=C.v||0;break;case"s":case"str":j=C.v==null?"":C.v,w["office:value-type"]="string";break;case"d":j=C.w||Zr(C.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Zr(C.v).toISOString(),w["table:style-name"]="ce1";break;default:c.push(t);continue}var k=e(j);if(C.l&&C.l.Target){var E=C.l.Target;E=E.charAt(0)=="#"?"#"+SAe(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),k=et("text:a",k,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+et("table:table-cell",et("text:p",k,{}),w)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;nc(f),f.ods=l;var h=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[kn],d=T0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=T0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(bM().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),s(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(a(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function PL(e,t){if(t.bookType=="fods")return U3(e,t);var r=sk(),a="",s=[],i=[];return a="mimetype",Kt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Kt(r,a,U3(e,t)),s.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",Kt(r,a,nTe(e,t)),s.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",Kt(r,a,kn+bM()),s.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",Kt(r,a,Pje(i)),s.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Kt(r,a,Tje(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function vd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function m2(e){return typeof TextDecoder!="undefined"?new TextDecoder().decode(e):Fr(mc(e))}function aTe(e){return typeof TextEncoder!="undefined"?new TextEncoder().encode(e):Ws(yo(e))}function sTe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function sc(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(s){r.set(s,a),a+=s.length}),r}function W3(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function iTe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,s=t+13;s>=t;--s)a=a*256+e[s];return(e[t+15]&128?-a:a)*Math.pow(10,r-6176)}function oTe(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function L0(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Cr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function mn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function mr(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],s=L0(e,r),i=s&7;s=Math.floor(s/8);var o=0,l;if(s==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=L0(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var d={data:l,type:i};t[s]==null?t[s]=[d]:t[s].push(d)}return t}function wa(e){var t=[];return e.forEach(function(r,a){r.forEach(function(s){s.data&&(t.push(Cr(a*8+s.type)),s.type==2&&t.push(Cr(s.data.length)),t.push(s.data))})}),sc(t)}function Pk(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function fi(e){for(var t,r=[],a=[0];a[0]<e.length;){var s=L0(e,a),i=mr(e.slice(a[0],a[0]+s));a[0]+=s;var o={id:mn(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=mr(l.data),d=mn(c[3][0].data);o.messages.push({meta:c,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=mn(i[3][0].data)>>>0>0),r.push(o)}return r}function xu(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Cr(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Cr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:Cr(o.data.length)}],a[2].push({data:wa(o.meta),type:2})});var i=wa(a);t.push(Cr(i.length)),t.push(i),s.forEach(function(o){return t.push(o)})}),sc(t)}function lTe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=L0(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}s.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[sc(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(s.push(s[0].slice(-c)),d-=c;d>=s[s.length-1].length;)s.push(s[s.length-1]),d-=s[s.length-1].length;s.push(s[0].slice(-c,-c+d))}}var u=sc(s);if(u.length!=a)throw new Error("Unexpected length: ".concat(u.length," != ").concat(a));return u}function hi(e){for(var t=[],r=0;r<e.length;){var a=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(lTe(a,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return sc(t)}function yu(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=Cr(a),o=i.length;t.push(i),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),o+=a,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=a}return sc(t)}function cTe(e,t,r,a){var s=vd(e),i=s.getUint32(4,!0),o=(a>1?12:8)+W3(i&(a>1?3470:398))*4,l=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(l=s.getUint32(o,!0),o+=4),o+=W3(i&(a>1?12288:4096))*4,i&16&&(c=s.getUint32(o,!0),o+=4),i&32&&(d=s.getFloat64(o,!0),o+=8),i&64&&(u.setTime(u.getTime()+s.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:d};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(d))f={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function dTe(e,t,r){var a=vd(e),s=a.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);s&1&&(c=iTe(e,i),i+=16),s&2&&(d=a.getFloat64(i,!0),i+=8),s&4&&(u.setTime(u.getTime()+a.getFloat64(i,!0)*1e3),i+=8),s&8&&(l=a.getUint32(i,!0),i+=4),s&16&&(o=a.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:d>0};break;case 7:f={t:"n",v:d/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return f}function Uw(e,t){var r=new Uint8Array(32),a=vd(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,oTe(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,a.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,s)}function Ww(e,t){var r=new Uint8Array(32),a=vd(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,a.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,s)}function uTe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return cTe(e,t,r,e[0]);case 5:return dTe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ra(e){var t=mr(e);return L0(t[1][0].data)}function z3(e,t){var r=mr(t.data),a=mn(r[1][0].data),s=r[3],i=[];return(s||[]).forEach(function(o){var l=mr(o.data),c=mn(l[1][0].data)>>>0;switch(a){case 1:i[c]=m2(l[3][0].data);break;case 8:{var d=e[Ra(l[9][0].data)][0],u=mr(d.data),f=e[Ra(u[1][0].data)][0],h=mn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=mr(f.data);i[c]=m[3].map(function(p){return m2(p.data)}).join("")}break}}),i}function fTe(e,t){var r,a,s,i,o,l,c,d,u,f,h,m,p,x,y=mr(e),v=mn(y[1][0].data)>>>0,w=mn(y[2][0].data)>>>0,j=((a=(r=y[8])==null?void 0:r[0])==null?void 0:a.data)&&mn(y[8][0].data)>0||!1,A,C;if((i=(s=y[7])==null?void 0:s[0])!=null&&i.data&&t!=0)A=(l=(o=y[7])==null?void 0:o[0])==null?void 0:l.data,C=(d=(c=y[6])==null?void 0:c[0])==null?void 0:d.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&t!=1)A=(m=(h=y[4])==null?void 0:h[0])==null?void 0:m.data,C=(x=(p=y[3])==null?void 0:p[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=j?4:1,k=vd(A),E=[],T=0;T<A.length/2;++T){var F=k.getUint16(T*2,!0);F<65535&&E.push([T,F])}if(E.length!=w)throw"Expected ".concat(w," cells, found ").concat(E.length);var O=[];for(T=0;T<E.length-1;++T)O[E[T][0]]=C.subarray(E[T][1]*S,E[T+1][1]*S);return E.length>=1&&(O[E[E.length-1][0]]=C.subarray(E[E.length-1][1]*S)),{R:v,cells:O}}function hTe(e,t){var r,a=mr(t.data),s=(r=a==null?void 0:a[7])!=null&&r[0]?mn(a[7][0].data)>>>0>0?1:0:-1,i=Pk(a[5],function(o){return fTe(o,s)});return{nrows:mn(a[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,d){if(o[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));o[l.R][d]=c}),o},[])}}function mTe(e,t,r){var a,s=mr(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(mn(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(mn(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=Vt(i);var o=mr(s[4][0].data),l=z3(e,e[Ra(o[4][0].data)][0]),c=(a=o[17])!=null&&a[0]?z3(e,e[Ra(o[17][0].data)][0]):[],d=mr(o[3][0].data),u=0;d[1].forEach(function(f){var h=mr(f.data),m=e[Ra(h[2][0].data)][0],p=mn(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var x=hTe(e,m);x.data.forEach(function(y,v){y.forEach(function(w,j){var A=Ft({r:u+v,c:j}),C=uTe(w,l,c);C&&(r[A]=C)})}),u+=x.nrows})}function pTe(e,t){var r=mr(t.data),a={"!ref":"A1"},s=e[Ra(r[2][0].data)],i=mn(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return mTe(e,s[0],a),a}function gTe(e,t){var r,a=mr(t.data),s={name:(r=a[1])!=null&&r[0]?m2(a[1][0].data):"",sheets:[]},i=Pk(a[2],Ra);return i.forEach(function(o){e[o].forEach(function(l){var c=mn(l.meta[1][0].data);c==6e3&&s.sheets.push(pTe(e,l))})}),s}function xTe(e,t){var r=Mk(),a=mr(t.data),s=Pk(a[1],Ra);if(s.forEach(function(i){e[i].forEach(function(o){var l=mn(o.meta[1][0].data);if(l==2){var c=gTe(e,o);c.sheets.forEach(function(d,u){Lk(r,d,u==0?c.name:c.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function zw(e){var t,r,a,s,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=hi(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var u;try{u=fi(d)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((s=(a=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:s[0].data)&&mn(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(d){var u=mn(d.meta[1][0].data)>>>0;if(u==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return xTe(i,l)}function yTe(e,t,r){var a,s,i,o;if(!((a=e[6])!=null&&a[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&mn(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=vd(e[7][0].data),u=0,f=[],h=vd(e[4][0].data),m=0,p=[],x=0;x<t.length;++x){if(t[x]==null){d.setUint16(x*2,65535,!0),h.setUint16(x*2,65535);continue}d.setUint16(x*2,u,!0),h.setUint16(x*2,m,!0);var y,v;switch(typeof t[x]){case"string":y=Uw({t:"s",v:t[x]},r),v=Ww({t:"s",v:t[x]},r);break;case"number":y=Uw({t:"n",v:t[x]},r),v=Ww({t:"n",v:t[x]},r);break;case"boolean":y=Uw({t:"b",v:t[x]},r),v=Ww({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}f.push(y),u+=y.length,p.push(v),m+=v.length,++c}for(e[2][0].data=Cr(c);x<e[7][0].data.length/2;++x)d.setUint16(x*2,65535,!0),h.setUint16(x*2,65535,!0);return e[6][0].data=sc(f),e[3][0].data=sc(p),c}function vTe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=As(r["!ref"]);a.s.r=a.s.c=0;var s=!1;a.e.c>9&&(s=!0,a.e.c=9),a.e.r>49&&(s=!0,a.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Vt(a)));var i=lv(r,{range:a,header:1}),o=["~Sh33tJ5~"];i.forEach(function(K){return K.forEach(function(Z){typeof Z=="string"&&o.push(Z)})});var l={},c=[],d=kt.read(t.numbers,{type:"base64"});d.FileIndex.map(function(K,Z){return[K,d.FullPaths[Z]]}).forEach(function(K){var Z=K[0],I=K[1];if(Z.type==2&&Z.name.match(/\.iwa/)){var V=Z.content,te=hi(V),R=fi(te);R.forEach(function(U){c.push(U.id),l[U.id]={deps:[],location:I,type:mn(U.messages[0].meta[1][0].data)}})}}),c.sort(function(K,Z){return K-Z});var u=c.filter(function(K){return K>1}).map(function(K){return[K,Cr(K)]});d.FileIndex.map(function(K,Z){return[K,d.FullPaths[Z]]}).forEach(function(K){var Z=K[0];if(K[1],!!Z.name.match(/\.iwa/)){var I=fi(hi(Z.content));I.forEach(function(V){V.messages.forEach(function(te){u.forEach(function(R){V.messages.some(function(U){return mn(U.meta[1][0].data)!=11006&&sTe(U.data,R[1])})&&l[R[0]].deps.push(V.id)})})})}});for(var f=kt.find(d,l[1].location),h=fi(hi(f.content)),m,p=0;p<h.length;++p){var x=h[p];x.id==1&&(m=x)}var y=Ra(mr(m.messages[0].data)[1][0].data);for(f=kt.find(d,l[y].location),h=fi(hi(f.content)),p=0;p<h.length;++p)x=h[p],x.id==y&&(m=x);for(y=Ra(mr(m.messages[0].data)[2][0].data),f=kt.find(d,l[y].location),h=fi(hi(f.content)),p=0;p<h.length;++p)x=h[p],x.id==y&&(m=x);for(y=Ra(mr(m.messages[0].data)[2][0].data),f=kt.find(d,l[y].location),h=fi(hi(f.content)),p=0;p<h.length;++p)x=h[p],x.id==y&&(m=x);var v=mr(m.messages[0].data);{v[6][0].data=Cr(a.e.r+1),v[7][0].data=Cr(a.e.c+1);var w=Ra(v[46][0].data),j=kt.find(d,l[w].location),A=fi(hi(j.content));{for(var C=0;C<A.length&&A[C].id!=w;++C);if(A[C].id!=w)throw"Bad ColumnRowUIDMapArchive";var S=mr(A[C].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var k=0;k<=a.e.c;++k){var E=[];E[1]=E[2]=[{type:0,data:Cr(k+420690)}],S[1].push({type:2,data:wa(E)}),S[2].push({type:0,data:Cr(k)}),S[3].push({type:0,data:Cr(k)})}S[4]=[],S[5]=[],S[6]=[];for(var T=0;T<=a.e.r;++T)E=[],E[1]=E[2]=[{type:0,data:Cr(T+726270)}],S[4].push({type:2,data:wa(E)}),S[5].push({type:0,data:Cr(T)}),S[6].push({type:0,data:Cr(T)});A[C].messages[0].data=wa(S)}j.content=yu(xu(A)),j.size=j.content.length,delete v[46];var F=mr(v[4][0].data);{F[7][0].data=Cr(a.e.r+1);var O=mr(F[1][0].data),P=Ra(O[2][0].data);j=kt.find(d,l[P].location),A=fi(hi(j.content));{if(A[0].id!=P)throw"Bad HeaderStorageBucket";var W=mr(A[0].messages[0].data);for(T=0;T<i.length;++T){var q=mr(W[2][0].data);q[1][0].data=Cr(T),q[4][0].data=Cr(i[T].length),W[2][T]={type:W[2][0].type,data:wa(q)}}A[0].messages[0].data=wa(W)}j.content=yu(xu(A)),j.size=j.content.length;var D=Ra(F[2][0].data);j=kt.find(d,l[D].location),A=fi(hi(j.content));{if(A[0].id!=D)throw"Bad HeaderStorageBucket";for(W=mr(A[0].messages[0].data),k=0;k<=a.e.c;++k)q=mr(W[2][0].data),q[1][0].data=Cr(k),q[4][0].data=Cr(a.e.r+1),W[2][k]={type:W[2][0].type,data:wa(q)};A[0].messages[0].data=wa(W)}j.content=yu(xu(A)),j.size=j.content.length;var M=Ra(F[4][0].data);(function(){for(var K=kt.find(d,l[M].location),Z=fi(hi(K.content)),I,V=0;V<Z.length;++V){var te=Z[V];te.id==M&&(I=te)}var R=mr(I.messages[0].data);{R[3]=[];var U=[];o.forEach(function(L,he){U[1]=[{type:0,data:Cr(he)}],U[2]=[{type:0,data:Cr(1)}],U[3]=[{type:2,data:aTe(L)}],R[3].push({type:2,data:wa(U)})})}I.messages[0].data=wa(R);var Q=xu(Z),J=yu(Q);K.content=J,K.size=K.content.length})();var H=mr(F[3][0].data);{var ee=H[1][0];delete H[2];var X=mr(ee.data);{var de=Ra(X[2][0].data);(function(){for(var K=kt.find(d,l[de].location),Z=fi(hi(K.content)),I,V=0;V<Z.length;++V){var te=Z[V];te.id==de&&(I=te)}var R=mr(I.messages[0].data);{delete R[6],delete H[7];var U=new Uint8Array(R[5][0].data);R[5]=[];for(var Q=0,J=0;J<=a.e.r;++J){var L=mr(U);Q+=yTe(L,i[J],o),L[1][0].data=Cr(J),R[5].push({data:wa(L),type:2})}R[1]=[{type:0,data:Cr(a.e.c+1)}],R[2]=[{type:0,data:Cr(a.e.r+1)}],R[3]=[{type:0,data:Cr(Q)}],R[4]=[{type:0,data:Cr(a.e.r+1)}]}I.messages[0].data=wa(R);var he=xu(Z),ge=yu(he);K.content=ge,K.size=K.content.length})()}ee.data=wa(X)}F[3][0].data=wa(H)}v[4][0].data=wa(F)}m.messages[0].data=wa(v);var le=xu(h),G=yu(le);return f.content=G,f.size=f.content.length,d}function IL(e){return function(r){for(var a=0;a!=e.length;++a){var s=e[a];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Ik(e){IL([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Fk(e){IL([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function bTe(e){return tr.WS.indexOf(e)>-1?"sheet":e==tr.CS?"chart":e==tr.DS?"dialog":e==tr.MS?"macro":e&&e.length?e:"sheet"}function wTe(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,bTe(e["!id"][a.id].Type)]})}catch(r){return null}return!e||e.length===0?null:e}function jTe(e,t,r,a,s,i,o,l,c,d,u,f){try{i[a]=Em(zs(e,r,!0),t);var h=En(e,t),m;switch(l){case"sheet":m=H4e(h,t,s,c,i[a],d,u,f);break;case"chart":if(m=V4e(h,t,s,c,i[a],d,u,f),!m||!m["!drawel"])break;var p=gm(m["!drawel"].Target,t),x=P0(p),y=Oke(zs(e,p,!0),Em(zs(e,x,!0),p)),v=gm(y,p),w=P0(v);m=y4e(zs(e,v,!0),v,c,Em(zs(e,w,!0),v),d,m);break;case"macro":m=G4e(h,t,s,c,i[a],d,u,f);break;case"dialog":m=q4e(h,t,s,c,i[a],d,u,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[a]=m;var j=[];i&&i[a]&&pn(i[a]).forEach(function(A){var C="";if(i[a][A].Type==tr.CMNT){C=gm(i[a][A].Target,t);var S=J4e(En(e,C,!0),C,c);if(!S||!S.length)return;_3(m,S,!1)}i[a][A].Type==tr.TCMNT&&(C=gm(i[a][A].Target,t),j=j.concat(Ike(En(e,C,!0),c)))}),j&&j.length&&_3(m,j,!0,c.people||[])}catch(A){if(c.WTF)throw A}}function ci(e){return e.charAt(0)=="/"?e.slice(1):e}function NTe(e,t){if(Gf(),t=t||{},Ik(t),mi(e,"META-INF/manifest.xml")||mi(e,"objectdata.xml"))return $3(e,t);if(mi(e,"Index/Document.iwa")){if(typeof Uint8Array=="undefined")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof zw!="undefined"){if(e.FileIndex)return zw(e);var r=kt.utils.cfb_new();return XO(e).forEach(function(q){Kt(r,q,Fwe(e,q))}),zw(r)}throw new Error("Unsupported NUMBERS file")}if(!mi(e,"[Content_Types].xml"))throw mi(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):mi(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=XO(e),s=Aje(zs(e,"[Content_Types].xml")),i=!1,o,l;if(s.workbooks.length===0&&(l="xl/workbook.xml",En(e,l,!0)&&s.workbooks.push(l)),s.workbooks.length===0){if(l="xl/workbook.bin",!En(e,l,!0))throw new Error("Could not find workbook");s.workbooks.push(l),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(Tm=[],s.sst)try{Tm=Y4e(En(e,ci(s.sst)),s.sst,t)}catch(q){if(t.WTF)throw q}t.cellStyles&&s.themes.length&&(c=X4e(zs(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(d=K4e(En(e,ci(s.style)),s.style,c,t))}s.links.map(function(q){try{var D=Em(zs(e,P0(ci(q))),q);return Q4e(En(e,ci(q)),D,q,t)}catch(M){}});var u=z4e(En(e,ci(s.workbooks[0])),s.workbooks[0],t),f={},h="";s.coreprops.length&&(h=En(e,ci(s.coreprops[0]),!0),h&&(f=wM(h)),s.extprops.length!==0&&(h=En(e,ci(s.extprops[0]),!0),h&&Fje(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(h=zs(e,ci(s.custprops[0]),!0),h&&(m=Rje(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(D){return D.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof o!="undefined"&&(p.SheetNames=o),t.bookSheets?p.SheetNames:t.bookProps))return p;o={};var x={};t.bookDeps&&s.calcchain&&(x=Z4e(En(e,ci(s.calcchain)),s.calcchain));var y=0,v={},w,j;{var A=u.Sheets;f.Worksheets=A.length,f.SheetNames=[];for(var C=0;C!=A.length;++C)f.SheetNames[C]=A[C].name}var S=i?"bin":"xml",k=s.workbooks[0].lastIndexOf("/"),E=(s.workbooks[0].slice(0,k+1)+"_rels/"+s.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");mi(e,E)||(E="xl/_rels/workbook."+S+".rels");var T=Em(zs(e,E,!0),E.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=eEe(En(e,ci(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=Dke(En(e,ci(s.people[0])),t)),T&&(T=wTe(T,u.Sheets));var F=En(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var O="sheet";if(T&&T[y]?(w="xl/"+T[y][1].replace(/[\/]?xl\//,""),mi(e,w)||(w=T[y][1]),mi(e,w)||(w=E.replace(/_rels\/.*$/,"")+T[y][1]),O=T[y][2]):(w="xl/worksheets/sheet"+(y+1-F)+"."+S,w=w.replace(/sheet0\./,"sheet.")),j=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var P=!1,W=0;W!=t.sheets.length;++W)typeof t.sheets[W]=="number"&&t.sheets[W]==y&&(P=1),typeof t.sheets[W]=="string"&&t.sheets[W].toLowerCase()==f.SheetNames[y].toLowerCase()&&(P=1);if(!P)continue e}}jTe(e,w,j,f.SheetNames[y],y,v,o,O,t,u,c,d)}return p={Directory:s,Workbook:u,Props:f,Custprops:m,Deps:x,Sheets:o,SheetNames:f.SheetNames,Strings:Tm,Styles:d,Themes:c,SSF:Qr(It)},t&&t.bookFiles&&(e.files?(p.keys=a,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(q,D){q=q.replace(/^Root Entry[\/]/,""),p.keys.push(q),p.files[q]=e.FileIndex[D]}))),t&&t.bookVBA&&(s.vba.length>0?p.vbaraw=En(e,ci(s.vba[0]),!0):s.defaults&&s.defaults.bin===zke&&(p.vbaraw=En(e,"xl/vbaProject.bin",!0))),p}function STe(e,t){var r=t||{},a="Workbook",s=kt.find(e,a);try{if(a="/!DataSpaces/Version",s=kt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(eSe(s.content),a="/!DataSpaces/DataSpaceMap",s=kt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=rSe(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=kt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=nSe(s.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=kt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);sSe(s.content)}catch(c){}if(a="/EncryptionInfo",s=kt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=iSe(s.content);if(a="/EncryptedPackage",s=kt.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(l[0]==4&&typeof decrypt_agile!="undefined")return decrypt_agile(l[1],s.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76!="undefined")return decrypt_std76(l[1],s.content,r.password||"",r);throw new Error("File is password-protected")}function kTe(e,t){return t.bookType=="ods"?PL(e,t):t.bookType=="numbers"?vTe(e,t):t.bookType=="xlsb"?CTe(e,t):ATe(e,t)}function CTe(e,t){Eu=1024,e&&!e.SSF&&(e.SSF=Qr(It)),e&&e.SSF&&(Gf(),kb(e.SSF),t.revssf=Ab(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Om?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=iL.indexOf(t.bookType)>-1,s=vk();Fk(t=t||{});var i=sk(),o="",l=0;if(t.cellXfs=[],gc(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Kt(i,o,jM(e.Props,t)),s.coreprops.push(o),_r(t.rels,2,o,tr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Kt(i,o,kM(e.Props)),s.extprops.push(o),_r(t.rels,3,o,tr.EXT_PROPS),e.Custprops!==e.Props&&pn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Kt(i,o,CM(e.Custprops)),s.custprops.push(o),_r(t.rels,4,o,tr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Kt(i,o,rEe(l-1,o,t,e,u)),s.sheets.push(o),_r(t.wbrels,-1,"worksheets/sheet"+l+"."+r,tr.WS[0])}if(f){var m=f["!comments"],p=!1,x="";m&&m.length>0&&(x="xl/comments"+l+"."+r,Kt(i,x,sEe(m,x)),s.comments.push(x),_r(u,-1,"../comments"+l+"."+r,tr.CMNT),p=!0),f["!legacy"]&&p&&Kt(i,"xl/drawings/vmlDrawing"+l+".vml",aL(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Kt(i,P0(o),Mu(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Kt(i,o,aEe(t.Strings,o,t)),s.strs.push(o),_r(t.wbrels,-1,"sharedStrings."+r,tr.SST)),o="xl/workbook."+r,Kt(i,o,tEe(e,o)),s.workbooks.push(o),_r(t.rels,1,o,tr.WB),o="xl/theme/theme1.xml",Kt(i,o,kk(e.Themes,t)),s.themes.push(o),_r(t.wbrels,-1,"theme/theme1.xml",tr.THEME),o="xl/styles."+r,Kt(i,o,nEe(e,o,t)),s.styles.push(o),_r(t.wbrels,-1,"styles."+r,tr.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",Kt(i,o,e.vbaraw),s.vba.push(o),_r(t.wbrels,-1,"vbaProject.bin",tr.VBA)),o="xl/metadata."+r,Kt(i,o,iEe(o)),s.metadata.push(o),_r(t.wbrels,-1,"metadata."+r,tr.XLMETA),Kt(i,"[Content_Types].xml",vM(s,t)),Kt(i,"_rels/.rels",Mu(t.rels)),Kt(i,"xl/_rels/workbook."+r+".rels",Mu(t.wbrels)),delete t.revssf,delete t.ssf,i}function ATe(e,t){Eu=1024,e&&!e.SSF&&(e.SSF=Qr(It)),e&&e.SSF&&(Gf(),kb(e.SSF),t.revssf=Ab(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Om?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=iL.indexOf(t.bookType)>-1,s=vk();Fk(t=t||{});var i=sk(),o="",l=0;if(t.cellXfs=[],gc(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Kt(i,o,jM(e.Props,t)),s.coreprops.push(o),_r(t.rels,2,o,tr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Kt(i,o,kM(e.Props)),s.extprops.push(o),_r(t.rels,3,o,tr.EXT_PROPS),e.Custprops!==e.Props&&pn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Kt(i,o,CM(e.Custprops)),s.custprops.push(o),_r(t.rels,4,o,tr.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Kt(i,o,xL(l-1,t,e,f)),s.sheets.push(o),_r(t.wbrels,-1,"worksheets/sheet"+l+"."+r,tr.WS[0])}if(h){var p=h["!comments"],x=!1,y="";if(p&&p.length>0){var v=!1;p.forEach(function(w){w[1].forEach(function(j){j.T==!0&&(v=!0)})}),v&&(y="xl/threadedComments/threadedComment"+l+"."+r,Kt(i,y,Fke(p,u,t)),s.threadedcomments.push(y),_r(f,-1,"../threadedComments/threadedComment"+l+"."+r,tr.TCMNT)),y="xl/comments"+l+"."+r,Kt(i,y,sL(p)),s.comments.push(y),_r(f,-1,"../comments"+l+"."+r,tr.CMNT),x=!0}h["!legacy"]&&x&&Kt(i,"xl/drawings/vmlDrawing"+l+".vml",aL(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Kt(i,P0(o),Mu(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Kt(i,o,GM(t.Strings,t)),s.strs.push(o),_r(t.wbrels,-1,"sharedStrings."+r,tr.SST)),o="xl/workbook."+r,Kt(i,o,jL(e)),s.workbooks.push(o),_r(t.rels,1,o,tr.WB),o="xl/theme/theme1.xml",Kt(i,o,kk(e.Themes,t)),s.themes.push(o),_r(t.wbrels,-1,"theme/theme1.xml",tr.THEME),o="xl/styles."+r,Kt(i,o,eL(e,t)),s.styles.push(o),_r(t.wbrels,-1,"styles."+r,tr.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",Kt(i,o,e.vbaraw),s.vba.push(o),_r(t.wbrels,-1,"vbaProject.bin",tr.VBA)),o="xl/metadata."+r,Kt(i,o,nL()),s.metadata.push(o),_r(t.wbrels,-1,"metadata."+r,tr.XLMETA),u.length>1&&(o="xl/persons/person.xml",Kt(i,o,Rke(u)),s.people.push(o),_r(t.wbrels,-1,"persons/person.xml",tr.PEOPLE)),Kt(i,"[Content_Types].xml",vM(s,t)),Kt(i,"_rels/.rels",Mu(t.rels)),Kt(i,"xl/_rels/workbook."+r+".rels",Mu(t.wbrels)),delete t.revssf,delete t.ssf,i}function Dk(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Js(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function _Te(e,t){return kt.find(e,"EncryptedPackage")?STe(e,t):CL(e,t)}function ETe(e,t){var r,a=e,s=t||{};return s.type||(s.type=Jt&&Buffer.isBuffer(e)?"buffer":"base64"),r=KR(a,s),NTe(r,s)}function FL(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return f2(e.slice(r),t);default:break e}return yf.to_workbook(e,t)}function TTe(e,t){var r="",a=Dk(e,t);switch(t.type){case"base64":r=Js(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=pd(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=Fr(r)),t.type="binary",FL(r,t)}function OTe(e,t){var r=e;return t.type=="base64"&&(r=Js(r)),r=Ml.utils.decode(1200,r.slice(2),"str"),t.type="binary",FL(r,t)}function PTe(e){return e.match(/[^\x00-\x7F]/)?yo(e):e}function Hw(e,t,r,a){return a?(r.type="string",yf.to_workbook(e,r)):yf.to_workbook(t,r)}function bf(e,t){ek();var r=t||{};if(typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer)return bf(new Uint8Array(e),(r=Qr(r),r.type="array",r));typeof Uint8Array!="undefined"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno!="undefined"?"buffer":"array");var a=e,s=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),$u={},r.dateNF&&($u.dateNF=r.dateNF),r.type||(r.type=Jt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Jt?"buffer":"binary",a=Cwe(e),typeof Uint8Array!="undefined"&&!Jt&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,a=PTe(e)),r.type=="array"&&typeof Uint8Array!="undefined"&&e instanceof Uint8Array&&typeof ArrayBuffer!="undefined"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Qr(r),r.type="array",bf(tk(a),r)}switch((s=Dk(a,r))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return _Te(kt.read(a,r),r);break;case 9:if(s[1]<=8)return CL(a,r);break;case 60:return f2(a,r);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return M2e(a,r);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return HM.to_workbook(a,r);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?ETe(a,r):Hw(e,a,r,i);case 239:return s[3]===60?f2(a,r):Hw(e,a,r,i);case 255:if(s[1]===254)return OTe(a,r);if(s[1]===0&&s[2]===2&&s[3]===0)return ad.to_workbook(a,r);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return ad.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return u2.to_workbook(a,r);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return JM.to_workbook(a,r);break;case 10:case 13:case 32:return TTe(a,r);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return R2e.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?u2.to_workbook(a,r):Hw(e,a,r,i)}function DL(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return mp(t.file,kt.write(e,{type:Jt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return kt.write(e,t)}function ITe(e,t){var r=Qr(t||{}),a=kTe(e,r);return FTe(a,r)}function FTe(e,t){var r={},a=Jt?"nodebuffer":typeof Uint8Array!="undefined"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?kt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno!="undefined"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(Sb(s))}return t.password&&typeof encrypt_agile!="undefined"?DL(encrypt_agile(s,t.password),t):t.type==="file"?mp(t.file,s):t.type=="string"?Fr(s):s}function DTe(e,t){var r=t||{},a=PEe(e,r);return DL(a,r)}function ho(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return A0(yo(a));case"binary":return yo(a);case"string":return e;case"file":return mp(t.file,a,"utf8");case"buffer":return Jt?xl(a,"utf8"):typeof TextEncoder!="undefined"?new TextEncoder().encode(a):ho(a,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function RTe(e,t){switch(t.type){case"base64":return A0(e);case"binary":return e;case"string":return e;case"file":return mp(t.file,e,"binary");case"buffer":return Jt?xl(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function fx(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?A0(r):t.type=="string"?Fr(r):r;case"file":return mp(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function RL(e,t){ek(),_4e(e);var r=Qr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=RL(e,r);return r.type="array",Sb(a)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ho(kEe(e,r),r);case"slk":case"sylk":return ho(zM.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return ho(_L(e.Sheets[e.SheetNames[s]],r),r);case"txt":return RTe(LL(e.Sheets[e.SheetNames[s]],r),r);case"csv":return ho(Rk(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return ho(HM.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return fx(u2.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return ho(yf.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return ho(JM.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return ho(VM.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return ho(PL(e,r),r);case"wk1":return fx(ad.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return fx(ad.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),fx(AL(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),DTe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ITe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function MTe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function ML(e,t,r){var a={};return a.type="file",a.file=t,MTe(a),RL(e,a)}function LTe(e,t,r,a,s,i,o,l){var c=Sn(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch(y){h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=o?e[r][m]:e[a[m]+c];if(p===void 0||p.t===void 0){if(d===void 0)continue;i[m]!=null&&(h[i[m]]=d);continue}var x=p.v;switch(p.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[m]!=null){if(x==null)if(p.t=="e"&&x===null)h[i[m]]=null;else if(d!==void 0)h[i[m]]=d;else if(u&&x===null)h[i[m]]=null;else continue;else h[i[m]]=u&&(p.t!=="n"||p.t==="n"&&l.rawNumbers!==!1)?x:fl(p,x,l);x!=null&&(f=!1)}}return{row:h,isempty:f}}function lv(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,s=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof u){case"string":c=hr(u);break;case"number":c=hr(e["!ref"]),c.s.r=u;break;default:c=u}a>0&&(s=0);var f=Sn(c.s.r),h=[],m=[],p=0,x=0,y=Array.isArray(e),v=c.s.r,w=0,j={};y&&!e[v]&&(e[v]=[]);var A=d.skipHidden&&e["!cols"]||[],C=d.skipHidden&&e["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(A[w]||{}).hidden)switch(h[w]=sn(w),r=y?e[v][w]:e[h[w]+f],a){case 1:i[w]=w-c.s.c;break;case 2:i[w]=h[w];break;case 3:i[w]=d.header[w-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=fl(r,null,d),x=j[o]||0,!x)j[o]=1;else{do l=o+"_"+x++;while(j[l]);j[o]=x,j[l]=1}i[w]=l}for(v=c.s.r+s;v<=c.e.r;++v)if(!(C[v]||{}).hidden){var S=LTe(e,c,v,h,a,i,y,d);(S.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(m[p++]=S.row)}return m.length=p,m}var H3=/"/g;function $Te(e,t,r,a,s,i,o,l){for(var c=!0,d=[],u="",f=Sn(r),h=t.s.c;h<=t.e.c;++h)if(a[h]){var m=l.dense?(e[r]||[])[h]:e[a[h]+f];if(m==null)u="";else if(m.v!=null){c=!1,u=""+(l.rawNumbers&&m.t=="n"?m.v:fl(m,null,l));for(var p=0,x=0;p!==u.length;++p)if((x=u.charCodeAt(p))===s||x===i||x===34||l.forceQuotes){u='"'+u.replace(H3,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(c=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(H3,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function Rk(e,t){var r=[],a=t==null?{}:t;if(e==null||e["!ref"]==null)return"";var s=hr(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),l=a.RS!==void 0?a.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];a.dense=Array.isArray(e);for(var h=a.skipHidden&&e["!cols"]||[],m=a.skipHidden&&e["!rows"]||[],p=s.s.c;p<=s.e.c;++p)(h[p]||{}).hidden||(f[p]=sn(p));for(var x=0,y=s.s.r;y<=s.e.r;++y)(m[y]||{}).hidden||(u=$Te(e,s,y,f,o,c,i,a),u!=null&&(a.strip&&(u=u.replace(d,"")),(u||a.blankrows!==!1)&&r.push((x++?l:"")+u)));return delete a.dense,r.join("")}function LL(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Rk(e,t);return r}function BTe(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var s=hr(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=s.s.c;l<=s.e.c;++l)o[l]=sn(l);for(var u=s.s.r;u<=s.e.r;++u)for(i=Sn(u),l=s.s.c;l<=s.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}c[c.length]=t+"="+a}return c}function $L(e,t,r){var a=r||{},s=+!a.skipHeader,i=e||{},o=0,l=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var c=typeof a.origin=="string"?on(a.origin):a.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var f=hr(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+s)}else o==-1&&(o=0,u.e.r=t.length-1+s);var h=a.header||[],m=0;t.forEach(function(x,y){pn(x).forEach(function(v){(m=h.indexOf(v))==-1&&(h[m=h.length]=v);var w=x[v],j="z",A="",C=Ft({c:l+m,r:o+y+s});d=$0(i,C),w&&typeof w=="object"&&!(w instanceof Date)?i[C]=w:(typeof w=="number"?j="n":typeof w=="boolean"?j="b":typeof w=="string"?j="s":w instanceof Date?(j="d",a.cellDates||(j="n",w=Kn(w)),A=a.dateNF||It[14]):w===null&&a.nullError&&(j="e",w=0),d?(d.t=j,d.v=w,delete d.w,delete d.R,A&&(d.z=A)):i[C]=d={t:j,v:w},A&&(d.z=A))})}),u.e.c=Math.max(u.e.c,l+h.length-1);var p=Sn(o);if(s)for(m=0;m<h.length;++m)i[sn(m+l)+p]={t:"s",v:h[m]};return i["!ref"]=Vt(u),i}function UTe(e,t){return $L(null,e,t)}function $0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=on(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?$0(e,Ft(t)):$0(e,Ft({r:t,c:r||0}))}function WTe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Mk(){return{SheetNames:[],Sheets:{}}}function Lk(e,t,r,a){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=o+s)!=-1;++s);}if(wL(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function zTe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=WTe(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function HTe(e,t){return e.z=t,e}function BL(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function VTe(e,t,r){return BL(e,"#"+t,r)}function GTe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function qTe(e,t,r,a){for(var s=typeof t!="string"?t:hr(t),i=typeof t=="string"?t:Vt(t),o=s.s.r;o<=s.e.r;++o)for(var l=s.s.c;l<=s.e.c;++l){var c=$0(e,o,l);c.t="n",c.F=i,delete c.v,o==s.s.r&&l==s.s.c&&(c.f=r,a&&(c.D=!0))}return e}var zl={encode_col:sn,encode_row:Sn,encode_cell:Ft,encode_range:Vt,decode_col:hk,decode_row:fk,split_cell:aje,decode_cell:on,decode_range:As,format_cell:fl,sheet_add_aoa:fM,sheet_add_json:$L,sheet_add_dom:EL,aoa_to_sheet:qf,json_to_sheet:UTe,table_to_sheet:TL,table_to_book:eTe,sheet_to_csv:Rk,sheet_to_txt:LL,sheet_to_json:lv,sheet_to_html:_L,sheet_to_formulae:BTe,sheet_to_row_object_array:lv,sheet_get_cell:$0,book_new:Mk,book_append_sheet:Lk,book_set_sheet_visibility:zTe,cell_set_number_format:HTe,cell_set_hyperlink:BL,cell_set_internal_link:VTe,cell_add_comment:GTe,sheet_set_array_formula:qTe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const KTe=["name","description","price","originalPrice","images","category","colors","sizes","isNew","isFeatured","currency"];function XTe({isOpen:e,onClose:t,onDone:r}){const[a,s]=N.useState([]),[i,o]=N.useState(!1),[l,c]=N.useState(null),[d,u]=N.useState(null);if(!e)return null;const f=async x=>{try{const y=/\.csv$/i.test(x.name);let v;if(y){const C=await x.text();v=bf(C,{type:"string"})}else{const C=await x.arrayBuffer();v=bf(C,{type:"array"})}const w=v.SheetNames[0],j=v.Sheets[w],A=zl.sheet_to_json(j,{defval:"",blankrows:!1});s(A),A.length===0&&z.error("No data rows found in the first sheet")}catch(y){z.error("Failed to parse file"),console.error(y)}},h=x=>{var w;const y=(w=x.target.files)==null?void 0:w[0];if(!y)return;if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(y.type)&&!y.name.match(/\.(xlsx|csv)$/i)){z.error("Please upload an .xlsx or .csv file");return}u(y.name),c(null),s([]),f(y),x.currentTarget.value=""},m=()=>{const x=zl.aoa_to_sheet([KTe]),y=zl.book_new();zl.book_append_sheet(y,x,"Template"),ML(y,"products-template.xlsx")},p=async()=>{var x;if(a.length===0){z.error("No rows to upload");return}o(!0),c(null);try{const y=await ue.postWithRetry("/products/bulk",{products:a});c(y.data);const{success:v,failed:w}=y.data||{};w===0?(z.success(`Uploaded ${v} products`),r()):v>0?z(`Uploaded ${v}, ${w} failed`):z.error("All rows failed")}catch(y){const v=(x=y==null?void 0:y.response)==null?void 0:x.data;if(v!=null&&v.results){c(v);const{success:w=0,failed:j=0}=v;w>0?z(`Uploaded ${w}, ${j} failed`):z.error("All rows failed")}else z.error((v==null?void 0:v.message)||"Bulk upload failed");console.error(y)}finally{o(!1)}};return n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-4xl w-full",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Bulk Upload Products"}),n.jsx("button",{onClick:t,className:"p-2 rounded hover:bg-gray-100",children:n.jsx(xt,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border hover:bg-gray-50 cursor-pointer",children:[n.jsx(Gn,{className:"w-4 h-4"}),n.jsx("span",{children:"Choose Excel/CSV"}),n.jsx("input",{type:"file",accept:".xlsx,.csv",className:"hidden",onChange:h})]}),n.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border hover:bg-gray-50",children:[n.jsx(yi,{className:"w-4 h-4"}),"Template"]})]}),a.length>0?n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsx("div",{className:"max-h-80 overflow-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0",children:n.jsx("tr",{children:Object.keys(a[0]).map(x=>n.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-600",children:x},x))})}),n.jsx("tbody",{children:a.slice(0,50).map((x,y)=>n.jsx("tr",{className:y%2?"bg-white":"bg-gray-50/50",children:Object.keys(a[0]).map(v=>{var w;return n.jsx("td",{className:"px-3 py-2 text-gray-800 whitespace-pre-wrap",children:String((w=x[v])!=null?w:"")},v)})},y))})]})}),a.length>50&&n.jsxs("div",{className:"p-2 text-xs text-gray-500",children:["Showing first 50 of ",a.length," rows"]})]}):n.jsxs("div",{className:"flex items-center justify-center h-40 text-gray-500 gap-2",children:[n.jsx(TG,{className:"w-5 h-5"}),d?n.jsxs("span",{children:["Selected: ",d," (no rows detected)"]}):n.jsx("span",{children:"No file selected"})]}),l&&n.jsxs("div",{className:"rounded-lg border p-3 text-sm flex items-center gap-3",children:[l.failed===0?n.jsx(kG,{className:"w-5 h-5 text-green-600"}):n.jsx(Ur,{className:"w-5 h-5 text-amber-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Total:"})," ",l.total]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Success:"})," ",l.success]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Failed:"})," ",l.failed]}),Array.isArray(l.results)&&l.results.some(x=>x.status==="failed")&&n.jsxs("div",{className:"mt-2 text-xs text-gray-600 max-h-40 overflow-auto",children:[n.jsx("div",{className:"font-medium mb-1",children:"First 10 errors:"}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:l.results.filter(x=>x.status==="failed").slice(0,10).map(x=>n.jsxs("li",{children:["Row ",x.index+1,": ",x.error]},x.index))})]})]})]})]}),n.jsxs("div",{className:"px-6 py-4 border-t flex justify-end gap-2",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border hover:bg-gray-50",children:"Close"}),n.jsx("button",{disabled:i||a.length===0,onClick:p,className:`px-4 py-2 rounded-lg text-white ${i||a.length===0?"bg-gray-400":"bg-indigo-600 hover:bg-indigo-700"}`,children:i?"Uploading...":"Upload"})]})]})]})})}function YTe(){const[e,t]=N.useState([]),[r,a]=N.useState([]),[s,i]=N.useState(!1),[o,l]=N.useState(!1),[c,d]=N.useState(!1),[u,f]=N.useState(null),[h,m]=N.useState(!0),p=Dd(),x=Ea();N.useEffect(()=>{(async()=>{try{await Promise.all([v(),w()])}catch(E){}finally{m(!1)}})();const k=E=>{const T=E.detail;T!=null&&T.productId&&t(F=>F.map(O=>O._id!==T.productId?O:{...O,images:T.images}))};return window.addEventListener("product-images-updated",k),()=>window.removeEventListener("product-images-updated",k)},[]);const y=async S=>S.map(k=>{const{isValid:E,value:T}=DO(k.price),F=E?T:0;return{...k,price:F,displayPrice:lt(F,p)}}),v=async()=>{try{const S=await ue.getWithRetry("/products"),k=await y(S.data);t(k)}catch(S){z.error("Failed to fetch products")}},w=async()=>{try{const S=await ue.getWithRetry("/categories");a(S.data)}catch(S){z.error("Failed to fetch categories")}},j=S=>{if(typeof S.category=="string"){const k=r.find(E=>E._id===S.category);return(k==null?void 0:k.name)||"Uncategorized"}return S.category.name},A=async S=>{try{const{isValid:k,value:E}=DO(S.price);if(!k)throw z.error("Invalid price value"),new Error("Invalid price");const T=await ue.postWithRetry("/products",{...S,price:E}),F=await y([T.data]);return t(O=>[...O,...F]),i(!1),z.success("Product added successfully!"),T.data}catch(k){throw z.error("Failed to add product"),k}},C=async S=>{try{await ue.deleteWithRetry(`/products/${S}`),t(e.filter(k=>k._id!==S)),z.success("Product deleted successfully!")}catch(k){z.error("Failed to delete product")}};return h?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Products"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 border px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Gn,{className:"w-5 h-5"}),"Bulk Upload"]}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Product"]})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Related"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(S=>{var k;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>x(`/admin/products/${S._id}`),children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg overflow-hidden",children:(()=>{var W;const E=S.images&&S.images.length>0?S.images[0]:null,T=!E&&S.colors&&S.colors.length>0&&S.colors[0].images&&S.colors[0].images.length>0?S.colors[0].images[0]:null,F=E||T||"/placeholder-image.svg",O=(((W=S.images)==null?void 0:W.length)||0)+"-"+S._id.slice(-6),P=F.startsWith("http")?`${F}?v=${O}`:F;return n.jsx("img",{src:P,alt:S.name,className:"h-full w-full object-cover",onError:q=>{q.currentTarget.src="/placeholder-image.svg"}})})()}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[S.description.substring(0,50),"..."]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:S.displayPrice})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-indigo-100 text-indigo-800",children:j(S)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:S.stock})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("button",{onClick:E=>{E.stopPropagation(),f(S),l(!0)},className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-900",children:[n.jsx(N6,{className:"w-4 h-4"}),n.jsxs("span",{className:"text-sm",children:[((k=S.relatedProducts)==null?void 0:k.length)||0," products"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:E=>{E.stopPropagation(),x(`/admin/products/${S._id}`)},className:"p-1 text-indigo-600 hover:text-indigo-900 transition-colors",title:"View product info",children:n.jsx(R2,{className:"w-5 h-5"})}),n.jsx("button",{onClick:E=>{E.stopPropagation(),C(S._id)},className:"p-1 text-red-600 hover:text-red-900 transition-colors",title:"Delete product",children:n.jsx(en,{className:"w-5 h-5"})})]})})]},S._id)})})]})}),n.jsx(G1e,{isOpen:s,onClose:()=>i(!1),onSubmit:A}),n.jsx(XTe,{isOpen:c,onClose:()=>d(!1),onDone:v}),u&&n.jsx(q1e,{isOpen:o,onClose:()=>{l(!1),f(null)},productId:u._id,currentRelatedProducts:u.relatedProducts})]})}function JTe({orderNumber:e,createdAt:t,onClose:r,onPrint:a}){const{settings:s}=vr();return n.jsxs("div",{className:"flex items-center gap-6 mb-6 pb-6 border-b",children:[n.jsx("div",{className:"w-32 h-12",children:n.jsx(Wm,{})}),n.jsxs("div",{className:"flex-1 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(s==null?void 0:s.name)||"Eva Curves Fashion Store"}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[n.jsx("p",{children:(s==null?void 0:s.email)||"contact@evacurves.com"}),n.jsx("p",{children:(s==null?void 0:s.phone)||"+1 (555) 123-4567"}),n.jsx("p",{children:(s==null?void 0:s.address)||"123 Fashion Street, NY 10001"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:a,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Print order",children:n.jsx(L2,{className:"w-5 h-5"})}),n.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xt,{className:"w-5 h-5"})})]})]})}function zr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ic(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const UL=6048e5,ZTe=864e5,WL=6e4,zL=36e5,hx=43200,V3=1440;let QTe={};function jp(){return QTe}function B0(e,t){var l,c,d,u,f,h,m,p;const r=jp(),a=(p=(m=(u=(d=t==null?void 0:t.weekStartsOn)!=null?d:(c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)!=null?u:r.weekStartsOn)!=null?m:(h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?p:0,s=zr(e),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function cv(e){return B0(e,{weekStartsOn:1})}function HL(e){const t=zr(e),r=t.getFullYear(),a=ic(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=cv(a),i=ic(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=cv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function G3(e){const t=zr(e);return t.setHours(0,0,0,0),t}function dv(e){const t=zr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function eOe(e,t){const r=G3(e),a=G3(t),s=+r-dv(r),i=+a-dv(a);return Math.round((s-i)/ZTe)}function tOe(e){const t=HL(e),r=ic(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),cv(r)}function Dx(e,t){const r=zr(e),a=zr(t),s=r.getTime()-a.getTime();return s<0?-1:s>0?1:s}function rOe(e){return ic(e,Date.now())}function nOe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aOe(e){if(!nOe(e)&&typeof e!="number")return!1;const t=zr(e);return!isNaN(Number(t))}function sOe(e,t){const r=zr(e),a=zr(t),s=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return s*12+i}function iOe(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function oOe(e,t){return+zr(e)-+zr(t)}function lOe(e){const t=zr(e);return t.setHours(23,59,59,999),t}function cOe(e){const t=zr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function dOe(e){const t=zr(e);return+lOe(t)==+cOe(t)}function uOe(e,t){const r=zr(e),a=zr(t),s=Dx(r,a),i=Math.abs(sOe(r,a));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Dx(r,a)===-s;dOe(zr(e))&&i===1&&Dx(e,a)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function fOe(e,t,r){const a=oOe(e,t)/1e3;return iOe(r==null?void 0:r.roundingMethod)(a)}function hOe(e){const t=zr(e),r=ic(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const mOe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pOe=(e,t,r)=>{let a;const s=mOe[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Vw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const gOe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xOe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yOe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vOe={date:Vw({formats:gOe,defaultWidth:"full"}),time:Vw({formats:xOe,defaultWidth:"full"}),dateTime:Vw({formats:yOe,defaultWidth:"full"})},bOe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wOe=(e,t,r,a)=>bOe[e];function Zh(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const jOe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NOe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},SOe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kOe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},COe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},AOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_Oe=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},EOe={ordinalNumber:_Oe,era:Zh({values:jOe,defaultWidth:"wide"}),quarter:Zh({values:NOe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zh({values:SOe,defaultWidth:"wide"}),day:Zh({values:kOe,defaultWidth:"wide"}),dayPeriod:Zh({values:COe,defaultWidth:"wide",formattingValues:AOe,defaultFormattingWidth:"wide"})};function Qh(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?OOe(l,f=>f.test(o)):TOe(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function TOe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function OOe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function POe(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const IOe=/^(\d+)(th|st|nd|rd)?/i,FOe=/\d+/i,DOe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ROe={any:[/^b/i,/^(a|c)/i]},MOe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LOe={any:[/1/i,/2/i,/3/i,/4/i]},$Oe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BOe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UOe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},WOe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zOe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HOe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},VOe={ordinalNumber:POe({matchPattern:IOe,parsePattern:FOe,valueCallback:e=>parseInt(e,10)}),era:Qh({matchPatterns:DOe,defaultMatchWidth:"wide",parsePatterns:ROe,defaultParseWidth:"any"}),quarter:Qh({matchPatterns:MOe,defaultMatchWidth:"wide",parsePatterns:LOe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qh({matchPatterns:$Oe,defaultMatchWidth:"wide",parsePatterns:BOe,defaultParseWidth:"any"}),day:Qh({matchPatterns:UOe,defaultMatchWidth:"wide",parsePatterns:WOe,defaultParseWidth:"any"}),dayPeriod:Qh({matchPatterns:zOe,defaultMatchWidth:"any",parsePatterns:HOe,defaultParseWidth:"any"})},VL={code:"en-US",formatDistance:pOe,formatLong:vOe,formatRelative:wOe,localize:EOe,match:VOe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function GOe(e){const t=zr(e);return eOe(t,hOe(t))+1}function qOe(e){const t=zr(e),r=+cv(t)-+tOe(t);return Math.round(r/UL)+1}function GL(e,t){var u,f,h,m,p,x,y,v;const r=zr(e),a=r.getFullYear(),s=jp(),i=(v=(y=(m=(h=t==null?void 0:t.firstWeekContainsDate)!=null?h:(f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)!=null?m:s.firstWeekContainsDate)!=null?y:(x=(p=s.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)!=null?v:1,o=ic(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=B0(o,t),c=ic(e,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const d=B0(c,t);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function KOe(e,t){var l,c,d,u,f,h,m,p;const r=jp(),a=(p=(m=(u=(d=t==null?void 0:t.firstWeekContainsDate)!=null?d:(c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)!=null?u:r.firstWeekContainsDate)!=null?m:(h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)!=null?p:1,s=GL(e,t),i=ic(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),B0(i,t)}function XOe(e,t){const r=zr(e),a=+B0(r,t)-+KOe(r,t);return Math.round(a/UL)+1}function Ar(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const El={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Ar(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ar(r+1,2)},d(e,t){return Ar(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ar(e.getHours()%12||12,t.length)},H(e,t){return Ar(e.getHours(),t.length)},m(e,t){return Ar(e.getMinutes(),t.length)},s(e,t){return Ar(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return Ar(s,t.length)}},vu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},q3={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return El.y(e,t)},Y:function(e,t,r,a){const s=GL(e,a),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Ar(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ar(i,t.length)},R:function(e,t){const r=HL(e);return Ar(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ar(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Ar(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Ar(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return El.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Ar(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=XOe(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ar(s,t.length)},I:function(e,t,r){const a=qOe(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Ar(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):El.d(e,t)},D:function(e,t,r){const a=GOe(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Ar(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ar(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ar(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return Ar(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=vu.noon:a===0?s=vu.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=vu.evening:a>=12?s=vu.afternoon:a>=4?s=vu.morning:s=vu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return El.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):El.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Ar(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Ar(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):El.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):El.s(e,t)},S:function(e,t){return El.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return X3(a);case"XXXX":case"XX":return $c(a);case"XXXXX":case"XXX":default:return $c(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return X3(a);case"xxxx":case"xx":return $c(a);case"xxxxx":case"xxx":default:return $c(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+K3(a,":");case"OOOO":default:return"GMT"+$c(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+K3(a,":");case"zzzz":default:return"GMT"+$c(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return Ar(a,t.length)},T:function(e,t,r){const a=e.getTime();return Ar(a,t.length)}};function K3(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?r+String(s):r+String(s)+t+Ar(i,2)}function X3(e,t){return e%60===0?(e>0?"-":"+")+Ar(Math.abs(e)/60,2):$c(e,t)}function $c(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Ar(Math.trunc(a/60),2),i=Ar(a%60,2);return r+s+t+i}const Y3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},YOe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return Y3(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Y3(a,t)).replace("{{time}}",qL(s,t))},JOe={p:qL,P:YOe},ZOe=/^D+$/,QOe=/^Y+$/,e3e=["D","DD","YY","YYYY"];function t3e(e){return ZOe.test(e)}function r3e(e){return QOe.test(e)}function n3e(e,t,r){const a=a3e(e,t,r);if(console.warn(a),e3e.includes(e))throw new RangeError(a)}function a3e(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s3e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i3e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o3e=/^'([^]*?)'?$/,l3e=/''/g,c3e=/[a-zA-Z]/;function Ba(e,t,r){var u,f,h,m,p,x,y,v,w;const a=jp(),s=(u=a.locale)!=null?u:VL,i=(p=(m=a.firstWeekContainsDate)!=null?m:(h=(f=a.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)!=null?p:1,o=(w=(v=a.weekStartsOn)!=null?v:(y=(x=a.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)!=null?w:0,l=zr(e);if(!aOe(l))throw new RangeError("Invalid time value");let c=t.match(i3e).map(j=>{const A=j[0];if(A==="p"||A==="P"){const C=JOe[A];return C(j,s.formatLong)}return j}).join("").match(s3e).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const A=j[0];if(A==="'")return{isToken:!1,value:d3e(j)};if(q3[A])return{isToken:!0,value:j};if(A.match(c3e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:j}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(j=>{if(!j.isToken)return j.value;const A=j.value;(r3e(A)||t3e(A))&&n3e(A,t,String(e));const C=q3[A[0]];return C(l,A,s.localize,d)}).join("")}function d3e(e){const t=e.match(o3e);return t?t[1].replace(l3e,"'"):e}function u3e(e,t,r){var p,x;const a=jp(),s=(x=(p=r==null?void 0:r.locale)!=null?p:a.locale)!=null?x:VL,i=2520,o=Dx(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=zr(t),d=zr(e)):(c=zr(e),d=zr(t));const u=fOe(d,c),f=(dv(d)-dv(c))/1e3,h=Math.round((u-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,l):u<10?s.formatDistance("lessThanXSeconds",10,l):u<20?s.formatDistance("lessThanXSeconds",20,l):u<40?s.formatDistance("halfAMinute",0,l):u<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<V3){const y=Math.round(h/60);return s.formatDistance("aboutXHours",y,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<hx){const y=Math.round(h/V3);return s.formatDistance("xDays",y,l)}else if(h<hx*2)return m=Math.round(h/hx),s.formatDistance("aboutXMonths",m,l)}if(m=uOe(d,c),m<12){const y=Math.round(h/hx);return s.formatDistance("xMonths",y,l)}else{const y=m%12,v=Math.trunc(m/12);return y<3?s.formatDistance("aboutXYears",v,l):y<9?s.formatDistance("overXYears",v,l):s.formatDistance("almostXYears",v+1,l)}}function Co(e,t){return u3e(e,rOe(e),t)}function J3(e,t){const a=p3e(e);let s;if(a.date){const c=g3e(a.date,2);s=x3e(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(a.time&&(o=y3e(a.time),isNaN(o)))return new Date(NaN);if(a.timezone){if(l=v3e(a.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+l)}const mx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},f3e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,h3e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,m3e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function p3e(e){const t={},r=e.split(mx.dateTimeDelimiter);let a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],mx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mx.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const s=mx.timezone.exec(a);s?(t.time=a.replace(s[1],""),t.timezone=s[1]):t.time=a}return t}function g3e(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function x3e(e,t){if(t===null)return new Date(NaN);const r=e.match(f3e);if(!r)return new Date(NaN);const a=!!r[4],s=em(r[1]),i=em(r[2])-1,o=em(r[3]),l=em(r[4]),c=em(r[5])-1;if(a)return S3e(t,l,c)?b3e(t,l,c):new Date(NaN);{const d=new Date(0);return!j3e(t,i,o)||!N3e(t,s)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(s,o)),d)}}function em(e){return e?parseInt(e):1}function y3e(e){const t=e.match(h3e);if(!t)return NaN;const r=Gw(t[1]),a=Gw(t[2]),s=Gw(t[3]);return k3e(r,a,s)?r*zL+a*WL+s*1e3:NaN}function Gw(e){return e&&parseFloat(e.replace(",","."))||0}function v3e(e){if(e==="Z")return 0;const t=e.match(m3e);if(!t)return 0;const r=t[1]==="+"?-1:1,a=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return C3e(a,s)?r*(a*zL+s*WL):NaN}function b3e(e,t,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const s=a.getUTCDay()||7,i=(t-1)*7+r+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const w3e=[31,null,31,30,31,30,31,31,30,31,30,31];function KL(e){return e%400===0||e%4===0&&e%100!==0}function j3e(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(w3e[t]||(KL(e)?29:28))}function N3e(e,t){return t>=1&&t<=(KL(e)?366:365)}function S3e(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function k3e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function C3e(e,t){return t>=0&&t<=59}function A3e({orderNumber:e,createdAt:t,customerInfo:r,shippingAddress:a,paymentMethod:s,paymentStatus:i}){return n.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(to,{className:"w-4 h-4 text-gray-500"}),"Customer"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[r.firstName," ",r.lastName]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(to,{className:"w-4 h-4 text-gray-400"}),r.email]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Ef,{className:"w-4 h-4 text-gray-400"}),r.mobile]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(Vs,{className:"w-4 h-4 text-gray-500"}),"Shipping Address"]}),n.jsx("p",{className:"text-sm text-gray-600",children:a.street}),n.jsxs("p",{className:"text-sm text-gray-600",children:[a.city,", ",a.state," ",a.zipCode]}),n.jsx("p",{className:"text-sm text-gray-600",children:a.country})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Order Information"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Order #: ",n.jsx("span",{className:"font-medium",children:e})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",Ba(new Date(t),"PPP")]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Payment: ",s==="card"?"Credit Card":"Cash on Delivery"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",n.jsx("span",{className:"capitalize",children:i})]})]})]})}function _3e({items:e,totalAmount:t,currency:r}){return n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:["Price (",r,")"]}),n.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:["Total (",r,")"]})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("img",{src:a.product.images&&a.product.images.length>0?a.product.images[0]:"/placeholder-image.svg",alt:a.product.name,className:"w-12 h-12 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.product.name}),a.size&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Size: ",a.size]})]})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.quantity}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.price.toFixed(2)}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:(a.price*a.quantity).toFixed(2)})]},a.product._id))}),n.jsx("tfoot",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("td",{colSpan:3,className:"px-6 py-4 text-sm font-medium text-gray-900 text-right",children:"Total"}),n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:t.toFixed(2)})]})})]})})}function E3e({currentStatus:e,onStatusChange:t,statusOptions:r,statusColors:a}){return n.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(rr,{className:"w-5 h-5 text-gray-400"}),n.jsx("select",{value:e,onChange:s=>t(s.target.value),className:`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 ${a[e]}`,children:r.map(s=>n.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]}),n.jsx("button",{onClick:()=>t(e),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})]})}function T3e({isOpen:e,onClose:t,order:r,onUpdateStatus:a}){const[s,i]=N.useState("A4"),{settings:o}=vr(),l=["pending","processing","shipped","delivered","cancelled"],c={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"},d=()=>{const u=window.open("","_blank");if(!u)return;const f=`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
        <head>
          <title>Waybill #${r.orderNumber}</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; width: 10cm; height: 10cm; margin: 0; box-sizing: border-box; }
            .waybill-container { border: 2px solid #000; width: 9.8cm; height: 9.8cm; margin: 0.1cm auto; padding: 0.2cm; box-sizing: border-box; display: flex; flex-direction: column; justify-content: space-between; }
            .waybill-header { display: flex; justify-content: space-between; align-items: flex-start; }
            .waybill-date { font-size: 0.9em; font-weight: bold; }
            .waybill-logo { text-align: right; }
            .waybill-logo img { height: 32px; }
            .waybill-main { display: flex; flex: 1; gap: 0.2cm; margin-top: 0.2cm; }
            .waybill-box { border: 1px solid #000; border-radius: 6px; padding: 0.15cm 0.2cm; background: #fff; }
            .waybill-products { flex: 1.2; display: flex; flex-direction: column; }
            .waybill-products-table { width: 100%; border-collapse: collapse; font-size: 0.95em; }
            .waybill-products-table th, .waybill-products-table td { border: 1px solid #000; padding: 2px 4px; text-align: center; }
            .waybill-products-table th { background: #f3f3f3; font-weight: bold; }
            .waybill-recipient { flex: 1; display: flex; flex-direction: column; gap: 2px; }
            .waybill-label { font-weight: bold; font-size: 0.95em; border-bottom: 1px solid #000; margin-bottom: 2px; text-align: right; }
            .waybill-value { margin-bottom: 2px; }
            .waybill-footer { display: flex; gap: 0.2cm; margin-top: 0.2cm; }
            .waybill-total { flex: 1.2; text-align: center; border: 1px solid #000; border-radius: 6px; font-size: 1.2em; font-weight: bold; background: #f3f3f3; display: flex; flex-direction: column; justify-content: center; align-items: center; }
            .waybill-barcode { flex: 1; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center; }
            .barcode-label { font-size: 0.8em; margin-bottom: 2px; }
            .barcode-img { margin-bottom: 2px; }
            .serial { font-size: 0.9em; letter-spacing: 2px; }
          </style>
        </head>
        <body>
          <div class="waybill-container">
            <div class="waybill-header">
              <div class="waybill-date">${new Date(r.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} ${new Date(r.createdAt).toLocaleDateString("en-GB")}</div>
              <div class="waybill-logo">
                ${o!=null&&o.logo?`<img src="${o.logo}" alt="Logo" />`:"<b>Mini Store</b>"}
                <div style="font-size:0.9em; font-weight:bold;">${r.customerInfo.mobile}</div>
              </div>
            </div>
            <div class="waybill-main">
              <div class="waybill-products waybill-box">
                <div class="waybill-label">المنتجات / Products</div>
                <table class="waybill-products-table">
                  <tbody>
                    ${r.items.map(h=>`
                      <tr>
                        <td>${h.price.toFixed(2)}</td>
                        <td>X${h.quantity}</td>
                        <td>${h.product.name}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
              <div class="waybill-recipient waybill-box">
                <div class="waybill-label">المستلم / Recipient</div>
                <div class="waybill-value">${r.customerInfo.firstName} ${r.customerInfo.lastName||""}</div>
                <div class="waybill-value">${r.customerInfo.mobile}</div>
                <div class="waybill-value">${r.shippingAddress.city}</div>
                <div class="waybill-value">${(o==null?void 0:o.name)||"Mini Store"} :المرسل</div>
              </div>
            </div>
            <div class="waybill-footer">
              <div class="waybill-total">
                <div>مجموع قيمة التحصيل<br/>Total Amount</div>
                <div style="font-size:1.4em; color:#000;">${r.totalAmount.toLocaleString("en-US")}</div>
              </div>
              <div class="waybill-barcode">
                <div class="barcode-label">تسلسل المتجر / Store Serial</div>
                <div class="barcode-img">
                  <img src="https://barcode.tec-it.com/barcode.ashx?data=${r.orderNumber}&code=Code128&translate-esc=true" alt="barcode" height="32" />
                </div>
                <div class="serial">${r.orderNumber}</div>
              </div>
            </div>
          </div>
        </body>
      </html>
    `;u.document.documentElement.innerHTML=f,u.addEventListener("load",()=>{u.print()}),setTimeout(()=>{u.print()},100)};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-3xl w-full p-6",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsx("label",{htmlFor:"waybill-size",className:"font-medium",children:"Waybill Size:"}),n.jsxs("select",{id:"waybill-size",value:s,onChange:u=>i(u.target.value),className:"border rounded px-2 py-1",children:[n.jsx("option",{value:"A4",children:"A4 (210 × 297 mm)"}),n.jsx("option",{value:"A5",children:"A5 (148 × 210 mm)"}),n.jsx("option",{value:"4x6",children:'4x6" (4 × 6 in)'}),n.jsx("option",{value:"10x10",children:'10x10" (10 × 10 in)'})]})]}),n.jsx(JTe,{orderNumber:r.orderNumber,createdAt:r.createdAt,onClose:t,onPrint:d}),n.jsx(A3e,{orderNumber:r.orderNumber,createdAt:r.createdAt,customerInfo:r.customerInfo,shippingAddress:r.shippingAddress,paymentMethod:r.paymentMethod,paymentStatus:r.paymentStatus}),n.jsx(_3e,{items:r.items,totalAmount:r.totalAmount,currency:r.currency}),n.jsx(E3e,{currentStatus:r.status,onStatusChange:u=>a(r._id,u),statusOptions:l,statusColors:c})]})]})}):null}function O3e({isOpen:e,onClose:t,onSubmit:r}){const[a,s]=N.useState([]),[i,o]=N.useState([]),[l,c]=N.useState(""),[d,u]=N.useState({firstName:"",lastName:"",email:"",mobile:"",secondaryMobile:""}),[f,h]=N.useState({street:"",city:"",state:"",zipCode:"",country:"JO"}),[m,p]=N.useState("card"),[x,y]=N.useState(!1);N.useEffect(()=>{e&&(async()=>{try{const k=await ue.getWithRetry("/products");s(k.data)}catch(k){z.error("Failed to fetch products")}})()},[e]);const v=S=>{o(k=>[...k,{product:S._id,quantity:1,name:S.name,price:S.price}])},w=(S,k)=>{k<1||o(E=>E.map((T,F)=>F===S?{...T,quantity:k}:T))},j=S=>{o(k=>k.filter((E,T)=>T!==S))},A=()=>i.reduce((S,k)=>S+k.price*k.quantity,0),C=async S=>{S.preventDefault(),y(!0);try{if(i.length===0)throw new Error("Please add at least one product");const k=P=>P.trim().replace(/[\s\-()]/g,""),E=k(d.mobile),T=d.secondaryMobile?k(d.secondaryMobile):"";if(!/^\+[0-9]{1,4}[0-9]{9,10}$/.test(E))throw new Error("Please enter a valid mobile in international format (e.g., +9627XXXXXXXX)");const O={items:i,customerInfo:{...d,mobile:E,secondaryMobile:T||void 0},shippingAddress:f,paymentMethod:m,totalAmount:A()};await r(O),t()}catch(k){z.error(k.message||"Failed to create order")}finally{y(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-4xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Create New Order"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:C,className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n.jsx("input",{type:"text",required:!0,value:d.firstName,onChange:S=>u(k=>({...k,firstName:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n.jsx("input",{type:"text",required:!0,value:d.lastName,onChange:S=>u(k=>({...k,lastName:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",required:!0,value:d.email,onChange:S=>u(k=>({...k,email:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number"}),n.jsx("input",{type:"tel",required:!0,placeholder:"+962712345678",value:d.mobile,onChange:S=>u(k=>({...k,mobile:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use international format, e.g. +9627XXXXXXXX"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Mobile (optional)"}),n.jsx("input",{type:"tel",placeholder:"+9627XXXXXXXX",value:d.secondaryMobile,onChange:S=>u(k=>({...k,secondaryMobile:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Shipping Address"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),n.jsx("input",{type:"text",required:!0,value:f.street,onChange:S=>h(k=>({...k,street:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),n.jsx("input",{type:"text",required:!0,value:f.city,onChange:S=>h(k=>({...k,city:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),n.jsxs("select",{required:!0,value:f.country,onChange:S=>h(k=>({...k,country:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:[n.jsx("option",{value:"JO",children:"Jordan (JO)"}),n.jsx("option",{value:"SA",children:"Saudi Arabia (SA)"}),n.jsx("option",{value:"AE",children:"United Arab Emirates (AE)"}),n.jsx("option",{value:"KW",children:"Kuwait (KW)"}),n.jsx("option",{value:"QA",children:"Qatar (QA)"}),n.jsx("option",{value:"BH",children:"Bahrain (BH)"}),n.jsx("option",{value:"OM",children:"Oman (OM)"}),n.jsx("option",{value:"EG",children:"Egypt (EG)"}),n.jsx("option",{value:"IQ",children:"Iraq (IQ)"}),n.jsx("option",{value:"LB",children:"Lebanon (LB)"}),n.jsx("option",{value:"PS",children:"Palestine (PS)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),n.jsx("input",{type:"text",value:f.state,onChange:S=>h(k=>({...k,state:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),n.jsx("input",{type:"text",required:!0,value:f.zipCode,onChange:S=>h(k=>({...k,zipCode:S.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Products"}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"search",placeholder:"Search products...",value:l,onChange:S=>c(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsx("div",{className:"max-h-64 overflow-y-auto mb-4 border rounded-lg divide-y",children:a.filter(S=>S.name.toLowerCase().includes(l.toLowerCase())&&!i.some(k=>k.product===S._id)).map(S=>n.jsxs("button",{type:"button",onClick:()=>v(S),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:S.images[0],alt:S.name,className:"w-12 h-12 rounded-lg object-cover"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-medium text-gray-900",children:S.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["$",S.price.toFixed(2)]})]})]}),n.jsx(fr,{className:"w-5 h-5 text-indigo-600"})]},S._id))}),n.jsx("div",{className:"space-y-4",children:i.map((S,k)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:S.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["$",S.price.toFixed(2)]})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center border rounded-lg",children:[n.jsx("button",{type:"button",onClick:()=>w(k,S.quantity-1),className:"p-2 hover:bg-gray-100",children:n.jsx(Ov,{className:"w-4 h-4"})}),n.jsx("span",{className:"w-12 text-center",children:S.quantity}),n.jsx("button",{type:"button",onClick:()=>w(k,S.quantity+1),className:"p-2 hover:bg-gray-100",children:n.jsx(fr,{className:"w-4 h-4"})})]}),n.jsx("button",{type:"button",onClick:()=>j(k),className:"text-red-600 hover:text-red-700",children:n.jsx(xt,{className:"w-5 h-5"})})]})]},k))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Method"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{type:"button",onClick:()=>p("card"),className:`flex-1 p-4 rounded-lg border ${m==="card"?"border-indigo-600 bg-indigo-50 text-indigo-600":"border-gray-200 hover:border-gray-300"}`,children:"Credit Card"}),n.jsx("button",{type:"button",onClick:()=>p("cod"),className:`flex-1 p-4 rounded-lg border ${m==="cod"?"border-indigo-600 bg-indigo-50 text-indigo-600":"border-gray-200 hover:border-gray-300"}`,children:"Cash on Delivery"})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[n.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total: $",A().toFixed(2)]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:x||i.length===0,className:"px-6 py-2 text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:x?"Creating...":"Create Order"})]})]})]})]})]})}):null}function P3e({isOpen:e,onClose:t,order:r,onSuccess:a}){var q,D,M,H,ee,X,de,le,G,K,Z,I,V,te,R;const[s,i]=N.useState([]),[o,l]=N.useState(""),[c,d]=N.useState(0),[u,f]=N.useState(!1),[h,m]=N.useState(!1),[p,x]=N.useState(!1),[y,v]=N.useState(null),[w,j]=N.useState(!1),[A,C]=N.useState(!1),[S,k]=N.useState(null);N.useEffect(()=>{e&&(E(),T(),l(""),d(0))},[e]),N.useEffect(()=>{o&&r&&(F(),O())},[o,r]);const E=async()=>{try{f(!0);const Q=(await ue.getWithRetry("/delivery/companies/public/active")).data,J=Array.isArray(Q)?Q:Array.isArray(Q==null?void 0:Q.data)?Q.data:[],L=he=>{var xe,Te,Ue,tt,ct,mt,ut;const ge=(he==null?void 0:he.settings)||{},Ae=(he==null?void 0:he.apiConfiguration)||{},Ee=(he==null?void 0:he.credentials)||{};return{_id:(he==null?void 0:he._id)||"",name:(he==null?void 0:he.name)||"",code:(he==null?void 0:he.code)||"",apiUrl:(he==null?void 0:he.apiUrl)||Ae.baseUrl||"",credentials:{login:(Te=(xe=Ee.login)!=null?xe:Ae.username)!=null?Te:"",password:(tt=(Ue=Ee.password)!=null?Ue:Ae.password)!=null?tt:"",apiKey:(mt=(ct=Ee.apiKey)!=null?ct:Ae.apiKey)!=null?mt:"",database:(ut=Ee.database)!=null?ut:""},isActive:!!(he!=null&&he.isActive),settings:{supportedRegions:Array.isArray(ge.supportedRegions)?ge.supportedRegions:[],priceCalculation:ge.priceCalculation||"fixed",basePrice:typeof ge.basePrice=="number"?ge.basePrice:0},fieldMappings:Array.isArray(he==null?void 0:he.fieldMappings)?he.fieldMappings:[],customFields:(he==null?void 0:he.customFields)||{}}};Array.isArray(J)?i(J.map(L)):(console.warn("Unexpected companies data format:",Q),i([]))}catch(U){console.error("Failed to fetch delivery companies:",U),i([]),z.error("Failed to fetch delivery companies")}finally{f(!1)}},T=async()=>{var U,Q;if(r)try{const J=await ue.getWithRetry(`/delivery/orders?orderId=${r._id}`);if((U=J.data)!=null&&U.data&&J.data.data.length>0){const L=J.data.data[0];v(L),j(!0),(Q=L.deliveryCompany)!=null&&Q._id&&l(L.deliveryCompany._id)}else v(null),j(!1)}catch(J){console.error("Error checking delivery status:",J),v(null),j(!1)}finally{}},F=async()=>{var U,Q,J,L;if(!(!o||!r))try{const he=await ue.postWithRetry(`/delivery/companies/${o}/calculate-fee`,{totalAmount:r.totalAmount,shippingAddress:r.shippingAddress}),ge=(L=(Q=(U=he.data)==null?void 0:U.data)==null?void 0:Q.fee)!=null?L:(J=he.data)==null?void 0:J.fee;d(typeof ge=="number"?ge:0)}catch(he){console.error("Error calculating delivery fee:",he),d(0)}},O=async()=>{var U;if(!o||!r){k(null);return}try{C(!0),console.log("🔍 Validating field mappings for company:",o),console.log("📋 Order data for validation:",{orderId:r._id,orderNumber:r.orderNumber,customerInfo:r.customerInfo,shippingAddress:r.shippingAddress});const Q=await ue.postWithRetry("/delivery/validate-field-mappings",{orderId:r._id,companyId:o});(U=Q.data)!=null&&U.success&&(k(Q.data.data),console.log("✅ Field mapping validation completed:",Q.data.data),Q.data.data.isValid||(console.log("❌ Validation failed with errors:",Q.data.data.errors),console.log("📋 Missing fields:",Q.data.data.missingFields),console.log("📋 Invalid fields:",Q.data.data.invalidFields)))}catch(Q){console.error("❌ Failed to validate field mappings:",Q),k({isValid:!1,errors:["Failed to validate field mappings"],missingFields:[],invalidFields:[]})}finally{C(!1)}},P=async()=>{var U,Q,J,L,he,ge,Ae;if(!o||!r){z.error("Please select a delivery company");return}if(S&&!S.isValid){console.log("❌ Cannot send - field mapping validation failed:",S),z.error("Cannot send order: Field mapping validation failed. Please check the field mapping configuration.");return}try{m(!0),console.log(w?"🔄 Starting delivery re-send process...":"🚚 Starting delivery assignment process..."),console.log("📋 Field mapping validation status:",S);const Ee=Array.isArray(s)?s.find(ct=>ct._id===o):null;if(!Ee){z.error("Selected delivery company not found");return}console.log("🏢 Selected company:",Ee.name),console.log("📋 Order data:",{_id:r._id,orderNumber:r.orderNumber,isResend:w,currentResendAttempts:(y==null?void 0:y.resendAttempts)||0,hasItems:Array.isArray(r.items),itemsCount:((U=r.items)==null?void 0:U.length)||0,hasCustomerInfo:!!r.customerInfo,hasShippingAddress:!!r.shippingAddress,totalAmount:r.totalAmount,currency:r.currency,paymentMethod:r.paymentMethod});const xe={orderId:r._id,companyId:o,deliveryFee:c};console.log(`📦 Sending to /api/delivery/send endpoint (${w?"re-send":"first time"})...`);const Te=await ue.postWithRetry("/delivery/send",xe);console.log("✅ Delivery assignment completed successfully:",Te.data);const Ue=Te.data.data,tt=(Ue==null?void 0:Ue.message)||Te.data.message||(w?"Order successfully re-sent to delivery company":"Order successfully sent to delivery company");Ue&&console.log("📋 Delivery Details:",{trackingNumber:Ue.trackingNumber,status:Ue.status,externalStatus:Ue.externalStatus,isResend:Ue.isResend,resendAttempts:Ue.resendAttempts,companyResponse:Ue.deliveryCompanyResponse}),z.success(tt),await T(),a(),t()}catch(Ee){if(console.error("❌ Delivery assignment failed:",Ee),(J=(Q=Ee.response)==null?void 0:Q.data)!=null&&J.errors||(he=(L=Ee.response)==null?void 0:L.data)!=null&&he.missingFields){const xe=Ee.response.data;let Te=`Field mapping validation failed:
`;xe.missingFields&&xe.missingFields.length>0&&(Te+=`
Missing required fields:
`,xe.missingFields.forEach(Ue=>{Te+=`• ${Ue.sourceField} → ${Ue.targetField}
`})),xe.invalidFields&&xe.invalidFields.length>0&&(Te+=`
Invalid field values:
`,xe.invalidFields.forEach(Ue=>{Te+=`• ${Ue.sourceField}: ${Ue.description}
`})),z.error(Te)}else{const xe=((Ae=(ge=Ee.response)==null?void 0:ge.data)==null?void 0:Ae.message)||Ee.message||"Failed to send order to delivery company";z.error(xe)}}finally{m(!1)}},W=Array.isArray(s)?s.find(U=>U._id===o):null;return!e||!r?null:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:w?"Re-send to Delivery Company":"Select Delivery Company"}),w&&n.jsx(Pn,{className:"w-5 h-5 text-orange-500"})]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Order #",r.orderNumber]}),w&&y&&n.jsx("div",{className:"mt-2 text-sm",children:n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-800 rounded-full",children:[n.jsx(ka,{className:"w-3 h-3"}),"Re-send (Attempt #",(y.resendAttempts||0)+1,")"]})})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6",children:[y&&n.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(jn,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"font-medium text-blue-900",children:"Current Delivery Status"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Company:"}),n.jsx("p",{className:"text-gray-900",children:(q=y.deliveryCompany)==null?void 0:q.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Tracking Number:"}),n.jsx("p",{className:"text-gray-900 font-mono",children:y.trackingNumber})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),n.jsx("p",{className:"text-gray-900 capitalize",children:y.status})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Resend Attempts:"}),n.jsx("p",{className:"text-gray-900",children:y.resendAttempts||0})]})]}),y.lastResendAt&&n.jsxs("div",{className:"mt-3 text-sm",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Last Resend:"}),n.jsx("p",{className:"text-gray-900",children:new Date(y.lastResendAt).toLocaleString()})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose Delivery Company"}),u?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading companies..."})]}):!Array.isArray(s)||s.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ua,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"No delivery companies available"})]}):n.jsx("div",{className:"space-y-3",children:s.map(U=>{var Q,J,L,he;return n.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${o===U._id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>l(U._id),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${o===U._id?"border-indigo-500 bg-indigo-500":"border-gray-300"}`,children:o===U._id&&n.jsx("div",{className:"w-full h-full rounded-full bg-white transform scale-50"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:U.name}),U.code&&U.code.trim()!==""?n.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",U.code]}):n.jsx("p",{className:"text-sm text-gray-400 italic",children:"No code assigned"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",((J=(Q=U.settings)==null?void 0:Q.basePrice)!=null?J:0).toFixed(2)]}),n.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[(he=(L=U.settings)==null?void 0:L.priceCalculation)!=null?he:"fixed"," rate"]})]})]})},U._id)})})]}),W&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Company Details"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vs,{className:"w-4 h-4 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Regions:"}),n.jsx("p",{className:"font-medium",children:W.settings.supportedRegions.length>0?W.settings.supportedRegions.join(", "):"All regions"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ql,{className:"w-4 h-4 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Base Price:"}),n.jsxs("p",{className:"font-medium",children:["$",((M=(D=W.settings)==null?void 0:D.basePrice)!=null?M:0).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ua,{className:"w-4 h-4 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Pricing:"}),n.jsx("p",{className:"font-medium capitalize",children:(ee=(H=W.settings)==null?void 0:H.priceCalculation)!=null?ee:"fixed"})]})]})]}),c>0&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Calculated delivery fee:"}),n.jsxs("span",{className:"font-medium text-lg text-green-600",children:["$",c.toFixed(2)]})]})}),o&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Field Mapping Status"}),A?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Pn,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Validating field mappings..."})]}):S?n.jsx("div",{className:"space-y-2",children:S.isValid?n.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[n.jsx(jn,{className:"w-4 h-4"}),n.jsx("span",{children:"All required fields are properly mapped"})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[n.jsx(ka,{className:"w-4 h-4"}),n.jsx("span",{children:"Field mapping issues detected"})]}),S.missingFields&&S.missingFields.length>0&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[n.jsx("p",{className:"text-sm font-medium text-red-800 mb-1",children:"Missing Required Fields:"}),n.jsx("ul",{className:"text-sm text-red-700 space-y-2",children:S.missingFields.map((U,Q)=>n.jsxs("li",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-start gap-1",children:[n.jsx("span",{className:"text-red-500",children:"•"}),n.jsxs("span",{className:"font-medium",children:[U.sourceField," → ",U.targetField]})]}),U.hasDefaultValue&&n.jsxs("div",{className:"ml-3 text-xs text-green-600",children:['✓ Default value available: "',U.defaultValue,'"']}),U.sourceValue!==void 0&&U.sourceValue!==null&&U.sourceValue!==""&&n.jsxs("div",{className:"ml-3 text-xs text-blue-600",children:['Source value: "',U.sourceValue,'"']}),n.jsx("div",{className:"ml-3 text-xs text-gray-600",children:U.description})]},Q))})]}),S.invalidFields&&S.invalidFields.length>0&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Invalid Field Values:"}),n.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:S.invalidFields.map((U,Q)=>n.jsxs("li",{className:"flex items-start gap-1",children:[n.jsx("span",{className:"text-yellow-500",children:"•"}),n.jsxs("span",{children:[U.sourceField,": ",U.description]})]},Q))})]})]})}):n.jsx("div",{className:"text-sm text-gray-500",children:"Select a company to validate field mappings"})]}),W.fieldMappings&&W.fieldMappings.length>0&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Field Mappings"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex items-center gap-1",children:(()=>{var J,L;const U=W.fieldMappings.filter(he=>he.enabled);return W.apiUrl&&(((J=W.credentials)==null?void 0:J.apiKey)||((L=W.credentials)==null?void 0:L.login))&&U.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-xs text-green-600",children:"Configured"})]}):U.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),n.jsx("span",{className:"text-xs text-yellow-600",children:"Partial"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-500",children:"No mappings"})]})})()}),n.jsx("button",{onClick:()=>x(!p),className:"text-xs text-indigo-600 hover:text-indigo-800",children:p?"Hide Preview":"Show Preview"})]})]}),p&&n.jsxs("div",{className:"bg-gray-100 rounded p-3 text-xs",children:[n.jsx("p",{className:"font-medium mb-2 text-gray-700",children:"Company Configuration Status:"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${W.apiUrl?"bg-green-500":"bg-red-500"}`}),n.jsxs("span",{children:["API URL: ",W.apiUrl?"Set":"Missing"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${(X=W.credentials)!=null&&X.apiKey||(de=W.credentials)!=null&&de.login?"bg-green-500":"bg-yellow-500"}`}),n.jsxs("span",{children:["Auth: ",(le=W.credentials)!=null&&le.apiKey?"API Key":(G=W.credentials)!=null&&G.login?"Basic":"None"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${(K=W.credentials)!=null&&K.database?"bg-green-500":"bg-gray-400"}`}),n.jsxs("span",{children:["Database: ",((Z=W.credentials)==null?void 0:Z.database)||"Not specified"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${((V=(I=W.settings)==null?void 0:I.supportedRegions)==null?void 0:V.length)>0?"bg-green-500":"bg-yellow-500"}`}),n.jsxs("span",{children:["Regions: ",((R=(te=W.settings)==null?void 0:te.supportedRegions)==null?void 0:R.length)||0]})]})]}),n.jsx("p",{className:"font-medium mb-2 text-gray-700",children:"Data will be transformed as:"}),W.fieldMappings.filter(U=>U.enabled).map((U,Q)=>n.jsxs("div",{className:"mb-1 text-gray-600 flex items-center gap-2",children:[n.jsx("span",{className:"font-mono",children:U.sourceField})," → ",n.jsx("span",{className:"font-mono",children:U.targetField}),U.required&&n.jsx("span",{className:"text-red-500 text-xs",children:"*required"}),U.transform&&n.jsxs("span",{className:"text-blue-600 ml-2",children:["(",U.transform,")"]})]},Q))]})]})]})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50",children:[o&&S&&!S.isValid&&n.jsxs("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-800",children:[n.jsx(ka,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:"Cannot send order: Field mapping issues must be resolved first"})]}),n.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Please configure the field mappings for this delivery company in the Field Mapping tab."})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:P,disabled:!o||h||A||S&&!S.isValid,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2",title:S&&!S.isValid?"Cannot send: Field mapping validation failed":A?"Validating field mappings...":"",children:h?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),w?"Re-sending...":"Sending..."]}):A?n.jsxs(n.Fragment,{children:[n.jsx(Pn,{className:"w-4 h-4 animate-spin"}),"Validating..."]}):S&&!S.isValid?n.jsxs(n.Fragment,{children:[n.jsx(ka,{className:"w-4 h-4"}),"Cannot Send"]}):n.jsxs(n.Fragment,{children:[w?n.jsx(Pn,{className:"w-4 h-4"}):n.jsx(ym,{className:"w-4 h-4"}),w?"Re-send to Delivery":"Send to Delivery"]})})]})]})]})})}function I3e(){const{settings:e}=vr(),[t,r]=N.useState([]),[a,s]=N.useState(!0),[i,o]=N.useState(null),[l,c]=N.useState([]),[d,u]=N.useState(!1),[f,h]=N.useState(!1),[m,p]=N.useState(!1),[x,y]=N.useState([]),[v,w]=N.useState(""),[j,A]=N.useState("all"),[C,S]=N.useState("all"),[k,E]=N.useState("all"),[T,F]=N.useState("date-desc"),O=Dd();N.useEffect(()=>{P()},[]);const P=async()=>{try{const I=await ue.getWithRetry("/orders/all");r(I.data)}catch(I){z.error("Failed to fetch orders")}finally{s(!1)}},W=async(I,V)=>{try{await ue.putWithRetry(`/orders/${I}/status`,{status:V}),z.success("Order status updated successfully"),P()}catch(te){z.error("Failed to update order status")}},q=async I=>{var V,te;if(!x.includes(I._id)){y(R=>[...R,I._id]);try{const U=(await ue.postWithRetry(`/orders/${I._id}/recalculate-shipping`,{})).data;r(Q=>Q.map(J=>J._id===I._id?{...J,...U}:J)),z.success(`Shipping recalculated${U!=null&&U.effectiveShippingFee?" ("+lt(U.effectiveShippingFee,O)+")":""}`)}catch(R){z.error(((te=(V=R==null?void 0:R.response)==null?void 0:V.data)==null?void 0:te.message)||"Failed to recalculate shipping")}finally{y(R=>R.filter(U=>U!==I._id))}}},D=async I=>{var V,te,R,U,Q,J,L,he,ge,Ae;if(I.length===1){o(I[0]),p(!0);return}console.log("🚚 Starting batch delivery process for",I.length,"orders");try{console.log("📋 Fetching active delivery companies...");const xe=(await ue.getWithRetry("/delivery/companies/public/active")).data,Te=Array.isArray(xe)?xe:(V=xe==null?void 0:xe.data)!=null?V:[];if(console.log("📋 Found",Te.length,"active delivery companies:",Te.map(ut=>ut.name)),!Te||Te.length===0){z.error("No active delivery companies available"),console.log("❌ No active delivery companies found");return}const Ue=Te[0];console.log("✅ Using delivery company:",Ue.name,"(ID:",Ue._id,")"),console.log("📦 Sending orders to delivery service...");const tt=await Promise.allSettled(I.map(async(ut,it)=>(console.log(`📦 Processing order ${it+1}/${I.length}: #${ut.orderNumber}`),ue.postWithRetry("/delivery/order",{order:ut,companyId:Ue._id})))),ct=tt.filter(ut=>ut.status==="fulfilled").length,mt=tt.filter(ut=>ut.status==="rejected").length;ct>0&&(console.log(`✅ ${ct} orders sent successfully`),z.success(`${ct} orders sent to delivery service successfully`)),mt>0&&(console.log(`❌ ${mt} orders failed to send`),z.error(`${mt} orders failed to send to delivery service`)),P(),c([])}catch(Ee){console.error("❌ Delivery error:",Ee),console.error("❌ Error details:",{status:(te=Ee.response)==null?void 0:te.status,statusText:(R=Ee.response)==null?void 0:R.statusText,data:(U=Ee.response)==null?void 0:U.data,url:(Q=Ee.config)==null?void 0:Q.url,method:(J=Ee.config)==null?void 0:J.method});const xe=((he=(L=Ee.response)==null?void 0:L.data)==null?void 0:he.message)||"Failed to send orders to delivery service";z.error(xe),((ge=Ee.response)==null?void 0:ge.status)===404&&(z.error("Delivery service endpoint not found. Please check server configuration."),console.log("❌ 404 Error: The delivery endpoint was not found")),((Ae=Ee.response)==null?void 0:Ae.status)===401&&(z.error("Authentication required. Please login again."),console.log("❌ 401 Error: Authentication required"))}},M=()=>{p(!1),o(null),P(),c([])},[H,ee]=N.useState("A4"),X=I=>`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
        <head>
          <title>Waybill #${I.orderNumber}</title>
          <style>
            @page { size: 10cm 15cm; margin: 0; }
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; width: 10cm; height: 15cm; margin: 0; box-sizing: border-box; }
            .waybill10x15-container { border: 2px solid #000; width: 9.8cm; height: 14.8cm; margin: 0.1cm auto; padding: 0.2cm; box-sizing: border-box; display: flex; flex-direction: column; justify-content: flex-start; }
            .waybill10x15-header { display: flex; flex-direction: row; justify-content: space-between; align-items: flex-start; margin-bottom: 0.2cm; }
            .waybill10x15-storeinfo { text-align: left; font-size: 1em; line-height: 1.2; min-width: 4.5cm; }
            .waybill10x15-barcode { text-align: center; flex: 1; display: flex; flex-direction: column; align-items: center; }
            .waybill10x15-barcode img { height: 38px; margin-bottom: 2px; }
            .waybill10x15-barcode-num { font-size: 0.95em; letter-spacing: 1px; margin-bottom: 2px; }
            .waybill10x15-barcode-extra { font-size: 1em; margin-bottom: 2px; }
            .waybill10x15-date { font-size: 1em; text-align: left; }
            .waybill10x15-main { display: flex; flex-direction: row; gap: 0.3cm; margin-bottom: 0.2cm; }
            .waybill10x15-products, .waybill10x15-recipient { border: 1px solid #000; border-radius: 6px; background: #fff; padding: 0.15cm 0.2cm; min-width: 4.2cm; }
            .waybill10x15-products { margin-bottom: 0; }
            .waybill10x15-products-table { width: 100%; border-collapse: collapse; font-size: 1em; }
            .waybill10x15-products-table th, .waybill10x15-products-table td { border: 1px solid #000; padding: 2px 4px; text-align: center; }
            .waybill10x15-products-table th { background: #fff; font-weight: bold; }
            .waybill10x15-label { font-weight: bold; font-size: 1em; border-bottom: 1px solid #000; margin-bottom: 2px; text-align: right; }
            .waybill10x15-value { margin-bottom: 2px; }
            .waybill10x15-footer { display: flex; flex-direction: row; justify-content: flex-start; align-items: flex-end; gap: 0.5cm; margin-top: 0.5cm; }
            .waybill10x15-total { font-weight: bold; font-size: 1.1em; }
            .waybill10x15-notes { font-size: 1em; }
          </style>
        </head>
        <body>
          <div class="waybill10x15-container">
            <div class="waybill10x15-header">
              <div class="waybill10x15-storeinfo">
                <div>${(e==null?void 0:e.name)||"Mini Store"}</div>
                <div class="waybill10x15-date">التاريخ: ${new Date(I.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} <br/>${new Date(I.createdAt).toLocaleDateString("en-GB")}</div>
              </div>
              <div class="waybill10x15-barcode">
                <img src="https://barcode.tec-it.com/barcode.ashx?data=${I.orderNumber}&code=Code128&translate-esc=true" alt="barcode" />
                <div class="waybill10x15-barcode-num">${I.orderNumber}</div>
                <div class="waybill10x15-barcode-extra">${(e==null?void 0:e.phone)||""}</div>
              </div>
            </div>
            <div class="waybill10x15-main">
              <div class="waybill10x15-recipient">
                <div class="waybill10x15-label">المستلم</div>
                <div class="waybill10x15-value"><b>${I.customerInfo.firstName} ${I.customerInfo.lastName||""}</b></div>
                <div class="waybill10x15-value">${I.customerInfo.mobile}</div>
                <div class="waybill10x15-value">${I.shippingAddress.city}</div>
                <div class="waybill10x15-value">${(e==null?void 0:e.name)||"Mini Store"}</div>
              </div>
              <div class="waybill10x15-products">
                <div class="waybill10x15-label">المنتجات</div>
                <table class="waybill10x15-products-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>اسم المنتج</th>
                      <th>الكمية</th>
                      <th>وحدة السعر</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${I.items.map((V,te)=>`
                      <tr>
                        <td>${te+1}</td>
                        <td>${V.product.name}</td>
                        <td>X${V.quantity}</td>
                        <td>${V.price.toFixed(2)}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
                <div style="text-align:left; margin-top:4px;">المجموع: ${I.totalAmount.toFixed(2)}</div>
              </div>
            </div>
            <div class="waybill10x15-footer">
              <div class="waybill10x15-total">اسم المستلم والتوقيع:</div>
              <div class="waybill10x15-notes">ملاحظات<br/>تسليم يوم الاربعاء</div>
            </div>
          </div>
        </body>
      </html>
    `,de=I=>{const V=window.open("","_blank");if(!V)return;const te=J=>`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
        <head>
          <title>Waybill #${J.orderNumber}</title>
          <style>
            @page { size: 10cm 10cm; margin: 0; }
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; width: 10cm; height: 10cm; margin: 0; box-sizing: border-box; }
            .waybill-container { border: 2px solid #000; width: 9.8cm; height: 9.8cm; margin: 0.1cm auto; padding: 0.2cm; box-sizing: border-box; display: flex; flex-direction: column; justify-content: space-between; }
            .waybill-header { display: flex; justify-content: space-between; align-items: flex-start; }
            .waybill-date { font-size: 0.9em; font-weight: bold; }
            .waybill-logo { text-align: right; }
            .waybill-logo img { height: 32px; }
            .waybill-main { display: flex; flex: 1; gap: 0.2cm; margin-top: 0.2cm; }
            .waybill-box { border: 1px solid #000; border-radius: 6px; padding: 0.15cm 0.2cm; background: #fff; }
            .waybill-products { flex: 1.2; display: flex; flex-direction: column; }
            .waybill-products-table { width: 100%; border-collapse: collapse; font-size: 0.95em; }
            .waybill-products-table th, .waybill-products-table td { border: 1px solid #000; padding: 2px 4px; text-align: center; }
            .waybill-products-table th { background: #f3f3f3; font-weight: bold; }
            .waybill-recipient { flex: 1; display: flex; flex-direction: column; gap: 2px; }
            .waybill-label { font-weight: bold; font-size: 0.95em; border-bottom: 1px solid #000; margin-bottom: 2px; text-align: right; }
            .waybill-value { margin-bottom: 2px; }
            .waybill-footer { display: flex; gap: 0.2cm; margin-top: 0.2cm; }
            .waybill-total { flex: 1.2; text-align: center; border: 1px solid #000; border-radius: 6px; font-size: 1.2em; font-weight: bold; background: #f3f3f3; display: flex; flex-direction: column; justify-content: center; align-items: center; }
            .waybill-barcode { flex: 1; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center; }
            .barcode-label { font-size: 0.8em; margin-bottom: 2px; }
            .barcode-img { margin-bottom: 2px; }
            .serial { font-size: 0.9em; letter-spacing: 2px; }
          </style>
        </head>
        <body>
          <div class="waybill-container">
            <div class="waybill-header">
              <div class="waybill-date">${new Date(J.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} ${new Date(J.createdAt).toLocaleDateString("en-GB")}</div>
              <div class="waybill-logo">
                <b>Mini Store</b>
                <div style="font-size:0.9em; font-weight:bold;">${J.customerInfo.mobile}</div>
              </div>
            </div>
            <div class="waybill-main">
              <div class="waybill-products waybill-box">
                <div class="waybill-label">المنتجات / Products</div>
                <table class="waybill-products-table">
                  <tbody>
                    ${J.items.map(L=>`
                      <tr>
                        <td>${L.price.toFixed(2)}</td>
                        <td>X${L.quantity}</td>
                        <td>${L.product.name}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
              <div class="waybill-recipient waybill-box">
                <div class="waybill-label">المستلم / Recipient</div>
                <div class="waybill-value">${J.customerInfo.firstName} ${J.customerInfo.lastName||""}</div>
                <div class="waybill-value">${J.customerInfo.mobile}</div>
                <div class="waybill-value">${J.shippingAddress.city}</div>
                <div class="waybill-value">Mini Store :المرسل</div>
              </div>
            </div>
            <div class="waybill-footer">
              <div class="waybill-total">
                <div>مجموع قيمة التحصيل<br/>Total Amount</div>
                <div style="font-size:1.4em; color:#000;">${J.totalAmount.toLocaleString("en-US")}</div>
              </div>
              <div class="waybill-barcode">
                <div class="barcode-label">تسلسل المتجر / Store Serial</div>
                <div class="barcode-img">
                  <img src="https://barcode.tec-it.com/barcode.ashx?data=${J.orderNumber}&code=Code128&translate-esc=true" alt="barcode" height="32" />
                </div>
                <div class="serial">${J.orderNumber}</div>
              </div>
            </div>
          </div>
        </body>
      </html>
    `,R=J=>`
      <!DOCTYPE html>
      <html dir="rtl" lang="ar">
        <head>
          <title>Waybill #${J.orderNumber}</title>
          <style>
            @page { size: A5; margin: 8mm; }
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; box-sizing: border-box; }
            .a5-container { border: 2px solid #000; width: 100%; min-height: 98%; margin: 0 auto; padding: 8px; box-sizing: border-box; }
            .a5-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
            .a5-logo { width: 120px; }
            .a5-barcode { text-align: center; flex: 1; }
            .a5-barcode img { height: 40px; }
            .a5-storeinfo { text-align: right; min-width: 120px; font-size: 0.95em; }
            .a5-date { font-size: 0.95em; }
            .a5-main { display: flex; gap: 8px; }
            .a5-products, .a5-recipient { border: 1px solid #000; border-radius: 6px; background: #fff; padding: 6px; }
            .a5-products { flex: 2.2; margin-bottom: 8px; }
            .a5-products-table { width: 100%; border-collapse: collapse; font-size: 0.95em; }
            .a5-products-table th, .a5-products-table td { border: 1px solid #000; padding: 2px 4px; text-align: center; }
            .a5-products-table th { background: #f3f3f3; font-weight: bold; }
            .a5-recipient { flex: 1.2; display: flex; flex-direction: column; gap: 2px; min-width: 220px; }
            .a5-label { font-weight: bold; font-size: 1em; border-bottom: 1px solid #000; margin-bottom: 2px; text-align: right; }
            .a5-value { margin-bottom: 2px; }
            .a5-delivery { border: 1px solid #000; border-radius: 6px; background: #fff; padding: 6px; margin-top: 8px; min-width: 220px; }
            .a5-footer { display: flex; gap: 8px; margin-top: 8px; }
            .a5-total { flex: 2.2; text-align: left; font-weight: bold; font-size: 1.1em; }
            .a5-notes { flex: 1.2; text-align: right; font-size: 0.95em; }
          </style>
        </head>
        <body>
          <div class="a5-container">
            <div class="a5-header">
              <div class="a5-logo">
                <img src="/favicon.svg" alt="Logo" style="height:32px;" />
                <div>07700130637</div>
              </div>
              <div class="a5-barcode">
                <img src="https://barcode.tec-it.com/barcode.ashx?data=${J.orderNumber}&code=Code128&translate-esc=true" alt="barcode" />
                <div>${J.orderNumber}</div>
              </div>
              <div class="a5-storeinfo">
                <div>Mini Store</div>
                <div class="a5-date">التاريخ: ${new Date(J.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} ${new Date(J.createdAt).toLocaleDateString("en-GB")}</div>
              </div>
            </div>
            <div class="a5-main">
              <div class="a5-products">
                <div class="a5-label">المنتجات</div>
                <table class="a5-products-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>اسم المنتج</th>
                      <th>الكمية</th>
                      <th>وحدة السعر</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${J.items.map((L,he)=>`
                      <tr>
                        <td>${he+1}</td>
                        <td>${L.product.name}</td>
                        <td>X${L.quantity}</td>
                        <td>${L.price.toFixed(2)}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
                <div style="text-align:left; margin-top:4px;">المجموع: ${J.totalAmount.toFixed(2)}</div>
              </div>
              <div class="a5-recipient">
                <div class="a5-label">المستلم</div>
                <div class="a5-value"><b>${J.customerInfo.firstName} ${J.customerInfo.lastName||""}</b></div>
                <div class="a5-value">${J.customerInfo.mobile}</div>
                <div class="a5-value">${J.customerInfo.mobile}</div>
                <div class="a5-value">${J.shippingAddress.city}</div>
                <div class="a5-value">mystore</div>
                <div class="a5-value">Mini Store</div>
              </div>
            </div>
            <div class="a5-main">
              <div class="a5-delivery">
                <div class="a5-label">معلومات التوصيل</div>
                <div class="a5-value">شركة التوصيل</div>
                <div class="a5-value">المجموع<br/>${J.totalAmount.toFixed(1)}</div>
              </div>
            </div>
            <div class="a5-footer">
              <div class="a5-total">اسم المستلم والتوقيع:</div>
              <div class="a5-notes">ملاحظات<br/>تسليم يوم الاربعاء</div>
            </div>
          </div>
        </body>
      </html>
    `,U=J=>`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Orders Summary</title>
          <style>
            body { font-family: system-ui, sans-serif; padding: 20px; }
            .header { text-align: center; margin-bottom: 30px; }
            .order { margin-bottom: 40px; border-bottom: 2px solid #eee; padding-bottom: 20px; }
            .section { margin-bottom: 20px; }
            table { width: 100%; border-collapse: collapse; margin: 10px 0; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            .total { text-align: right; font-weight: bold; margin-top: 10px; }
            @media print {
              body { padding: 0; }
              button { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Orders Summary</h1>
            <p>Generated on ${Ba(new Date,"PPP")}</p>
          </div>
          ${J.map(L=>`
            <div class="order">
              <h2>Order #${L.orderNumber}</h2>
              <p>Date: ${Ba(new Date(L.createdAt),"PPP")}</p>
              <div class="section">
                <h3>Customer Information</h3>
                <p>Name: ${L.customerInfo.firstName} ${L.customerInfo.lastName}</p>
                <p>Email: ${L.customerInfo.email}</p>
                <p>Phone: ${L.customerInfo.mobile}</p>
              </div>
              <div class="section">
                <h3>Shipping Address</h3>
                <p>${L.shippingAddress.street}</p>
                <p>${L.shippingAddress.city}, ${L.shippingAddress.state} ${L.shippingAddress.zipCode}</p>
                <p>${L.shippingAddress.country}</p>
              </div>
              <div class="section">
                <h3>Order Items</h3>
                <table>
                  <thead>
                    <tr>
                      <th>Item</th>
                      <th>Quantity</th>
                      <th>Price</th>
                      <th>Total</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${L.items.map(he=>`
                      <tr>
                        <td>${he.product.name}</td>
                        <td>${he.quantity}</td>
                        <td>${lt(he.price,O)}</td>
                        <td>${lt(he.price*he.quantity,O)}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
                <div class="total">
                  Total: ${lt(L.totalAmount,O)}
                </div>
              </div>
            </div>
          `).join("")}
        </body>
      </html>
    `;let Q="";H==="10x10"?Q=I.map(J=>te(J)).join('<div style="page-break-after:always"></div>'):H==="A5"?Q=I.map(J=>R(J)).join('<div style="page-break-after:always"></div>'):H==="10x15"?Q=I.map(J=>X(J)).join('<div style="page-break-after:always"></div>'):Q=U(I),V.document.documentElement.innerHTML=Q,V.addEventListener("load",()=>{V.print()}),setTimeout(()=>{V.print()},100)},le=I=>{c(V=>V.includes(I)?V.filter(te=>te!==I):[...V,I])},G=()=>{c(I=>I.length===K.length?[]:K.map(V=>V._id))},K=t.filter(I=>{const V=I.orderNumber.toLowerCase().includes(v.toLowerCase())||`${I.customerInfo.firstName} ${I.customerInfo.lastName}`.toLowerCase().includes(v.toLowerCase())||I.customerInfo.email.toLowerCase().includes(v.toLowerCase())||(I.customerInfo.mobile||"").toLowerCase().includes(v.toLowerCase())||(I.shippingAddress.city||"").toLowerCase().includes(v.toLowerCase()),te=j==="all"||I.status===j,R=C==="all"||I.paymentStatus===C,U=new Date(I.createdAt),Q=new Date;let J=!0;switch(k){case"today":J=U.toDateString()===Q.toDateString();break;case"week":const L=new Date(Q.setDate(Q.getDate()-7));J=U>=L;break;case"month":const he=new Date(Q.setMonth(Q.getMonth()-1));J=U>=he;break}return V&&te&&R&&J}),Z=[...K].sort((I,V)=>{switch(T){case"date-asc":return new Date(I.createdAt).getTime()-new Date(V.createdAt).getTime();case"date-desc":return new Date(V.createdAt).getTime()-new Date(I.createdAt).getTime();case"amount-asc":return I.totalAmount-V.totalAmount;case"amount-desc":return V.totalAmount-I.totalAmount;default:return 0}});return a?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 w-full md:w-auto justify-end",children:[n.jsxs("div",{className:"flex items-center gap-2 md:mr-4 justify-end",children:[n.jsx("label",{htmlFor:"waybill-size-bulk",className:"font-medium",children:"Waybill Size:"}),n.jsxs("select",{id:"waybill-size-bulk",value:H,onChange:I=>ee(I.target.value),className:"border rounded px-2 py-1",children:[n.jsx("option",{value:"A4",children:"A4 (210 × 297 mm)"}),n.jsx("option",{value:"A5",children:"A5 (148 × 210 mm)"}),n.jsx("option",{value:"4x6",children:'4x6" (4 × 6 in)'}),n.jsx("option",{value:"10x10",children:'10x10" (10 × 10 in)'}),n.jsx("option",{value:"10x15",children:'10x15" (10 × 15 in)'})]})]}),n.jsxs("button",{onClick:()=>de(t.filter(I=>l.includes(I._id))),className:"flex items-center gap-2 px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",disabled:l.length===0,title:l.length?`Print ${l.length} selected order${l.length>1?"s":""}`:"Select orders to enable printing",children:[n.jsx(L2,{className:"w-5 h-5"}),n.jsxs("span",{className:"hidden sm:inline",children:["Print Selected (",l.length,")"]})]}),n.jsxs("button",{onClick:()=>D(t.filter(I=>l.includes(I._id))),className:"flex items-center gap-2 px-4 py-2 text-white bg-green-600 rounded-lg hover:bg-green-700",disabled:l.length===0,children:[n.jsx(ua,{className:"w-5 h-5"}),"Send to Delivery"]}),n.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(rr,{className:"w-5 h-5"}),"Create Order"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Search orders...",value:v,onChange:I=>w(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}),n.jsxs("select",{value:j,onChange:I=>A(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processing",children:"Processing"}),n.jsx("option",{value:"shipped",children:"Shipped"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{value:C,onChange:I=>S(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Payments"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"failed",children:"Failed"})]}),n.jsxs("select",{value:k,onChange:I=>E(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Time"}),n.jsx("option",{value:"today",children:"Today"}),n.jsx("option",{value:"week",children:"This Week"}),n.jsx("option",{value:"month",children:"This Month"})]}),n.jsxs("select",{value:T,onChange:I=>F(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"date-desc",children:"Newest First"}),n.jsx("option",{value:"date-asc",children:"Oldest First"}),n.jsx("option",{value:"amount-desc",children:"Highest Amount"}),n.jsx("option",{value:"amount-asc",children:"Lowest Amount"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left",children:n.jsx("label",{className:"inline-flex items-center",children:n.jsx("input",{type:"checkbox",checked:l.length===K.length,onChange:G,className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subtotal"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shipping"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Fee"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total + Shipping"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map(I=>{var V;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("label",{className:"inline-flex items-center",children:n.jsx("input",{type:"checkbox",checked:l.includes(I._id),onChange:()=>le(I._id),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm font-medium text-indigo-600",children:["#",I.orderNumber]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[I.customerInfo.firstName," ",I.customerInfo.lastName]}),I.customerInfo.email&&n.jsx("p",{className:"text-gray-500",children:I.customerInfo.email}),I.customerInfo.mobile&&n.jsxs("p",{className:"text-gray-500 inline-flex items-center gap-1",children:[n.jsx(Ef,{className:"w-4 h-4"})," ",I.customerInfo.mobile]}),((V=I.shippingAddress)==null?void 0:V.city)&&n.jsxs("p",{className:"text-gray-500 inline-flex items-center gap-1",children:[n.jsx(Vs,{className:"w-4 h-4"})," ",I.shippingAddress.city]})]})}),(()=>{var J,L,he,ge,Ae,Ee,xe;const te=(he=(L=(J=I.effectiveShippingFee)!=null?J:I.shippingFee)!=null?L:I.deliveryFee)!=null?he:0,R=I.totalWithShipping&&I.totalWithShipping>I.totalAmount?I.totalWithShipping:I.totalAmount+te,U=I.shippingMethodName||((ge=I.shippingCalculation)==null?void 0:ge.methodName),Q=I.shippingCity||((Ae=I.shippingAddress)==null?void 0:Ae.city);return n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm font-medium text-gray-900",children:lt(I.totalAmount,O)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:te>0?n.jsxs("div",{className:"text-sm text-gray-900 leading-tight",children:[n.jsx("div",{children:lt(te,O)}),(U||Q)&&n.jsxs("div",{className:"text-xs text-gray-500",children:[U||"Shipping",Q?` • ${Q}`:""]})]}):n.jsx("span",{className:"text-sm text-gray-400",children:"—"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.deliveryFee||I.effectiveShippingFee?n.jsx("span",{className:"text-sm font-medium text-gray-900",children:lt((xe=(Ee=I.deliveryFee)!=null?Ee:I.effectiveShippingFee)!=null?xe:0,O)}):n.jsx("span",{className:"text-sm text-gray-400",children:"—"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:lt(R,O)})})]})})(),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.status==="delivered"?"bg-green-100 text-green-800":I.status==="processing"?"bg-blue-100 text-blue-800":I.status==="shipped"?"bg-indigo-100 text-indigo-800":I.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:I.status.charAt(0).toUpperCase()+I.status.slice(1)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.deliveryStatus?n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.deliveryStatus==="delivered"?"bg-green-100 text-green-800":I.deliveryStatus==="in_transit"?"bg-blue-100 text-blue-800":I.deliveryStatus==="out_for_delivery"?"bg-indigo-100 text-indigo-800":I.deliveryStatus==="delivery_failed"?"bg-red-100 text-red-800":I.deliveryStatus==="assigned"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:I.deliveryStatus.replace("_"," ")}),I.deliveryTrackingNumber&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I.deliveryTrackingNumber})]}):n.jsx("span",{className:"text-sm text-gray-400",children:"Not assigned"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.paymentStatus==="completed"?"bg-green-100 text-green-800":I.paymentStatus==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:I.paymentStatus.charAt(0).toUpperCase()+I.paymentStatus.slice(1)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Co(new Date(I.createdAt),{addSuffix:!0})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{o(I),u(!0)},className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"View order details",children:n.jsx(cs,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>de([I]),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Print order",children:n.jsx(rr,{className:"w-5 h-5"})}),I.status!=="delivered"&&I.status!=="cancelled"&&n.jsx("button",{onClick:()=>D([I]),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Send to delivery",children:n.jsx(ua,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>q(I),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Recalculate shipping",disabled:x.includes(I._id),children:n.jsx(Pn,{className:`w-5 h-5 ${x.includes(I._id)?"animate-spin":""}`})})]})})]},I._id)})})]})})}),i&&n.jsx(T3e,{isOpen:d,onClose:()=>{u(!1),o(null)},order:{...i,currency:i.currency||O},onUpdateStatus:W}),n.jsx(O3e,{isOpen:f,onClose:()=>h(!1),onSubmit:async I=>{try{await ue.postWithRetry("/orders",I),z.success("Order created successfully"),P(),h(!1)}catch(V){z.error("Failed to create order")}}}),i&&n.jsx(P3e,{isOpen:m,onClose:()=>{p(!1),o(null)},order:i,onSuccess:M})]})}function F3e(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r===2?t+="==":r===3?t+="=":r===1&&(t+="==="),atob(t)}function uv(e,t=60){var r;if(!e)return!1;try{const a=e.split(".");if(a.length!==3)return!1;const s=F3e(a[1]),i=JSON.parse(s),o=((r=i==null?void 0:i.exp)!=null?r:0)*1e3;if(!o||Number.isNaN(o))return!1;const l=Math.max(0,Math.min(300,t))*1e3;return Date.now()<o+l}catch(a){return!1}}function D3e(){const{settings:e,updateSettings:t}=vr(),[r,a]=N.useState(null),[s,i]=N.useState(""),[o,l]=N.useState(!1),[c,d]=N.useState(!1),[u,f]=N.useState(""),[h,m]=N.useState(""),[p,x]=N.useState("");N.useEffect(()=>{var E,T,F;e!=null&&e.logo&&i(e.logo),f((E=e==null?void 0:e.logoWidthMobile)!=null?E:56),m((T=e==null?void 0:e.logoMaxHeightMobile)!=null?T:40),x((F=e==null?void 0:e.logoWidthDesktop)!=null?F:100)},[e==null?void 0:e.logo]);const y=E=>{var F;const T=(F=E.target.files)==null?void 0:F[0];T&&A(T)},v=E=>{E.preventDefault(),d(!0)},w=()=>{d(!1)},j=E=>{E.preventDefault(),d(!1);const T=E.dataTransfer.files[0];T&&A(T)},A=E=>{if(!E.type.startsWith("image/")){z.error("Please upload an image file");return}if(E.size>2*1024*1024){z.error("Image size should be less than 2MB");return}a(E),i(URL.createObjectURL(E))},C=async()=>{if(r){l(!0);try{const E=await Ys(r);await t({logo:E}),a(null)}catch(E){z.error("Failed to update logo")}finally{l(!1)}}},S=async()=>{try{await t({logo:null}),a(null),i("")}catch(E){z.error("Failed to remove logo")}},k=async()=>{try{await t({logoWidthMobile:typeof u=="number"?u:void 0,logoMaxHeightMobile:typeof h=="number"?h:void 0,logoWidthDesktop:typeof p=="number"?p:void 0}),z.success("Logo size updated")}catch(E){z.error("Failed to update logo size")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Store Logo"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload your store logo. Recommended size: 200x50 pixels."})]}),n.jsx("div",{onDragOver:v,onDragLeave:w,onDrop:j,className:`
          relative border-2 border-dashed rounded-xl p-8
          ${c?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"}
          transition-all duration-200
        `,children:s?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative w-48 mx-auto",children:[n.jsx("img",{src:s,alt:"Logo preview",className:"w-full max-h-[150px] h-auto"}),n.jsx("button",{onClick:S,className:"absolute -top-2 -right-2 p-1 bg-white rounded-full shadow-md hover:bg-gray-100",children:n.jsx(xt,{className:"w-4 h-4 text-gray-500"})})]}),r&&n.jsx("button",{onClick:C,disabled:o,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Jo,{className:"w-4 h-4"}),"Save Changes"]})})]}):n.jsxs("div",{className:"text-center",children:[n.jsx(Gn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"relative cursor-pointer",children:[n.jsx("span",{className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Upload a file"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:y})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 2MB"})]})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Logo Guidelines"}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("li",{children:"• Use a transparent background (PNG format recommended)"}),n.jsx("li",{children:"• Keep the file size under 2MB"}),n.jsx("li",{children:"• Maintain a clear, readable design at different sizes"}),n.jsx("li",{children:"• Use your brand colors consistently"})]})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-4 space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Header Logo Size"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Mobile width (px)"}),n.jsx("input",{type:"number",min:24,max:160,value:u,onChange:E=>f(E.target.value===""?"":Number(E.target.value)),className:"mt-1 w-full border rounded px-3 py-2"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Mobile max height (px)"}),n.jsx("input",{type:"number",min:20,max:120,value:h,onChange:E=>m(E.target.value===""?"":Number(E.target.value)),className:"mt-1 w-full border rounded px-3 py-2"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Desktop width (px)"}),n.jsx("input",{type:"number",min:60,max:240,value:p,onChange:E=>x(E.target.value===""?"":Number(E.target.value)),className:"mt-1 w-full border rounded px-3 py-2"})]})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:[n.jsx(Jo,{className:"w-4 h-4"})," Save Sizes"]})})]})]})}function R3e(){const{settings:e,updateSettings:t}=vr(),[r,a]=N.useState(null),[s,i]=N.useState(""),[o,l]=N.useState(!1),[c,d]=N.useState(!1);N.useEffect(()=>{if(e&&"favicon"in e){let y=e.favicon||"";y.startsWith("/uploads/")&&(y=`${Hl()}${y}`),i(y)}},[e==null?void 0:e.favicon]);const u=y=>["image/svg+xml","image/png","image/x-icon","image/vnd.microsoft.icon"].includes(y.type)?y.size>512*1024?(z.error("Favicon should be under 512KB"),!1):!0:(z.error("File must be SVG, PNG, or ICO"),!1),f=y=>{u(y)&&(a(y),i(URL.createObjectURL(y)))},h=y=>{var w;const v=(w=y.target.files)==null?void 0:w[0];v&&f(v)},m=y=>{var w;y.preventDefault(),d(!1);const v=(w=y.dataTransfer.files)==null?void 0:w[0];v&&f(v)},p=async()=>{var y,v,w;if(r){l(!0);try{const j=new FormData;j.append("file",r);const A=await ue.postWithRetry($r.SETTINGS.FAVICON_UPLOAD,j,{headers:{"Content-Type":"multipart/form-data"}});(y=A==null?void 0:A.data)!=null&&y.url&&(z.success("Favicon updated"),a(null),await t({favicon:A.data.url}),i(A.data.url))}catch(j){z.error(((w=(v=j==null?void 0:j.response)==null?void 0:v.data)==null?void 0:w.message)||"Upload failed")}finally{l(!1)}}},x=async()=>{try{await t({favicon:null}),z.success("Favicon removed (default restored)"),i(""),a(null)}catch(y){z.error("Failed to remove favicon")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Favicon"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload a custom favicon (SVG, PNG, or ICO). Recommended square dimensions (e.g., 64x64)."})]}),n.jsx("div",{onDragOver:y=>{y.preventDefault(),d(!0)},onDragLeave:()=>d(!1),onDrop:m,className:`relative border-2 border-dashed rounded-xl p-6 text-center transition-all ${c?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"}`,children:s?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative w-20 h-20 mx-auto flex items-center justify-center bg-white rounded shadow",children:[n.jsx("img",{src:s,alt:"Favicon preview",className:"max-w-full max-h-full object-contain"}),n.jsx("button",{onClick:x,title:"Remove favicon",className:"absolute -top-2 -right-2 p-1 bg-white rounded-full shadow hover:bg-gray-100",children:n.jsx(en,{className:"w-4 h-4 text-red-500"})})]}),r&&n.jsxs("button",{onClick:p,disabled:o,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[o?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):n.jsx(Jo,{className:"w-4 h-4"}),o?"Uploading...":"Save Favicon"]})]}):n.jsxs("div",{children:[n.jsx(Gn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"relative cursor-pointer font-medium text-indigo-600 hover:text-indigo-500",children:[n.jsx("span",{children:"Choose file"}),n.jsx("input",{type:"file",accept:"image/svg+xml,image/png,image/x-icon",className:"hidden",onChange:h})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"or drag & drop"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Max 512KB"})]})]})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tips"}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("li",{children:"• SVG provides best scaling quality."}),n.jsx("li",{children:"• Ensure the image has good contrast on browser tabs."}),n.jsx("li",{children:"• Clear browser cache or do hard reload to see changes."})]})]})]})}async function Z3(){return(await ue.getWithRetry("/settings/payments/paypal")).data}async function M3e(e){await ue.putWithRetry("/settings/payments/paypal",e)}async function L3e(){var e,t;try{return(await ue.postWithRetry("/settings/payments/paypal/test",{})).data}catch(r){return{ok:!1,message:((t=(e=r==null?void 0:r.response)==null?void 0:e.data)==null?void 0:t.message)||"Test failed"}}}function $3e(){const e=(...w)=>{console.debug("[PaymentsSettings]",...w)},[t,r]=ne.useState(!0),[a,s]=ne.useState(!1),[i,o]=ne.useState(!1),[l,c]=ne.useState({enabled:!1,mode:"sandbox",clientId:"",secret:""}),[d,u]=ne.useState({card:!0,cod:!0,paypal:!0}),[f,h]=ne.useState(!1),[m,p]=ne.useState(null);ne.useEffect(()=>{(async()=>{var w,j,A,C,S,k,E;r(!0);try{const T=localStorage.getItem("token");if(e("init: token check",{tokenFound:!!T,tokenLength:(T==null?void 0:T.length)||0}),!uv(T)){p("Authentication required. Please log in to manage PayPal settings."),e("init: invalid or missing token"),r(!1);return}const F=await Z3();c(F);try{const O=await ue.getWithRetry("/settings"),P=((j=(w=O==null?void 0:O.data)==null?void 0:w.payments)==null?void 0:j.visibility)||{};u({card:typeof P.card=="boolean"?P.card:!0,cod:typeof P.cod=="boolean"?P.cod:!0,paypal:typeof P.paypal=="boolean"?P.paypal:!0})}catch(O){}p(null),e("loaded PayPal config successfully")}catch(T){const F=(A=T==null?void 0:T.response)==null?void 0:A.status;e("load error",{status:F,message:((S=(C=T==null?void 0:T.response)==null?void 0:C.data)==null?void 0:S.message)||(T==null?void 0:T.message)}),F===401?p("Your session has expired or you are not logged in. Please log in to manage PayPal settings."):z.error(((E=(k=T==null?void 0:T.response)==null?void 0:k.data)==null?void 0:E.message)||"Failed to load PayPal settings")}finally{r(!1)}})()},[]);const x=async w=>{var j,A,C,S,k;if(w.preventDefault(),m){z.error("Please log in to save PayPal settings.");return}s(!0);try{await M3e(l),z.success("PayPal settings saved"),e("save success");const E=await Z3();c(E),p(null)}catch(E){const T=(j=E==null?void 0:E.response)==null?void 0:j.status;e("save error",{status:T,message:((C=(A=E==null?void 0:E.response)==null?void 0:A.data)==null?void 0:C.message)||(E==null?void 0:E.message)}),T===401?(p("Your session has expired. Please log in again."),z.error("Session expired. Please log in again.")):z.error(((k=(S=E==null?void 0:E.response)==null?void 0:S.data)==null?void 0:k.message)||"Failed to save")}finally{s(!1)}},y=async()=>{var w,j;if(m){z.error("Please log in to save visibility settings.");return}h(!0);try{await ue.putWithRetry("/settings",{payments:{visibility:d}}),z.success("Payment method visibility saved")}catch(A){z.error(((j=(w=A==null?void 0:A.response)==null?void 0:w.data)==null?void 0:j.message)||"Failed to save visibility")}finally{h(!1)}},v=async()=>{var w,j,A,C,S;if(m){z.error("Please log in to test credentials.");return}o(!0);try{const k=await L3e();k.ok?(z.success("PayPal credentials are valid"),e("test success")):(z.error(k.message||"Credentials test failed"),e("test failed result",{ok:k.ok,message:k.message}))}catch(k){const E=(w=k==null?void 0:k.response)==null?void 0:w.status;e("test error",{status:E,message:((A=(j=k==null?void 0:k.response)==null?void 0:j.data)==null?void 0:A.message)||(k==null?void 0:k.message)}),z.error(((S=(C=k==null?void 0:k.response)==null?void 0:C.data)==null?void 0:S.message)||"Failed to test credentials")}finally{o(!1)}};return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[m&&n.jsxs("div",{className:"mx-6 mt-6 mb-0 p-4 rounded-lg border border-amber-300 bg-amber-50 text-amber-800",children:[n.jsx("div",{className:"font-medium mb-1",children:"Authentication required"}),n.jsx("div",{className:"text-sm",children:m}),n.jsx("div",{className:"mt-2 text-sm",children:n.jsx("a",{href:"/login",className:"text-indigo-600 underline",children:"Go to Login"})})]}),n.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Payments"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Configure your PayPal integration."})]}),n.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Payment Methods Visibility"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Toggle which payment options appear on checkout. (PayPal must also be enabled below.)"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:["card","cod","paypal"].map(w=>n.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:d[w],onChange:j=>u(A=>({...A,[w]:j.target.checked})),disabled:!!m}),n.jsx("span",{className:"capitalize",children:w==="cod"?"Cash on Delivery":w==="card"?"Credit Card":"PayPal"})]},w))}),n.jsx("button",{type:"button",onClick:y,disabled:f||!!m,className:"inline-flex items-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-60",children:f?"Saving…":"Save Visibility"})]}),n.jsxs("div",{className:"flex items-center justify-between border rounded-lg p-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Enable PayPal"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Toggle to offer PayPal at checkout."})]}),n.jsx("button",{type:"button",onClick:()=>c(w=>({...w,enabled:!w.enabled})),className:"text-indigo-600 hover:text-indigo-700",disabled:!!m,children:l.enabled?n.jsx(U2,{className:"w-8 h-8"}):n.jsx(B2,{className:"w-8 h-8"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode"}),n.jsxs("select",{value:l.mode,onChange:w=>c(j=>({...j,mode:w.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",disabled:!!m,children:[n.jsx("option",{value:"sandbox",children:"Sandbox (Testing)"}),n.jsx("option",{value:"live",children:"Live (Production)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client ID"}),n.jsx("input",{type:"text",value:l.clientId,onChange:w=>c(j=>({...j,clientId:w.target.value})),placeholder:"PayPal Client ID",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",disabled:!!m})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secret"}),n.jsxs("div",{className:"relative",children:[n.jsx(Bm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"password",value:l.secret,onChange:w=>c(j=>({...j,secret:w.target.value})),placeholder:l.secret==="***"?"••••••••":"PayPal Secret",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",disabled:!!m})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave as *** to keep existing."})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{type:"submit",disabled:a||!!m,className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-60",children:[n.jsx(ma,{className:"w-5 h-5"}),a?"Saving…":"Save Changes"]}),n.jsxs("button",{type:"button",onClick:v,disabled:i||!!m,className:"inline-flex items-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-60",children:[n.jsx(Pn,{className:"w-5 h-5"}),i?"Testing…":"Test Credentials"]}),!t&&l.enabled&&l.clientId&&n.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 text-sm",children:[n.jsx(jn,{className:"w-4 h-4"})," Active at checkout"]})]})]})]})}function B3e(){const{user:e}=ln(),[t,r]=ne.useState(!0),[a,s]=ne.useState(!1),[i,o]=ne.useState({enabled:!1,clientId:"",clientSecret:"",secretSet:!1}),[l,c]=ne.useState(null);ne.useEffect(()=>{(async()=>{var f,h;try{const m=localStorage.getItem("token");if(!uv(m)){c("Authentication required. Please log in."),r(!1);return}const{data:p}=await ue.get("/settings");p.googleAuth&&o({enabled:!!p.googleAuth.enabled,clientId:p.googleAuth.clientId||"",clientSecret:"",secretSet:!!p.googleAuth.secretSet})}catch(m){z.error(((h=(f=m==null?void 0:m.response)==null?void 0:f.data)==null?void 0:h.message)||"Failed to load Google auth config")}finally{r(!1)}})()},[]);const d=(e==null?void 0:e.role)==="admin",u=async f=>{var h,m,p;if(f.preventDefault(),l){z.error("Please log in first.");return}if(!d){z.error("Admin role required to modify Google auth settings.");return}s(!0);try{const x={...i};i.secretSet&&i.clientSecret==="-"?x.clientSecret="":i.secretSet&&(!i.clientSecret||i.clientSecret==="")&&(x.clientSecret="***"),await ue.put("/settings",{googleAuth:x}),z.success("Google auth settings saved"),o(y=>({...y,clientSecret:"",secretSet:!0}))}catch(x){((h=x==null?void 0:x.response)==null?void 0:h.status)===401&&c("Session expired. Log in again."),z.error(((p=(m=x==null?void 0:x.response)==null?void 0:m.data)==null?void 0:p.message)||"Failed to save")}finally{s(!1)}};return t?n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsx("div",{className:"animate-pulse text-sm text-gray-500",children:"Loading Google auth settings…"})}):n.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[l&&n.jsxs("div",{className:"mx-6 mt-6 mb-0 p-4 rounded-lg border border-amber-300 bg-amber-50 text-amber-800",children:[n.jsx("div",{className:"font-medium mb-1",children:"Authentication required"}),n.jsx("div",{className:"text-sm",children:l}),n.jsx("div",{className:"mt-2 text-sm",children:n.jsx("a",{href:"/login",className:"text-indigo-600 underline",children:"Go to Login"})})]}),n.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:["Google Login",n.jsx(y6,{className:"w-4 h-4 text-gray-400","aria-label":"Configure Google One Tap / button login.","data-tip":"Configure Google One Tap / button login."})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Enable customers to sign in with Google. Client Secret (if used) is stored server-side only."})]}),n.jsxs("div",{className:"flex items-center justify-between border rounded-lg p-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Enable Google Login"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Toggle to show Google button on login/registration."})]}),n.jsx("button",{type:"button",onClick:()=>o(f=>({...f,enabled:!f.enabled})),className:"text-indigo-600 hover:text-indigo-700",disabled:!!l||!d,children:i.enabled?n.jsx(U2,{className:"w-8 h-8"}):n.jsx(B2,{className:"w-8 h-8"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Google Client ID"}),n.jsx("input",{type:"text",value:i.clientId,onChange:f=>o(h=>({...h,clientId:f.target.value})),placeholder:"xxxxxxxxxxxxxxxx.apps.googleusercontent.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 disabled:opacity-50",disabled:!!l||!i.enabled||!d}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"From Google Cloud Console → Credentials → OAuth 2.0 Client IDs."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2",children:["Client Secret (optional)",i.secretSet&&n.jsx("span",{className:"text-green-600 text-xs font-medium",children:"Stored"})]}),n.jsx("input",{type:"password",value:i.clientSecret||"",onChange:f=>o(h=>({...h,clientSecret:f.target.value})),placeholder:i.secretSet?"Leave blank to keep existing":"Paste client secret",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 disabled:opacity-50",disabled:!!l||!i.enabled||!d}),n.jsxs("div",{className:"mt-1 text-xs text-gray-500 space-y-1",children:[n.jsx("p",{children:"Needed only for OAuth authorization code flow (not required for One Tap ID token)."}),i.secretSet&&n.jsx("p",{children:"Clearing: enter a single dash '-' and save to remove."})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{type:"submit",disabled:a||!!l||!d,className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-60",children:[n.jsx(ma,{className:"w-5 h-5"}),a?"Saving…":"Save Changes"]}),n.jsxs("button",{type:"button",onClick:()=>window.open("https://console.cloud.google.com/apis/credentials","_blank"),className:"inline-flex items-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50",children:[n.jsx(Pn,{className:"w-5 h-5"})," Console"]}),!t&&i.enabled&&i.clientId&&n.jsx("span",{className:"text-green-600 text-sm",children:"Button will be visible to users"}),!d&&!l&&n.jsx("span",{className:"text-xs text-gray-500",children:"Read-only (admin privileges required to edit)"})]}),n.jsxs("div",{className:"text-xs text-gray-500 leading-relaxed border-t pt-4",children:[n.jsx("p",{children:n.jsx("strong",{children:"Notes:"})}),n.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[n.jsx("li",{children:"Client ID is public. Client Secret (if set) is never sent back to browsers."}),n.jsx("li",{children:"Login page queries /api/auth/config to decide if Google button is rendered."}),n.jsx("li",{children:"If you change Client ID, existing Google sessions continue until their JWT expires."}),n.jsx("li",{children:"Disable to instantly hide Google option (clients cache for a short time only)."}),n.jsx("li",{children:"Leave Client Secret blank if using only One Tap / ID token flow."})]})]})]})]})}const qw={showEmail:!1,showLastName:!1,showSecondaryMobile:!1,showCountry:!1,allowOtherCity:!0,cities:["ابو قويدر","الجولان","الريحانية","الظهرية","ام الفحم","بديا","بيت شيمش","جفعات شموئل","جولس","حزمه","حسنيه","خضيرة","دير رافات","راس علي","رحوفوت","رمانه","رموت هشفيم","صندله","طيرة الكرمل","عين الاسد","عين حوض","كريات اتا","كسرى سميع","لهافيم","معليا","معلي افريم","نهاريا","نوف هجليل","هود هشارون","يوكنعام","ירושלים","الضفة الغربية","منطقة ابو غوش","الداخل","قرى الخليل","قباطية","اريحا","العيزرية","الزعيم","يطا","بيت لحم","الخليل","طوباس","طولكرم","سلفيت","ابو غوش","جنين","قلقيلية","ابو ديس","عين رافا","حيفا","عناتا","سخنين","ضواحي بيت لحم","مخيم شعفاط","ضواحي القدس","السواحرة الشرقية","إم الفحم","البيرة","عين نقوبا","كفر عقب","غزة","ضواحي رام الله","الرام","رام الله","نابلس","ابطن","ابو اسنان","ابو تلول","ابو سنان","ابو قرينات","اريال","اشدود","اشكلون","اعبلين","اكسال","البعنه","البعينة نجيدات","البقيعة","البلدة القديمة أبواب","التله الفرنسيه","الثوري ابوطور","الجش","الجولان","الرامة","الرامه","الرملة","الرينه","الزرازير","الشبلة","الشيخ جراح","الشيخ دنون","الضاحية","الطور","الطيبة","الطيبة الزعبية","الطيرة","العزير","العيسويه","الغجر","الفريديس","القدس","الكعبية","اللد","اللقية","المركز","المزرعة","المزرعه","المشهد","المشيرفه","المغار","الناصرة","الناصره العليا","الناعورة","النقب","النين","ام الغنم","ام القطف","ام بطين","اور يهودا","ايلات","بات يام","بار يعكوف","باقة الغربية","برطعة","بسمة طبعون","بقعاتا","بني براك","بيت جان","بيتح تكفا","بيت حنينا","بيت صفافا","بير السبع","بير السكة","بير المشاش","بير المكسور","ترشيحا","تل ابيب","تل السبع","تل عراد","جبل المكبر","جت","جت الجليل","جديدة","جديده المكر","جسر الزرقاء","جلجوليا","جلجولية","جنوب","حجاجره","حرفيش","حريش","حورة","حولون","خوالد","دالية الكرمل","دبورية","دير الاسد","دير حنا","ديمونا","راس العامود","رعنانا","رمات جان","رمات خوڤاڤ","رهط","روش هعاين","رومانه","ريشون لتسيون","زلفة","زيمر","ساجور","سالم","سلوان","سولم","شارع يافا","شبلي","شعب","شعفاط","شفاعمر","شفاعمرو","شقيب السلام","شمال بعيد","شمال قريب","شمال وسط","صفد","صور باهر","ضميده","طباش","طبريا","طرعان","طمرة","طمرة الزعبية","طوبا الزنجريه","عارة","عرابة","عرابه","عراد","عرب العرامشة","عرب الهيب","عرعرة (الشمال)","عرعره النقب","عسفيا","عطروت","عفولة","عكا","عيلبون","عيلوط","عين السهلة","عين قينيا","عين ماهل","فريديس","فسوطه","قرية دريجات","قصر السر","قلنسوة","كابول","كرمئيل","كريات اونو","كريات شمونه","كسيفه","كعيبة","كفر برا","كفر سميع","كفر قاسم","كفرقرع","كفر قرع","كفر كما","كفر كنا","كفر مصر","كفر مندا","كفر ياسيف","كمانة","كوكب ابو الهيجا","كيبوتس دان","مثلث","مجد الكروم","مجدل شمس","مسعدة","مشيرفة","مصمص","معاوية","مقيبلة","مكر","منشية الزبدة","مولادا","ميسر","نتانيا","نتانياا","نتانيااا","نحف","نين","هرتسيليا","واد سلامة","وادي الجوز","وادي الحمام","وادي سلامه","وادي عارة","يافا","يافة الناصرة","يانوح","يركا","כפר סבא"]};function U3e(){const[e,t]=N.useState(qw),[r,a]=N.useState(!1),{isAuthenticated:s}=ln(),i=async()=>{try{const{data:h}=await ue.getWithRetry("/settings/checkout");t({...qw,...h,cities:Array.isArray(h==null?void 0:h.cities)?h.cities:qw.cities})}catch(h){z.error("Failed to load checkout settings")}};N.useEffect(()=>{i()},[]);const o=async()=>{var h,m;try{if(!s){z.error("Please log in to save settings.");return}a(!0),await ue.putWithRetry("/settings/checkout",e),z.success("Checkout settings saved")}catch(p){((h=p==null?void 0:p.response)==null?void 0:h.status)===401?(z.error("Session expired. Please log in again."),setTimeout(()=>{window.location.href="/login"},400)):((m=p==null?void 0:p.response)==null?void 0:m.status)===403?z.error("You do not have permission to save these settings."):z.error("Failed to save checkout settings.")}finally{a(!1)}},l=()=>{t(h=>({...h,cities:[...h.cities,""]}))},c=(h,m)=>{t(p=>({...p,cities:p.cities.map((x,y)=>y===h?m:x)}))},d=h=>{t(m=>({...m,cities:m.cities.filter((p,x)=>x!==h)}))},u=async h=>{try{const m=/\.csv$/i.test(h.name);let p;if(m){const O=await h.text();p=bf(O,{type:"string"})}else{const O=await h.arrayBuffer();p=bf(O,{type:"array"})}const x=p.SheetNames[0],y=p.Sheets[x],v=zl.sheet_to_json(y,{header:1,defval:""});if(!v||v.length===0){z.error("The file is empty");return}let w=[];const[j,...A]=v,C=j.map(O=>String(O).toLowerCase().trim()),S=O=>C.indexOf(O),k=S("city"),E=S("ar")>=0?S("ar"):S("city_ar"),T=S("en")>=0?S("en"):S("city_en");E>=0&&T>=0?w=A.map(O=>{const P=String(O[E]||"").trim(),W=String(O[T]||"").trim();return!P&&!W?"":P&&W?`${P} | ${W}`:P||W}).filter(Boolean):k>=0?w=A.map(O=>String(O[k]||"").trim()).filter(Boolean):w=v.map(O=>String(O[0]||"").trim()).filter(Boolean);const F=Array.from(new Set(w.map(O=>O.replace(/\s+/g," ").trim())));if(F.length===0){z.error("No city names found");return}t(O=>({...O,cities:F})),z.success(`Loaded ${F.length} cities`)}catch(m){z.error("Failed to read file")}},f=()=>{const h=zl.aoa_to_sheet([["ar","en"],["القدس","Jerusalem"],["رام الله","Ramallah"]]),m=zl.book_new();zl.book_append_sheet(m,h,"Cities"),ML(m,"cities-template.xlsx")};return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Checkout Form"}),n.jsxs("button",{onClick:o,disabled:r||!s,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-indigo-600 text-white disabled:opacity-60",children:[n.jsx(ma,{className:"w-4 h-4"})," ",r?"Saving…":"Save"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",checked:e.showEmail,onChange:h=>t(m=>({...m,showEmail:h.target.checked}))}),n.jsx("span",{children:"Show Email field"})]}),n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",checked:e.showLastName,onChange:h=>t(m=>({...m,showLastName:h.target.checked}))}),n.jsx("span",{children:"Show Last Name field"})]}),n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",checked:e.showSecondaryMobile,onChange:h=>t(m=>({...m,showSecondaryMobile:h.target.checked}))}),n.jsx("span",{children:"Show Secondary Mobile field"})]}),n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",checked:e.showCountry,onChange:h=>t(m=>({...m,showCountry:h.target.checked}))}),n.jsx("span",{children:"Show Country field"})]}),n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",checked:e.allowOtherCity,onChange:h=>t(m=>({...m,allowOtherCity:h.target.checked}))}),n.jsx("span",{children:'Allow "Other" city option'})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium",children:"Cities"}),n.jsxs("button",{type:"button",onClick:l,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border",children:[n.jsx(fr,{className:"w-4 h-4"})," Add City"]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("label",{className:"inline-block",children:[n.jsx("span",{className:"px-3 py-1.5 rounded-lg border cursor-pointer inline-flex items-center gap-2",children:"Upload Excel/CSV"}),n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",className:"hidden",onChange:h=>{var p;const m=(p=h.target.files)==null?void 0:p[0];m&&u(m),h.currentTarget.value=""}})]}),n.jsx("button",{type:"button",onClick:f,className:"px-3 py-1.5 rounded-lg border",children:"Download template"}),n.jsx("span",{className:"text-xs text-gray-500",children:'Tip: Use columns "ar" and "en" for bilingual labels (e.g., القدس | Jerusalem).'})]}),n.jsx("div",{className:"space-y-2",children:e.cities.map((h,m)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:h,onChange:p=>c(m,p.target.value),className:"flex-1 px-3 py-2 border rounded-lg",placeholder:`City ${m+1}`}),n.jsx("button",{type:"button",onClick:()=>d(m),className:"p-2 rounded-lg border text-red-600",children:n.jsx(en,{className:"w-4 h-4"})})]},m))})]})]})]})}function W3e(){const{currency:e,setCurrency:t}=Ta(),[r,a]=N.useState({name:"Eva Curves Fashion Store",email:"contact@evacurves.com",currency:e,timezone:"UTC-5",apiBaseUrl:"",pixelId:"",showColorFilter:!0}),[s,i]=N.useState(!1),[o,l]=N.useState(!1),[c,d]=N.useState("general"),[u,f]=N.useState({cloudName:"",apiKey:"",apiSecret:""}),[h,m]=N.useState(!0),[p,x]=N.useState("idle"),[y,v]=N.useState(null),w=N.useRef(!1),j=N.useRef(null),A=N.useRef(null),C=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"ILS",symbol:"₪",name:"Israeli Shekel"},{code:"EUR",symbol:"€",name:"Euro"}],S=[{value:"UTC-5",label:"UTC-5 (Eastern Time)"},{value:"UTC+0",label:"UTC+0 (GMT)"},{value:"UTC+2",label:"UTC+2 (Israel Standard Time)"},{value:"UTC+1",label:"UTC+1 (Central European Time)"}];N.useEffect(()=>{const P=async()=>{try{const D=(await ue.getWithRetry("/settings")).data||r;if(a(D),typeof D.apiBaseUrl=="string"){const M=D.apiBaseUrl||"https://leohol.onrender.com";h_(M),m_(),xi.reconnect()}}catch(q){z.error("Failed to load settings")}},W=async()=>{m(!0);try{const{data:q}=await ue.getWithRetry("/settings/cloudinary");f({cloudName:q.cloudName||"",apiKey:q.apiKey||"",apiSecret:q.apiSecret||""}),w.current=!0}catch(q){console.warn("Failed to load Cloudinary settings:",q==null?void 0:q.message)}finally{m(!1)}};P(),W(),(async()=>{try{const q=localStorage.getItem("token");if(!uv(q)){v(null);return}const D=await ue.getWithRetry("/auth/me");D&&D.data&&v({email:D.data.email||"",role:D.data.role||"user",isAdmin:D.data.role==="admin"})}catch(q){v(null)}})()},[]);const k=N.useCallback(async P=>{j.current&&clearTimeout(j.current),x("saving"),j.current=setTimeout(async()=>{var q,D;if(y&&!y.isAdmin){x("idle");return}const W={};if((q=P.cloudName)!=null&&q.trim()&&(W.cloudName=P.cloudName.trim()),(D=P.apiKey)!=null&&D.trim()&&(W.apiKey=P.apiKey.trim()),P.apiSecret&&P.apiSecret!=="***"&&P.apiSecret.trim()&&(W.apiSecret=P.apiSecret.trim()),W.cloudName||W.apiKey||W.apiSecret)try{await ue.putWithRetry("/settings/cloudinary",W),x("saved")}catch(M){x("error"),console.warn("Failed to auto-save Cloudinary config:",M)}else x("idle");A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{x("idle")},2500)},1e3)},[y]);N.useEffect(()=>()=>{j.current&&clearTimeout(j.current),A.current&&clearTimeout(A.current)},[]);const E=async P=>{var W;P.preventDefault(),i(!0);try{const D={...r,searchBorderColor:(de=>{if(!de)return"";let le=String(de).trim();return/^[0-9a-fA-F]{3,6}#$/.test(le)&&(le=le.replace(/#$/,"")),(le.match(/#/g)||[]).length>1&&(le="#"+le.replace(/#/g,"").slice(0,6)),!le.startsWith("#")&&/^[0-9a-fA-F]{3}$/.test(le)&&(le="#"+le),!le.startsWith("#")&&/^[0-9a-fA-F]{6}$/.test(le)&&(le="#"+le),/^#[0-9a-fA-F]{3}$/.test(le)||/^#[0-9a-fA-F]{6}$/.test(le)?le.toLowerCase():""})(r.searchBorderColor)},M=localStorage.getItem("token");if(!M||!uv(M)){try{localStorage.removeItem("token")}catch(de){}i(!1),z.error("Session expired. Please log in again to save settings."),setTimeout(()=>{window.location.href="/login"},300);return}await ue.putWithRetry("/settings",D);const H=(typeof window!="undefined"?localStorage.getItem("apiBaseUrl"):null)||"https://leohol.onrender.com",ee=Tu(r.apiBaseUrl||"https://leohol.onrender.com")||"https://leohol.onrender.com",X=Tu(H)||"https://leohol.onrender.com";if(h_(ee),m_(),xi.reconnect(),X!==ee){const de=!!localStorage.getItem("token");localStorage.removeItem("token"),de&&z("Backend changed. Please log in again.",{icon:"ℹ️"})}r.currency!==e&&await t(r.currency),z.success("Settings updated successfully");try{const de={ts:Date.now(),data:{currency:r.currency,primaryColor:r.primaryColor,secondaryColor:r.secondaryColor,accentColor:r.accentColor,searchBorderColor:D.searchBorderColor,textColor:r.textColor,backgroundColor:r.backgroundColor,headerLayout:r.headerLayout,headerBackgroundColor:r.headerBackgroundColor,headerTextColor:r.headerTextColor,headerIcons:r.headerIcons,logoWidthMobile:r.logoWidthMobile,logoMaxHeightMobile:r.logoMaxHeightMobile,logoWidthDesktop:r.logoWidthDesktop,siteTitle:r.siteTitle,siteDescription:r.siteDescription,keywords:r.keywords,socialLinks:r.socialLinks,phone:r.phone,address:r.address,addressLink:r.addressLink,email:r.email,name:r.name,authBackgroundImage:r.authBackgroundImage,favicon:r.favicon}};localStorage.setItem("store:settings_updated",JSON.stringify(de));try{const le=localStorage.getItem("store:settings_overrides"),G=le?JSON.parse(le):{};D.searchBorderColor?G.searchBorderColor=D.searchBorderColor:delete G.searchBorderColor,localStorage.setItem("store:settings_overrides",JSON.stringify(G))}catch(le){}}catch(de){}}catch(q){const D=(W=q==null?void 0:q.response)==null?void 0:W.status;D===401||D===403?(z.error("Your session expired or you lack permissions. Please log in as admin."),localStorage.removeItem("token"),setTimeout(()=>{window.location.href="/login"},300)):z.error("Failed to update settings")}finally{i(!1)}},T=async()=>{if(!o){l(!0);try{const W=Tu(r.apiBaseUrl||"")||"https://leohol.onrender.com",q=await fetch(`${W}/health`,{method:"GET"});if(!q.ok)throw new Error(`HTTP ${q.status}`);const D=`${W.startsWith("https")?"wss":"ws"}://${W.replace(/^https?:\/\//,"")}/ws`;await new Promise((M,H)=>{let ee=!1;const X=setTimeout(()=>{if(!ee){ee=!0;try{de.close()}catch(le){}H(new Error("WebSocket timeout"))}},5e3),de=new WebSocket(D);de.onopen=()=>{ee||(ee=!0,clearTimeout(X),de.close(),M())},de.onerror=()=>{ee||(ee=!0,clearTimeout(X),H(new Error("WebSocket error")))}}),z.success("Connection OK (HTTP and WebSocket)")}catch(P){z.error(`Connection failed: ${(P==null?void 0:P.message)||"Unknown error"}`)}finally{l(!1)}}},F=(P,W)=>n.jsx("button",{onClick:()=>d(P),className:`py-4 px-1 border-b-2 font-medium text-sm ${c===P?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:W}),O=({label:P,value:W,onChange:q,type:D="text",placeholder:M})=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:P}),n.jsx("input",{type:D,value:W,onChange:q,placeholder:M,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Store Settings"}),y&&n.jsxs("div",{className:`text-sm px-2 py-1 rounded ${y.isAdmin?"bg-green-50 text-green-700":"bg-yellow-50 text-yellow-700"}`,children:["Logged in as ",y.email||"unknown"," (",y.role||"user",")"]})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[F("general","General Settings"),F("logo","Logo"),F("favicon","Favicon"),F("analytics","Analytics"),F("cloudinary","Cloudinary"),F("payments","Payments"),F("checkout","Checkout"),F("auth","Auth")]})}),c==="general"&&n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Store Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(O,{label:"Store Name",value:r.name,onChange:P=>a(W=>({...W,name:P.target.value}))}),n.jsx(O,{label:"Contact Email",type:"email",value:r.email,onChange:P=>a(W=>({...W,email:P.target.value}))}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Auth Pages Background"}),r.authBackgroundImage?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"relative group w-full aspect-[16/9] rounded-lg overflow-hidden ring-1 ring-gray-200",children:[n.jsx("img",{src:la(r.authBackgroundImage)||r.authBackgroundImage,alt:"Auth background",className:"w-full h-full object-cover",loading:"lazy"}),n.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 to-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center gap-3",children:[n.jsx("button",{type:"button",onClick:()=>a(P=>({...P,authBackgroundImage:""})),className:"px-3 py-1.5 text-xs bg-white/90 hover:bg-white rounded shadow",children:"Remove"}),n.jsxs("label",{className:"px-3 py-1.5 text-xs bg-indigo-600 hover:bg-indigo-700 text-white rounded shadow cursor-pointer",children:["Replace",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async P=>{var D;const W=(D=P.target.files)==null?void 0:D[0];if(!W)return;const q=new FormData;q.append("file",W);try{const{data:M}=await ue.postWithRetry("/settings/upload/auth-background",q,{headers:{"Content-Type":"multipart/form-data"}});a(H=>({...H,authBackgroundImage:M.url})),z.success("Background updated")}catch(M){z.error("Upload failed")}}})]})]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Displayed behind Login and Register pages with a dark overlay."})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("label",{className:"px-3 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-sm cursor-pointer hover:bg-gray-50",children:["Upload Image",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async P=>{var D;const W=(D=P.target.files)==null?void 0:D[0];if(!W)return;const q=new FormData;q.append("file",W);try{const{data:M}=await ue.postWithRetry("/settings/upload/auth-background",q,{headers:{"Content-Type":"multipart/form-data"}});a(H=>({...H,authBackgroundImage:M.url})),z.success("Background uploaded")}catch(M){z.error("Upload failed")}}})]}),n.jsx("input",{type:"text",placeholder:"Or paste image URL (https://...)",value:r.authBackgroundImage||"",onChange:P=>a(W=>({...W,authBackgroundImage:P.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Use high-resolution images (min 1600px width) for best quality. A dark gradient overlay is applied automatically."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Box Border Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:r.searchBorderColor||"#D4AF37",onChange:P=>a(W=>({...W,searchBorderColor:P.target.value})),className:"h-10 w-14 p-1 border rounded"}),n.jsx("input",{type:"text",value:r.searchBorderColor||"",onChange:P=>a(W=>({...W,searchBorderColor:P.target.value})),placeholder:"#D4AF37",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm"}),n.jsx("button",{type:"button",onClick:()=>a(P=>({...P,searchBorderColor:""})),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Reset"})]}),n.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Leave blank to fall back to Primary Color (",r.primaryColor||"not set",")."]})]}),n.jsx(O,{label:"Backend API Base URL",placeholder:"e.g. https://api.example.com",value:r.apiBaseUrl||"",onChange:P=>a(W=>({...W,apiBaseUrl:P.target.value}))}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"pt-1",children:n.jsx("input",{id:"showColorFilter",type:"checkbox",checked:r.showColorFilter!==!1,onChange:P=>a(W=>({...W,showColorFilter:P.target.checked})),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),n.jsxs("label",{htmlFor:"showColorFilter",className:"flex-1 cursor-pointer",children:[n.jsx("span",{className:"block text-sm font-medium text-gray-700",children:"Enable Color Filter"}),n.jsx("span",{className:"block text-xs text-gray-500",children:"Toggle visibility of the color facet in product listing filters. Disable if products rarely use color variants or to simplify UX."})]})]}),n.jsx("div",{children:n.jsx("button",{type:"button",onClick:T,disabled:o,className:"px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-md",children:o?"Testing…":"Test Connection"})})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Ql,{className:"w-5 h-5 text-indigo-600"}),n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Currency & Localization"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),n.jsx("select",{value:r.currency,onChange:P=>a(W=>({...W,currency:P.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:C.map(P=>n.jsxs("option",{value:P.code,children:[P.code," (",P.symbol,") - ",P.name]},P.code))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),n.jsx("select",{value:r.timezone,onChange:P=>a(W=>({...W,timezone:P.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:S.map(P=>n.jsx("option",{value:P.value,children:P.label},P.value))})]})]})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t flex items-center justify-between rounded-b-xl",children:[!(y!=null&&y.isAdmin)&&n.jsxs("div",{className:"text-sm text-yellow-700 bg-yellow-50 px-2 py-1 rounded",children:["You are logged in as ",(y==null?void 0:y.email)||"user"," (",(y==null?void 0:y.role)||"user","). Admin role is required to save settings."]}),n.jsxs("button",{type:"submit",disabled:s||!!y&&!y.isAdmin,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg flex items-center gap-2 hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[n.jsx(ma,{className:"w-5 h-5"}),s?"Saving...":"Save Changes"]})]})]})]}),c==="auth"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Authentication"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Manage third-party sign-in providers like Google."}),n.jsx(B3e,{})]})}),c==="logo"&&n.jsx(D3e,{}),c==="favicon"&&n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsx(R3e,{})}),c==="analytics"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Facebook Pixel"}),n.jsx(O,{label:"Facebook Pixel ID",value:r.pixelId||"",onChange:P=>a(W=>({...W,pixelId:P.target.value})),placeholder:"Enter your Facebook Pixel ID"}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx("button",{onClick:E,disabled:s,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:s?"Saving...":"Save Changes"})})]}),c==="payments"&&n.jsx($3e,{}),c==="checkout"&&n.jsx(U3e,{}),c==="cloudinary"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Cloudinary Configuration"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Auto-saves after you stop typing"})]}),n.jsxs("div",{className:"flex items-center gap-3 min-w-[120px] justify-end",children:[h&&n.jsxs("span",{className:"flex items-center text-xs text-gray-500",children:[n.jsx("span",{className:"animate-spin inline-block h-3 w-3 border-2 border-gray-300 border-t-indigo-600 rounded-full mr-1"}),"Loading"]}),!h&&p==="saving"&&n.jsxs("span",{className:"flex items-center text-xs text-indigo-600",children:[n.jsx("span",{className:"animate-spin inline-block h-3 w-3 border-2 border-indigo-300 border-t-indigo-600 rounded-full mr-1"}),"Saving…"]}),!h&&p==="saved"&&n.jsxs("span",{className:"flex items-center text-xs text-green-600",children:[n.jsx("span",{className:"inline-block h-2.5 w-2.5 bg-green-500 rounded-full mr-1"}),"Saved"]}),!h&&p==="error"&&n.jsxs("span",{className:"flex items-center text-xs text-red-600",children:[n.jsx("span",{className:"inline-block h-2.5 w-2.5 bg-red-500 rounded-full mr-1"}),"Error"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(O,{label:"Cloud name",value:u.cloudName,onChange:P=>{const W={...u,cloudName:P.target.value};f(W),k(W)},placeholder:"your-cloud-name"}),n.jsx(O,{label:"API Key",value:u.apiKey,onChange:P=>{const W={...u,apiKey:P.target.value};f(W),k(W)},placeholder:"1234567890"}),n.jsx("div",{className:"md:col-span-2",children:n.jsx(O,{label:"API Secret",value:u.apiSecret,onChange:P=>{const W={...u,apiSecret:P.target.value};f(W),k(W)},placeholder:"••••••••",type:"password"})})]}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.jsxs("p",{className:"text-xs text-gray-600",children:[n.jsx("strong",{children:"Note:"})," Your Cloudinary credentials are automatically saved as you type and securely stored on the server. Changes are applied with a 1-second delay to avoid excessive saves while typing."]})})]})]})}function z3e({isOpen:e,onClose:t,onSubmit:r,hero:a}){const[s,i]=N.useState({title:"",subtitle:"",image:"",video:"",primaryButtonText:"Shop Collection",secondaryButtonText:"Explore Lookbook",primaryButtonBgColor:"#b58955",primaryButtonTextColor:"#ffffff",primaryButtonFontFamily:"inherit",isInSlider:!1,sliderOrder:0,isActive:!1}),[o,l]=N.useState(null),[c,d]=N.useState(null),[u,f]=N.useState(!1);N.useEffect(()=>{var x,y;i(a?{...a,video:a.video||"",primaryButtonBgColor:a.primaryButtonBgColor||"#b58955",primaryButtonTextColor:a.primaryButtonTextColor||"#ffffff",primaryButtonFontFamily:a.primaryButtonFontFamily||"inherit",isInSlider:(x=a.isInSlider)!=null?x:!1,sliderOrder:(y=a.sliderOrder)!=null?y:0}:{title:"",subtitle:"",image:"",video:"",primaryButtonText:"Shop Collection",secondaryButtonText:"Explore Lookbook",primaryButtonBgColor:"#b58955",primaryButtonTextColor:"#ffffff",primaryButtonFontFamily:"inherit",isInSlider:!1,sliderOrder:0,isActive:!1})},[a]);const h=x=>{var v;const y=(v=x.target.files)==null?void 0:v[0];if(y){l(y);const w=URL.createObjectURL(y);i(j=>({...j,image:w}))}},m=async x=>{var w;const y=(w=x.target.files)==null?void 0:w[0];if(!y)return;d(y);const v=URL.createObjectURL(y);i(j=>({...j,video:v}))},p=async x=>{x.preventDefault(),f(!0);try{let y=s.image,v=s.video;o&&(y=await Ys(o)),c&&(v=await Ys(c)),await r({...s,image:y,video:v}),t()}catch(y){console.error("Error submitting hero:",y)}finally{f(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Hero Banner":"Add Hero Banner"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CTA Background Color"}),n.jsx("input",{type:"color",value:s.primaryButtonBgColor,onChange:x=>i(y=>({...y,primaryButtonBgColor:x.target.value})),className:"h-10 w-full border border-gray-300 rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CTA Text Color"}),n.jsx("input",{type:"color",value:s.primaryButtonTextColor,onChange:x=>i(y=>({...y,primaryButtonTextColor:x.target.value})),className:"h-10 w-full border border-gray-300 rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CTA Font Family"}),n.jsxs("select",{value:s.primaryButtonFontFamily,onChange:x=>i(y=>({...y,primaryButtonFontFamily:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"inherit",children:"Inherit"}),n.jsx("option",{value:"Inter, system-ui, Avenir, Helvetica, Arial, sans-serif",children:"Inter (Sans)"}),n.jsx("option",{value:"Georgia, 'Times New Roman', Times, serif",children:"Serif"}),n.jsx("option",{value:"'Playfair Display', serif",children:"Playfair Display"}),n.jsx("option",{value:"'Poppins', sans-serif",children:"Poppins"})]})]})]}),n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),n.jsx("input",{type:"text",required:!0,value:s.title,onChange:x=>i(y=>({...y,title:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle"}),n.jsx("textarea",{required:!0,value:s.subtitle,onChange:x=>i(y=>({...y,subtitle:x.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Media (Image or Video)"}),n.jsxs("div",{className:"mt-1 flex flex-col gap-4",children:[n.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg",children:n.jsx("div",{className:"space-y-1 text-center",children:s.image?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:s.image,alt:"Preview",className:"mx-auto h-64 w-auto rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>{i(x=>({...x,image:""})),l(null)},className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-sm",children:n.jsx(xt,{className:"w-4 h-4"})})]}):n.jsxs(n.Fragment,{children:[n.jsx(Gn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("div",{className:"flex text-sm text-gray-600",children:[n.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[n.jsx("span",{children:"Upload an image"}),n.jsx("input",{type:"file",className:"sr-only",accept:"image/*",onChange:h})]}),n.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})}),n.jsx("div",{className:"flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg",children:n.jsx("div",{className:"space-y-1 text-center",children:s.video?n.jsxs("div",{className:"relative",children:[n.jsx("video",{src:s.video,controls:!0,className:"mx-auto h-64 w-auto rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>{i(x=>({...x,video:""})),d(null)},className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-sm",children:n.jsx(xt,{className:"w-4 h-4"})})]}):n.jsxs(n.Fragment,{children:[n.jsx(Gn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("div",{className:"flex text-sm text-gray-600",children:[n.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[n.jsx("span",{children:"Upload a video"}),n.jsx("input",{type:"file",className:"sr-only",accept:"video/*",onChange:m})]}),n.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"MP4, WebM, Ogg up to 50MB"})]})})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Button Text"}),n.jsx("input",{type:"text",value:s.primaryButtonText,onChange:x=>i(y=>({...y,primaryButtonText:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Button Text"}),n.jsx("input",{type:"text",value:s.secondaryButtonText,onChange:x=>i(y=>({...y,secondaryButtonText:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:x=>i(y=>({...y,isActive:x.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Set as active hero section"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isInSlider",checked:s.isInSlider,onChange:x=>i(y=>({...y,isInSlider:x.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isInSlider",className:"ml-2 block text-sm text-gray-900",children:"Include in hero slider"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slider Order"}),n.jsx("input",{type:"number",min:0,value:s.sliderOrder,onChange:x=>i(y=>({...y,sliderOrder:Number(x.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":a?"Update":"Create"})]})]})]})]})}):null}function H3e(){const{refreshData:e}=vr(),[t,r]=N.useState([]),[a,s]=N.useState(!1),[i,o]=N.useState(null),[l,c]=N.useState(!0),d=async()=>{try{const m=localStorage.getItem("token");if(!m)throw new Error("Authentication required");const p=await ue.getWithRetry("/hero",{headers:{Authorization:`Bearer ${m}`}});r(p.data),c(!1)}catch(m){const p=m instanceof Error?m.message:"Failed to fetch hero sections";z.error(p),c(!1)}};N.useEffect(()=>{d()},[]);const u=async m=>{try{const p=localStorage.getItem("token");if(!p)throw new Error("Authentication required");i?await ue.putWithRetry(`/hero/${i._id}`,m,{headers:{Authorization:`Bearer ${p}`}}):await ue.postWithRetry("/hero",m,{headers:{Authorization:`Bearer ${p}`}}),await d(),await e(),s(!1),z.success("Hero section saved successfully")}catch(p){const x=p instanceof Error?p.message:"Failed to save hero section";z.error(x)}},f=async(m,p)=>{try{const x=localStorage.getItem("token");if(!x)throw new Error("Authentication required");await ue.putWithRetry(`/hero/${m}`,{isActive:p},{headers:{Authorization:`Bearer ${x}`}}),await d(),await e(),z.success(p?"Hero banner activated":"Hero banner deactivated")}catch(x){const y=x instanceof Error?x.message:"Failed to update hero section";z.error(y)}},h=async m=>{try{const p=localStorage.getItem("token");if(!p)throw new Error("Authentication required");await ue.deleteWithRetry(`/hero/${m}`,{headers:{Authorization:`Bearer ${p}`}}),z.success("Hero banner deleted successfully"),await d(),await e()}catch(p){const x=p instanceof Error?p.message:"Failed to delete hero section";z.error(x)}};return l?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Hero Banners"}),n.jsxs("button",{onClick:()=>{o(null),s(!0)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Hero Banner"]})]}),t.length===0?n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Hero Banners Found"}),n.jsx("p",{className:"text-gray-500",children:"Create your first hero banner to get started."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(m=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsxs("div",{className:"aspect-video relative",children:[n.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover"}),m.isActive&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Active"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:m.title}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.subtitle}),n.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{o(m),s(!0)},className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Edit hero banner",children:n.jsx(No,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>h(m._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete hero banner",children:n.jsx(en,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>f(m._id,!m.isActive),className:`p-2 ${m.isActive?"text-yellow-600 hover:bg-yellow-50":"text-green-600 hover:bg-green-50"} rounded-lg transition-colors ml-auto`,title:m.isActive?"Deactivate banner":"Activate banner",children:m.isActive?n.jsx(Ux,{className:"w-5 h-5"}):n.jsx(cs,{className:"w-5 h-5"})})]})]})]},m._id))}),a&&n.jsx(z3e,{isOpen:a,hero:i,onSubmit:u,onClose:()=>s(!1)})]})}function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function V3e(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(U0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function XL(e){var t=V3e(e,"string");return U0(t)=="symbol"?t:t+""}function G3e(e,t,r){return(t=XL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function e5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(r),!0).forEach(function(a){G3e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ys(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var t5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Kw=function(){return Math.random().toString(36).substring(7).split("").join(".")},r5={INIT:"@@redux/INIT"+Kw(),REPLACE:"@@redux/REPLACE"+Kw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Kw()}};function q3e(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function YL(e,t,r){var a;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ys(0));if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(ys(1));return r(YL)(e,t)}if(typeof e!="function")throw new Error(ys(2));var s=e,i=t,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw new Error(ys(3));return i}function f(x){if(typeof x!="function")throw new Error(ys(4));if(c)throw new Error(ys(5));var y=!0;return d(),l.push(x),function(){if(y){if(c)throw new Error(ys(6));y=!1,d();var w=l.indexOf(x);l.splice(w,1),o=null}}}function h(x){if(!q3e(x))throw new Error(ys(7));if(typeof x.type=="undefined")throw new Error(ys(8));if(c)throw new Error(ys(9));try{c=!0,i=s(i,x)}finally{c=!1}for(var y=o=l,v=0;v<y.length;v++){var w=y[v];w()}return x}function m(x){if(typeof x!="function")throw new Error(ys(10));s=x,h({type:r5.REPLACE})}function p(){var x,y=f;return x={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(ys(11));function j(){w.next&&w.next(u())}j();var A=y(j);return{unsubscribe:A}}},x[t5]=function(){return this},x}return h({type:r5.INIT}),a={dispatch:h,subscribe:f,getState:u,replaceReducer:m},a[t5]=p,a}function n5(e,t){return function(){return t(e.apply(this,arguments))}}function a5(e,t){if(typeof e=="function")return n5(e,t);if(typeof e!="object"||e===null)throw new Error(ys(16));var r={};for(var a in e){var s=e[a];typeof s=="function"&&(r[a]=n5(s,t))}return r}function JL(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(a){return a}:t.length===1?t[0]:t.reduce(function(a,s){return function(){return a(s.apply(void 0,arguments))}})}function K3e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(a){return function(){var s=a.apply(void 0,arguments),i=function(){throw new Error(ys(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return i=JL.apply(void 0,l)(s.dispatch),e5(e5({},s),{},{dispatch:i})}}}var ZL={exports:{}},QL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=N;function X3e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Y3e=typeof Object.is=="function"?Object.is:X3e,J3e=wf.useState,Z3e=wf.useEffect,Q3e=wf.useLayoutEffect,e5e=wf.useDebugValue;function t5e(e,t){var r=t(),a=J3e({inst:{value:r,getSnapshot:t}}),s=a[0].inst,i=a[1];return Q3e(function(){s.value=r,s.getSnapshot=t,Xw(s)&&i({inst:s})},[e,r,t]),Z3e(function(){return Xw(s)&&i({inst:s}),e(function(){Xw(s)&&i({inst:s})})},[e]),e5e(r),r}function Xw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Y3e(e,r)}catch(a){return!0}}function r5e(e,t){return t()}var n5e=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?r5e:t5e;QL.useSyncExternalStore=wf.useSyncExternalStore!==void 0?wf.useSyncExternalStore:n5e;ZL.exports=QL;var e$=ZL.exports,a5e={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib=N,s5e=e$;function i5e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var o5e=typeof Object.is=="function"?Object.is:i5e,l5e=s5e.useSyncExternalStore,c5e=Ib.useRef,d5e=Ib.useEffect,u5e=Ib.useMemo,f5e=Ib.useDebugValue;a5e.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var i=c5e(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=u5e(function(){function c(m){if(!d){if(d=!0,u=m,m=a(m),s!==void 0&&o.hasValue){var p=o.value;if(s(p,m))return f=p}return f=m}if(p=f,o5e(u,m))return p;var x=a(m);return s!==void 0&&s(p,x)?p:(u=m,f=x)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,a,s]);var l=l5e(e,i[0],i[1]);return d5e(function(){o.hasValue=!0,o.value=l},[l]),f5e(l),l};function h5e(e){e()}let t$=h5e;const m5e=e=>t$=e,p5e=()=>t$,s5=Symbol.for("react-redux-context"),i5=typeof globalThis!="undefined"?globalThis:{};function g5e(){var e;if(!N.createContext)return{};const t=(e=i5[s5])!=null?e:i5[s5]=new Map;let r=t.get(N.createContext);return r||(r=N.createContext(null),t.set(N.createContext,r)),r}const r$=g5e(),x5e=()=>{throw new Error("uSES not initialized!")};var n$={exports:{}},Or={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=typeof Symbol=="function"&&Symbol.for,$k=ya?Symbol.for("react.element"):60103,Bk=ya?Symbol.for("react.portal"):60106,Fb=ya?Symbol.for("react.fragment"):60107,Db=ya?Symbol.for("react.strict_mode"):60108,Rb=ya?Symbol.for("react.profiler"):60114,Mb=ya?Symbol.for("react.provider"):60109,Lb=ya?Symbol.for("react.context"):60110,Uk=ya?Symbol.for("react.async_mode"):60111,$b=ya?Symbol.for("react.concurrent_mode"):60111,Bb=ya?Symbol.for("react.forward_ref"):60112,Ub=ya?Symbol.for("react.suspense"):60113,y5e=ya?Symbol.for("react.suspense_list"):60120,Wb=ya?Symbol.for("react.memo"):60115,zb=ya?Symbol.for("react.lazy"):60116,v5e=ya?Symbol.for("react.block"):60121,b5e=ya?Symbol.for("react.fundamental"):60117,w5e=ya?Symbol.for("react.responder"):60118,j5e=ya?Symbol.for("react.scope"):60119;function Zs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $k:switch(e=e.type,e){case Uk:case $b:case Fb:case Rb:case Db:case Ub:return e;default:switch(e=e&&e.$$typeof,e){case Lb:case Bb:case zb:case Wb:case Mb:return e;default:return t}}case Bk:return t}}}function a$(e){return Zs(e)===$b}Or.AsyncMode=Uk;Or.ConcurrentMode=$b;Or.ContextConsumer=Lb;Or.ContextProvider=Mb;Or.Element=$k;Or.ForwardRef=Bb;Or.Fragment=Fb;Or.Lazy=zb;Or.Memo=Wb;Or.Portal=Bk;Or.Profiler=Rb;Or.StrictMode=Db;Or.Suspense=Ub;Or.isAsyncMode=function(e){return a$(e)||Zs(e)===Uk};Or.isConcurrentMode=a$;Or.isContextConsumer=function(e){return Zs(e)===Lb};Or.isContextProvider=function(e){return Zs(e)===Mb};Or.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$k};Or.isForwardRef=function(e){return Zs(e)===Bb};Or.isFragment=function(e){return Zs(e)===Fb};Or.isLazy=function(e){return Zs(e)===zb};Or.isMemo=function(e){return Zs(e)===Wb};Or.isPortal=function(e){return Zs(e)===Bk};Or.isProfiler=function(e){return Zs(e)===Rb};Or.isStrictMode=function(e){return Zs(e)===Db};Or.isSuspense=function(e){return Zs(e)===Ub};Or.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fb||e===$b||e===Rb||e===Db||e===Ub||e===y5e||typeof e=="object"&&e!==null&&(e.$$typeof===zb||e.$$typeof===Wb||e.$$typeof===Mb||e.$$typeof===Lb||e.$$typeof===Bb||e.$$typeof===b5e||e.$$typeof===w5e||e.$$typeof===j5e||e.$$typeof===v5e)};Or.typeOf=Zs;n$.exports=Or;var N5e=n$.exports,Wk=N5e,S5e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},k5e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},C5e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zk={};zk[Wk.ForwardRef]=C5e;zk[Wk.Memo]=s$;function o5(e){return Wk.isMemo(e)?s$:zk[e.$$typeof]||S5e}var A5e=Object.defineProperty,_5e=Object.getOwnPropertyNames,l5=Object.getOwnPropertySymbols,E5e=Object.getOwnPropertyDescriptor,T5e=Object.getPrototypeOf,c5=Object.prototype;function i$(e,t,r){if(typeof t!="string"){if(c5){var a=T5e(t);a&&a!==c5&&i$(e,a,r)}var s=_5e(t);l5&&(s=s.concat(l5(t)));for(var i=o5(e),o=o5(t),l=0;l<s.length;++l){var c=s[l];if(!k5e[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var d=E5e(t,c);try{A5e(e,c,d)}catch(u){}}}}return e}var O5e=i$;const d5=yr(O5e),P5e=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function I5e(e,t,r,a,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,d,u,f,h;function m(w,j){return c=w,d=j,u=e(c,d),f=t(a,d),h=r(u,f,d),l=!0,h}function p(){return u=e(c,d),t.dependsOnOwnProps&&(f=t(a,d)),h=r(u,f,d),h}function x(){return e.dependsOnOwnProps&&(u=e(c,d)),t.dependsOnOwnProps&&(f=t(a,d)),h=r(u,f,d),h}function y(){const w=e(c,d),j=!o(w,u);return u=w,j&&(h=r(u,f,d)),h}function v(w,j){const A=!i(j,d),C=!s(w,c,j,d);return c=w,d=j,A&&C?p():A?x():C?y():h}return function(j,A){return l?v(j,A):m(j,A)}}function F5e(e,t){let{initMapStateToProps:r,initMapDispatchToProps:a,initMergeProps:s}=t,i=kD(t,P5e);const o=r(e,i),l=a(e,i),c=s(e,i);return I5e(o,l,c,e,i)}function D5e(e,t){const r={};for(const a in e){const s=e[a];typeof s=="function"&&(r[a]=(...i)=>t(s(...i)))}return r}function p2(e){return function(r){const a=e(r);function s(){return a}return s.dependsOnOwnProps=!1,s}}function u5(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function o$(e,t){return function(a,{displayName:s}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=u5(e);let d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=u5(d),d=i(l,c)),d},i}}function Hk(e,t){return(r,a)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${a.wrappedComponentName}.`)}}function R5e(e){return e&&typeof e=="object"?p2(t=>D5e(e,t)):e?typeof e=="function"?o$(e):Hk(e,"mapDispatchToProps"):p2(t=>({dispatch:t}))}function M5e(e){return e?typeof e=="function"?o$(e):Hk(e,"mapStateToProps"):p2(()=>({}))}function L5e(e,t,r){return ql({},r,e,t)}function $5e(e){return function(r,{displayName:a,areMergedPropsEqual:s}){let i=!1,o;return function(c,d,u){const f=e(c,d,u);return i?s(f,o)||(o=f):(i=!0,o=f),o}}}function B5e(e){return e?typeof e=="function"?$5e(e):Hk(e,"mergeProps"):()=>L5e}function U5e(){const e=p5e();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){let a=[],s=t;for(;s;)a.push(s),s=s.next;return a},subscribe(a){let s=!0,i=r={callback:a,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!s||t===null||(s=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}const f5={notify(){},get:()=>[]};function l$(e,t){let r,a=f5,s=0,i=!1;function o(x){u();const y=a.subscribe(x);let v=!1;return()=>{v||(v=!0,y(),f())}}function l(){a.notify()}function c(){p.onStateChange&&p.onStateChange()}function d(){return i}function u(){s++,r||(r=t?t.addNestedSub(c):e.subscribe(c),a=U5e())}function f(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=f5)}function h(){i||(i=!0,u())}function m(){i&&(i=!1,f())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>a};return p}const W5e=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",fv=W5e?N.useLayoutEffect:N.useEffect;function h5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Yw(e,t){if(h5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!h5(e[r[s]],t[r[s]]))return!1;return!0}const z5e=["reactReduxForwardedRef"];let c$=x5e;const H5e=e=>{c$=e},V5e=[null,null];function G5e(e,t,r){fv(()=>e(...t),r)}function q5e(e,t,r,a,s,i){e.current=a,r.current=!1,s.current&&(s.current=null,i())}function K5e(e,t,r,a,s,i,o,l,c,d,u){if(!e)return()=>{};let f=!1,h=null;const m=()=>{if(f||!l.current)return;const x=t.getState();let y,v;try{y=a(x,s.current)}catch(w){v=w,h=w}v||(h=null),y===i.current?o.current||d():(i.current=y,c.current=y,o.current=!0,u())};return r.onStateChange=m,r.trySubscribe(),m(),()=>{if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}function X5e(e,t){return e===t}function d$(e,t,r,{pure:a,areStatesEqual:s=X5e,areOwnPropsEqual:i=Yw,areStatePropsEqual:o=Yw,areMergedPropsEqual:l=Yw,forwardRef:c=!1,context:d=r$}={}){const u=d,f=M5e(e),h=R5e(t),m=B5e(r),p=!!e;return y=>{const v=y.displayName||y.name||"Component",w=`Connect(${v})`,j={shouldHandleStateChanges:p,displayName:w,wrappedComponentName:v,WrappedComponent:y,initMapStateToProps:f,initMapDispatchToProps:h,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function A(k){const[E,T,F]=N.useMemo(()=>{const{reactReduxForwardedRef:L}=k,he=kD(k,z5e);return[k.context,L,he]},[k]),O=N.useMemo(()=>E&&E.Consumer&&V6.isContextConsumer(N.createElement(E.Consumer,null))?E:u,[E,u]),P=N.useContext(O),W=!!k.store&&!!k.store.getState&&!!k.store.dispatch,q=!!P&&!!P.store,D=W?k.store:P.store,M=q?P.getServerState:D.getState,H=N.useMemo(()=>F5e(D.dispatch,j),[D]),[ee,X]=N.useMemo(()=>{if(!p)return V5e;const L=l$(D,W?void 0:P.subscription),he=L.notifyNestedSubs.bind(L);return[L,he]},[D,W,P]),de=N.useMemo(()=>W?P:ql({},P,{subscription:ee}),[W,P,ee]),le=N.useRef(),G=N.useRef(F),K=N.useRef(),Z=N.useRef(!1);N.useRef(!1);const I=N.useRef(!1),V=N.useRef();fv(()=>(I.current=!0,()=>{I.current=!1}),[]);const te=N.useMemo(()=>()=>K.current&&F===G.current?K.current:H(D.getState(),F),[D,F]),R=N.useMemo(()=>he=>ee?K5e(p,D,ee,H,G,le,Z,I,K,X,he):()=>{},[ee]);G5e(q5e,[G,le,Z,F,K,X]);let U;try{U=c$(R,te,M?()=>H(M(),F):te)}catch(L){throw V.current&&(L.message+=`
The error may be correlated with this previous error:
${V.current.stack}

`),L}fv(()=>{V.current=void 0,K.current=void 0,le.current=U});const Q=N.useMemo(()=>N.createElement(y,ql({},U,{ref:T})),[T,y,U]);return N.useMemo(()=>p?N.createElement(O.Provider,{value:de},Q):Q,[O,Q,de])}const S=N.memo(A);if(S.WrappedComponent=y,S.displayName=A.displayName=w,c){const E=N.forwardRef(function(F,O){return N.createElement(S,ql({},F,{reactReduxForwardedRef:O}))});return E.displayName=w,E.WrappedComponent=y,d5(E,y)}return d5(S,y)}}function Y5e({store:e,context:t,children:r,serverState:a,stabilityCheck:s="once",noopCheck:i="once"}){const o=N.useMemo(()=>{const d=l$(e);return{store:e,subscription:d,getServerState:a?()=>a:void 0,stabilityCheck:s,noopCheck:i}},[e,a,s,i]),l=N.useMemo(()=>e.getState(),[e]);fv(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const c=t||r$;return N.createElement(c.Provider,{value:o},r)}H5e(e$.useSyncExternalStore);m5e(Af.unstable_batchedUpdates);function J5e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function u$(e,t){var r=N.useState(function(){return{inputs:t,result:e()}})[0],a=N.useRef(!0),s=N.useRef(r),i=a.current||!!(t&&s.current.inputs&&J5e(t,s.current.inputs)),o=i?s.current:{inputs:t,result:e()};return N.useEffect(function(){a.current=!1,s.current=o},[o]),o.result}function Z5e(e,t){return u$(function(){return e},t)}var cr=u$,Nt=Z5e,Xi=function(t){var r=t.top,a=t.right,s=t.bottom,i=t.left,o=a-i,l=s-r,c={top:r,right:a,bottom:s,left:i,width:o,height:l,x:i,y:r,center:{x:(a+i)/2,y:(s+r)/2}};return c},Vk=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},m5=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Q5e=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Jw={top:0,right:0,bottom:0,left:0},Gk=function(t){var r=t.borderBox,a=t.margin,s=a===void 0?Jw:a,i=t.border,o=i===void 0?Jw:i,l=t.padding,c=l===void 0?Jw:l,d=Xi(Vk(r,s)),u=Xi(m5(r,o)),f=Xi(m5(u,c));return{marginBox:d,borderBox:Xi(r),paddingBox:u,contentBox:f,margin:s,border:o,padding:c}},di=function(t){var r=t.slice(0,-2),a=t.slice(-2);if(a!=="px")return 0;var s=Number(r);return isNaN(s)&&tc(),s},ePe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},hv=function(t,r){var a=t.borderBox,s=t.border,i=t.margin,o=t.padding,l=Q5e(a,r);return Gk({borderBox:l,border:s,margin:i,padding:o})},mv=function(t,r){return r===void 0&&(r=ePe()),hv(t,r)},f$=function(t,r){var a={top:di(r.marginTop),right:di(r.marginRight),bottom:di(r.marginBottom),left:di(r.marginLeft)},s={top:di(r.paddingTop),right:di(r.paddingRight),bottom:di(r.paddingBottom),left:di(r.paddingLeft)},i={top:di(r.borderTopWidth),right:di(r.borderRightWidth),bottom:di(r.borderBottomWidth),left:di(r.borderLeftWidth)};return Gk({borderBox:t,margin:a,padding:s,border:i})},h$=function(t){var r=t.getBoundingClientRect(),a=window.getComputedStyle(t);return f$(r,a)},p5=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function tPe(e,t){return!!(e===t||p5(e)&&p5(t))}function rPe(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!tPe(e[r],t[r]))return!1;return!0}function ha(e,t){t===void 0&&(t=rPe);var r=null;function a(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return a.clear=function(){r=null},a}var W0=function(t){var r=[],a=null,s=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!a&&(a=requestAnimationFrame(function(){a=null,t.apply(void 0,r)}))};return s.cancel=function(){a&&(cancelAnimationFrame(a),a=null)},s};function m$(e,t){}m$.bind(null,"warn");m$.bind(null,"error");function Kl(){}function nPe(e,t){return{...e,...t}}function bi(e,t,r){const a=t.map(s=>{const i=nPe(r,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){a.forEach(i=>{i()})}}const aPe="Invariant failed";class pv extends Error{}pv.prototype.toString=function(){return this.message};function nt(e,t){throw new pv(aPe)}let sPe=class extends ne.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Kl,this.onWindowError=r=>{const a=this.getCallbacks();a.isDragging()&&a.tryAbort(),r.error instanceof pv&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=bi(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof pv){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const iPe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,gv=e=>e+1,oPe=e=>`
  You have lifted an item in position ${gv(e.source.index)}
`,p$=(e,t)=>{const r=e.droppableId===t.droppableId,a=gv(e.index),s=gv(t.index);return r?`
      You have moved the item from position ${a}
      to position ${s}
    `:`
    You have moved the item from position ${a}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},g$=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,lPe=e=>{const t=e.destination;if(t)return p$(e.source,t);const r=e.combine;return r?g$(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},g5=e=>`
  The item has returned to its starting position
  of ${gv(e.index)}
`,cPe=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${g5(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${p$(e.source,t)}
    `:r?`
      You have dropped the item.
      ${g$(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${g5(e.source)}
  `},dPe={dragHandleUsageInstructions:iPe,onDragStart:oPe,onDragUpdate:lPe,onDragEnd:cPe};var Rx=dPe;const pa={x:0,y:0},Ca=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Hs=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Xl=(e,t)=>e.x===t.x&&e.y===t.y,Xf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),bd=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},z0=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),x5=(e,t)=>Math.min(...t.map(r=>z0(e,r))),x$=e=>t=>({x:e(t.x),y:e(t.y)});var uPe=(e,t)=>{const r=Xi({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const Np=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),y5=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],fPe={top:0,right:0,bottom:0,left:0},hPe=(e,t)=>t?Np(e,t.scroll.diff.displacement):e,mPe=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,pPe=(e,t)=>t&&t.shouldClipSubject?uPe(t.pageMarginBox,e):Xi(e);var jf=({page:e,withPlaceholder:t,axis:r,frame:a})=>{const s=hPe(e.marginBox,a),i=mPe(s,r,t),o=pPe(i,a);return{page:e,withPlaceholder:t,active:o}},qk=(e,t)=>{e.frame||nt();const r=e.frame,a=Hs(t,r.scroll.initial),s=Xf(a),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:a,displacement:s},max:r.scroll.max}},o=jf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};const y$=ha(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),v$=ha(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Hb=ha(e=>Object.values(e)),gPe=ha(e=>Object.values(e));var Yf=ha((e,t)=>gPe(t).filter(a=>e===a.descriptor.droppableId).sort((a,s)=>a.descriptor.index-s.descriptor.index));function Kk(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Vb(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Gb=ha((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),xPe=({isMovingForward:e,draggable:t,destination:r,insideDestination:a,previousImpact:s})=>{if(!r.isCombineEnabled||!Kk(s))return null;function o(m){const p={type:"COMBINE",combine:{draggableId:m,droppableId:r.descriptor.id}};return{...s,at:p}}const l=s.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const d=Gb(t,a);if(!c){if(!d.length)return null;const m=d[d.length-1];return o(m.descriptor.id)}const u=d.findIndex(m=>m.descriptor.id===c);u===-1&&nt();const f=u-1;if(f<0)return null;const h=d[f];return o(h.descriptor.id)},Jf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const b$={point:pa,value:0},H0={invisible:{},visible:{},all:[]},yPe={displaced:H0,displacedBy:b$,at:null};var vPe=yPe,Ni=(e,t)=>r=>e<=r&&r<=t,w$=e=>{const t=Ni(e.top,e.bottom),r=Ni(e.left,e.right);return a=>{if(t(a.top)&&t(a.bottom)&&r(a.left)&&r(a.right))return!0;const i=t(a.top)||t(a.bottom),o=r(a.left)||r(a.right);if(i&&o)return!0;const c=a.top<e.top&&a.bottom>e.bottom,d=a.left<e.left&&a.right>e.right;return c&&d?!0:c&&o||d&&i}},bPe=e=>{const t=Ni(e.top,e.bottom),r=Ni(e.left,e.right);return a=>t(a.top)&&t(a.bottom)&&r(a.left)&&r(a.right)};const Xk={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},j$={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var wPe=e=>t=>{const r=Ni(t.top,t.bottom),a=Ni(t.left,t.right);return s=>e===Xk?r(s.top)&&r(s.bottom):a(s.left)&&a(s.right)};const jPe=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:pa;return Np(e,r)},NPe=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,SPe=(e,t,r)=>r(t)(e),Yk=({target:e,destination:t,viewport:r,withDroppableDisplacement:a,isVisibleThroughFrameFn:s})=>{const i=a?jPe(e,t):e;return NPe(i,t,s)&&SPe(i,r,s)},kPe=e=>Yk({...e,isVisibleThroughFrameFn:w$}),N$=e=>Yk({...e,isVisibleThroughFrameFn:bPe}),CPe=e=>Yk({...e,isVisibleThroughFrameFn:wPe(e.destination.axis)}),APe=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:a,visible:s}=t;if(a[e])return!1;const i=s[e];return i?i.shouldAnimate:!0};function _Pe(e,t){const r=e.page.marginBox,a={top:t.point.y,right:0,bottom:0,left:t.point.x};return Xi(Vk(r,a))}function V0({afterDragging:e,destination:t,displacedBy:r,viewport:a,forceShouldAnimate:s,last:i}){return e.reduce(function(l,c){const d=_Pe(c,r),u=c.descriptor.id;if(l.all.push(u),!kPe({target:d,destination:t,viewport:a,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const h=APe(u,i,s),m={draggableId:u,shouldAnimate:h};return l.visible[u]=m,l},{all:[],visible:{},invisible:{}})}function EPe(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function v5({insideDestination:e,inHomeList:t,displacedBy:r,destination:a}){const s=EPe(e,{inHomeList:t});return{displaced:H0,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:s}}}}function xv({draggable:e,insideDestination:t,destination:r,viewport:a,displacedBy:s,last:i,index:o,forceShouldAnimate:l}){const c=Jf(e,r);if(o==null)return v5({insideDestination:t,inHomeList:c,displacedBy:s,destination:r});const d=t.find(p=>p.descriptor.index===o);if(!d)return v5({insideDestination:t,inHomeList:c,displacedBy:s,destination:r});const u=Gb(e,t),f=t.indexOf(d),h=u.slice(f);return{displaced:V0({afterDragging:h,destination:r,displacedBy:s,last:i,viewport:a.frame,forceShouldAnimate:l}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function oc(e,t){return!!t.effected[e]}var TPe=({isMovingForward:e,destination:t,draggables:r,combine:a,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=a.draggableId,l=r[i].descriptor.index;return oc(i,s)?e?l:l-1:e?l+1:l},OPe=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:a})=>{if(!r.length)return null;const s=a.index,i=e?s+1:s-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return i<o||i>c?null:i},PPe=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:a,destination:s,insideDestination:i,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||nt(),d.type==="REORDER"){const f=OPe({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:i});return f==null?null:xv({draggable:r,insideDestination:i,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})}const u=TPe({isMovingForward:e,destination:s,displaced:o.displaced,draggables:a,combine:d.combine,afterCritical:c});return u==null?null:xv({draggable:r,insideDestination:i,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})},IPe=({displaced:e,afterCritical:t,combineWith:r,displacedBy:a})=>{const s=!!(e.visible[r]||e.invisible[r]);return oc(r,t)?s?pa:Xf(a.point):s?a.point:pa},FPe=({afterCritical:e,impact:t,draggables:r})=>{const a=Vb(t);a||nt();const s=a.draggableId,i=r[s].page.borderBox.center,o=IPe({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return Ca(i,o)};const S$=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,DPe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Jk=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,b5=({axis:e,moveRelativeTo:t,isMoving:r})=>bd(e.line,t.marginBox[e.end]+S$(e,r),Jk(e,t.marginBox,r)),w5=({axis:e,moveRelativeTo:t,isMoving:r})=>bd(e.line,t.marginBox[e.start]-DPe(e,r),Jk(e,t.marginBox,r)),RPe=({axis:e,moveInto:t,isMoving:r})=>bd(e.line,t.contentBox[e.start]+S$(e,r),Jk(e,t.contentBox,r));var MPe=({impact:e,draggable:t,draggables:r,droppable:a,afterCritical:s})=>{const i=Yf(a.descriptor.id,r),o=t.page,l=a.axis;if(!i.length)return RPe({axis:l,moveInto:a.page,isMoving:o});const{displaced:c,displacedBy:d}=e,u=c.all[0];if(u){const h=r[u];if(oc(u,s))return w5({axis:l,moveRelativeTo:h.page,isMoving:o});const m=hv(h.page,d.point);return w5({axis:l,moveRelativeTo:m,isMoving:o})}const f=i[i.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(oc(f.descriptor.id,s)){const h=hv(f.page,Xf(s.displacedBy.point));return b5({axis:l,moveRelativeTo:h,isMoving:o})}return b5({axis:l,moveRelativeTo:f.page,isMoving:o})},g2=(e,t)=>{const r=e.frame;return r?Ca(t,r.scroll.diff.displacement):t};const LPe=({impact:e,draggable:t,droppable:r,draggables:a,afterCritical:s})=>{const i=t.page.borderBox.center,o=e.at;return!r||!o?i:o.type==="REORDER"?MPe({impact:e,draggable:t,draggables:a,droppable:r,afterCritical:s}):FPe({impact:e,draggables:a,afterCritical:s})};var qb=e=>{const t=LPe(e),r=e.droppable;return r?g2(r,t):t},k$=(e,t)=>{const r=Hs(t,e.scroll.initial),a=Xf(r);return{frame:Xi({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:a}}}};function j5(e,t){return e.map(r=>t[r])}function $Pe(e,t){for(let r=0;r<t.length;r++){const a=t[r].visible[e];if(a)return a}return null}var BPe=({impact:e,viewport:t,destination:r,draggables:a,maxScrollChange:s})=>{const i=k$(t,Ca(t.scroll.current,s)),o=r.frame?qk(r,Ca(r.frame.scroll.current,s)):r,l=e.displaced,c=V0({afterDragging:j5(l.all,a),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=V0({afterDragging:j5(l.all,a),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),u={},f={},h=[l,c,d];return l.all.forEach(p=>{const x=$Pe(p,h);if(x){f[p]=x;return}u[p]=!0}),{...e,displaced:{all:l.all,invisible:u,visible:f}}},UPe=(e,t)=>Ca(e.scroll.diff.displacement,t),Zk=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const a=UPe(r,e),s=Hs(a,t.page.borderBox.center);return Ca(t.client.borderBox.center,s)},C$=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:a,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const o=Hs(r,e.page.borderBox.center),c={target:Np(e.page.borderBox,o),destination:t,withDroppableDisplacement:s,viewport:a};return i?CPe(c):N$(c)},WPe=({isMovingForward:e,draggable:t,destination:r,draggables:a,previousImpact:s,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const d=Yf(r.descriptor.id,a),u=Jf(t,r),f=xPe({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:s})||PPe({isMovingForward:e,isInHomeList:u,draggable:t,draggables:a,destination:r,insideDestination:d,previousImpact:s,viewport:i,afterCritical:c});if(!f)return null;const h=qb({impact:f,draggable:t,droppable:r,draggables:a,afterCritical:c});if(C$({draggable:t,destination:r,newPageBorderBoxCenter:h,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Zk({pageBorderBoxCenter:h,draggable:t,viewport:i}),impact:f,scrollJumpRequest:null};const p=Hs(h,o),x=BPe({impact:f,viewport:i,destination:r,draggables:a,maxScrollChange:p});return{clientSelection:l,impact:x,scrollJumpRequest:p}};const Qa=e=>{const t=e.subject.active;return t||nt(),t};var zPe=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:s})=>{const i=r.subject.active;if(!i)return null;const o=r.axis,l=Ni(i[o.start],i[o.end]),c=Hb(a).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>w$(s.frame)(Qa(u))).filter(u=>{const f=Qa(u);return e?i[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const f=Qa(u),h=Ni(f[o.start],f[o.end]);return l(f[o.start])||l(f[o.end])||h(i[o.start])||h(i[o.end])}).sort((u,f)=>{const h=Qa(u)[o.crossAxisStart],m=Qa(f)[o.crossAxisStart];return e?h-m:m-h}).filter((u,f,h)=>Qa(u)[o.crossAxisStart]===Qa(h[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(u=>Ni(Qa(u)[o.start],Qa(u)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((u,f)=>Qa(u)[o.start]-Qa(f)[o.start])[0]:c.sort((u,f)=>{const h=x5(t,y5(Qa(u))),m=x5(t,y5(Qa(f)));return h!==m?h-m:Qa(u)[o.start]-Qa(f)[o.start]})[0]};const N5=(e,t)=>{const r=e.page.borderBox.center;return oc(e.descriptor.id,t)?Hs(r,t.displacedBy.point):r},HPe=(e,t)=>{const r=e.page.borderBox;return oc(e.descriptor.id,t)?Np(r,Xf(t.displacedBy.point)):r};var VPe=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:a,afterCritical:s})=>a.filter(o=>N$({target:HPe(o,s),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=z0(e,g2(r,N5(o,s))),d=z0(e,g2(r,N5(l,s)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,Sp=ha(function(t,r){const a=r[t.line];return{value:a,point:bd(t.line,a)}});const GPe=(e,t,r)=>{const a=e.axis;if(e.descriptor.mode==="virtual")return bd(a.line,t[a.line]);const s=e.subject.page.contentBox[a.size],c=Yf(e.descriptor.id,r).reduce((d,u)=>d+u.client.marginBox[a.size],0)+t[a.line]-s;return c<=0?null:bd(a.line,c)},A$=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),_$=(e,t,r)=>{const a=e.frame;Jf(t,e)&&nt(),e.subject.withPlaceholder&&nt();const s=Sp(e.axis,t.displaceBy).point,i=GPe(e,s,r),o={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a){const u=jf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const l=i?Ca(a.scroll.max,i):a.scroll.max,c=A$(a,l),d=jf({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},qPe=e=>{const t=e.subject.withPlaceholder;t||nt();const r=e.frame;if(!r){const o=jf({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const a=t.oldFrameMaxScroll;a||nt();const s=A$(r,a),i=jf({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}};var KPe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:a,draggables:s,destination:i,viewport:o,afterCritical:l})=>{if(!t){if(r.length)return null;const f={displaced:H0,displacedBy:b$,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},h=qb({impact:f,draggable:a,droppable:i,draggables:s,afterCritical:l}),m=Jf(a,i)?i:_$(i,a,s);return C$({draggable:a,destination:m,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],d=(()=>{const f=t.descriptor.index;return t.descriptor.id===a.descriptor.id||c?f:f+1})(),u=Sp(i.axis,a.displaceBy);return xv({draggable:a,insideDestination:r,destination:i,viewport:o,displacedBy:u,last:H0,index:d})},XPe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:a,draggables:s,droppables:i,viewport:o,afterCritical:l})=>{const c=zPe({isMovingForward:e,pageBorderBoxCenter:t,source:a,droppables:i,viewport:o});if(!c)return null;const d=Yf(c.descriptor.id,s),u=VPe({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:d,afterCritical:l}),f=KPe({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:s,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!f)return null;const h=qb({impact:f,draggable:r,droppable:c,draggables:s,afterCritical:l});return{clientSelection:Zk({pageBorderBoxCenter:h,draggable:r,viewport:o}),impact:f,scrollJumpRequest:null}},qs=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const YPe=(e,t)=>{const r=qs(e);return r?t[r]:null};var JPe=({state:e,type:t})=>{const r=YPe(e.impact,e.dimensions.droppables),a=!!r,s=e.dimensions.droppables[e.critical.droppable.id],i=r||s,o=i.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!a)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:f,droppables:h}=e.dimensions;return l?WPe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:i,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):XPe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:i,draggables:f,droppables:h,viewport:e.viewport,afterCritical:e.afterCritical})};function Bc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function E$(e){const t=Ni(e.top,e.bottom),r=Ni(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function ZPe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function QPe({pageBorderBox:e,draggable:t,candidates:r}){const a=t.page.borderBox.center,s=r.map(i=>{const o=i.axis,l=bd(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:z0(a,l)}}).sort((i,o)=>o.distance-i.distance);return s[0]?s[0].id:null}function e6e({pageBorderBox:e,draggable:t,droppables:r}){const a=Hb(r).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!ZPe(e,i))return!1;if(E$(i)(e.center))return!0;const o=s.axis,l=i.center[o.crossAxisLine],c=e[o.crossAxisStart],d=e[o.crossAxisEnd],u=Ni(i[o.crossAxisStart],i[o.crossAxisEnd]),f=u(c),h=u(d);return!f&&!h?!0:f?c<l:d>l});return a.length?a.length===1?a[0].descriptor.id:QPe({pageBorderBox:e,draggable:t,candidates:a}):null}const T$=(e,t)=>Xi(Np(e,t));var t6e=(e,t)=>{const r=e.frame;return r?T$(t,r.scroll.diff.value):t};function O$({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function r6e({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var n6e=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:a,last:s,viewport:i,afterCritical:o})=>{const l=r.axis,c=Sp(r.axis,t.displaceBy),d=c.value,u=e[l.start],f=e[l.end],m=Gb(t,a).find(x=>{const y=x.descriptor.id,v=x.page.borderBox.center[l.line],w=oc(y,o),j=O$({displaced:s,id:y});return w?j?f<=v:u<v-d:j?f<=v+d:u<v})||null,p=r6e({draggable:t,closest:m,inHomeList:Jf(t,r)});return xv({draggable:t,insideDestination:a,destination:r,viewport:i,last:s,displacedBy:c,index:p})};const a6e=4;var s6e=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:a,insideDestination:s,afterCritical:i})=>{if(!a.isCombineEnabled)return null;const o=a.axis,l=Sp(a.axis,e.displaceBy),c=l.value,d=t[o.start],u=t[o.end],h=Gb(e,s).find(p=>{const x=p.descriptor.id,y=p.page.borderBox,w=y[o.size]/a6e,j=oc(x,i),A=O$({displaced:r.displaced,id:x});return j?A?u>y[o.start]+w&&u<y[o.end]-w:d>y[o.start]-c+w&&d<y[o.end]-c-w:A?u>y[o.start]+c+w&&u<y[o.end]+c-w:d>y[o.start]+w&&d<y[o.end]-w});return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:a.descriptor.id}}}:null},P$=({pageOffset:e,draggable:t,draggables:r,droppables:a,previousImpact:s,viewport:i,afterCritical:o})=>{const l=T$(t.page.borderBox,e),c=e6e({pageBorderBox:l,draggable:t,droppables:a});if(!c)return vPe;const d=a[c],u=Yf(d.descriptor.id,r),f=t6e(d,l);return s6e({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:d,insideDestination:u,afterCritical:o})||n6e({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:d,insideDestination:u,last:s.displaced,viewport:i,afterCritical:o})},Qk=(e,t)=>({...e,[t.descriptor.id]:t});const i6e=({previousImpact:e,impact:t,droppables:r})=>{const a=qs(e),s=qs(t);if(!a||a===s)return r;const i=r[a];if(!i.subject.withPlaceholder)return r;const o=qPe(i);return Qk(r,o)};var o6e=({draggable:e,draggables:t,droppables:r,previousImpact:a,impact:s})=>{const i=i6e({previousImpact:a,impact:s,droppables:r}),o=qs(s);if(!o)return i;const l=r[o];if(Jf(e,l)||l.subject.withPlaceholder)return i;const c=_$(l,e,t);return Qk(i,c)},Fm=({state:e,clientSelection:t,dimensions:r,viewport:a,impact:s,scrollJumpRequest:i})=>{const o=a||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,d=Hs(c,e.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:Ca(e.initial.client.borderBoxCenter,d)},f={selection:Ca(u.selection,o.scroll.current),borderBoxCenter:Ca(u.borderBoxCenter,o.scroll.current),offset:Ca(u.offset,o.scroll.diff.value)},h={client:u,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:h};const m=l.draggables[e.critical.draggable.id],p=s||P$({pageOffset:f.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),x=o6e({draggable:m,impact:p,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:h,dimensions:{draggables:l.draggables,droppables:x},impact:p,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function l6e(e,t){return e.map(r=>t[r])}var I$=({impact:e,viewport:t,draggables:r,destination:a,forceShouldAnimate:s})=>{const i=e.displaced,o=l6e(i.all,r),l=V0({afterDragging:o,destination:a,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:l}},F$=({impact:e,draggable:t,droppable:r,draggables:a,viewport:s,afterCritical:i})=>{const o=qb({impact:e,draggable:t,draggables:a,droppable:r,afterCritical:i});return Zk({pageBorderBoxCenter:o,draggable:t,viewport:s})},D$=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&nt();const a=e.impact,s=r||e.viewport,i=t||e.dimensions,{draggables:o,droppables:l}=i,c=o[e.critical.draggable.id],d=qs(a);d||nt();const u=l[d],f=I$({impact:a,viewport:s,destination:u,draggables:o}),h=F$({impact:f,draggable:c,droppable:u,draggables:o,viewport:s,afterCritical:e.afterCritical});return Fm({impact:f,clientSelection:h,state:e,dimensions:i,viewport:s})},c6e=e=>({index:e.index,droppableId:e.droppableId}),R$=({draggable:e,home:t,draggables:r,viewport:a})=>{const s=Sp(t.axis,e.displaceBy),i=Yf(t.descriptor.id,r),o=i.indexOf(e);o===-1&&nt();const l=i.slice(o+1),c=l.reduce((h,m)=>(h[m.descriptor.id]=!0,h),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:V0({afterDragging:l,destination:t,displacedBy:s,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:c6e(e.descriptor)}},afterCritical:d}},d6e=(e,t)=>({draggables:e.draggables,droppables:Qk(e.droppables,t)}),u6e=({draggable:e,offset:t,initialWindowScroll:r})=>{const a=hv(e.client,t),s=mv(a,r);return{...e,placeholder:{...e.placeholder,client:a},client:a,page:s}},f6e=e=>{const t=e.frame;return t||nt(),t},h6e=({additions:e,updatedDroppables:t,viewport:r})=>{const a=r.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,o=t[i],c=f6e(o).scroll.diff.value,d=Ca(a,c);return u6e({draggable:s,offset:d,initialWindowScroll:r.scroll.initial})})},m6e=({state:e,published:t})=>{const r=t.modified.map(v=>{const w=e.dimensions.droppables[v.droppableId];return qk(w,v.scroll)}),a={...e.dimensions.droppables,...y$(r)},s=v$(h6e({additions:t.additions,updatedDroppables:a,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(v=>{delete i[v]});const o={droppables:a,draggables:i},l=qs(e.impact),c=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:h}=R$({draggable:d,home:u,draggables:i,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,p=P$({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:e.viewport,afterCritical:h}),x={...e,phase:"DRAGGING",impact:p,onLiftImpact:f,dimensions:o,afterCritical:h,forceShouldAnimate:!1};return e.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const x2=e=>e.movementMode==="SNAP",Zw=(e,t,r)=>{const a=d6e(e.dimensions,t);return!x2(e)||r?Fm({state:e,dimensions:a}):D$({state:e,dimensions:a})};function Qw(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const S5={phase:"IDLE",completed:null,shouldFlush:!1};var p6e=(e=S5,t)=>{if(t.type==="FLUSH")return{...S5,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&nt();const{critical:r,clientSelection:a,viewport:s,dimensions:i,movementMode:o}=t.payload,l=i.draggables[r.draggable.id],c=i.droppables[r.droppable.id],d={selection:a,borderBoxCenter:l.client.borderBox.center,offset:pa},u={client:d,page:{selection:Ca(d.selection,s.scroll.initial),borderBoxCenter:Ca(d.selection,s.scroll.initial),offset:Ca(d.selection,s.scroll.diff.value)}},f=Hb(i.droppables).every(x=>!x.isFixedOnPage),{impact:h,afterCritical:m}=R$({draggable:l,home:c,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:f,impact:h,afterCritical:m,onLiftImpact:h,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&nt(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||nt(),m6e({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Bc(e)||nt();const{client:r}=t.payload;return Xl(r,e.current.client.selection)?e:Fm({state:e,clientSelection:r,impact:x2(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Qw(e);Bc(e)||nt();const{id:r,newScroll:a}=t.payload,s=e.dimensions.droppables[r];if(!s)return e;const i=qk(s,a);return Zw(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Bc(e)||nt();const{id:r,isEnabled:a}=t.payload,s=e.dimensions.droppables[r];s||nt(),s.isEnabled===a&&nt();const i={...s,isEnabled:a};return Zw(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Bc(e)||nt();const{id:r,isCombineEnabled:a}=t.payload,s=e.dimensions.droppables[r];s||nt(),s.isCombineEnabled===a&&nt();const i={...s,isCombineEnabled:a};return Zw(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Bc(e)||nt(),e.isWindowScrollAllowed||nt();const r=t.payload.newScroll;if(Xl(e.viewport.scroll.current,r))return Qw(e);const a=k$(e.viewport,r);return x2(e)?D$({state:e,viewport:a}):Fm({state:e,viewport:a})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Bc(e))return e;const r=t.payload.maxScroll;if(Xl(r,e.viewport.scroll.max))return e;const a={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:a}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&nt();const r=JPe({state:e,type:t.type});return r?Fm({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&nt(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:a,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||nt(),{phase:"DROP_ANIMATING",completed:r,dropDuration:a,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};const g6e=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),x6e=e=>({type:"LIFT",payload:e}),y6e=e=>({type:"INITIAL_PUBLISH",payload:e}),v6e=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),b6e=()=>({type:"COLLECTION_STARTING",payload:null}),w6e=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),j6e=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),N6e=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),M$=e=>({type:"MOVE",payload:e}),S6e=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),k6e=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),C6e=()=>({type:"MOVE_UP",payload:null}),A6e=()=>({type:"MOVE_DOWN",payload:null}),_6e=()=>({type:"MOVE_RIGHT",payload:null}),E6e=()=>({type:"MOVE_LEFT",payload:null}),eC=()=>({type:"FLUSH",payload:null}),T6e=e=>({type:"DROP_ANIMATE",payload:e}),tC=e=>({type:"DROP_COMPLETE",payload:e}),L$=e=>({type:"DROP",payload:e}),O6e=e=>({type:"DROP_PENDING",payload:e}),$$=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var P6e=e=>({getState:t,dispatch:r})=>a=>s=>{if(s.type!=="LIFT"){a(s);return}const{id:i,clientSelection:o,movementMode:l}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&r(tC({completed:c.completed})),t().phase!=="IDLE"&&nt(),r(eC()),r(g6e({draggableId:i,movementMode:l}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:h,viewport:m}=e.startPublishing(u);r(y6e({critical:f,dimensions:h,clientSelection:o,movementMode:l,viewport:m}))},I6e=e=>()=>t=>r=>{r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)};const rC={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},G0={opacity:{drop:0,combining:.7},scale:{drop:.75}},B$={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fc=`${B$.outOfTheWay}s ${rC.outOfTheWay}`,Dm={fluid:`opacity ${Fc}`,snap:`transform ${Fc}, opacity ${Fc}`,drop:e=>{const t=`${e}s ${rC.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Fc}`,placeholder:`height ${Fc}, width ${Fc}, margin ${Fc}`},k5=e=>Xl(e,pa)?void 0:`translate(${e.x}px, ${e.y}px)`,y2={moveTo:k5,drop:(e,t)=>{const r=k5(e);if(r)return t?`${r} scale(${G0.scale.drop})`:r}},{minDropTime:v2,maxDropTime:U$}=B$,F6e=U$-v2,C5=1500,D6e=.6;var R6e=({current:e,destination:t,reason:r})=>{const a=z0(e,t);if(a<=0)return v2;if(a>=C5)return U$;const s=a/C5,i=v2+F6e*s,o=r==="CANCEL"?i*D6e:i;return Number(o.toFixed(2))},M6e=({impact:e,draggable:t,dimensions:r,viewport:a,afterCritical:s})=>{const{draggables:i,droppables:o}=r,l=qs(e),c=l?o[l]:null,d=o[t.descriptor.droppableId],u=F$({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:c||d,viewport:a});return Hs(u,t.client.borderBox.center)},L6e=({draggables:e,reason:t,lastImpact:r,home:a,viewport:s,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:I$({draggables:e,impact:i,destination:a,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:H0},didDropInsideDroppable:!0};const $6e=({getState:e,dispatch:t})=>r=>a=>{if(a.type!=="DROP"){r(a);return}const s=e(),i=a.payload.reason;if(s.phase==="COLLECTING"){t(O6e({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&nt(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||nt();const l=s.critical,c=s.dimensions,d=c.draggables[s.critical.draggable.id],{impact:u,didDropInsideDroppable:f}=L6e({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),h=f?Kk(u):null,m=f?Vb(u):null,p={index:l.draggable.index,droppableId:l.droppable.id},x={draggableId:d.descriptor.id,type:d.descriptor.type,source:p,reason:i,mode:s.movementMode,destination:h,combine:m},y=M6e({impact:u,draggable:d,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),v={critical:s.critical,afterCritical:s.afterCritical,result:x,impact:u};if(!(!Xl(s.current.client.offset,y)||!!x.combine)){t(tC({completed:v}));return}const j=R6e({current:s.current.client.offset,destination:y,reason:i});t(T6e({newHomeClientOffset:y,dropDuration:j,completed:v}))};var B6e=$6e,W$=()=>({x:window.pageXOffset,y:window.pageYOffset});function U6e(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function W6e({onWindowScroll:e}){function t(){e(W$())}const r=W0(t),a=U6e(r);let s=Kl;function i(){return s!==Kl}function o(){i()&&nt(),s=bi(window,[a])}function l(){i()||nt(),r.cancel(),s(),s=Kl}return{start:o,stop:l,isActive:i}}const z6e=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",H6e=e=>{const t=W6e({onWindowScroll:r=>{e.dispatch(S6e({newScroll:r}))}});return r=>a=>{!t.isActive()&&a.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&z6e(a)&&t.stop(),r(a)}};var V6e=H6e,G6e=e=>{let t=!1,r=!1;const a=setTimeout(()=>{r=!0}),s=i=>{t||r||(t=!0,e(i),clearTimeout(a))};return s.wasCalled=()=>t,s},q6e=()=>{const e=[],t=s=>{const i=e.findIndex(l=>l.timerId===s);i===-1&&nt();const[o]=e.splice(i,1);o.callback()};return{add:s=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:s};e.push(o)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const K6e=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,X6e=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Y6e=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,a=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&a},tm=(e,t)=>{t()},px=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ej(e,t,r,a){if(!e){r(a(t));return}const s=G6e(r);e(t,{announce:s}),s.wasCalled()||r(a(t))}var J6e=(e,t)=>{const r=q6e();let a=null;const s=(f,h)=>{a&&nt(),tm("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:h})})},i=(f,h)=>{a&&nt(),tm("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(px(f,h))})},o=(f,h)=>{a&&nt();const m=px(f,h);a={mode:h,lastCritical:f,lastLocation:m.source,lastCombine:null},r.add(()=>{tm("onDragStart",()=>ej(e().onDragStart,m,t,Rx.onDragStart))})},l=(f,h)=>{const m=Kk(h),p=Vb(h);a||nt();const x=!Y6e(f,a.lastCritical);x&&(a.lastCritical=f);const y=!K6e(a.lastLocation,m);y&&(a.lastLocation=m);const v=!X6e(a.lastCombine,p);if(v&&(a.lastCombine=p),!x&&!y&&!v)return;const w={...px(f,a.mode),combine:p,destination:m};r.add(()=>{tm("onDragUpdate",()=>ej(e().onDragUpdate,w,t,Rx.onDragUpdate))})},c=()=>{a||nt(),r.flush()},d=f=>{a||nt(),a=null,tm("onDragEnd",()=>ej(e().onDragEnd,f,t,Rx.onDragEnd))};return{beforeCapture:s,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:()=>{if(!a)return;const f={...px(a.lastCritical,a.mode),combine:null,destination:null,reason:"CANCEL"};d(f)}}},Z6e=(e,t)=>{const r=J6e(e,t);return a=>s=>i=>{if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){const l=i.payload.critical;r.beforeStart(l,i.payload.movementMode),s(i),r.start(l,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){const l=i.payload.completed.result;r.flush(),s(i),r.drop(l);return}if(s(i),i.type==="FLUSH"){r.abort();return}const o=a.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const Q6e=e=>t=>r=>{if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}const a=e.getState();a.phase!=="DROP_ANIMATING"&&nt(),e.dispatch(tC({completed:a.completed}))};var eIe=Q6e;const tIe=e=>{let t=null,r=null;function a(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return s=>i=>{if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&a(),s(i),i.type!=="DROP_ANIMATE")return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch($$())}};r=requestAnimationFrame(()=>{r=null,t=bi(window,[o])})}};var rIe=tIe,nIe=e=>()=>t=>r=>{(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)},aIe=e=>{let t=!1;return()=>r=>a=>{if(a.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(a.payload.critical.draggable.id),r(a),e.tryRestoreFocusRecorded();return}if(r(a),!!t){if(a.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(a.type==="DROP_COMPLETE"){t=!1;const s=a.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const sIe=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var iIe=e=>t=>r=>a=>{if(sIe(a)){e.stop(),r(a);return}if(a.type==="INITIAL_PUBLISH"){r(a);const s=t.getState();s.phase!=="DRAGGING"&&nt(),e.start(s);return}r(a),e.scroll(t.getState())};const oIe=e=>t=>r=>{if(t(r),r.type!=="PUBLISH_WHILE_DRAGGING")return;const a=e.getState();a.phase==="DROP_PENDING"&&(a.isWaiting||e.dispatch(L$({reason:a.reason})))};var lIe=oIe;const cIe=JL;var dIe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:a,announce:s,autoScroller:i})=>YL(p6e,cIe(K3e(I6e(r),nIe(e),P6e(e),B6e,eIe,rIe,lIe,iIe(i),V6e,aIe(t),Z6e(a,s))));const tj=()=>({additions:{},removals:{},modified:{}});function uIe({registry:e,callbacks:t}){let r=tj(),a=null;const s=()=>{a||(t.collectionStarting(),a=requestAnimationFrame(()=>{a=null;const{additions:c,removals:d,modified:u}=r,f=Object.keys(c).map(p=>e.draggable.getById(p).getDimension(pa)).sort((p,x)=>p.descriptor.index-x.descriptor.index),h=Object.keys(u).map(p=>{const y=e.droppable.getById(p).callbacks.getScrollWhileDragging();return{droppableId:p,scroll:y}}),m={additions:f,removals:Object.keys(d),modified:h};r=tj(),t.publish(m)}))};return{add:c=>{const d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],s()},remove:c=>{const d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],s()},stop:()=>{a&&(cancelAnimationFrame(a),a=null,r=tj())}}}var z$=({scrollHeight:e,scrollWidth:t,height:r,width:a})=>{const s=Hs({x:t,y:e},{x:a,y:r});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},H$=()=>{const e=document.documentElement;return e||nt(),e},V$=()=>{const e=H$();return z$({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},fIe=()=>{const e=W$(),t=V$(),r=e.y,a=e.x,s=H$(),i=s.clientWidth,o=s.clientHeight,l=a+i,c=r+o;return{frame:Xi({top:r,left:a,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:pa,displacement:pa}}}},hIe=({critical:e,scrollOptions:t,registry:r})=>{const a=fIe(),s=a.scroll.current,i=e.droppable,o=r.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(s,t)),l=r.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(s));return{dimensions:{draggables:v$(l),droppables:y$(o)},critical:e,viewport:a}};function A5(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var mIe=(e,t)=>{let r=null;const a=uIe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(h,m)=>{e.droppable.exists(h)||nt(),r&&t.updateDroppableIsEnabled({id:h,isEnabled:m})},i=(h,m)=>{r&&(e.droppable.exists(h)||nt(),t.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:m}))},o=(h,m)=>{r&&(e.droppable.exists(h)||nt(),t.updateDroppableScroll({id:h,newScroll:m}))},l=(h,m)=>{r&&e.droppable.getById(h).callbacks.scroll(m)},c=()=>{if(!r)return;a.stop();const h=r.critical.droppable;e.droppable.getAllByType(h.type).forEach(m=>m.callbacks.dragStopped()),r.unsubscribe(),r=null},d=h=>{r||nt();const m=r.critical.draggable;h.type==="ADDITION"&&A5(e,m,h.value)&&a.add(h.value),h.type==="REMOVAL"&&A5(e,m,h.value)&&a.remove(h.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:h=>{r&&nt();const m=e.draggable.getById(h.draggableId),p=e.droppable.getById(m.descriptor.droppableId),x={draggable:m.descriptor,droppable:p.descriptor},y=e.subscribe(d);return r={critical:x,unsubscribe:y},hIe({critical:x,registry:e,scrollOptions:h.scrollOptions})},stopPublishing:c}},G$=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",pIe=e=>{window.scrollBy(e.x,e.y)};const gIe=ha(e=>Hb(e).filter(t=>!(!t.isEnabled||!t.frame))),xIe=(e,t)=>gIe(t).find(a=>(a.frame||nt(),E$(a.frame.pageMarginBox)(e)))||null;var yIe=({center:e,destination:t,droppables:r})=>{if(t){const s=r[t];return s.frame?s:null}return xIe(e,r)};const q0={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var vIe=(e,t,r=()=>q0)=>{const a=r(),s=e[t.size]*a.startFromPercentage,i=e[t.size]*a.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},q$=({startOfRange:e,endOfRange:t,current:r})=>{const a=t-e;return a===0?0:(r-e)/a},nC=1,bIe=(e,t,r=()=>q0)=>{const a=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return a.maxPixelScroll;if(e===t.startScrollingFrom)return nC;const i=1-q$({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=a.maxPixelScroll*a.ease(i);return Math.ceil(o)},wIe=(e,t,r)=>{const a=r(),s=a.durationDampening.accelerateAt,i=a.durationDampening.stopDampeningAt,o=t,l=i,d=Date.now()-o;if(d>=i)return e;if(d<s)return nC;const u=q$({startOfRange:s,endOfRange:l,current:d}),f=e*a.ease(u);return Math.ceil(f)},_5=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:s})=>{const i=bIe(e,t,s);return i===0?0:a?Math.max(wIe(i,r,s),nC):i},E5=({container:e,distanceToEdges:t,dragStartTime:r,axis:a,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=vIe(e,a,i);return t[a.end]<t[a.start]?_5({distanceToEdge:t[a.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*_5({distanceToEdge:t[a.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},jIe=({container:e,subject:t,proposedScroll:r})=>{const a=t.height>e.height,s=t.width>e.width;return!s&&!a?r:s&&a?null:{x:s?0:r.x,y:a?0:r.y}};const NIe=x$(e=>e===0?0:e);var K$=({dragStartTime:e,container:t,subject:r,center:a,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o={top:a.y-t.top,right:t.right-a.x,bottom:t.bottom-a.y,left:a.x-t.left},l=E5({container:t,distanceToEdges:o,dragStartTime:e,axis:Xk,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=E5({container:t,distanceToEdges:o,dragStartTime:e,axis:j$,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),d=NIe({x:c,y:l});if(Xl(d,pa))return null;const u=jIe({container:t,subject:r,proposedScroll:d});return u?Xl(u,pa)?null:u:null};const SIe=x$(e=>e===0?0:e>0?1:-1),aC=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:a})=>{const s=Ca(t,a),i={x:e(s.x,r.x),y:e(s.y,r.y)};return Xl(i,pa)?null:i}})(),X$=({max:e,current:t,change:r})=>{const a={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=SIe(r),i=aC({max:a,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},sC=(e,t)=>X$({current:e.scroll.current,max:e.scroll.max,change:t}),kIe=(e,t)=>{if(!sC(e,t))return null;const r=e.scroll.max,a=e.scroll.current;return aC({current:a,max:r,change:t})},iC=(e,t)=>{const r=e.frame;return r?X$({current:r.scroll.current,max:r.scroll.max,change:t}):!1},CIe=(e,t)=>{const r=e.frame;return!r||!iC(e,t)?null:aC({current:r.scroll.current,max:r.scroll.max,change:t})};var AIe=({viewport:e,subject:t,center:r,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=K$({dragStartTime:a,container:e.frame,subject:t,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return o&&sC(e,o)?o:null},_Ie=({droppable:e,subject:t,center:r,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const l=K$({dragStartTime:a,container:o.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return l&&iC(e,l)?l:null},T5=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:a,scrollDroppable:s,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,h=AIe({dragStartTime:t,viewport:f,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(h){a(h);return}}const d=yIe({center:o,destination:qs(e.impact),droppables:e.dimensions.droppables});if(!d)return;const u=_Ie({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});u&&s(d.descriptor.id,u)},EIe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>q0})=>{const a=W0(e),s=W0(t);let i=null;const o=d=>{i||nt();const{shouldUseTimeDampening:u,dragStartTime:f}=i;T5({state:d,scrollWindow:a,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:d=>{i&&nt();const u=Date.now();let f=!1;const h=()=>{f=!0};T5({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:r}),i={dragStartTime:u,shouldUseTimeDampening:f},f&&o(d)},stop:()=>{i&&(a.cancel(),s.cancel(),i=null)},scroll:o}},TIe=({move:e,scrollDroppable:t,scrollWindow:r})=>{const a=(l,c)=>{const d=Ca(l.current.client.selection,c);e({client:d})},s=(l,c)=>{if(!iC(l,c))return c;const d=CIe(l,c);if(!d)return t(l.descriptor.id,c),null;const u=Hs(c,d);return t(l.descriptor.id,u),Hs(c,u)},i=(l,c,d)=>{if(!l||!sC(c,d))return d;const u=kIe(c,d);if(!u)return r(d),null;const f=Hs(d,u);return r(f),Hs(d,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=qs(l.impact);d||nt();const u=s(l.dimensions.droppables[d],c);if(!u)return;const f=l.viewport,h=i(l.isWindowScrollAllowed,f,u);h&&a(l,h)}},OIe=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:a})=>{const s=EIe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:a}),i=TIe({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(a().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:s.start,stop:s.stop}};const Nf="data-rfd",Sf=(()=>{const e=`${Nf}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),b2=(()=>{const e=`${Nf}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),PIe=(()=>{const e=`${Nf}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),O5={contextId:`${Nf}-scroll-container-context-id`},IIe=e=>t=>`[${t}="${e}"]`,rm=(e,t)=>e.map(r=>{const a=r.styles[t];return a?`${r.selector} { ${a} }`:""}).join(" "),FIe="pointer-events: none;";var DIe=e=>{const t=IIe(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Sf.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:FIe,dropAnimating:l}}})(),a=(()=>{const l=`
      transition: ${Dm.outOfTheWay};
    `;return{selector:t(b2.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),s={selector:t(PIe.contextId),styles:{always:"overflow-anchor: none;"}},o=[a,r,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:rm(o,"always"),resting:rm(o,"resting"),dragging:rm(o,"dragging"),dropAnimating:rm(o,"dropAnimating"),userCancel:rm(o,"userCancel")}};const RIe=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?N.useLayoutEffect:N.useEffect;var Ks=RIe;const rj=()=>{const e=document.querySelector("head");return e||nt(),e},P5=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function MIe(e,t){const r=cr(()=>DIe(e),[e]),a=N.useRef(null),s=N.useRef(null),i=Nt(ha(f=>{const h=s.current;h||nt(),h.textContent=f}),[]),o=Nt(f=>{const h=a.current;h||nt(),h.textContent=f},[]);Ks(()=>{!a.current&&!s.current||nt();const f=P5(t),h=P5(t);return a.current=f,s.current=h,f.setAttribute(`${Nf}-always`,e),h.setAttribute(`${Nf}-dynamic`,e),rj().appendChild(f),rj().appendChild(h),o(r.always),i(r.resting),()=>{const m=p=>{const x=p.current;x||nt(),rj().removeChild(x),p.current=null};m(a),m(s)}},[t,o,i,r.always,r.resting,e]);const l=Nt(()=>i(r.dragging),[i,r.dragging]),c=Nt(f=>{if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=Nt(()=>{s.current&&i(r.resting)},[i,r.resting]);return cr(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function Y$(e,t){return Array.from(e.querySelectorAll(t))}var J$=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Kb(e){return e instanceof J$(e).HTMLElement}function LIe(e,t){const r=`[${Sf.contextId}="${e}"]`,a=Y$(document,r);if(!a.length)return null;const s=a.find(i=>i.getAttribute(Sf.draggableId)===t);return!s||!Kb(s)?null:s}function $Ie(e){const t=N.useRef({}),r=N.useRef(null),a=N.useRef(null),s=N.useRef(!1),i=Nt(function(h,m){const p={id:h,focus:m};return t.current[h]=p,function(){const y=t.current;y[h]!==p&&delete y[h]}},[]),o=Nt(function(h){const m=LIe(e,h);m&&m!==document.activeElement&&m.focus()},[e]),l=Nt(function(h,m){r.current===h&&(r.current=m)},[]),c=Nt(function(){a.current||s.current&&(a.current=requestAnimationFrame(()=>{a.current=null;const h=r.current;h&&o(h)}))},[o]),d=Nt(function(h){r.current=null;const m=document.activeElement;m&&m.getAttribute(Sf.draggableId)===h&&(r.current=h)},[]);return Ks(()=>(s.current=!0,function(){s.current=!1;const h=a.current;h&&cancelAnimationFrame(h)}),[]),cr(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,d,c,l])}function BIe(){const e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function a(f){t.length&&t.forEach(h=>h(f))}function s(f){return e.draggables[f]||null}function i(f){const h=s(f);return h||nt(),h}const o={register:f=>{e.draggables[f.descriptor.id]=f,a({type:"ADDITION",value:f})},update:(f,h)=>{const m=e.draggables[h.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const h=f.descriptor.id,m=s(h);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[h],e.droppables[f.descriptor.droppableId]&&a({type:"REMOVAL",value:f}))},getById:i,findById:s,exists:f=>!!s(f),getAllByType:f=>Object.values(e.draggables).filter(h=>h.descriptor.type===f)};function l(f){return e.droppables[f]||null}function c(f){const h=l(f);return h||nt(),h}const d={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const h=l(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(e.droppables).filter(h=>h.descriptor.type===f)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function UIe(){const e=cr(BIe,[]);return N.useEffect(()=>function(){ne.version.startsWith("16")||ne.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var oC=ne.createContext(null),yv=()=>{const e=document.body;return e||nt(),e};const WIe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var zIe=WIe;const HIe=e=>`rfd-announcement-${e}`;function VIe(e){const t=cr(()=>HIe(e),[e]),r=N.useRef(null);return N.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),ql(i.style,zIe),yv().appendChild(i),function(){setTimeout(function(){const c=yv();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]),Nt(s=>{const i=r.current;if(i){i.textContent=s;return}},[])}let GIe=0;const Z$={separator:"::"};function qIe(e,t=Z$){return cr(()=>`${e}${t.separator}${GIe++}`,[t.separator,e])}function KIe(e,t=Z$){const r=ne.useId();return cr(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}var lC="useId"in ne?KIe:qIe;function XIe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function YIe({contextId:e,text:t}){const r=lC("hidden-text",{separator:"-"}),a=cr(()=>XIe({contextId:e,uniqueId:r}),[r,e]);return N.useEffect(function(){const i=document.createElement("div");return i.id=a,i.textContent=t,i.style.display="none",yv().appendChild(i),function(){const l=yv();l.contains(i)&&l.removeChild(i)}},[a,t]),a}var Xb=ne.createContext(null);function Q$(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),t}function JIe(){let e=null;function t(){return!!e}function r(o){return o===e}function a(o){e&&nt();const l={abandon:o};return e=l,l}function s(){e||nt(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:a,release:s,tryAbandon:i}}function K0(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const ZIe=9,QIe=13,cC=27,e8=32,eFe=33,tFe=34,rFe=35,nFe=36,aFe=37,sFe=38,iFe=39,oFe=40,lFe={[QIe]:!0,[ZIe]:!0};var t8=e=>{lFe[e.keyCode]&&e.preventDefault()};const cFe=(()=>{const e="visibilitychange";return typeof document=="undefined"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(a=>`on${a}`in document)||e})();var Yb=cFe;const r8=0,I5=5;function dFe(e,t){return Math.abs(t.x-e.x)>=I5||Math.abs(t.y-e.y)>=I5}const F5={type:"IDLE"};function uFe({cancel:e,completed:t,getPhase:r,setPhase:a}){return[{eventName:"mousemove",fn:s=>{const{button:i,clientX:o,clientY:l}=s;if(i!==r8)return;const c={x:o,y:l},d=r();if(d.type==="DRAGGING"){s.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&nt();const u=d.point;if(!dFe(u,c))return;s.preventDefault();const f=d.actions.fluidLift(c);a({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:s=>{const i=r();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(r().type==="PENDING"){e();return}if(s.keyCode===cC){s.preventDefault(),e();return}t8(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const i=r();if(i.type==="IDLE"&&nt(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Yb,fn:e}]}function fFe(e){const t=N.useRef(F5),r=N.useRef(Kl),a=cr(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==r8||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const h=e.findClosestDraggableId(f);if(!h)return;const m=e.tryGetLock(h,o,{sourceEvent:f});if(!m)return;f.preventDefault();const p={x:f.clientX,y:f.clientY};r.current(),d(m,p)}}),[e]),s=cr(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const f=e.findClosestDraggableId(u);if(!f)return;const h=e.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||e.canGetLock(f)&&u.preventDefault())}}),[e]),i=Nt(function(){const f={passive:!1,capture:!0};r.current=bi(window,[s,a],f)},[s,a]),o=Nt(()=>{t.current.type!=="IDLE"&&(t.current=F5,r.current(),i())},[i]),l=Nt(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=Nt(function(){const f={capture:!0,passive:!1},h=uFe({cancel:l,completed:o,getPhase:()=>t.current,setPhase:m=>{t.current=m}});r.current=bi(window,h,f)},[l,o]),d=Nt(function(f,h){t.current.type!=="IDLE"&&nt(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);Ks(function(){return i(),function(){r.current()}},[i])}function hFe(){}const mFe={[tFe]:!0,[eFe]:!0,[nFe]:!0,[rFe]:!0};function pFe(e,t){function r(){t(),e.cancel()}function a(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===cC){s.preventDefault(),r();return}if(s.keyCode===e8){s.preventDefault(),a();return}if(s.keyCode===oFe){s.preventDefault(),e.moveDown();return}if(s.keyCode===sFe){s.preventDefault(),e.moveUp();return}if(s.keyCode===iFe){s.preventDefault(),e.moveRight();return}if(s.keyCode===aFe){s.preventDefault(),e.moveLeft();return}if(mFe[s.keyCode]){s.preventDefault();return}t8(s)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Yb,fn:r}]}function gFe(e){const t=N.useRef(hFe),r=cr(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==e8)return;const o=e.findClosestDraggableId(i);if(!o)return;const l=e.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const d=l.snapLift();t.current();function u(){c||nt(),c=!1,t.current(),a()}t.current=bi(window,pFe(d,u),{capture:!0,passive:!1})}}),[e]),a=Nt(function(){const i={passive:!1,capture:!0};t.current=bi(window,[r],i)},[r]);Ks(function(){return a(),function(){t.current()}},[a])}const nj={type:"IDLE"},xFe=120,yFe=.15;function vFe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===cC&&r.preventDefault(),e()}},{eventName:Yb,fn:e}]}function bFe({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:a=>{const s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:o}=a.touches[0],l={x:i,y:o};a.preventDefault(),s.actions.move(l)}},{eventName:"touchend",fn:a=>{const s=r();if(s.type!=="DRAGGING"){e();return}a.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:a=>{if(r().type!=="DRAGGING"){e();return}a.preventDefault(),e()}},{eventName:"touchforcechange",fn:a=>{const s=r();s.type==="IDLE"&&nt();const i=a.touches[0];if(!i||!(i.force>=yFe))return;const l=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){l&&e();return}if(l){if(s.hasMoved){a.preventDefault();return}e();return}a.preventDefault()}},{eventName:Yb,fn:e}]}function wFe(e){const t=N.useRef(nj),r=N.useRef(Kl),a=Nt(function(){return t.current},[]),s=Nt(function(m){t.current=m},[]),i=cr(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const p=e.findClosestDraggableId(m);if(!p)return;const x=e.tryGetLock(p,l,{sourceEvent:m});if(!x)return;const y=m.touches[0],{clientX:v,clientY:w}=y,j={x:v,y:w};r.current(),f(x,j)}}),[e]),o=Nt(function(){const m={capture:!0,passive:!1};r.current=bi(window,[i],m)},[i]),l=Nt(()=>{const h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),s(nj),r.current(),o())},[o,s]),c=Nt(()=>{const h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),d=Nt(function(){const m={capture:!0,passive:!1},p={cancel:c,completed:l,getPhase:a},x=bi(window,bFe(p),m),y=bi(window,vFe(p),m);r.current=function(){x(),y()}},[c,a,l]),u=Nt(function(){const m=a();m.type!=="PENDING"&&nt();const p=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:p,hasMoved:!1})},[a,s]),f=Nt(function(m,p){a().type!=="IDLE"&&nt();const x=setTimeout(u,xFe);s({type:"PENDING",point:p,actions:m,longPressTimerId:x}),d()},[d,a,s,u]);Ks(function(){return o(),function(){r.current();const p=a();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),s(nj))}},[a,o,s]),Ks(function(){return bi(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const jFe=["input","button","textarea","select","option","optgroup","video","audio"];function n8(e,t){if(t==null)return!1;if(jFe.includes(t.tagName.toLowerCase()))return!0;const a=t.getAttribute("contenteditable");return a==="true"||a===""?!0:t===e?!1:n8(e,t.parentElement)}function NFe(e,t){const r=t.target;return Kb(r)?n8(e,r):!1}var SFe=e=>Xi(e.getBoundingClientRect()).center;function kFe(e){return e instanceof J$(e).Element}const CFe=(()=>{const e="matches";return typeof document=="undefined"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(a=>a in Element.prototype)||e})();function a8(e,t){return e==null?null:e[CFe](t)?e:a8(e.parentElement,t)}function AFe(e,t){return e.closest?e.closest(t):a8(e,t)}function _Fe(e){return`[${Sf.contextId}="${e}"]`}function EFe(e,t){const r=t.target;if(!kFe(r))return null;const a=_Fe(e),s=AFe(r,a);return!s||!Kb(s)?null:s}function TFe(e,t){const r=EFe(e,t);return r?r.getAttribute(Sf.draggableId):null}function OFe(e,t){const r=`[${b2.contextId}="${e}"]`,s=Y$(document,r).find(i=>i.getAttribute(b2.id)===t);return!s||!Kb(s)?null:s}function PFe(e){e.preventDefault()}function gx({expected:e,phase:t,isLockActive:r,shouldWarn:a}){return!(!r()||e!==t)}function s8({lockAPI:e,store:t,registry:r,draggableId:a}){if(e.isClaimed())return!1;const s=r.draggable.findById(a);return!(!s||!s.options.isEnabled||!G$(t.getState(),a))}function IFe({lockAPI:e,contextId:t,store:r,registry:a,draggableId:s,forceSensorStop:i,sourceEvent:o}){if(!s8({lockAPI:e,store:r,registry:a,draggableId:s}))return null;const c=a.draggable.getById(s),d=OFe(t,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&NFe(d,o))return null;const u=e.claim(i||Kl);let f="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function m(){return e.isActive(u)}function p(C,S){gx({expected:C,phase:f,isLockActive:m,shouldWarn:!0})&&r.dispatch(S())}const x=p.bind(null,"DRAGGING");function y(C){function S(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(S(),nt()),r.dispatch(x6e(C.liftActionArgs)),f="DRAGGING";function k(E,T={shouldBlockNextClick:!1}){if(C.cleanup(),T.shouldBlockNextClick){const F=bi(window,[{eventName:"click",fn:PFe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}S(),r.dispatch(L$({reason:E}))}return{isActive:()=>gx({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,drop:E=>k("DROP",E),cancel:E=>k("CANCEL",E),...C.actions}}function v(C){const S=W0(E=>{x(()=>M$({client:E}))});return{...y({liftActionArgs:{id:s,clientSelection:C,movementMode:"FLUID"},cleanup:()=>S.cancel(),actions:{move:S}}),move:S}}function w(){const C={moveUp:()=>x(C6e),moveRight:()=>x(_6e),moveDown:()=>x(A6e),moveLeft:()=>x(E6e)};return y({liftActionArgs:{id:s,clientSelection:SFe(d),movementMode:"SNAP"},cleanup:Kl,actions:C})}function j(){gx({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>gx({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:v,snapLift:w,abort:j}}const FFe=[fFe,gFe,wFe];function DFe({contextId:e,store:t,registry:r,customSensors:a,enableDefaultSensors:s}){const i=[...s?FFe:[],...a||[]],o=N.useState(()=>JIe())[0],l=Nt(function(y,v){K0(y)&&!K0(v)&&o.tryAbandon()},[o]);Ks(function(){let y=t.getState();return t.subscribe(()=>{const w=t.getState();l(y,w),y=w})},[o,t,l]),Ks(()=>o.tryAbandon,[o.tryAbandon]);const c=Nt(x=>s8({lockAPI:o,registry:r,store:t,draggableId:x}),[o,r,t]),d=Nt((x,y,v)=>IFe({lockAPI:o,registry:r,contextId:e,store:t,draggableId:x,forceSensorStop:y||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[e,o,r,t]),u=Nt(x=>TFe(e,x),[e]),f=Nt(x=>{const y=r.draggable.findById(x);return y?y.options:null},[r.draggable]),h=Nt(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(eC()))},[o,t]),m=Nt(()=>o.isClaimed(),[o]),p=cr(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}),[c,d,u,f,h,m]);for(let x=0;x<i.length;x++)i[x](p)}const RFe=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ne.version.startsWith("16")||ne.version.startsWith("17")?r():Af.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),MFe=e=>({...q0,...e.autoScrollerOptions,durationDampening:{...q0.durationDampening,...e.autoScrollerOptions}});function nm(e){return e.current||nt(),e.current}function LFe(e){const{contextId:t,setCallbacks:r,sensors:a,nonce:s,dragHandleUsageInstructions:i}=e,o=N.useRef(null),l=Q$(e),c=Nt(()=>RFe(l.current),[l]),d=Nt(()=>MFe(l.current),[l]),u=VIe(t),f=YIe({contextId:t,text:i}),h=MIe(t,s),m=Nt(F=>{nm(o).dispatch(F)},[]),p=cr(()=>a5({publishWhileDragging:v6e,updateDroppableScroll:w6e,updateDroppableIsEnabled:j6e,updateDroppableIsCombineEnabled:N6e,collectionStarting:b6e},m),[m]),x=UIe(),y=cr(()=>mIe(x,p),[x,p]),v=cr(()=>OIe({scrollWindow:pIe,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:d,...a5({move:M$},m)}),[y.scrollDroppable,m,d]),w=$Ie(t),j=cr(()=>dIe({announce:u,autoScroller:v,dimensionMarshal:y,focusMarshal:w,getResponders:c,styleMarshal:h}),[u,v,y,w,c,h]);o.current=j;const A=Nt(()=>{const F=nm(o);F.getState().phase!=="IDLE"&&F.dispatch(eC())},[]),C=Nt(()=>{const F=nm(o).getState();return F.phase==="DROP_ANIMATING"?!0:F.phase==="IDLE"?!1:F.isDragging},[]),S=cr(()=>({isDragging:C,tryAbort:A}),[C,A]);r(S);const k=Nt(F=>G$(nm(o).getState(),F),[]),E=Nt(()=>Bc(nm(o).getState()),[]),T=cr(()=>({marshal:y,focus:w,contextId:t,canLift:k,isMovementAllowed:E,dragHandleUsageInstructionsId:f,registry:x}),[t,y,f,w,k,E,x]);return DFe({contextId:t,store:j,registry:x,customSensors:a||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),N.useEffect(()=>A,[A]),ne.createElement(Xb.Provider,{value:T},ne.createElement(Y5e,{context:oC,store:j},e.children))}let $Fe=0;function BFe(){return cr(()=>`${$Fe++}`,[])}function UFe(){return ne.useId()}var WFe="useId"in ne?UFe:BFe;function xc(e){const t=WFe(),r=e.dragHandleUsageInstructions||Rx.dragHandleUsageInstructions;return ne.createElement(sPe,null,a=>ne.createElement(LFe,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const D5={dragging:5e3,dropAnimating:4500},zFe=(e,t)=>t?Dm.drop(t.duration):e?Dm.snap:Dm.fluid,HFe=(e,t)=>{if(e)return t?G0.opacity.drop:G0.opacity.combining},VFe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function GFe(e){const r=e.dimension.client,{offset:a,combineWith:s,dropping:i}=e,o=!!s,l=VFe(e),c=!!i,d=c?y2.drop(a,o):y2.moveTo(a);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:zFe(l,i),transform:d,opacity:HFe(o,c),zIndex:c?D5.dropAnimating:D5.dragging,pointerEvents:"none"}}function qFe(e){return{transform:y2.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function KFe(e){return e.type==="DRAGGING"?GFe(e):qFe(e)}function XFe(e,t,r=pa){const a=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=f$(s,a),o=mv(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:a.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:o}}function YFe(e){const t=lC("draggable"),{descriptor:r,registry:a,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}=e,c=cr(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}),[i,l,o]),d=Nt(m=>{const p=s();return p||nt(),XFe(r,p,m)},[r,s]),u=cr(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),f=N.useRef(u),h=N.useRef(!0);Ks(()=>(a.draggable.register(f.current),()=>a.draggable.unregister(f.current)),[a.draggable]),Ks(()=>{if(h.current){h.current=!1;return}const m=f.current;f.current=u,a.draggable.update(u,m)},[u,a.draggable])}var dC=ne.createContext(null);function vv(e){const t=N.useContext(e);return t||nt(),t}function JFe(e){e.preventDefault()}const ZFe=e=>{const t=N.useRef(null),r=Nt((S=null)=>{t.current=S},[]),a=Nt(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:o}=vv(Xb),{type:l,droppableId:c}=vv(dC),d=cr(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:u,draggableId:f,isEnabled:h,shouldRespectForcePress:m,canDragInteractiveElements:p,isClone:x,mapped:y,dropAnimationFinished:v}=e;if(!x){const S=cr(()=>({descriptor:d,registry:o,getDraggableRef:a,canDragInteractiveElements:p,shouldRespectForcePress:m,isEnabled:h}),[d,o,a,p,m,h]);YFe(S)}const w=cr(()=>h?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:JFe}:null,[s,i,f,h]),j=Nt(S=>{y.type==="DRAGGING"&&y.dropping&&S.propertyName==="transform"&&(ne.version.startsWith("16")||ne.version.startsWith("17")?v():Af.flushSync(v))},[v,y]),A=cr(()=>{const S=KFe(y),k=y.type==="DRAGGING"&&y.dropping?j:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:S,onTransitionEnd:k},dragHandleProps:w}},[s,w,f,y,j,r]),C=cr(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return ne.createElement(ne.Fragment,null,u(A,y.snapshot,C))};var QFe=ZFe,i8=(e,t)=>e===t,o8=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const eDe=e=>e.combine?e.combine.draggableId:null,tDe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function rDe(){const e=ha((s,i)=>({x:s,y:i})),t=ha((s,i,o=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:o,combineWith:l,combineTargetFor:null})),r=ha((s,i,o,l,c=null,d=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:s,dimension:o,forceShouldAnimate:u,snapshot:t(i,l,c,d,null)}}));return(s,i)=>{if(K0(s)){if(s.critical.draggable.id!==i.draggableId)return null;const o=s.current.client.offset,l=s.dimensions.draggables[i.draggableId],c=qs(s.impact),d=tDe(s.impact),u=s.forceShouldAnimate;return r(e(o.x,o.y),s.movementMode,l,i.isClone,c,d,u)}if(s.phase==="DROP_ANIMATING"){const o=s.completed;if(o.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=s.dimensions.draggables[i.draggableId],d=o.result,u=d.mode,f=o8(d),h=eDe(d),p={duration:s.dropDuration,curve:rC.drop,moveTo:s.newHomeClientOffset,opacity:h?G0.opacity.drop:null,scale:h?G0.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:p,draggingOver:f,combineWith:h,mode:u,forceShouldAnimate:null,snapshot:t(u,l,f,h,p)}}}return null}}function l8(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const nDe={mapped:{type:"SECONDARY",offset:pa,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:l8(null)}};function aDe(){const e=ha((o,l)=>({x:o,y:l})),t=ha(l8),r=ha((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),a=o=>o?r(pa,o,!0):null,s=(o,l,c,d)=>{const u=c.displaced.visible[o],f=!!(d.inVirtualList&&d.effected[o]),h=Vb(c),m=h&&h.draggableId===o?l:null;if(!u){if(!f)return a(m);if(c.displaced.invisible[o])return null;const y=Xf(d.displacedBy.point),v=e(y.x,y.y);return r(v,m,!0)}if(f)return a(m);const p=c.displacedBy.point,x=e(p.x,p.y);return r(x,m,u.shouldAnimate)};return(o,l)=>{if(K0(o))return o.critical.draggable.id===l.draggableId?null:s(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:s(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const sDe=()=>{const e=rDe(),t=aDe();return(a,s)=>e(a,s)||t(a,s)||nDe},iDe={dropAnimationFinished:$$},oDe=d$(sDe,iDe,null,{context:oC,areStatePropsEqual:i8})(QFe);var lDe=oDe;function c8(e){return vv(dC).isUsingCloneFor===e.draggableId&&!e.isClone?null:ne.createElement(lDe,e)}function yc(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,a=!!e.shouldRespectForcePress;return ne.createElement(c8,ql({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:a}))}const d8=e=>t=>e===t,cDe=d8("scroll"),dDe=d8("auto"),R5=(e,t)=>t(e.overflowX)||t(e.overflowY),uDe=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return R5(r,cDe)||R5(r,dDe)},fDe=()=>!1,u8=e=>e==null?null:e===document.body?fDe()?e:null:e===document.documentElement?null:uDe(e)?e:u8(e.parentElement);var w2=e=>({x:e.scrollLeft,y:e.scrollTop});const f8=e=>e?window.getComputedStyle(e).position==="fixed"?!0:f8(e.parentElement):!1;var hDe=e=>{const t=u8(e),r=f8(e);return{closestScrollable:t,isFixedOnPage:r}},mDe=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:a,direction:s,client:i,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:h,client:m}=l,p=z$({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:p,diff:{value:pa,displacement:pa}}}})(),d=s==="vertical"?Xk:j$,u=jf({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:a,axis:d,isEnabled:t,client:i,page:o,frame:c,subject:u}};const pDe=(e,t)=>{const r=h$(e);if(!t||e!==t)return r;const a=r.paddingBox.top-t.scrollTop,s=r.paddingBox.left-t.scrollLeft,i=a+t.scrollHeight,o=s+t.scrollWidth,c=Vk({top:a,right:o,bottom:i,left:s},r.border);return Gk({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var gDe=({ref:e,descriptor:t,env:r,windowScroll:a,direction:s,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l})=>{const c=r.closestScrollable,d=pDe(e,c),u=mv(d,a),f=(()=>{if(!c)return null;const m=h$(c),p={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:mv(m,a),scroll:w2(c),scrollSize:p,shouldClipSubject:l}})();return mDe({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:s,client:d,page:u,closest:f})};const xDe={passive:!1},yDe={passive:!0};var M5=e=>e.shouldPublishImmediately?xDe:yDe;const xx=e=>e&&e.env.closestScrollable||null;function vDe(e){const t=N.useRef(null),r=vv(Xb),a=lC("droppable"),{registry:s,marshal:i}=r,o=Q$(e),l=cr(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=N.useRef(l),d=cr(()=>ha((A,C)=>{t.current||nt();const S={x:A,y:C};i.updateDroppableScroll(l.id,S)}),[l.id,i]),u=Nt(()=>{const A=t.current;return!A||!A.env.closestScrollable?pa:w2(A.env.closestScrollable)},[]),f=Nt(()=>{const A=u();d(A.x,A.y)},[u,d]),h=cr(()=>W0(f),[f]),m=Nt(()=>{const A=t.current,C=xx(A);if(A&&C||nt(),A.scrollOptions.shouldPublishImmediately){f();return}h()},[h,f]),p=Nt((A,C)=>{t.current&&nt();const S=o.current,k=S.getDroppableRef();k||nt();const E=hDe(k),T={ref:k,descriptor:l,env:E,scrollOptions:C};t.current=T;const F=gDe({ref:k,descriptor:l,env:E,windowScroll:A,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),O=E.closestScrollable;return O&&(O.setAttribute(O5.contextId,r.contextId),O.addEventListener("scroll",m,M5(T.scrollOptions))),F},[r.contextId,l,m,o]),x=Nt(()=>{const A=t.current,C=xx(A);return A&&C||nt(),w2(C)},[]),y=Nt(()=>{const A=t.current;A||nt();const C=xx(A);t.current=null,C&&(h.cancel(),C.removeAttribute(O5.contextId),C.removeEventListener("scroll",m,M5(A.scrollOptions)))},[m,h]),v=Nt(A=>{const C=t.current;C||nt();const S=xx(C);S||nt(),S.scrollTop+=A.y,S.scrollLeft+=A.x},[]),w=cr(()=>({getDimensionAndWatchScroll:p,getScrollWhileDragging:x,dragStopped:y,scroll:v}),[y,p,x,v]),j=cr(()=>({uniqueId:a,descriptor:l,callbacks:w}),[w,l,a]);Ks(()=>(c.current=j.descriptor,s.droppable.register(j),()=>{t.current&&y(),s.droppable.unregister(j)}),[w,l,y,j,i,s.droppable]),Ks(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Ks(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function aj(){}const L5={width:0,height:0,margin:fPe},bDe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?L5:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},wDe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const a=bDe({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Dm.placeholder:null}},jDe=e=>{const t=N.useRef(null),r=Nt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:a,onTransitionEnd:s,onClose:i,contextId:o}=e,[l,c]=N.useState(e.animate==="open");N.useEffect(()=>l?a!=="open"?(r(),c(!1),aj):t.current?aj:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):aj,[a,l,r]);const d=Nt(f=>{f.propertyName==="height"&&(s(),a==="close"&&i())},[a,i,s]),u=wDe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return ne.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var NDe=ne.memo(jDe);class SDe extends ne.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const kDe=e=>{const t=N.useContext(Xb);t||nt();const{contextId:r,isMovementAllowed:a}=t,s=N.useRef(null),i=N.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:u,ignoreContainerClipping:f,isDropDisabled:h,isCombineEnabled:m,snapshot:p,useClone:x,updateViewportMaxScroll:y,getContainerForClone:v}=e,w=Nt(()=>s.current,[]),j=Nt((O=null)=>{s.current=O},[]);Nt(()=>i.current,[]);const A=Nt((O=null)=>{i.current=O},[]),C=Nt(()=>{a()&&y({maxScroll:V$()})},[a,y]);vDe({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:w});const S=cr(()=>ne.createElement(SDe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:O,data:P,animate:W})=>ne.createElement(NDe,{placeholder:P,onClose:O,innerRef:A,animate:W,contextId:r,onTransitionEnd:C})),[r,C,e.placeholder,e.shouldAnimatePlaceholder,A]),k=cr(()=>({innerRef:j,placeholder:S,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,S,j]),E=x?x.dragging.draggableId:null,T=cr(()=>({droppableId:l,type:c,isUsingCloneFor:E}),[l,E,c]);function F(){if(!x)return null;const{dragging:O,render:P}=x,W=ne.createElement(c8,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(q,D)=>P(q,D,O));return vH.createPortal(W,v())}return ne.createElement(dC.Provider,{value:T},o(k,p),F())};var CDe=kDe;function ADe(){return document.body||nt(),document.body}const $5={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:ADe},h8=e=>{let t={...e},r;for(r in $5)e[r]===void 0&&(t={...t,[r]:$5[r]});return t},sj=(e,t)=>e===t.droppable.type,B5=(e,t)=>t.draggables[e.draggable.id],_De=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=ha(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),a=ha((i,o,l,c,d,u)=>{const f=d.descriptor.id;if(d.descriptor.droppableId===i){const p=u?{render:u,dragging:r(d.descriptor)}:null,x={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:p}}if(!o)return t;if(!c)return e;const m={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(i,o)=>{const l=h8(o),c=l.droppableId,d=l.type,u=!l.isDropDisabled,f=l.renderClone;if(K0(i)){const h=i.critical;if(!sj(d,h))return t;const m=B5(h,i.dimensions),p=qs(i.impact)===c;return a(c,u,p,p,m,f)}if(i.phase==="DROP_ANIMATING"){const h=i.completed;if(!sj(d,h.critical))return t;const m=B5(h.critical,i.dimensions);return a(c,u,o8(h.result)===c,qs(h.impact)===c,m,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const h=i.completed;if(!sj(d,h.critical))return t;const m=qs(h.impact)===c,p=!!(h.impact.at&&h.impact.at.type==="COMBINE"),x=h.critical.droppable.id===c;return m?p?e:t:x?e:t}return t}},EDe={updateViewportMaxScroll:k6e},TDe=d$(_De,EDe,(e,t,r)=>({...h8(r),...e,...t}),{context:oC,areStatePropsEqual:i8})(CDe);var vc=TDe;function ODe({isOpen:e,onClose:t,onSelect:r}){const[a,s]=N.useState([]),[i,o]=N.useState(""),[l,c]=N.useState(!1);N.useEffect(()=>{e&&d()},[e]);const d=async()=>{try{const m=(await ue.get("/products")).data.filter(p=>!p.isFeatured);s(m)}catch(h){z.error("Failed to fetch products")}},u=a.filter(h=>h.name.toLowerCase().includes(i.toLowerCase())||h.category.toLowerCase().includes(i.toLowerCase())),f=async h=>{c(!0);try{await r(h),t()}catch(m){z.error("Failed to add product to featured collection")}finally{c(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add to Featured Collection"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"search",placeholder:"Search products...",value:i,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-2",children:u.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No products available to add"}):u.map(h=>n.jsxs("button",{onClick:()=>f(h._id),disabled:l,className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-gray-100",children:h.images[0]&&n.jsx("img",{src:h.images[0],alt:h.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-medium text-gray-900",children:h.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["$",h.price.toFixed(2)," • ",h.category]})]})]}),n.jsx(fr,{className:"w-5 h-5 text-indigo-600"})]},h._id))})]})]})]})}):null}function PDe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState(null),[o,l]=N.useState("");N.useState(!1);const[c,d]=N.useState(!1);N.useEffect(()=>{u()},[]);const u=async()=>{try{const y=(await ue.get("/products")).data.filter(v=>v.isFeatured).sort((v,w)=>v.order-w.order);t(y)}catch(x){z.error("Failed to fetch featured products")}finally{a(!1)}},f=async x=>{if(!x.destination)return;const y=Array.from(e),[v]=y.splice(x.source.index,1);y.splice(x.destination.index,0,v);const w=y.map((j,A)=>({...j,order:A}));t(w);try{await ue.put("/products/featured/reorder",{products:w.map(j=>({id:j._id,order:j.order}))})}catch(j){z.error("Failed to update product order"),u()}},h=async x=>{try{await ue.put(`/products/${x}`,{isFeatured:!0,order:e.length}),await u(),z.success("Product added to featured collection")}catch(y){z.error("Failed to add product to featured collection")}},m=async x=>{try{await ue.put(`/products/${x}`,{isFeatured:!1}),t(e.filter(y=>y._id!==x)),z.success("Product removed from featured collection")}catch(y){z.error("Failed to remove product from featured collection")}},p=x=>{var v;const y=(v=x.target.files)==null?void 0:v[0];y&&(i(y),l(URL.createObjectURL(y)))};return r?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Featured Collection"}),n.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Product"]})]}),n.jsx(xc,{onDragEnd:f,children:n.jsx(vc,{droppableId:"featured-products",children:x=>n.jsxs("div",{...x.droppableProps,ref:x.innerRef,className:"space-y-4",children:[e.map((y,v)=>n.jsx(yc,{draggableId:y._id,index:v,children:w=>n.jsx("div",{ref:w.innerRef,...w.draggableProps,className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsxs("div",{className:"p-4 flex items-center gap-4",children:[n.jsx("div",{...w.dragHandleProps,className:"cursor-move text-gray-400 hover:text-gray-600",children:n.jsx(cc,{className:"w-5 h-5"})}),n.jsxs("div",{className:"relative w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:[y.images[0]?n.jsx("img",{src:y.images[0],alt:y.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(zn,{className:"w-6 h-6 text-gray-400"})}),n.jsx("label",{className:"absolute inset-0 cursor-pointer bg-black/0 hover:bg-black/20 transition-colors flex items-center justify-center",children:n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:p})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-base font-medium text-gray-900 truncate",children:y.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["$",y.price.toFixed(2)]})]}),n.jsx("button",{onClick:()=>m(y._id),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:n.jsx(xt,{className:"w-5 h-5"})})]})})},y._id)),x.placeholder]})})}),e.length===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-dashed border-gray-300",children:[n.jsx(zn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No featured products"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add products to your featured collection to showcase them on your homepage."})]}),n.jsx(ODe,{isOpen:c,onClose:()=>d(!1),onSelect:h})]})}function IDe({isOpen:e,onClose:t,review:r}){const[a,s]=N.useState(null);return!e||!r?null:n.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Review Details"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("img",{src:r.product.images[0],alt:r.product.name,className:"w-16 h-16 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:r.product.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Reviewed ",Co(new Date(r.createdAt),{addSuffix:!0})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Tf,{name:r.user.name,image:r.user.image,size:"lg"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:r.user.name}),n.jsx("p",{className:"text-sm text-gray-500",children:r.user.email})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex",children:[...Array(5)].map((i,o)=>n.jsx(Dr,{className:`w-5 h-5 ${o<r.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},o))}),n.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[n.jsxs("span",{className:"flex items-center gap-1 text-sm text-gray-500",children:[n.jsx(k6,{className:"w-4 h-4"}),r.helpful," helpful"]}),r.reported&&n.jsxs("span",{className:"flex items-center gap-1 text-sm text-red-500",children:[n.jsx(g6,{className:"w-4 h-4"}),"Reported"]})]})]}),n.jsx("p",{className:"text-gray-600",children:r.comment}),r.photos.length>0&&n.jsx("div",{className:"grid grid-cols-4 gap-4",children:r.photos.map((i,o)=>n.jsxs("button",{onClick:()=>s(i),className:"relative aspect-square rounded-lg overflow-hidden group",children:[n.jsx("img",{src:i,alt:`Review photo ${o+1}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]},o))})]})]})]}),a&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",children:[n.jsx("button",{onClick:()=>s(null),className:"absolute top-4 right-4 p-2 text-white hover:text-gray-300",children:n.jsx(xt,{className:"w-6 h-6"})}),n.jsx("img",{src:a,alt:"Review photo",className:"max-w-full max-h-[90vh] object-contain"})]})]})}function FDe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState(""),[o,l]=N.useState(null),[c,d]=N.useState(!1),[u,f]=N.useState("all");N.useEffect(()=>{h()},[]);const h=async()=>{try{const v=await ue.getWithRetry($r.PRODUCT_REVIEWS.ALL),w=Array.isArray(v.data)?v.data:[];t(w)}catch(v){z.error("Failed to fetch reviews")}finally{a(!1)}},m=async(v,w)=>{try{await ue.putWithRetry($r.PRODUCT_REVIEWS.VERIFY(v,w)),z.success("Review verified successfully"),h()}catch(j){z.error("Failed to verify review")}},p=async(v,w)=>{try{await ue.deleteWithRetry($r.PRODUCT_REVIEWS.DELETE(v,w)),z.success("Review deleted successfully"),h()}catch(j){z.error("Failed to delete review")}},y=(Array.isArray(e)?e:[]).filter(v=>{const w=v.user.name.toLowerCase().includes(s.toLowerCase())||v.product.name.toLowerCase().includes(s.toLowerCase())||v.comment.toLowerCase().includes(s.toLowerCase()),j=u==="all"||u==="reported"&&v.reported||u==="verified"&&v.verified;return w&&j});return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reviews"}),n.jsx("div",{className:"flex gap-4",children:n.jsxs("select",{value:u,onChange:v=>f(v.target.value),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Reviews"}),n.jsx("option",{value:"reported",children:"Reported"}),n.jsx("option",{value:"verified",children:"Verified"})]})})]}),n.jsx("div",{className:"flex gap-4 mb-6",children:n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"search",placeholder:"Search reviews...",value:s,onChange:v=>i(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(v=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:v.product.images[0],alt:v.product.name,className:"w-12 h-12 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:v.product.name}),n.jsx("p",{className:"text-sm text-gray-500",children:Co(new Date(v.createdAt),{addSuffix:!0})})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("p",{className:"font-medium text-gray-900",children:v.user.name}),n.jsx("p",{className:"text-sm text-gray-500",children:v.user.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Dr,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"}),n.jsx("span",{className:"font-medium",children:v.rating})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:v.comment}),v.photos.length>0&&n.jsx("div",{className:"flex gap-2 mt-2",children:v.photos.map((w,j)=>n.jsx("img",{src:w,alt:`Review photo ${j+1}`,className:"w-8 h-8 rounded-lg object-cover"},j))})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[v.verified&&n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified"}),v.reported&&n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Reported"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{l(v),d(!0)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",title:"View review",children:n.jsx(cs,{className:"w-5 h-5"})}),!v.verified&&n.jsx("button",{onClick:()=>m(v.product._id,v._id),className:"p-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg",title:"Verify review",children:n.jsx(Jo,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>p(v.product._id,v._id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",title:"Delete review",children:n.jsx(xt,{className:"w-5 h-5"})})]})})]},v._id))})]})}),n.jsx(IDe,{isOpen:c,onClose:()=>{d(!1),l(null)},review:o})]})}function DDe({isOpen:e,onClose:t,onSubmit:r,category:a}){const[s,i]=N.useState({name:"",description:"",image:"",isActive:!0}),[o,l]=N.useState(null),[c,d]=N.useState(""),[u,f]=N.useState(!1),[h,m]=N.useState(!1);N.useEffect(()=>{a?(i({name:a.name,description:a.description||"",image:a.image,isActive:a.isActive}),d(a.image)):(i({name:"",description:"",image:"",isActive:!0}),d(""),l(null))},[a]);const p=j=>{var C;const A=(C=j.target.files)==null?void 0:C[0];if(A){if(A.size>10*1024*1024){z.error("Image size should be less than 10MB");return}l(A),d(URL.createObjectURL(A))}},x=j=>{j.preventDefault(),m(!0)},y=()=>{m(!1)},v=j=>{j.preventDefault(),m(!1);const A=j.dataTransfer.files[0];if(A)if(A.type.startsWith("image/")){if(A.size>10*1024*1024){z.error("Image size should be less than 10MB");return}l(A),d(URL.createObjectURL(A))}else z.error("Please upload an image file")},w=async j=>{j.preventDefault(),f(!0);try{let A=s.image;if(o)A=await Ys(o);else if(!a&&!A){z.error("Please select an image"),f(!1);return}await r({...s,image:A}),t()}catch(A){}finally{f(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Category":"Add Category"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:w,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Category Image"}),n.jsx("div",{onDragOver:x,onDragLeave:y,onDrop:v,className:`relative rounded-xl transition-all duration-200 ${c?"p-0 border-0":"p-8 border-2 border-dashed hover:border-indigo-500"} ${h?"border-indigo-500 bg-indigo-50":"border-gray-300"}`,children:c?n.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden group",children:[n.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("label",{className:"p-2 bg-white rounded-full cursor-pointer hover:bg-gray-100 transition-colors",children:[n.jsx(Gn,{className:"w-5 h-5 text-gray-600"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:p})]}),n.jsx("button",{type:"button",onClick:()=>{d(""),l(null),i(j=>({...j,image:""}))},className:"p-2 bg-white rounded-full hover:bg-gray-100 transition-colors",children:n.jsx(xt,{className:"w-5 h-5 text-gray-600"})})]})})]}):n.jsxs("div",{className:"text-center",children:[n.jsx(zn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"relative cursor-pointer",children:[n.jsx("span",{className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Upload a file"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:p})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 10MB"})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),n.jsx("input",{type:"text",required:!0,value:s.name,onChange:j=>i(A=>({...A,name:j.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter category name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:s.description,onChange:j=>i(A=>({...A,description:j.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter category description (optional)"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:j=>i(A=>({...A,isActive:j.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active Category"})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":a?"Update":"Create"})]})]})]})]})}):null}function RDe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState(!1),[o,l]=N.useState(null);N.useEffect(()=>{c()},[]);const c=async()=>{try{const m=await ue.get("/categories");t(m.data.sort((p,x)=>(p.order||0)-(x.order||0)))}catch(m){z.error("Failed to fetch categories")}finally{a(!1)}},d=async m=>{try{const p=await ue.post("/categories",{...m,order:e.length});t([...e,p.data]),z.success("Category created successfully"),i(!1)}catch(p){z.error("Failed to create category")}},u=async(m,p)=>{try{const x=await ue.put(`/categories/${m}`,p);t(e.map(y=>y._id===m?x.data:y)),z.success("Category updated successfully"),i(!1),l(null)}catch(x){z.error("Failed to update category")}},f=async m=>{if(window.confirm("Are you sure you want to delete this category?"))try{await ue.delete(`/categories/${m}`),t(e.filter(p=>p._id!==m)),z.success("Category deleted successfully")}catch(p){z.error("Failed to delete category")}},h=async m=>{if(!m.destination)return;const p=Array.from(e),[x]=p.splice(m.source.index,1);p.splice(m.destination.index,0,x);const y=p.map((v,w)=>({...v,order:w}));t(y);try{await ue.put("/categories/reorder",{categories:y.map(v=>({id:v._id,order:v.order}))})}catch(v){z.error("Failed to update category order"),c()}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),n.jsxs("button",{onClick:()=>{l(null),i(!0)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Category"]})]}),e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[n.jsx(ka,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Categories Found"}),n.jsx("p",{className:"text-gray-500",children:"Create your first category to get started."})]}):n.jsx(xc,{onDragEnd:h,children:n.jsx(vc,{droppableId:"categories",children:m=>n.jsxs("div",{...m.droppableProps,ref:m.innerRef,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map((p,x)=>n.jsx(yc,{draggableId:p._id,index:x,children:y=>n.jsxs("div",{ref:y.innerRef,...y.draggableProps,className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsxs("div",{className:"aspect-video relative",children:[n.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx("div",{...y.dragHandleProps,className:"p-2 bg-white/90 backdrop-blur-sm rounded-lg cursor-move hover:bg-white transition-colors",children:n.jsx(cc,{className:"w-5 h-5 text-gray-600"})})}),n.jsx("div",{className:"absolute bottom-4 left-4",children:n.jsx("h3",{className:"text-lg font-semibold text-white",children:p.name})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:p.description||"No description available"}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.isActive?"Active":"Inactive"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{l(p),i(!0)},className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:n.jsx(No,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>f(p._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(en,{className:"w-5 h-5"})})]})]})]})]})},p._id)),m.placeholder]})})}),n.jsx(DDe,{isOpen:s,onClose:()=>{i(!1),l(null)},onSubmit:o?m=>u(o._id,m):d,category:o})]})}function MDe({isOpen:e,onClose:t,onSubmit:r,category:a}){const[s,i]=N.useState({name:"",slug:"",isActive:!0,subCategories:[]}),[o,l]=N.useState([]),[c,d]=N.useState(""),[u,f]=N.useState(!1);N.useEffect(()=>{i(a?{name:a.name,slug:a.slug,isActive:a.isActive,subCategories:a.subCategories||[]}:{name:"",slug:"",isActive:!0,subCategories:[]})},[a]),N.useEffect(()=>{(async()=>{if(e)try{const w=await ue.getWithRetry("/categories"),j=Array.isArray(w.data)?w.data:[];l(j.map(A=>({_id:A._id,name:A.name,slug:A.slug})))}catch(w){}})()},[e]);const h=v=>v.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),m=v=>{const w=v.target.value;i(j=>({...j,name:w,slug:h(w)}))},p=()=>{if(!c)return;const v=o.find(w=>w._id===c);v&&(s.subCategories.some(w=>w.slug===v.slug)||(i(w=>({...w,subCategories:[...w.subCategories,{name:v.name,slug:v.slug}]})),d("")))},x=v=>{i(w=>({...w,subCategories:w.subCategories.filter((j,A)=>A!==v)}))},y=async v=>{v.preventDefault(),f(!0);try{await r(s),t()}catch(w){}finally{f(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Category":"Add Category"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),n.jsx("input",{type:"text",required:!0,value:s.name,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter category name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),n.jsx("input",{type:"text",value:s.slug,onChange:v=>i(w=>({...w,slug:v.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"category-slug"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:v=>i(w=>({...w,isActive:v.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active Category"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Sub Categories"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{value:c,onChange:v=>d(v.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 bg-white",children:[n.jsx("option",{value:"",children:"Select a category..."}),o.filter(v=>!s.subCategories.some(w=>w.slug===v.slug)).map(v=>n.jsx("option",{value:v._id,children:v.name},v._id))]}),n.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",disabled:!c,children:n.jsx(fr,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"space-y-2",children:s.subCategories.map((v,w)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"font-medium text-gray-900",children:v.name}),n.jsx("button",{type:"button",onClick:()=>x(w),className:"text-gray-400 hover:text-gray-600",children:n.jsx(en,{className:"w-5 h-5"})})]},w))})]})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?"Saving...":a?"Update":"Create"})]})]})]})]})}):null}function LDe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState(!1),[o,l]=N.useState(null);N.useEffect(()=>{c()},[]);const c=async()=>{try{const m=await ue.get("/navigation");t(m.data.sort((p,x)=>(p.order||0)-(x.order||0)))}catch(m){z.error("Failed to fetch navigation categories")}finally{a(!1)}},d=async m=>{try{const p=await ue.post("/navigation",{...m,order:e.length});t([...e,p.data]),z.success("Category created successfully"),i(!1)}catch(p){z.error("Failed to create category")}},u=async(m,p)=>{try{const x=await ue.put(`/navigation/${m}`,p);t(e.map(y=>y._id===m?x.data:y)),z.success("Category updated successfully"),i(!1),l(null)}catch(x){z.error("Failed to update category")}},f=async m=>{if(window.confirm("Are you sure you want to delete this category?"))try{await ue.delete(`/navigation/${m}`),t(e.filter(p=>p._id!==m)),z.success("Category deleted successfully")}catch(p){z.error("Failed to delete category")}},h=async m=>{if(!m.destination)return;const p=Array.from(e),[x]=p.splice(m.source.index,1);p.splice(m.destination.index,0,x);const y=p.map((v,w)=>({...v,order:w}));t(y);try{await ue.put("/navigation/reorder",{categories:y.map(v=>({id:v._id,order:v.order}))})}catch(v){z.error("Failed to update category order"),c()}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Navigation Categories"}),n.jsxs("button",{onClick:()=>{l(null),i(!0)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Category"]})]}),n.jsx(xc,{onDragEnd:h,children:n.jsx(vc,{droppableId:"navigation-categories",children:m=>n.jsxs("div",{...m.droppableProps,ref:m.innerRef,className:"space-y-4",children:[e.map((p,x)=>n.jsx(yc,{draggableId:p._id,index:x,children:y=>n.jsx("div",{ref:y.innerRef,...y.draggableProps,className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsxs("div",{className:"p-4 flex items-center gap-4",children:[n.jsx("div",{...y.dragHandleProps,className:"cursor-move text-gray-400 hover:text-gray-600",children:n.jsx(cc,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:p.name}),p.subCategories&&p.subCategories.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:p.subCategories.map((v,w)=>n.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:v.name},w))})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{l(p),i(!0)},className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:n.jsx(No,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>f(p._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(en,{className:"w-5 h-5"})})]})]})})},p._id)),m.placeholder]})})}),n.jsx(MDe,{isOpen:s,onClose:()=>{i(!1),l(null)},onSubmit:o?m=>u(o._id,m):d,category:o})]})}function $De({isOpen:e,onClose:t,onSubmit:r,link:a,section:s}){const[i,o]=N.useState({name:"",url:"",isActive:!0}),[l,c]=N.useState(!1);N.useEffect(()=>{o(a?{name:a.name,url:a.url,isActive:a.isActive}:{name:"",url:"",isActive:!0})},[a]);const d=async u=>{u.preventDefault(),c(!0);try{await r({...i,section:s}),t()}catch(f){}finally{c(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Footer Link":"Add Footer Link"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Name"}),n.jsx("input",{type:"text",required:!0,value:i.name,onChange:u=>o(f=>({...f,name:u.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter link name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),n.jsx("input",{type:"url",required:!0,value:i.url,onChange:u=>o(f=>({...f,url:u.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"https://example.com"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:u=>o(f=>({...f,isActive:u.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active Link"})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:l?"Saving...":a?"Update":"Create"})]})]})]})]})}):null}function BDe(){const[e,t]=N.useState([{id:"shop",name:"Shop",links:[]},{id:"support",name:"Support",links:[]},{id:"company",name:"Company",links:[]}]),[r,a]=N.useState(!1),[s,i]=N.useState(null),[o,l]=N.useState("shop"),[c,d]=N.useState(!0);N.useEffect(()=>{u()},[]);const u=async()=>{try{const y=(await ue.getWithRetry("/footer/links")).data,v=e.map(w=>({...w,links:y.filter(j=>j.section===w.id).sort((j,A)=>j.order-A.order)}));t(v)}catch(x){z.error("Failed to fetch footer links")}finally{d(!1)}},f=async x=>{if(!x.destination)return;const y=e.find(k=>k.id===x.source.droppableId),v=e.find(k=>k.id===x.destination.droppableId);if(!y||!v)return;const w=[...e],j=[...y.links],A=y===v?j:[...v.links],[C]=j.splice(x.source.index,1);A.splice(x.destination.index,0,C);const S=A.map((k,E)=>({...k,order:E,section:v.id}));y===v?w.find(k=>k.id===y.id).links=S:(w.find(k=>k.id===y.id).links=j,w.find(k=>k.id===v.id).links=S),t(w);try{await ue.putWithRetry("/footer/links/reorder",{links:S.map(k=>({id:k._id,order:k.order,section:k.section}))});try{localStorage.setItem("footer:links_updated",JSON.stringify({type:"footer_links_updated",ts:Date.now()}))}catch(k){}}catch(k){z.error("Failed to update link order"),u()}},h=async x=>{var y;try{const v=await ue.postWithRetry("/footer/links",{...x,section:o,order:((y=e.find(w=>w.id===o))==null?void 0:y.links.length)||0});t(w=>w.map(j=>j.id===o?{...j,links:[...j.links,v.data]}:j)),z.success("Footer link created successfully");try{localStorage.setItem("footer:links_updated",JSON.stringify({type:"footer_links_updated",ts:Date.now()}))}catch(w){}a(!1)}catch(v){z.error("Failed to create footer link")}},m=async(x,y)=>{try{const v=await ue.putWithRetry(`/footer/links/${x}`,y);t(w=>w.map(j=>({...j,links:j.links.map(A=>A._id===x?v.data:A)}))),z.success("Footer link updated successfully");try{localStorage.setItem("footer:links_updated",JSON.stringify({type:"footer_links_updated",ts:Date.now()}))}catch(w){}a(!1),i(null)}catch(v){z.error("Failed to update footer link")}},p=async x=>{if(window.confirm("Are you sure you want to delete this link?"))try{await ue.deleteWithRetry(`/footer/links/${x}`),t(y=>y.map(v=>({...v,links:v.links.filter(w=>w._id!==x)}))),z.success("Footer link deleted successfully");try{localStorage.setItem("footer:links_updated",JSON.stringify({type:"footer_links_updated",ts:Date.now()}))}catch(y){}}catch(y){z.error("Failed to delete footer link")}};return c?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Link"]})}),n.jsx(xc,{onDragEnd:f,children:n.jsx("div",{className:"grid grid-cols-3 gap-6",children:e.map(x=>n.jsx(vc,{droppableId:x.id,children:y=>n.jsxs("div",{ref:y.innerRef,...y.droppableProps,className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:x.name}),n.jsx("button",{onClick:()=>{l(x.id),i(null),a(!0)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(fr,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-2",children:[x.links.map((v,w)=>n.jsx(yc,{draggableId:v._id,index:w,children:j=>n.jsx("div",{ref:j.innerRef,...j.draggableProps,className:`p-3 rounded-lg border ${v.isActive?"bg-white border-gray-200":"bg-gray-50 border-gray-200"}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{...j.dragHandleProps,className:"cursor-move text-gray-400 hover:text-gray-600",children:n.jsx(cc,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:v.name}),n.jsx("p",{className:"text-sm text-gray-500 truncate",children:v.url})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{i(v),a(!0)},className:"p-1 text-gray-400 hover:text-gray-600",children:n.jsx(No,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>p(v._id),className:"p-1 text-gray-400 hover:text-red-600",children:n.jsx(en,{className:"w-4 h-4"})})]})]})})},v._id)),y.placeholder]})]})},x.id))})}),n.jsx($De,{isOpen:r,onClose:()=>{a(!1),i(null)},onSubmit:s?x=>m(s._id,x):h,link:s,section:o})]})}function UDe({settings:e,onUpdate:t}){var l,c,d,u,f;const[r,a]=N.useState({socialLinks:{facebook:((l=e==null?void 0:e.socialLinks)==null?void 0:l.facebook)||"",twitter:((c=e==null?void 0:e.socialLinks)==null?void 0:c.twitter)||"",instagram:((d=e==null?void 0:e.socialLinks)==null?void 0:d.instagram)||"",youtube:((u=e==null?void 0:e.socialLinks)==null?void 0:u.youtube)||"",whatsapp:((f=e==null?void 0:e.socialLinks)==null?void 0:f.whatsapp)||""}}),[s,i]=N.useState(!1),o=async h=>{h.preventDefault(),i(!0);try{await t(r),z.success("Social links updated successfully")}catch(m){z.error("Failed to update social links")}finally{i(!1)}};return n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Facebook"}),n.jsxs("div",{className:"relative",children:[n.jsx(m6,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"url",value:r.socialLinks.facebook,onChange:h=>a(m=>({...m,socialLinks:{...m.socialLinks,facebook:h.target.value}})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter Facebook URL"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twitter"}),n.jsxs("div",{className:"relative",children:[n.jsx(C6,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"url",value:r.socialLinks.twitter,onChange:h=>a(m=>({...m,socialLinks:{...m.socialLinks,twitter:h.target.value}})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter Twitter URL"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Instagram"}),n.jsxs("div",{className:"relative",children:[n.jsx(b6,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"url",value:r.socialLinks.instagram,onChange:h=>a(m=>({...m,socialLinks:{...m.socialLinks,instagram:h.target.value}})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter Instagram URL"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"YouTube"}),n.jsxs("div",{className:"relative",children:[n.jsx(_6,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"url",value:r.socialLinks.youtube,onChange:h=>a(m=>({...m,socialLinks:{...m.socialLinks,youtube:h.target.value}})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter YouTube URL"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp"}),n.jsxs("div",{className:"relative",children:[n.jsx($m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"url",value:r.socialLinks.whatsapp||"",onChange:h=>a(m=>({...m,socialLinks:{...m.socialLinks,whatsapp:h.target.value}})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter WhatsApp link (e.g., https://wa.me/123456789 or https://api.whatsapp.com/message/XXXX)"})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[n.jsx(ma,{className:"w-5 h-5"}),s?"Saving...":"Save Changes"]})})]})}function WDe({settings:e,onUpdate:t}){const[r,a]=N.useState({description:(e==null?void 0:e.description)||"",address:(e==null?void 0:e.address)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||""}),[s,i]=N.useState(!1),o=async l=>{l.preventDefault(),i(!0);try{await t(r),z.success("Contact information updated successfully")}catch(c){z.error("Failed to update contact information")}finally{i(!1)}};return n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store Description"}),n.jsx("textarea",{value:r.description,onChange:l=>a(c=>({...c,description:l.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter a brief description of your store"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:r.address,onChange:l=>a(c=>({...c,address:l.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter store address"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ef,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"tel",value:r.phone,onChange:l=>a(c=>({...c,phone:l.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter phone number"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(to,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"email",value:r.email,onChange:l=>a(c=>({...c,email:l.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter email address"})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[n.jsx(ma,{className:"w-5 h-5"}),s?"Saving...":"Save Changes"]})})]})}function zDe({settings:e,onUpdate:t}){var l,c,d,u;const[r,a]=N.useState({newsletter:{title:((l=e==null?void 0:e.newsletter)==null?void 0:l.title)||"Join Our Newsletter",subtitle:((c=e==null?void 0:e.newsletter)==null?void 0:c.subtitle)||"Subscribe to get special offers, free giveaways, and exclusive deals.",placeholder:((d=e==null?void 0:e.newsletter)==null?void 0:d.placeholder)||"Enter your email",buttonText:((u=e==null?void 0:e.newsletter)==null?void 0:u.buttonText)||"Subscribe"}}),[s,i]=N.useState(!1),o=async f=>{f.preventDefault(),i(!0);try{await t(r),z.success("Newsletter settings updated successfully")}catch(h){z.error("Failed to update newsletter settings")}finally{i(!1)}};return n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Newsletter Title"}),n.jsx("input",{type:"text",value:r.newsletter.title,onChange:f=>a(h=>({...h,newsletter:{...h.newsletter,title:f.target.value}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter newsletter title"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Newsletter Subtitle"}),n.jsx("textarea",{value:r.newsletter.subtitle,onChange:f=>a(h=>({...h,newsletter:{...h.newsletter,subtitle:f.target.value}})),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter newsletter subtitle"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Placeholder"}),n.jsx("input",{type:"text",value:r.newsletter.placeholder,onChange:f=>a(h=>({...h,newsletter:{...h.newsletter,placeholder:f.target.value}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter email placeholder text"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Text"}),n.jsx("input",{type:"text",value:r.newsletter.buttonText,onChange:f=>a(h=>({...h,newsletter:{...h.newsletter,buttonText:f.target.value}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter button text"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[n.jsx(ma,{className:"w-5 h-5"}),s?"Saving...":"Save Changes"]})})]})}function HDe({value:e,onValueChange:t,children:r}){return n.jsx("div",{className:"space-y-6",children:ne.Children.map(r,a=>ne.isValidElement(a)?ne.cloneElement(a,{selectedValue:e,onValueChange:t}):a)})}function VDe({children:e,selectedValue:t,onValueChange:r}){return n.jsx("div",{className:"flex gap-2 border-b border-gray-200",children:ne.Children.map(e,a=>ne.isValidElement(a)?ne.cloneElement(a,{selectedValue:t,onValueChange:r}):a)})}function yx({value:e,selectedValue:t,onValueChange:r,children:a}){return n.jsx("button",{onClick:()=>r==null?void 0:r(e),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px transition-colors ${e===t?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:a})}function vx({value:e,selectedValue:t,children:r}){return e!==t?null:n.jsx("div",{className:"py-6",children:r})}function GDe(){const[e,t]=N.useState(null),[r,a]=N.useState(!0),[s,i]=N.useState("sections");N.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await ue.getWithRetry("/footer/settings");t(c.data)}catch(c){z.error("Failed to fetch footer settings")}finally{a(!1)}},l=async c=>{try{await ue.putWithRetry("/footer/settings",c),await o(),z.success("Footer settings updated successfully");try{const d={type:"footer_settings_updated",data:{}};localStorage.setItem("footer:settings_updated",JSON.stringify({...d,ts:Date.now()}))}catch(d){}}catch(d){z.error("Failed to update footer settings")}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Footer Management"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Customize your website's footer content and appearance."})]}),n.jsxs(HDe,{value:s,onValueChange:i,children:[n.jsxs(VDe,{children:[n.jsx(yx,{value:"sections",children:"Footer Sections"}),n.jsx(yx,{value:"contact",children:"Contact Info"}),n.jsx(yx,{value:"social",children:"Social Links"}),n.jsx(yx,{value:"newsletter",children:"Newsletter"})]}),n.jsx(vx,{value:"sections",children:n.jsx(BDe,{})}),n.jsx(vx,{value:"contact",children:n.jsx(WDe,{settings:e,onUpdate:l})}),n.jsx(vx,{value:"social",children:n.jsx(UDe,{settings:e,onUpdate:l})}),n.jsx(vx,{value:"newsletter",children:n.jsx(zDe,{settings:e,onUpdate:l})})]})]})}const ij={name:"",code:"",apiUrl:"",apiFormat:"rest",credentials:{login:"",password:"",apiKey:"",database:""},isActive:!0,autoDispatchOnOrderCreate:!1,autoDispatchStatuses:["pending"],settings:{supportedRegions:[],priceCalculation:"fixed",basePrice:0}};function qDe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState(!1),[o,l]=N.useState(null),[c,d]=N.useState(ij),[u,f]=N.useState(""),[h,m]=N.useState(!1),[p,x]=N.useState(!1),[y,v]=N.useState(!1);N.useEffect(()=>{j()},[]);const w=M=>{var de,le,G,K,Z,I,V;const H=(M==null?void 0:M.settings)||{},ee=(M==null?void 0:M.apiConfiguration)||{},X=(M==null?void 0:M.credentials)||{};return{_id:(M==null?void 0:M._id)||"",name:(M==null?void 0:M.name)||"",code:(M==null?void 0:M.code)||"",apiUrl:(M==null?void 0:M.apiUrl)||ee.baseUrl||"",autoDispatchOnOrderCreate:!!(M!=null&&M.autoDispatchOnOrderCreate),autoDispatchStatuses:Array.isArray(M==null?void 0:M.autoDispatchStatuses)&&M.autoDispatchStatuses.length?M.autoDispatchStatuses:["pending"],credentials:{login:(le=(de=X.login)!=null?de:ee.username)!=null?le:"",password:(K=(G=X.password)!=null?G:ee.password)!=null?K:"",apiKey:(I=(Z=X.apiKey)!=null?Z:ee.apiKey)!=null?I:"",database:(V=X.database)!=null?V:""},isActive:!!(M!=null&&M.isActive),settings:{supportedRegions:Array.isArray(H.supportedRegions)?H.supportedRegions:[],priceCalculation:H.priceCalculation||"fixed",basePrice:typeof H.basePrice=="number"?H.basePrice:0},createdAt:(M==null?void 0:M.createdAt)||new Date().toISOString(),updatedAt:(M==null?void 0:M.updatedAt)||new Date().toISOString()}},j=async()=>{try{a(!0);const H=(await ue.getWithRetry("/delivery/companies")).data,ee=Array.isArray(H)?H:Array.isArray(H==null?void 0:H.data)?H.data:[];Array.isArray(ee)?t(ee.map(w)):(console.warn("Unexpected companies data format:",H),t([]))}catch(M){console.error("Failed to fetch delivery companies:",M),t([]),z.error("Failed to fetch delivery companies")}finally{a(!1)}},A=async M=>{var H,ee,X,de,le,G,K,Z,I,V,te;if(M.preventDefault(),!c.name||!c.apiUrl){z.error("Please fill in all required fields");return}try{const R={name:c.name,code:((H=c.code)==null?void 0:H.trim())||void 0,apiUrl:c.apiUrl,apiFormat:c.apiFormat||"rest",autoDispatchOnOrderCreate:c.autoDispatchOnOrderCreate||!1,autoDispatchStatuses:c.autoDispatchStatuses||["pending"],credentials:{login:((ee=c.credentials.login)==null?void 0:ee.trim())||void 0,password:((X=c.credentials.password)==null?void 0:X.trim())||void 0,apiKey:((de=c.credentials.apiKey)==null?void 0:de.trim())||void 0,database:((le=c.credentials.database)==null?void 0:le.trim())||void 0},isActive:c.isActive,settings:{supportedRegions:c.settings.supportedRegions,priceCalculation:c.settings.priceCalculation,basePrice:c.settings.basePrice},apiConfiguration:{baseUrl:c.apiUrl,username:c.credentials.login||void 0,password:c.credentials.password||void 0,apiKey:c.credentials.apiKey||void 0,params:{...(G=c.credentials.database)!=null&&G.trim()?{db:c.credentials.database.trim()}:{}},customFields:{},isTestMode:!y}};console.log("➕ Creating new company:",c.name);const U=await ue.postWithRetry("/delivery/companies",R);console.log("✅ Create response:",U.data);const Q=(Z=(K=U.data)==null?void 0:K.data)!=null?Z:U.data,J=w(Q);t(L=>[...L,J]),z.success(`"${c.name}" created successfully`),await j(),T()}catch(R){console.error("❌ Create error:",((I=R.response)==null?void 0:I.data)||R.message),z.error(((te=(V=R.response)==null?void 0:V.data)==null?void 0:te.message)||`Failed to create "${c.name}"`)}},C=async M=>{var H,ee,X,de,le,G,K,Z,I,V,te;if(M.preventDefault(),!!o)try{const R={name:c.name,code:((H=c.code)==null?void 0:H.trim())||"__REMOVE__",apiUrl:c.apiUrl,apiFormat:c.apiFormat||"rest",autoDispatchOnOrderCreate:c.autoDispatchOnOrderCreate||!1,autoDispatchStatuses:c.autoDispatchStatuses||["pending"],credentials:{login:((ee=c.credentials.login)==null?void 0:ee.trim())||"__REMOVE__",password:((X=c.credentials.password)==null?void 0:X.trim())||"__REMOVE__",apiKey:((de=c.credentials.apiKey)==null?void 0:de.trim())||"__REMOVE__",database:((le=c.credentials.database)==null?void 0:le.trim())||"__REMOVE__"},isActive:c.isActive,settings:{supportedRegions:c.settings.supportedRegions,priceCalculation:c.settings.priceCalculation,basePrice:c.settings.basePrice},apiConfiguration:{baseUrl:c.apiUrl,username:c.credentials.login||void 0,password:c.credentials.password||void 0,apiKey:c.credentials.apiKey||void 0,params:{...(G=c.credentials.database)!=null&&G.trim()?{db:c.credentials.database.trim()}:{}},customFields:{},isTestMode:!y}};console.log("📝 Updating company:",o._id,c.name);const U=await ue.putWithRetry(`/delivery/companies/${o._id}`,R);console.log("✅ Update response:",U.data);const Q=(Z=(K=U.data)==null?void 0:K.data)!=null?Z:U.data,J=w(Q);t(L=>L.map(he=>he._id===o._id?J:he)),z.success(`"${c.name}" updated successfully`),await j(),T()}catch(R){console.error("❌ Update error:",((I=R.response)==null?void 0:I.data)||R.message),z.error(((te=(V=R.response)==null?void 0:V.data)==null?void 0:te.message)||`Failed to update "${c.name}"`)}},S=async M=>{var X,de,le,G,K,Z,I;const H=e.find(V=>V._id===M),ee=(H==null?void 0:H.name)||"this company";if(confirm(`Are you sure you want to delete "${ee}"?

This action cannot be undone. If this company has delivery orders, deletion will be prevented.`))try{console.log("🗑️ Attempting to delete company:",M);const V=await ue.deleteWithRetry(`/delivery/companies/${M}`);console.log("✅ Delete response:",V),t(te=>te.filter(R=>R._id!==M)),z.success(`"${ee}" deleted successfully`),await j()}catch(V){console.error("❌ Delete error:",((X=V.response)==null?void 0:X.data)||V.message);const te=((le=(de=V.response)==null?void 0:de.data)==null?void 0:le.message)||"Failed to delete delivery company";if(te.includes("delivery orders"))if(confirm(`Cannot delete "${ee}" - it has active delivery orders.

Would you like to see the orders that are preventing deletion?

You'll need to remove these orders first before deleting the company.`)){if(console.log(`🔍 Checking orders for company: ${ee} (${M})`),await k(M,ee),confirm(`⚠️ FORCE DELETE OPTION (Development Only)

This will permanently delete "${ee}" and ALL its delivery orders.

This action CANNOT be undone!

Are you sure you want to force delete this company?`))try{console.log("🗑️ Force deleting company with all orders...");const Q=await ue.deleteWithRetry(`/delivery/companies/${M}?force=true`);console.log("✅ Force delete response:",Q),t(L=>L.filter(he=>he._id!==M));const J=((G=Q.data)==null?void 0:G.deletedOrders)||0;z.success(`"${ee}" force deleted successfully! (${J} orders removed)`),await j()}catch(Q){console.error("❌ Force delete error:",((K=Q.response)==null?void 0:K.data)||Q.message),z.error(`Force delete failed: ${((I=(Z=Q.response)==null?void 0:Z.data)==null?void 0:I.message)||Q.message}`)}}else z.error(`Cannot delete "${ee}" - it has active delivery orders. Check console for details.`);else z.error(`Failed to delete "${ee}": ${te}`);await j()}},k=async(M,H)=>{var ee,X;try{console.log(`📋 Fetching delivery orders for ${H}...`);const de=await ue.getWithRetry("/delivery/orders"),G=(((ee=de.data)==null?void 0:ee.data)||de.data||[]).filter(K=>{var Z;return K.deliveryCompany===M||((Z=K.deliveryCompany)==null?void 0:Z._id)===M});console.log(`📊 Found ${G.length} orders for ${H}:`),G.length>0?(G.forEach((K,Z)=>{console.log(`   ${Z+1}. Order ID: ${K._id}`),console.log(`      Order Number: ${K.order||"N/A"}`),console.log(`      Status: ${K.status}`),console.log(`      Created: ${K.createdAt}`),console.log(`      Tracking: ${K.trackingNumber||"N/A"}`),console.log("")}),console.log(`💡 To delete "${H}", you need to:`),console.log("   1. Go to Order Management tab"),console.log("   2. Find and remove these delivery orders"),console.log("   3. Then try deleting the company again")):console.log("✅ No orders found - company should be deletable")}catch(de){console.error("❌ Error checking orders:",((X=de.response)==null?void 0:X.data)||de.message)}},E=async M=>{var H,ee;try{await ue.putWithRetry(`/delivery/companies/${M._id}`,{...M,isActive:!M.isActive}),z.success(`Company ${M.isActive?"deactivated":"activated"} successfully`),await j()}catch(X){z.error(((ee=(H=X.response)==null?void 0:H.data)==null?void 0:ee.message)||"Failed to update company status")}},T=()=>{l(null),i(!1),f(""),v(!1),setTimeout(()=>{d(ij)},0)},F=async M=>{var H,ee,X,de,le,G,K,Z,I,V,te,R,U;try{const J=(await ue.getWithRetry(`/delivery/companies/${M._id}`)).data,L=(H=J==null?void 0:J.data)!=null?H:J;l(L),v(((ee=L.apiConfiguration)==null?void 0:ee.isTestMode)===!1);const he={name:L.name||"",code:L.code||"",apiUrl:((X=L.apiConfiguration)==null?void 0:X.baseUrl)||L.apiUrl||"",credentials:{login:((de=L.apiConfiguration)==null?void 0:de.username)||((le=L.credentials)==null?void 0:le.login)||"",password:((G=L.apiConfiguration)==null?void 0:G.password)||((K=L.credentials)==null?void 0:K.password)||"",apiKey:((Z=L.apiConfiguration)==null?void 0:Z.apiKey)||((I=L.credentials)==null?void 0:I.apiKey)||"",database:((V=L.credentials)==null?void 0:V.database)||""},isActive:L.isActive,autoDispatchOnOrderCreate:!!L.autoDispatchOnOrderCreate,autoDispatchStatuses:Array.isArray(L.autoDispatchStatuses)&&L.autoDispatchStatuses.length?L.autoDispatchStatuses:["pending"],settings:{supportedRegions:((te=L.settings)==null?void 0:te.supportedRegions)||[],priceCalculation:((R=L.settings)==null?void 0:R.priceCalculation)||"fixed",basePrice:((U=L.settings)==null?void 0:U.basePrice)||0}};d(ij),i(!0),setTimeout(()=>{d(he),console.log("Form data set to:",he)},0)}catch(Q){z.error("Failed to fetch company details"),console.error("Error fetching company details:",Q)}},O=()=>{u.trim()&&!c.settings.supportedRegions.includes(u.trim())&&(d(M=>({...M,settings:{...M.settings,supportedRegions:[...M.settings.supportedRegions,u.trim()]}})),f(""))},P=M=>{d(H=>({...H,settings:{...H.settings,supportedRegions:H.settings.supportedRegions.filter(ee=>ee!==M)}}))},W=async()=>{var M,H;if(!c.apiUrl){z.error("Please enter an API URL first");return}if(!o){z.error("Please save the company first before testing connection");return}try{m(!0);const X=(await ue.postWithRetry(`/delivery/companies/${o._id}/test-connection`)).data;X.success?z.success(X.message||"Connection test successful"):z.error(X.message||"Connection test failed")}catch(ee){z.error(((H=(M=ee.response)==null?void 0:M.data)==null?void 0:H.message)||"Failed to test connection")}finally{m(!1)}},q=async()=>{var M,H,ee,X,de,le,G;if(!o){z.error("Open and save a company first");return}try{x(!0);const Z=(await ue.getWithRetry(`/delivery/companies/${o._id}/validate-config`)).data||{},I=Z.success!==!1&&(Z.ok===void 0?!0:Z.ok)&&(!Array.isArray(Z.issues)||Z.issues.length===0),V=(ee=(M=Z.db)==null?void 0:M.effectiveDb)!=null?ee:(H=Z.effective)==null?void 0:H.db,te=(X=Z.db)!=null&&X.sources?Object.entries(Z.db.sources).filter(([,R])=>R).map(([R])=>`${R}=${Z.db.sources[R]}`).join(", "):(de=Z.effective)==null?void 0:de.dbSource;if(I)z.success(`Config looks okay${V?` (db=${V})`:""}`);else{const R=(Z.issues||[]).join(", ");z.error(`Config issues: ${R||"unknown"}${V?`; db=${V}`:""}`)}te&&console.info("DB sources:",te)}catch(K){z.error(((G=(le=K.response)==null?void 0:le.data)==null?void 0:G.message)||"Failed to validate config")}finally{x(!1)}},D=[{value:"fixed",label:"Fixed Price"},{value:"weight",label:"Weight Based"},{value:"distance",label:"Distance Based"}];return r?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Delivery Companies"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage multiple delivery service providers"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[n.jsx(fr,{className:"w-4 h-4"}),"Add Company"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.isArray(e)&&e.length>0?e.map(M=>{var H,ee,X,de,le,G;return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:n.jsx(ua,{className:"w-6 h-6 text-indigo-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:M.name}),M.code&&M.code.trim()!==""?n.jsx("p",{className:"text-sm text-gray-500",children:M.code}):n.jsx("p",{className:"text-sm text-gray-400 italic",children:"No code assigned"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>E(M),className:`p-1 rounded ${M.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,children:M.isActive?n.jsx(U2,{className:"w-4 h-4"}):n.jsx(B2,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>F(M),className:"p-1 text-gray-600 hover:text-indigo-600 hover:bg-gray-50 rounded",children:n.jsx(M2,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>S(M._id),className:"p-1 text-gray-600 hover:text-red-600 hover:bg-gray-50 rounded",children:n.jsx(en,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${M.isActive?"bg-green-500":"bg-gray-400"}`}),n.jsx("span",{className:`text-sm ${M.isActive?"text-green-600":"text-gray-500"}`,children:M.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(x6,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:M.apiUrl||"—"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(Vs,{className:"w-4 h-4"}),n.jsxs("span",{className:"text-sm",children:[(X=(ee=(H=M.settings)==null?void 0:H.supportedRegions)==null?void 0:ee.length)!=null?X:0," regions"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(Ql,{className:"w-4 h-4"}),n.jsxs("span",{className:"text-sm capitalize",children:[(le=(de=M.settings)==null?void 0:de.priceCalculation)!=null?le:"fixed"," pricing"]})]})]}),Array.isArray((G=M.settings)==null?void 0:G.supportedRegions)&&M.settings.supportedRegions.length>0&&n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Supported Regions"}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.settings.supportedRegions.slice(0,3).map(K=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:K},K)),M.settings.supportedRegions.length>3&&n.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",M.settings.supportedRegions.length-3," more"]})]})]})]},M._id)}):n.jsxs("div",{className:"col-span-full text-center py-12",children:[n.jsx(ua,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Delivery Companies"}),n.jsx("p",{className:"text-gray-500 mb-4",children:r?"Loading companies...":"Add your first delivery company to start managing deliveries"}),!r&&n.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Add Company"})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[o?"Edit":"Add"," Delivery Company"]}),n.jsx("button",{onClick:T,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:n.jsx(xt,{className:"w-5 h-5"})})]})}),n.jsxs("form",{onSubmit:o?C:A,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),n.jsx("input",{type:"text",value:c.name,onChange:M=>d(H=>({...H,name:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., FastDelivery",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Code (Optional)"}),n.jsx("input",{type:"text",value:c.code,onChange:M=>d(H=>({...H,code:M.target.value.toUpperCase()})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., FD (leave empty if company doesn't use codes)"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Some delivery companies don't use short codes - this field is optional"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API URL *"}),n.jsx("input",{type:"url",value:c.apiUrl,onChange:M=>d(H=>({...H,apiUrl:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"https://api.deliverycompany.com",required:!0})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:M=>d(H=>({...H,isActive:M.target.checked})),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Active (can receive new orders)"})]}),n.jsxs("div",{className:"mt-4 border border-gray-200 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Automatic Dispatch"}),n.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Send new orders to this company immediately after creation."})]}),n.jsx("button",{type:"button",onClick:()=>d(M=>({...M,autoDispatchOnOrderCreate:!M.autoDispatchOnOrderCreate})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${c.autoDispatchOnOrderCreate?"bg-indigo-600":"bg-gray-300"}`,"aria-pressed":c.autoDispatchOnOrderCreate,children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${c.autoDispatchOnOrderCreate?"translate-x-5":"translate-x-1"}`})})]}),c.autoDispatchOnOrderCreate&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Trigger Statuses"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["pending","processing","shipped","delivered","cancelled"].map(M=>{const H=(c.autoDispatchStatuses||[]).includes(M);return n.jsx("button",{type:"button",onClick:()=>d(ee=>({...ee,autoDispatchStatuses:H?(ee.autoDispatchStatuses||[]).filter(X=>X!==M):[...ee.autoDispatchStatuses||[],M]})),className:`text-xs px-2 py-1 rounded border transition ${H?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:M},M)})}),n.jsx("p",{className:"text-[11px] text-gray-500",children:"Orders whose initial status matches one of the selected statuses will be dispatched automatically. Usually 'pending' is enough."})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bm,{className:"w-5 h-5 text-gray-400"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"API Credentials"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",checked:y,onChange:M=>v(M.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),"Use real API"]}),o&&n.jsxs("button",{type:"button",onClick:W,disabled:h,className:"flex items-center gap-2 px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 disabled:opacity-50",children:[n.jsx(A6,{className:"w-4 h-4"}),h?"Testing...":"Test Connection"]}),o&&n.jsx("button",{type:"button",onClick:q,disabled:p,className:"flex items-center gap-2 px-3 py-1 text-sm bg-emerald-50 text-emerald-600 rounded-lg hover:bg-emerald-100 disabled:opacity-50",children:"Validate Config"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Login/Username"}),n.jsx("input",{type:"text",value:c.credentials.login,onChange:M=>{console.log("Login changed to:",M.target.value),d(H=>({...H,credentials:{...H.credentials,login:M.target.value}}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter username/login"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",value:c.credentials.password,onChange:M=>{console.log("Password changed"),d(H=>({...H,credentials:{...H.credentials,password:M.target.value}}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter password"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),n.jsx("input",{type:"text",value:c.credentials.apiKey,onChange:M=>{console.log("API Key changed to:",M.target.value),d(H=>({...H,credentials:{...H.credentials,apiKey:M.target.value}}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter API Key"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Database"}),n.jsx("input",{type:"text",value:c.credentials.database,onChange:M=>{console.log("Database changed to:",M.target.value),d(H=>({...H,credentials:{...H.credentials,database:M.target.value}}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter database name"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ha,{className:"w-5 h-5 text-gray-400"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Configuration"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Calculation"}),n.jsx("select",{value:c.settings.priceCalculation,onChange:M=>d(H=>({...H,settings:{...H.settings,priceCalculation:M.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:D.map(M=>n.jsx("option",{value:M.value,children:M.label},M.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Price"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:c.settings.basePrice,onChange:M=>d(H=>({...H,settings:{...H.settings,basePrice:parseFloat(M.target.value)||0}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supported Regions"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:u,onChange:M=>f(M.target.value),onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),O()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add region (e.g., California, New York)"}),n.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Add"})]}),c.settings.supportedRegions.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:c.settings.supportedRegions.map(M=>n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-sm",children:[n.jsx("span",{children:M}),n.jsx("button",{type:"button",onClick:()=>P(M),className:"text-indigo-600 hover:text-indigo-800",children:n.jsx(xt,{className:"w-3 h-3"})})]},M))})]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-4 pt-6 border-t",children:[n.jsx("div",{className:"flex items-center gap-2",children:o&&n.jsxs("button",{type:"button",onClick:async()=>{var M,H,ee,X;try{const de={order:null,companyId:o._id,baseUrl:c.apiUrl,username:c.credentials.login||void 0,password:c.credentials.password||void 0,db:c.credentials.database||void 0,isTestMode:!y},le=await ue.getWithRetry("/orders/all"),G=Array.isArray(le.data)?le.data:((M=le.data)==null?void 0:M.data)||[],K=G.find(I=>!I.deliveryCompany)||G[0];if(!K){z.error("No orders available to test real send");return}de.order=K;const Z=await ue.postWithRetry("/delivery/order",de);z.success(((H=Z.data)==null?void 0:H.message)||"Test send successful")}catch(de){z.error(((X=(ee=de.response)==null?void 0:ee.data)==null?void 0:X.message)||de.message||"Test send failed")}},className:"flex items-center gap-2 px-3 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100",children:[n.jsx(ym,{className:"w-4 h-4"}),"Test real send"]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[n.jsx(ma,{className:"w-4 h-4"}),o?"Update":"Create"," Company"]})]})]})]},`${(o==null?void 0:o._id)||"new"}-${s}`)]})})]})}function KDe(){const[e,t]=N.useState([]),[r,a]=N.useState([]),[s,i]=N.useState(null),[o,l]=N.useState(""),[c,d]=N.useState(!0),[u,f]=N.useState(!1),[h,m]=N.useState(""),[p,x]=N.useState("all"),[y,v]=N.useState(!1),{currency:w}=Ta();N.useEffect(()=>{j()},[]);const j=async()=>{var E;try{d(!0);const[T,F]=await Promise.all([ue.getWithRetry("/orders/all"),ue.getWithRetry("/delivery/companies")]);t(T.data);const O=F.data,P=Array.isArray(O)?O:(E=O==null?void 0:O.data)!=null?E:[];a(P.filter(W=>W.isActive))}catch(T){z.error("Failed to fetch data")}finally{d(!1)}},A=async()=>{var E,T,F;if(!s||!o){z.error("Please select an order and delivery company");return}try{f(!0);const O={order:s,companyId:o,mappedData:{deliveryFee:0}};console.log("📦 Sending to /api/delivery/order endpoint...",O);const P=await ue.postWithRetry("/delivery/order",O);z.success(((E=P.data)==null?void 0:E.message)||"Order sent to delivery service successfully"),await j(),v(!1),i(null),l("")}catch(O){console.error("Failed to send order to delivery:",O),z.error(((F=(T=O.response)==null?void 0:T.data)==null?void 0:F.message)||O.message||"Failed to send order to delivery")}finally{f(!1)}},C=async E=>{if(!E.deliveryCompany){z.error("No delivery company assigned to this order");return}try{const T=await ue.getWithRetry(`/delivery/status/${E._id}/${E.deliveryCompany._id}`);z.success(`Delivery Status: ${T.data.status}`)}catch(T){z.error("Failed to check delivery status")}},S=e.filter(E=>{const T=E.orderNumber.toLowerCase().includes(h.toLowerCase())||`${E.customerInfo.firstName} ${E.customerInfo.lastName}`.toLowerCase().includes(h.toLowerCase())||E.customerInfo.email.toLowerCase().includes(h.toLowerCase()),F=p==="all"||p==="pending"&&!E.deliveryCompany||p==="assigned"&&E.deliveryCompany&&E.deliveryStatus!=="delivered"||p==="delivered"&&E.deliveryStatus==="delivered";return T&&F}),k=E=>{i(E),v(!0),l("")};return c?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Delivery Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Assign orders to delivery companies and track status"})]}),n.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[n.jsx(Pn,{className:"w-4 h-4"}),"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(rr,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.length})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:n.jsx(wn,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pending Assignment"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.filter(E=>!E.deliveryCompany).length})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:n.jsx(ua,{className:"w-5 h-5 text-indigo-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"In Transit"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.filter(E=>E.deliveryCompany&&E.deliveryStatus!=="delivered").length})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(rr,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Delivered"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.filter(E=>E.deliveryStatus==="delivered").length})]})]})})]}),n.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Mn,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),n.jsx("input",{type:"text",placeholder:"Search orders by number, customer name, or email...",value:h,onChange:E=>m(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})}),n.jsx("div",{className:"sm:w-48",children:n.jsxs("select",{value:p,onChange:E=>x(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Orders"}),n.jsx("option",{value:"pending",children:"Pending Assignment"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"delivered",children:"Delivered"})]})})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivery Company"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-indigo-600",children:["#",E.orderNumber]}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[E.customerInfo.firstName," ",E.customerInfo.lastName]}),n.jsx("p",{className:"text-xs text-gray-500",children:E.customerInfo.email}),n.jsx("p",{className:"text-xs text-gray-500",children:E.customerInfo.mobile})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm text-gray-900 max-w-xs",children:[n.jsx("p",{children:E.shippingAddress.street}),n.jsxs("p",{className:"text-xs text-gray-500",children:[E.shippingAddress.city,", ",E.shippingAddress.state," ",E.shippingAddress.zipCode]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:lt(E.totalAmount,w)}),n.jsxs("p",{className:"text-xs text-gray-500",children:[E.items.length," items"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.deliveryCompany?n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.deliveryCompany.name}),n.jsx("p",{className:"text-xs text-gray-500",children:E.deliveryCompany.code})]}):n.jsx("span",{className:"text-sm text-gray-500",children:"Not assigned"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E.deliveryStatus==="delivered"?"bg-green-100 text-green-800":E.deliveryCompany?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:E.deliveryStatus||(E.deliveryCompany?"Assigned":"Pending")})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>i(E),className:"p-1 text-gray-600 hover:text-indigo-600 hover:bg-gray-100 rounded",title:"View details",children:n.jsx(cs,{className:"w-4 h-4"})}),E.deliveryCompany?n.jsx("button",{onClick:()=>C(E),className:"p-1 text-gray-600 hover:text-blue-600 hover:bg-gray-100 rounded",title:"Check delivery status",children:n.jsx(Pn,{className:"w-4 h-4"})}):n.jsx("button",{onClick:()=>k(E),className:"p-1 text-gray-600 hover:text-green-600 hover:bg-gray-100 rounded",title:"Assign to delivery company",children:n.jsx(ym,{className:"w-4 h-4"})})]})})]},E._id))})]})}),S.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(rr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Orders Found"}),n.jsx("p",{className:"text-gray-500",children:h||p!=="all"?"Try adjusting your filters to see more orders":"No orders available for delivery assignment"})]})]}),s&&!y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Order Details - #",s.orderNumber]}),n.jsx("button",{onClick:()=>i(null),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:"×"})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Customer Information"}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(to,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm",children:s.customerInfo.email})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ef,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm",children:s.customerInfo.mobile})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Shipping Address"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Vs,{className:"w-4 h-4 text-gray-400 mt-1"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-900",children:s.shippingAddress.street}),n.jsxs("p",{className:"text-sm text-gray-600",children:[s.shippingAddress.city,", ",s.shippingAddress.state," ",s.shippingAddress.zipCode]}),n.jsx("p",{className:"text-sm text-gray-600",children:s.shippingAddress.country})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Order Items"}),n.jsx("div",{className:"space-y-2",children:s.items.map((E,T)=>{var F;return n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[((F=E.product.images)==null?void 0:F[0])&&n.jsx("img",{src:E.product.images[0],alt:E.product.name,className:"w-10 h-10 object-cover rounded"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.product.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",E.quantity]})]})]}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:lt(E.price*E.quantity,w)})]},T)})})]}),!s.deliveryCompany&&n.jsx("div",{className:"pt-4 border-t",children:n.jsxs("button",{onClick:()=>k(s),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[n.jsx(ym,{className:"w-4 h-4"}),"Assign to Delivery Company"]})})]})]})}),y&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg",children:[n.jsxs("div",{className:"p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Assign to Delivery Company"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Order #",s.orderNumber]})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Delivery Company"}),n.jsxs("select",{value:o,onChange:E=>l(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"Choose a delivery company..."}),r.map(E=>n.jsxs("option",{value:E._id,children:[E.name," (",E.code,")"]},E._id))]})]}),r.length===0&&n.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ka,{className:"w-5 h-5 text-amber-600"}),n.jsx("p",{className:"text-sm text-amber-700",children:"No active delivery companies available. Please add and activate delivery companies first."})]})}),n.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4",children:[n.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsx("button",{onClick:A,disabled:!o||u||r.length===0,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Assigning..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ym,{className:"w-4 h-4"}),"Assign Order"]})})]})]})]})})]})}const U5=[{key:"orderNumber",label:"Order Number",type:"string",description:"Unique order identifier"},{key:"customerInfo.firstName",label:"Customer First Name",type:"string",description:"Customer first name"},{key:"customerInfo.lastName",label:"Customer Last Name",type:"string",description:"Customer last name"},{key:"customerInfo.email",label:"Customer Email",type:"string",description:"Customer email address"},{key:"customerInfo.mobile",label:"Customer Mobile",type:"string",description:"Customer phone number",required:!0},{key:"shippingAddress.street",label:"Street Address",type:"string",description:"Delivery street address",required:!0},{key:"shippingAddress.city",label:"City",type:"string",description:"Delivery city"},{key:"shippingAddress.state",label:"State/Province",type:"string",description:"Delivery state or province"},{key:"shippingAddress.zipCode",label:"ZIP/Postal Code",type:"string",description:"Delivery postal code"},{key:"shippingAddress.country",label:"Country",type:"string",description:"Delivery country"},{key:"shippingAddress.latitude",label:"Latitude",type:"string",description:"GPS latitude coordinate"},{key:"shippingAddress.longitude",label:"Longitude",type:"string",description:"GPS longitude coordinate"},{key:"totalAmount",label:"Total Amount",type:"number",description:"Order total value"},{key:"totalWithShipping",label:"Total with Shipping",type:"number",description:"Order total including shipping costs"},{key:"paymentMethod",label:"Payment Method",type:"string",description:"Payment method used"},{key:"items",label:"Order Items",type:"object",description:"Array of order items"},{key:"items.length",label:"Item Count",type:"number",description:"Number of items in order"},{key:"items.0.name",label:"First Product Name",type:"string",description:"Name of the first product in order"},{key:"items.0.quantity",label:"First Product Quantity",type:"number",description:"Quantity of the first product"},{key:"items.0.price",label:"First Product Price",type:"number",description:"Price of the first product"},{key:"weight",label:"Package Weight",type:"number",description:"Total package weight"},{key:"notes",label:"Special Instructions",type:"string",description:"Delivery notes or instructions"}],XDe=[{value:"",label:"No Transform"},{value:"uppercase",label:"UPPERCASE"},{value:"lowercase",label:"lowercase"},{value:"trim",label:"Trim Whitespace"},{value:"phone_digits",label:"Phone Digits Only"},{value:"phone_last10",label:"Phone: Keep Last 10 Digits"},{value:"full_name",label:"Combine First + Last Name"},{value:"format_address",label:"Format Full Address"},{value:"product_names",label:"All Product Names (comma-separated)"}];function YDe(){var q;const[e,t]=N.useState([]),[r,a]=N.useState(""),[s,i]=N.useState([]),[o,l]=N.useState({}),[c,d]=N.useState(!0),[u,f]=N.useState(!1),[h,m]=N.useState(!1),[p,x]=N.useState(null);N.useEffect(()=>{y()},[]);const y=async()=>{try{d(!0);const M=(await ue.getWithRetry("/delivery/companies")).data.map(H=>({_id:H._id,name:H.name,code:H.code,fieldMappings:H.fieldMappings||v(),customFields:H.customFields||{},lastUpdated:H.fieldMappingsUpdated}));t(M),M.length>0&&!r&&(a(M[0]._id),w(M[0]))}catch(D){z.error("Failed to fetch delivery companies")}finally{d(!1)}},v=()=>[{sourceField:"orderNumber",targetField:"reference",required:!1,enabled:!0},{sourceField:"customerInfo.firstName",targetField:"customer_name",required:!1,enabled:!0,transform:"full_name"},{sourceField:"customerInfo.mobile",targetField:"customer_phone",required:!0,enabled:!0,transform:"phone_digits"},{sourceField:"customerInfo.email",targetField:"customer_email",required:!1,enabled:!0},{sourceField:"shippingAddress.street",targetField:"delivery_address",required:!0,enabled:!0},{sourceField:"shippingAddress.city",targetField:"delivery_city",required:!1,enabled:!0},{sourceField:"shippingAddress.state",targetField:"delivery_state",required:!1,enabled:!0},{sourceField:"shippingAddress.zipCode",targetField:"delivery_zip",required:!1,enabled:!0},{sourceField:"totalAmount",targetField:"cod_amount",required:!1,enabled:!0},{sourceField:"totalWithShipping",targetField:"total_with_shipping",required:!1,enabled:!0},{sourceField:"items",targetField:"product_names",required:!1,enabled:!0,transform:"product_names"},{sourceField:"items.0.name",targetField:"first_product_name",required:!1,enabled:!0},{sourceField:"paymentMethod",targetField:"payment_method",required:!1,enabled:!0}],w=D=>{i(D.fieldMappings),l(D.customFields)},j=D=>{a(D);const M=e.find(H=>H._id===D);M&&w(M)},A=()=>{const D={sourceField:"",targetField:"",required:!1,defaultValuePriority:!1,enabled:!0};i([...s,D])},C=(D,M,H)=>{const ee=s.map((X,de)=>de===D?{...X,[M]:H}:X);i(ee)},S=D=>{i(s.filter((M,H)=>H!==D))},k=()=>{const D=prompt("Enter custom field name:");D&&!o[D]&&l({...o,[D]:""})},E=(D,M)=>{l({...o,[D]:M})},T=D=>{const M={...o};delete M[D],l(M)},F=()=>{window.confirm("Reset to default field mappings? This will override all current settings.")&&(i(v()),l({}),z.success("Reset to default mappings"))},O=async()=>{try{console.log("Generating preview for company:",r);const D=await ue.postWithRetry("/delivery/preview-mapping",{companyId:r,fieldMappings:s,customFields:o});x(D.data),m(!0)}catch(D){console.error("Error generating preview:",D),z.error("Failed to generate preview")}},P=async()=>{var D,M;if(!r){z.error("Please select a delivery company");return}try{f(!0),console.log("Saving field mappings for company:",r),console.log("Field mappings:",s),console.log("Custom fields:",o);const H=`/delivery/companies/${r}/field-mappings`;console.log("API URL:",H),await ue.putWithRetry(H,{fieldMappings:s,customFields:o}),t(e.map(ee=>ee._id===r?{...ee,fieldMappings:s,customFields:o,lastUpdated:new Date().toISOString()}:ee)),z.success("Field mappings saved successfully")}catch(H){console.error("Error saving field mappings:",H),z.error(((M=(D=H.response)==null?void 0:D.data)==null?void 0:M.message)||"Failed to save field mappings")}finally{f(!1)}},W=D=>U5.find(M=>M.key===D);return c?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Delivery Field Mapping"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Control which fields are sent to delivery companies"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:O,disabled:!r,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:[n.jsx(cs,{className:"w-4 h-4"}),"Preview"]}),n.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",children:[n.jsx(Cj,{className:"w-4 h-4"}),"Reset"]}),n.jsxs("button",{onClick:P,disabled:u||!r,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[n.jsx(ma,{className:"w-4 h-4"}),u?"Saving...":"Save Changes"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Delivery Company"}),n.jsxs("select",{value:r,onChange:D=>j(D.target.value),className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"Choose a company..."}),e.map(D=>n.jsxs("option",{value:D._id,children:[D.name," (",D.code,")"]},D._id))]})]}),r&&n.jsxs("div",{className:"text-sm text-gray-600",children:["Configure how order data is mapped to the delivery company's API format.",((q=e.find(D=>D._id===r))==null?void 0:q.lastUpdated)&&n.jsxs("span",{className:"ml-2",children:["Last updated: ",new Date(e.find(D=>D._id===r).lastUpdated).toLocaleString()]})]})]}),r&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ha,{className:"w-5 h-5 text-indigo-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Field Mappings"})]}),n.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[n.jsx(fr,{className:"w-4 h-4"}),"Add Mapping"]})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[s.map((D,M)=>{var H,ee;return n.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("input",{type:"checkbox",checked:D.enabled,onChange:X=>C(M,"enabled",X.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-6 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Source Field"}),n.jsxs("select",{value:D.sourceField,onChange:X=>C(M,"sourceField",X.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",disabled:!D.enabled,children:[n.jsx("option",{value:"",children:"Select field..."}),U5.map(X=>n.jsx("option",{value:X.key,children:X.label},X.key))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Target Field"}),n.jsx("input",{type:"text",value:D.targetField,onChange:X=>C(M,"targetField",X.target.value),placeholder:"API field name",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",disabled:!D.enabled})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Transform"}),n.jsx("select",{value:D.transform||"",onChange:X=>C(M,"transform",X.target.value||void 0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",disabled:!D.enabled,children:XDe.map(X=>n.jsx("option",{value:X.value,children:X.label},X.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Default Value"}),n.jsx("input",{type:"text",value:D.defaultValue||"",onChange:X=>C(M,"defaultValue",X.target.value||void 0),placeholder:"Default value",className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",disabled:!D.enabled}),n.jsxs("label",{className:"mt-2 inline-flex items-center text-xs text-gray-600",children:[n.jsx("input",{type:"checkbox",className:"mr-2",checked:!!D.defaultValuePriority,onChange:X=>C(M,"defaultValuePriority",X.target.checked),disabled:!D.enabled}),"Always use default (ignore source)"]})]}),n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Required"}),n.jsx("input",{type:"checkbox",checked:D.required,onChange:X=>C(M,"required",X.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",disabled:!D.enabled})]})}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>S(M),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Remove mapping",children:n.jsx(en,{className:"w-4 h-4"})})})]}),D.sourceField&&n.jsxs("div",{className:"text-xs text-gray-500 max-w-xs",children:[(H=W(D.sourceField))==null?void 0:H.description,((ee=W(D.sourceField))==null?void 0:ee.required)&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]},M)}),s.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:'No field mappings configured. Click "Add Mapping" to start.'})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"w-5 h-5 text-green-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Custom Fields"})]}),n.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[n.jsx(fr,{className:"w-4 h-4"}),"Add Custom Field"]})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"space-y-3",children:[Object.entries(o).map(([D,M])=>n.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:D}),n.jsx("input",{type:"text",value:M,onChange:H=>E(D,H.target.value),placeholder:`Value for ${D}`,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),n.jsx("button",{onClick:()=>T(D),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Remove custom field",children:n.jsx(en,{className:"w-4 h-4"})})]},D)),Object.keys(o).length===0&&n.jsx("div",{className:"text-center py-6 text-gray-500",children:"No custom fields configured. Add static fields that will be included in all deliveries."})]})})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(R2,{className:"w-5 h-5 text-blue-600 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Field Mapping Guidelines"}),n.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Source fields come from your order data structure"}),n.jsx("li",{children:"Target fields should match the delivery company's API requirements"}),n.jsx("li",{children:"Required fields must have values or the delivery will fail"}),n.jsx("li",{children:"Transforms modify the data before sending (e.g., format phone numbers)"}),n.jsx("li",{children:"Default values are used when source fields are empty"}),n.jsx("li",{children:"Custom fields add static values to all deliveries"})]})]})]})})]}),h&&p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Mapping Preview"}),n.jsx("button",{onClick:()=>m(!1),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded",children:n.jsx(Ux,{className:"w-5 h-5"})})]})}),n.jsx("div",{className:"p-6 overflow-y-auto",children:n.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:JSON.stringify(p,null,2)})})]})})]})}function JDe(){const[e,t]=N.useState("companies"),r=[{id:"companies",label:"Delivery Companies",icon:n.jsx(ua,{className:"w-4 h-4"}),component:n.jsx(qDe,{})},{id:"orders",label:"Order Management",icon:n.jsx(OG,{className:"w-4 h-4"}),component:n.jsx(KDe,{})},{id:"field-mapping",label:"Field Mapping",icon:n.jsx(Ha,{className:"w-4 h-4"}),component:n.jsx(YDe,{})},{id:"analytics",label:"Analytics",icon:n.jsx(il,{className:"w-4 h-4"}),component:n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(il,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analytics Coming Soon"}),n.jsx("p",{className:"text-gray-500",children:"Delivery analytics and reporting features will be available in a future update."})]})})}],a=r.find(s=>s.id===e)||r[0];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Delivery Management Hub"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive delivery management for multiple service providers"})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:r.map(s=>n.jsxs("button",{onClick:()=>t(s.id),className:`
                flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors
                ${e===s.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
              `,children:[s.icon,s.label]},s.id))})}),n.jsx("div",{className:"min-h-96",children:a.component}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ha,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Delivery Management Guide"}),n.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Companies:"})," Add and configure delivery service providers"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Orders:"})," Assign orders to companies and track delivery status"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Field Mapping:"})," Control which data fields are sent to each company"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Analytics:"})," View delivery performance metrics and insights"]})]})]})]})})]})}function ZDe(){const[e,t]=ne.useState(""),[r,a]=ne.useState([]),[s,i]=ne.useState(),[o,l]=ne.useState(!1),[c,d]=ne.useState({}),[u,f]=ne.useState(""),h=ne.useCallback(async(v,w=!1)=>{var j,A;l(!0),w&&f("");try{const C={max_results:30};e&&(C.folder=e),v&&(C.next_cursor=v);const{data:S}=await ue.getWithRetry("/cloudinary/resources",{params:C});a(k=>w?S.resources:[...k,...S.resources]),i(S.next_cursor)}catch(C){const S=((A=(j=C==null?void 0:C.response)==null?void 0:j.data)==null?void 0:A.message)||(C==null?void 0:C.message)||"Failed to load media resources";f(S)}finally{l(!1)}},[e]);ne.useEffect(()=>{h(void 0,!0)},[e]);const m=v=>d(w=>({...w,[v]:!w[v]})),p=ne.useMemo(()=>Object.keys(c).filter(v=>c[v]),[c]),x=async()=>{if(p.length!==0){l(!0);try{await ue.postWithRetry("/cloudinary/delete",{public_ids:p}),a(v=>v.filter(w=>!p.includes(w.public_id))),d({})}finally{l(!1)}}},y=async v=>{const w=v.target.files;if(!(!w||w.length===0)){l(!0);try{for(const j of Array.from(w))await Nb(j,{folder:e||void 0});await h(void 0,!0)}finally{l(!1),v.currentTarget.value=""}}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{className:"border rounded px-3 py-2 w-72",placeholder:"Folder (optional), e.g. products",value:e,onChange:v=>t(v.target.value)}),n.jsxs("label",{className:"inline-flex items-center gap-2 bg-emerald-600 text-white px-4 py-2 rounded cursor-pointer",children:[n.jsx(Gn,{className:"w-4 h-4"})," Upload",n.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",onChange:y})]}),n.jsxs("button",{className:"ml-auto bg-red-600 text-white px-4 py-2 rounded disabled:opacity-50",disabled:p.length===0||o,onClick:x,children:["Delete Selected (",p.length,")"]})]}),u&&n.jsx("div",{className:"p-3 rounded bg-red-50 border border-red-200 text-sm text-red-700",children:u==="Cloudinary is not configured. Please add credentials in Settings > Integrations > Cloudinary."?n.jsxs(n.Fragment,{children:[n.jsx("strong",{children:"Cloudinary not configured."})," Go to Settings and add Cloudinary Cloud Name, API Key, and API Secret to enable the media library."]}):u}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:r.map(v=>n.jsxs("div",{className:`border rounded overflow-hidden relative group ${c[v.public_id]?"ring-2 ring-emerald-500":""}`,children:[n.jsx("button",{onClick:()=>m(v.public_id),className:"absolute top-2 left-2 z-10 bg-white/80 rounded px-2 py-1 text-xs",children:c[v.public_id]?"Selected":"Select"}),v.resource_type==="image"?n.jsx("img",{src:v.secure_url,alt:v.public_id,className:"w-full h-32 object-cover"}):n.jsx("video",{src:v.secure_url,className:"w-full h-32 object-cover"}),n.jsx("div",{className:"p-2 text-xs truncate",title:v.public_id,children:v.public_id})]},v.asset_id))}),s&&n.jsx("div",{className:"text-center",children:n.jsx("button",{disabled:o,onClick:()=>h(s),className:"px-4 py-2 rounded bg-gray-200",children:"Load more"})})]})}function QDe({announcements:e,onEdit:t,onDelete:r,onDragEnd:a}){return n.jsx(xc,{onDragEnd:a,children:n.jsx(vc,{droppableId:"announcements",children:s=>n.jsxs("div",{...s.droppableProps,ref:s.innerRef,className:"space-y-4",children:[e.map((i,o)=>n.jsx(yc,{draggableId:i._id,index:o,children:l=>n.jsx("div",{ref:l.innerRef,...l.draggableProps,className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsxs("div",{className:"p-4 flex items-center gap-4",children:[n.jsx("div",{...l.dragHandleProps,className:"cursor-move text-gray-400 hover:text-gray-600",children:n.jsx(cc,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:i.text}),n.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.isActive?"Active":"Inactive"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Icon: ",i.icon]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>t(i),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:n.jsx(No,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r(i._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(en,{className:"w-5 h-5"})})]})]})})},i._id)),s.placeholder]})})})}const eRe=["Truck","Sparkles","Clock","CreditCard","Star","Gift","Heart","Tag"],tRe=[{value:"xs",label:"Extra Small"},{value:"sm",label:"Small"},{value:"base",label:"Medium"},{value:"lg",label:"Large"},{value:"xl",label:"Extra Large"}];function rRe({isOpen:e,onClose:t,onSubmit:r,announcement:a}){const[s,i]=N.useState({text:"",icon:"Star",fontSize:"sm",textColor:"#FFFFFF",backgroundColor:"#4F46E5",isActive:!0}),[o,l]=N.useState(!1);N.useEffect(()=>{i(a?{text:a.text,icon:a.icon,fontSize:a.fontSize,textColor:a.textColor,backgroundColor:a.backgroundColor,isActive:a.isActive}:{text:"",icon:"Star",fontSize:"sm",textColor:"#FFFFFF",backgroundColor:"#4F46E5",isActive:!0})},[a]);const c=async d=>{d.preventDefault(),l(!0);try{await r(s),t()}catch(u){}finally{l(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Announcement":"Add Announcement"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Announcement Text"}),n.jsx("input",{type:"text",required:!0,maxLength:100,value:s.text,onChange:d=>i(u=>({...u,text:d.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter announcement text"}),n.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[100-s.text.length," characters remaining"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icon"}),n.jsx("select",{value:s.icon,onChange:d=>i(u=>({...u,icon:d.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:eRe.map(d=>n.jsx("option",{value:d,children:d},d))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Size"}),n.jsx("select",{value:s.fontSize,onChange:d=>i(u=>({...u,fontSize:d.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:tRe.map(d=>n.jsx("option",{value:d.value,children:d.label},d.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Text Color"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("input",{type:"color",value:s.textColor,onChange:d=>i(u=>({...u,textColor:d.target.value})),className:"h-10 w-20"}),n.jsx("input",{type:"text",value:s.textColor,onChange:d=>i(u=>({...u,textColor:d.target.value})),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#FFFFFF",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("input",{type:"color",value:s.backgroundColor,onChange:d=>i(u=>({...u,backgroundColor:d.target.value})),className:"h-10 w-20"}),n.jsx("input",{type:"text",value:s.backgroundColor,onChange:d=>i(u=>({...u,backgroundColor:d.target.value})),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#4F46E5",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:d=>i(u=>({...u,isActive:d.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active Announcement"})]}),n.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:s.backgroundColor},children:n.jsx("p",{className:`text-${s.fontSize} text-center`,style:{color:s.textColor},children:s.text||"Preview text"})}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:o?"Saving...":a?"Update":"Create"})]})]})]})]})}):null}function nRe(){const[e,t]=N.useState([]),[r,a]=N.useState(!1),[s,i]=N.useState(null),[o,l]=N.useState(!0);N.useEffect(()=>{c()},[]);const c=async()=>{try{const m=await ue.get("/announcements");t(m.data)}catch(m){z.error("Failed to fetch announcements")}finally{l(!1)}},d=async m=>{try{const p=await ue.post("/announcements",{...m,order:e.length});t([...e,p.data]),z.success("Announcement created successfully"),a(!1)}catch(p){z.error("Failed to create announcement")}},u=async(m,p)=>{try{const x=await ue.put(`/announcements/${m}`,p);t(e.map(y=>y._id===m?x.data:y)),z.success("Announcement updated successfully"),a(!1),i(null)}catch(x){z.error("Failed to update announcement")}},f=async m=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{await ue.delete(`/announcements/${m}`),t(e.filter(p=>p._id!==m)),z.success("Announcement deleted successfully")}catch(p){z.error("Failed to delete announcement")}},h=async m=>{if(!m.destination)return;const p=Array.from(e),[x]=p.splice(m.source.index,1);p.splice(m.destination.index,0,x);const y=p.map((v,w)=>({...v,order:w}));t(y);try{await ue.put("/announcements/reorder",{announcements:y.map(v=>({id:v._id,order:v.order}))})}catch(v){z.error("Failed to update announcement order"),c()}};return o?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Announcements"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage sliding text announcements shown at the top of the page."})]}),n.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Announcement"]})]}),n.jsx(QDe,{announcements:e,onEdit:m=>{i(m),a(!0)},onDelete:f,onDragEnd:h}),n.jsx(rRe,{isOpen:r,onClose:()=>{a(!1),i(null)},onSubmit:s?m=>u(s._id,m):d,announcement:s})]})}function aRe(){const e=Nd(),t=e.pathname.split("/").filter(Boolean),r=g8.find(a=>a.path===e.pathname||a.path===`/admin/${t[t.length-1]}`);return n.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Vn,{to:"/admin",className:"text-gray-500 hover:text-gray-700 flex items-center",children:n.jsx(v6,{className:"w-4 h-4"})}),n.jsx(_f,{className:"w-4 h-4 text-gray-400"}),r&&n.jsx("span",{className:"text-gray-900 font-medium",children:r.name})]})}function m8({title:e,description:t,children:r}){return n.jsxs("div",{className:"mb-8",children:[n.jsx(aRe,{}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e}),t&&n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t})]}),r&&n.jsx("div",{className:"flex items-center gap-4",children:r})]})]})}function sRe(){const[e,t]=ne.useState([]),[r,a]=ne.useState(!0),[s,i]=ne.useState(!1),[o,l]=ne.useState(null);ne.useEffect(()=>{c()},[]);const c=async()=>{a(!0);try{const m=await ue.getWithRetry("/banners");t(m.data||[])}catch(m){z.error("Failed to fetch banners")}finally{a(!1)}},d=async m=>{var p;try{let x=m.imageUrl;!x&&m.file&&(x=await Ys(m.file));const y=await ue.postWithRetry("/banners",{title:m.title,imageUrl:x,linkUrl:m.linkUrl||"",isActive:(p=m.isActive)!=null?p:!0,startDate:m.startDate||null,endDate:m.endDate||null});t(v=>[...v,y.data]),z.success("Banner created")}catch(x){throw z.error("Failed to create banner"),x}},u=async(m,p)=>{try{let x=p.imageUrl;p.file&&(x=await Ys(p.file));const y=await ue.putWithRetry(`/banners/${m}`,{...p,imageUrl:x});t(v=>v.map(w=>w._id===m?y.data:w)),z.success("Banner updated")}catch(x){throw z.error("Failed to update banner"),x}},f=async m=>{if(window.confirm("Delete this banner?"))try{await ue.deleteWithRetry(`/banners/${m}`),t(p=>p.filter(x=>x._id!==m)),z.success("Banner deleted")}catch(p){z.error("Failed to delete banner")}},h=async m=>{if(!m.destination)return;const p=Array.from(e),[x]=p.splice(m.source.index,1);p.splice(m.destination.index,0,x);const y=p.map((v,w)=>({...v,order:w}));t(y);try{await ue.putWithRetry("/banners/reorder",{banners:y.map(v=>({id:v._id,order:v.order}))})}catch(v){z.error("Failed to save order"),c()}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(m8,{title:"Banners",description:"Manage promotional banners displayed on your storefront.",children:n.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 transition-colors",onClick:()=>{l(null),i(!0)},children:[n.jsx(fr,{className:"w-4 h-4"}),"New Banner"]})}),r?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsx(xc,{onDragEnd:h,children:n.jsx(vc,{droppableId:"banners",children:m=>n.jsxs("div",{ref:m.innerRef,...m.droppableProps,className:"space-y-4",children:[e.map((p,x)=>n.jsx(yc,{draggableId:p._id,index:x,children:y=>n.jsx("div",{ref:y.innerRef,...y.draggableProps,className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsxs("div",{className:"p-4 flex items-center gap-4",children:[n.jsx("div",{...y.dragHandleProps,className:"cursor-move text-gray-400 hover:text-gray-600",children:n.jsx(cc,{className:"w-5 h-5"})}),n.jsx("div",{className:"w-24 h-16 bg-gray-100 rounded overflow-hidden flex items-center justify-center",children:p.imageUrl?n.jsx("img",{src:p.imageUrl,alt:p.title,className:"w-full h-full object-cover"}):n.jsx(zn,{className:"w-6 h-6 text-gray-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:p.title}),n.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.isActive?"Active":"Inactive"}),p.linkUrl?n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(N6,{className:"w-4 h-4"})," ",p.linkUrl]}):null]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{l(p),i(!0)},className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:n.jsx(No,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>f(p._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(en,{className:"w-5 h-5"})})]})]})})},p._id)),m.placeholder]})})}),s&&n.jsx(iRe,{banner:o,onClose:()=>{i(!1),l(null)},onSubmit:async m=>{o?await u(o._id,m):await d(m),i(!1),l(null)}})]})}function iRe({banner:e,onClose:t,onSubmit:r}){var u;const[a,s]=ne.useState({title:(e==null?void 0:e.title)||"",imageUrl:(e==null?void 0:e.imageUrl)||"",linkUrl:(e==null?void 0:e.linkUrl)||"",isActive:(u=e==null?void 0:e.isActive)!=null?u:!0,startDate:(e==null?void 0:e.startDate)||"",endDate:(e==null?void 0:e.endDate)||""}),[i,o]=ne.useState(null),[l,c]=ne.useState(!1),d=async f=>{f.preventDefault(),c(!0);try{await r({...a,file:i})}finally{c(!1)}};return n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-lg w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Banner":"New Banner"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:"×"})]}),n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{className:"w-full px-4 py-2 border rounded-lg",value:a.title,onChange:f=>s(h=>({...h,title:f.target.value})),required:!0,maxLength:150})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link URL (optional)"}),n.jsx("input",{className:"w-full px-4 py-2 border rounded-lg",value:a.linkUrl,onChange:f=>s(h=>({...h,linkUrl:f.target.value})),placeholder:"https://example.com"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),n.jsx("input",{type:"date",className:"w-full px-4 py-2 border rounded-lg",value:a.startDate?a.startDate.substring(0,10):"",onChange:f=>s(h=>({...h,startDate:f.target.value}))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),n.jsx("input",{type:"date",className:"w-full px-4 py-2 border rounded-lg",value:a.endDate?a.endDate.substring(0,10):"",onChange:f=>s(h=>({...h,endDate:f.target.value}))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:f=>{var h;return o(((h=f.target.files)==null?void 0:h[0])||null)}}),a.imageUrl&&n.jsx("img",{src:a.imageUrl,alt:"preview",className:"h-12 rounded border"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{id:"isActive",type:"checkbox",checked:a.isActive,onChange:f=>s(h=>({...h,isActive:f.target.checked}))}),n.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"Active"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",className:"px-4 py-2 border rounded-lg",onClick:t,children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg disabled:opacity-50",disabled:l,children:l?"Saving...":e?"Update":"Create"})]})]})]})]})})}function id({fallbackSrc:e="/placeholder-image.svg",onError:t,src:r,...a}){const[s,i]=ne.useState(!1),[o,l]=ne.useState(!1),c=ne.useMemo(()=>r?typeof r=="string"&&(r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")||r.startsWith("blob:"))?r:la(typeof r=="string"?r:void 0)||e:e,[r,e]),d=f=>{s||(console.warn("SafeImage: Failed to load image:",c,"Falling back to:",e),i(!0),f.currentTarget.src=e),t&&t(f)},u=()=>{l(!0)};return n.jsx("img",{...a,src:c,onError:d,onLoad:u})}function oRe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState({name:"",isActive:!0,order:0}),[o,l]=N.useState(!1),c=async()=>{a(!0);try{const h=await ue.getWithRetry($r.BRANDS.LIST);t(h.data||[])}catch(h){z.error("Failed to load brands")}finally{a(!1)}};N.useEffect(()=>{c()},[]);const d=async()=>{try{s._id?(await ue.putWithRetry($r.BRANDS.UPDATE(s._id),s),z.success("Brand updated")):(await ue.postWithRetry($r.BRANDS.CREATE,s),z.success("Brand created")),i({name:"",isActive:!0,order:0}),c()}catch(h){z.error("Failed to save brand")}},u=async h=>{if(h&&confirm("Delete this brand?"))try{await ue.deleteWithRetry($r.BRANDS.DELETE(h)),z.success("Brand deleted"),c()}catch(m){z.error("Failed to delete brand")}},f=async h=>{l(!0);try{const m=await Nb(h,{folder:"brands",tags:["brand","logo"]});i(p=>({...p,imageUrl:m})),z.success("Logo uploaded to Cloudinary"),l(!1);return}catch(m){console.warn("Cloudinary upload failed, falling back to local upload",m)}try{const m=new FormData;m.append("file",h);const p=await ue.postWithRetry($r.BRANDS.UPLOAD,m,{headers:{"Content-Type":"multipart/form-data"}});i(x=>({...x,imageUrl:p.data.url})),z.success("Logo uploaded")}catch(m){z.error("Upload failed")}finally{l(!1)}};return n.jsxs("div",{className:"p-4",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Brands"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border rounded-lg mb-6",children:[n.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Brand name",value:s.name,onChange:h=>i({...s,name:h.target.value})}),n.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Link URL (optional)",value:s.linkUrl||"",onChange:h=>i({...s,linkUrl:h.target.value})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"number",className:"border rounded px-3 py-2 w-28",value:s.order,onChange:h=>i({...s,order:Number(h.target.value)})}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:s.isActive,onChange:h=>i({...s,isActive:h.target.checked})}),n.jsx("span",{children:"Active"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:h=>h.target.files&&f(h.target.files[0])}),o&&n.jsx("span",{className:"text-sm text-gray-500",children:"Uploading..."}),s.imageUrl&&n.jsx(id,{src:s.imageUrl,alt:"logo",className:"h-10"})]}),n.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[n.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:d,children:"Save"}),n.jsx("button",{className:"px-4 py-2 border rounded",onClick:()=>i({name:"",isActive:!0,order:0}),children:"Reset"})]})]}),r?n.jsx("div",{children:"Loading…"}):n.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:e.map(h=>n.jsxs("div",{className:`border rounded p-3 flex items-center justify-between ${h.isActive?"":"opacity-60"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[h.imageUrl?n.jsx(id,{src:h.imageUrl,className:"h-8"}):n.jsx("div",{className:"h-8 w-16 bg-gray-200"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:h.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["order ",h.order,h.linkUrl?` • ${h.linkUrl}`:""]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>i(h),children:"Edit"}),n.jsx("button",{className:"px-2 py-1 border rounded text-red-600",onClick:()=>u(h._id),children:"Delete"})]})]},h._id))})]})}function lRe({backgrounds:e,onEdit:t,onDelete:r,onDragEnd:a}){const s=i=>{switch(i.type){case"color":return{backgroundColor:i.value};case"gradient":return{backgroundImage:i.value};case"pattern":return{backgroundImage:`url(${i.value})`,backgroundSize:"cover"};default:return{}}};return n.jsx(xc,{onDragEnd:a,children:n.jsx(vc,{droppableId:"backgrounds",children:i=>n.jsxs("div",{...i.droppableProps,ref:i.innerRef,className:"space-y-4",children:[e.map((o,l)=>n.jsx(yc,{draggableId:o._id,index:l,children:c=>n.jsx("div",{ref:c.innerRef,...c.draggableProps,className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsxs("div",{className:"p-4 flex items-center gap-4",children:[n.jsx("div",{...c.dragHandleProps,className:"cursor-move text-gray-400 hover:text-gray-600",children:n.jsx(cc,{className:"w-5 h-5"})}),n.jsx("div",{className:"w-16 h-16 rounded-lg",style:s(o)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:o.name}),n.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:o.isActive?"Active":"Inactive"}),n.jsxs("span",{className:"text-sm text-gray-500 capitalize",children:["Type: ",o.type]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>t(o),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:n.jsx(No,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r(o._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(en,{className:"w-5 h-5"})})]})]})})},o._id)),i.placeholder]})})})}function cRe({isOpen:e,onClose:t,onSubmit:r,background:a}){const[s,i]=N.useState({name:"",type:"color",value:"",isActive:!1}),[o,l]=N.useState(!1),[c,d]=N.useState(!1);N.useEffect(()=>{i(a?{name:a.name,type:a.type,value:a.value,isActive:a.isActive}:{name:"",type:"color",value:"",isActive:!1})},[a]);const u=async f=>{f.preventDefault(),l(!0);try{await r(s),t()}catch(h){}finally{l(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Background":"Add Background"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",required:!0,value:s.name,onChange:f=>i(h=>({...h,name:f.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter background name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),n.jsxs("select",{value:s.type,onChange:f=>i(h=>({...h,type:f.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"color",children:"Solid Color"}),n.jsx("option",{value:"gradient",children:"Gradient"}),n.jsx("option",{value:"pattern",children:"Pattern"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s.type==="color"?"Color":s.type==="gradient"?"Gradient CSS":"Pattern URL"}),s.type==="color"?n.jsx("input",{type:"color",value:s.value,onChange:f=>i(h=>({...h,value:f.target.value})),className:"w-full h-12 p-1 border border-gray-300 rounded-lg"}):n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",value:s.value,onChange:f=>i(h=>({...h,value:f.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:s.type==="gradient"?"linear-gradient(to right, #4f46e5, #7c3aed)":"https://example.com/pattern-or-upload-image"}),s.type==="pattern"&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"file",accept:"image/*",id:"patternUpload",className:"hidden",onChange:async f=>{var m;const h=(m=f.target.files)==null?void 0:m[0];if(h){d(!0);try{const p=await Ys(h);i(x=>({...x,value:p}))}catch(p){console.error("Upload failed",p),alert("Image upload failed")}finally{d(!1)}}}}),n.jsx("label",{htmlFor:"patternUpload",className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium bg-indigo-600 text-white rounded-lg cursor-pointer hover:bg-indigo-700 disabled:opacity-50",children:c?"Uploading...":"Upload Image"}),s.value&&s.value.startsWith("http")&&n.jsx("img",{src:s.value,alt:"Preview",className:"h-10 w-10 rounded object-cover border"})]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:f=>i(h=>({...h,isActive:f.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active Background"})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:o?"Saving...":a?"Update":"Create"})]})]})]})]})}):null}function dRe(){const[e,t]=N.useState([]),[r,a]=N.useState(!1),[s,i]=N.useState(null),[o,l]=N.useState(!0);N.useEffect(()=>{c()},[]);const c=async()=>{try{const m=await ue.get("/backgrounds");t(m.data)}catch(m){z.error("Failed to fetch backgrounds")}finally{l(!1)}},d=async m=>{try{const p=await ue.post("/backgrounds",{...m,order:e.length});t([...e,p.data]),z.success("Background created successfully"),a(!1)}catch(p){z.error("Failed to create background")}},u=async(m,p)=>{try{const x=await ue.put(`/backgrounds/${m}`,p);t(e.map(y=>y._id===m?x.data:y)),z.success("Background updated successfully"),a(!1),i(null)}catch(x){z.error("Failed to update background")}},f=async m=>{if(window.confirm("Are you sure you want to delete this background?"))try{await ue.delete(`/backgrounds/${m}`),t(e.filter(p=>p._id!==m)),z.success("Background deleted successfully")}catch(p){z.error("Failed to delete background")}},h=async m=>{if(!m.destination)return;const p=Array.from(e),[x]=p.splice(m.source.index,1);p.splice(m.destination.index,0,x);const y=p.map((v,w)=>({...v,order:w}));t(y);try{await ue.put("/backgrounds/reorder",{backgrounds:y.map(v=>({id:v._id,order:v.order}))})}catch(v){z.error("Failed to update background order"),c()}};return o?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Background Management"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Customize the website's background appearance."})]}),n.jsxs("button",{onClick:()=>{i(null),a(!0)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Background"]})]}),n.jsx(lRe,{backgrounds:e,onEdit:m=>{i(m),a(!0)},onDelete:f,onDragEnd:h}),n.jsx(cRe,{isOpen:r,onClose:()=>{a(!1),i(null)},onSubmit:s?m=>u(s._id,m):d,background:s})]})}function uRe({isOpen:e,onClose:t,onSubmit:r}){const[a,s]=N.useState([]),[i,o]=N.useState(""),[l,c]=N.useState([]),[d,u]=N.useState(""),[f,h]=N.useState(!1),[m,p]=N.useState({product:"",size:"",color:"",quantity:0,location:"Main Warehouse",lowStockThreshold:5});N.useEffect(()=>{const j=async()=>{try{const C=await ue.getWithRetry("/products");c(C.data)}catch(C){z.error("Failed to fetch products")}},A=async()=>{try{const C=await ue.getWithRetry("/warehouses");s(C.data),C.data.length>0&&o(C.data[0]._id)}catch(C){z.error("Failed to fetch warehouses")}};e&&(j(),A())},[e]);const x=l.find(j=>j._id===m.product),y=x&&Array.isArray(x.colors)?Array.from(new Set(x.colors.flatMap(j=>Array.isArray(j.sizes)?j.sizes.map(A=>A.name):[]))).map(j=>({name:j})):[],v=l.filter(j=>j.name.toLowerCase().includes(d.toLowerCase())),w=async j=>{if(j.preventDefault(),!m.product){z.error("Please select a product");return}if(!m.size||!m.color){z.error("Size and color are required");return}if(!i){z.error("Warehouse is required");return}if(m.quantity<0){z.error("Quantity cannot be negative");return}if(m.lowStockThreshold<1){z.error("Low stock threshold must be at least 1");return}h(!0);try{const A={product:m.product,size:m.size.trim(),color:m.color.trim(),quantity:parseInt(m.quantity.toString())||0,location:m.location.trim(),lowStockThreshold:parseInt(m.lowStockThreshold.toString())||5,warehouse:i};console.log("Submitting inventory payload:",A),await r(A),p({product:"",size:"",color:"",quantity:0,location:"Main Warehouse",lowStockThreshold:5}),t()}catch(A){console.error("Error submitting inventory:",A),z.error(A.message||"Failed to add inventory")}finally{h(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add Inventory"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:w,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Product"}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"search",placeholder:"Search products...",value:d,onChange:j=>u(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-lg divide-y",children:v.map(j=>{const A=Array.isArray(j.colors)?Array.from(new Set(j.colors.flatMap(C=>Array.isArray(C.sizes)?C.sizes.map(S=>S.name):[]))):[];return n.jsxs("label",{className:`flex items-center p-3 cursor-pointer hover:bg-gray-50 ${m.product===j._id?"bg-indigo-50":""}`,children:[n.jsx("input",{type:"radio",name:"product",value:j._id,checked:m.product===j._id,onChange:C=>p(S=>({...S,product:C.target.value,size:"",color:""})),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"font-medium text-gray-900",children:j.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[A.length," sizes • ",Array.isArray(j.colors)?j.colors.length:0," colors"]})]})]},j._id)})})]}),x&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),n.jsxs("select",{value:m.size,onChange:j=>p(A=>({...A,size:j.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[n.jsx("option",{value:"",children:"Select Size"}),y.map(j=>n.jsx("option",{value:j.name,children:j.name},j.name))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),n.jsxs("select",{value:m.color,onChange:j=>p(A=>({...A,color:j.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[n.jsx("option",{value:"",children:"Select Color"}),(Array.isArray(x.colors)?x.colors:[]).map(j=>n.jsx("option",{value:j.name,children:j.name},j.name))]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",min:"0",value:m.quantity,onChange:j=>p(A=>({...A,quantity:parseInt(j.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Low Stock Alert"}),n.jsx("input",{type:"number",min:"1",value:m.lowStockThreshold,onChange:j=>p(A=>({...A,lowStockThreshold:parseInt(j.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warehouse"}),n.jsx("select",{value:i,onChange:j=>o(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:a.map(j=>n.jsx("option",{value:j._id,children:j.name},j._id))})]})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:f||!m.product,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:f?"Adding...":"Add Inventory"})]})]})]})]})}):null}function fRe({isOpen:e,onClose:t,onSubmit:r,item:a}){const[s,i]=N.useState({product:"",size:"",color:"",quantity:0,location:"",lowStockThreshold:5}),[o,l]=N.useState(!1);N.useEffect(()=>{i(a?{product:a.product._id,size:a.size,color:a.color,quantity:a.quantity,location:a.location,lowStockThreshold:5}:{product:"",size:"",color:"",quantity:0,location:"",lowStockThreshold:5})},[a]);const c=async d=>{d.preventDefault(),l(!0);try{await r(s),t()}catch(u){}finally{l(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a?"Update Inventory":"Add Inventory"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),n.jsx("input",{type:"number",min:"0",required:!0,value:s.quantity,onChange:d=>i(u=>({...u,quantity:parseInt(d.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),!a&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),n.jsx("input",{type:"text",required:!0,value:s.size,onChange:d=>i(u=>({...u,size:d.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),n.jsx("input",{type:"text",required:!0,value:s.color,onChange:d=>i(u=>({...u,color:d.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),n.jsx("input",{type:"text",required:!0,value:s.location,onChange:d=>i(u=>({...u,location:d.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Warehouse A, Shelf B3"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Low Stock Threshold"}),n.jsx("input",{type:"number",min:"1",required:!0,value:s.lowStockThreshold,onChange:d=>i(u=>({...u,lowStockThreshold:parseInt(d.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:o?"Saving...":a?"Update":"Create"})]})]})]})]})}):null}function hRe({item:e,onInlineEdit:t}){const[r,a]=N.useState(!1),[s,i]=N.useState(e.quantity);return r?n.jsxs("span",{children:[n.jsx("input",{type:"number",className:"border rounded px-2 py-1 w-20",value:s,min:0,onChange:o=>i(Number(o.target.value))}),n.jsx("button",{className:"ml-2 text-green-600",onClick:()=>{t(e,s),a(!1)},children:"Save"}),n.jsx("button",{className:"ml-1 text-gray-500",onClick:()=>{a(!1),i(e.quantity)},children:"Cancel"})]}):n.jsxs("span",{children:[e.quantity,n.jsx("button",{className:"ml-2 text-indigo-600",onClick:()=>a(!0),children:"Edit"})]})}function mRe({items:e,onEdit:t,onInlineEdit:r}){const a=s=>{switch(s){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[n.jsx(Ur,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Inventory Items"}),n.jsx("p",{className:"text-gray-500",children:"No inventory items found."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size/Color"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(s=>{var i;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:(i=s.product.images)!=null&&i[0]?n.jsx("img",{src:s.product.images[0],alt:s.product.name,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center",children:n.jsx(rr,{className:"w-6 h-6 text-gray-400"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.product.name}),n.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["ID: ",s.product._id]})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:s.size}),n.jsx("div",{className:"text-sm text-gray-500",children:s.color})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(hRe,{item:s,onInlineEdit:r})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a(s.status)}`,children:s.status.replace("_"," ").toUpperCase()})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.location}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Co(new Date(s.lastUpdated),{addSuffix:!0})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("button",{onClick:()=>t(s),className:"text-indigo-600 hover:text-indigo-900",children:n.jsx(M2,{className:"w-5 h-5"})})})]},s._id)})})]})})}function pRe({searchQuery:e,onSearchChange:t,statusFilter:r,onStatusChange:a,locationFilter:s,onLocationChange:i,locations:o}){return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"search",placeholder:"Search inventory...",value:e,onChange:l=>t(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("select",{value:r,onChange:l=>a(l.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"in_stock",children:"In Stock"}),n.jsx("option",{value:"low_stock",children:"Low Stock"}),n.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]}),n.jsxs("select",{value:s,onChange:l=>i(l.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"All Locations"}),o.map(l=>n.jsx("option",{value:l,children:l},l))]})]})}function gRe({data:e}){const{currency:t}=Ta(),r=(s,i)=>i==="value"?[lt(s,t),"Inventory Value"]:[s,i],a=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"});return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Inventory Value Trend"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last ",e.length," data points"]})]}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(TR,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"date",tickFormatter:a,tick:{fontSize:12}}),n.jsx(_a,{tickFormatter:s=>lt(s,t),tick:{fontSize:12}}),n.jsx(Br,{formatter:r,labelFormatter:s=>new Date(s).toLocaleDateString(),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),n.jsx(Hf,{type:"monotone",dataKey:"value",stroke:"#4f46e5",strokeWidth:2,dot:{fill:"#4f46e5",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#4f46e5",strokeWidth:2}})]})})}),e.length===0&&n.jsx("div",{className:"h-80 flex items-center justify-center text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-medium",children:"No data available"}),n.jsx("p",{className:"text-sm",children:"Inventory value data will appear here once available"})]})})]})}function W5({data:e,detailed:t=!1}){const r=ne.useMemo(()=>{const i=e.reduce((o,l)=>{const c=Ba(J3(l.date),"yyyy-MM-dd");return o[c]||(o[c]={date:c,increase:0,decrease:0,net:0}),l.type==="increase"?(o[c].increase+=l.quantity,o[c].net+=l.quantity):(o[c].decrease+=l.quantity,o[c].net-=l.quantity),o},{});return Object.values(i).sort((o,l)=>new Date(o.date).getTime()-new Date(l.date).getTime())},[e]),a=i=>Ba(new Date(i),"MMM dd"),s=(i,o)=>[i,{increase:"Stock Added",decrease:"Stock Removed",net:"Net Change"}[o]||o];return t?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stock Movement Details"}),n.jsxs("div",{className:"text-sm text-gray-500",children:[e.length," movements"]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"h-96 mb-6",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"date",tickFormatter:a,tick:{fontSize:12}}),n.jsx(_a,{tick:{fontSize:12}}),n.jsx(Br,{formatter:s,labelFormatter:i=>Ba(new Date(i),"MMMM dd, yyyy"),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),n.jsx(Vl,{}),n.jsx(Fn,{dataKey:"increase",fill:"#10b981",name:"Stock Added"}),n.jsx(Fn,{dataKey:"decrease",fill:"#ef4444",name:"Stock Removed"})]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Recent Movements"}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.slice(0,10).map((i,o)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${i.type==="increase"?"bg-green-100":"bg-red-100"}`,children:i.type==="increase"?n.jsx(f6,{className:"w-4 h-4 text-green-600"}):n.jsx(vG,{className:"w-4 h-4 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:i.product.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:[i.reason," • ",i.location]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`font-medium ${i.type==="increase"?"text-green-600":"text-red-600"}`,children:[i.type==="increase"?"+":"-",i.quantity]}),n.jsx("p",{className:"text-sm text-gray-500",children:Ba(J3(i.date),"MMM dd, HH:mm")})]})]},o))})]})]})]}):n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stock Movements"}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(od,{className:"w-4 h-4"}),"Last ",r.length," days"]})]}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:r,margin:{top:5,right:30,left:20,bottom:5},children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"date",tickFormatter:a,tick:{fontSize:12}}),n.jsx(_a,{tick:{fontSize:12}}),n.jsx(Br,{formatter:s,labelFormatter:i=>Ba(new Date(i),"MMMM dd, yyyy"),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),n.jsx(Fn,{dataKey:"increase",fill:"#10b981"}),n.jsx(Fn,{dataKey:"decrease",fill:"#ef4444"})]})})}),r.length===0&&n.jsx("div",{className:"h-80 flex items-center justify-center text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-medium",children:"No movement data"}),n.jsx("p",{className:"text-sm",children:"Stock movement data will appear here once available"})]})})]})}function xRe({data:e}){const t=i=>{switch(i){case"healthy":return n.jsx(jn,{className:"w-5 h-5 text-green-500"});case"fast_moving":return n.jsx(Nn,{className:"w-5 h-5 text-blue-500"});case"slow_moving":return n.jsx(ro,{className:"w-5 h-5 text-yellow-500"});case"dead_stock":return n.jsx(Ur,{className:"w-5 h-5 text-red-500"});default:return n.jsx(Ur,{className:"w-5 h-5 text-gray-500"})}},r=i=>{switch(i){case"healthy":return"bg-green-100 text-green-800";case"fast_moving":return"bg-blue-100 text-blue-800";case"slow_moving":return"bg-yellow-100 text-yellow-800";case"dead_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=[...e].sort((i,o)=>o.turnoverRate-i.turnoverRate),s={healthy:e.filter(i=>i.status==="healthy").length,fastMoving:e.filter(i=>i.status==="fast_moving").length,slowMoving:e.filter(i=>i.status==="slow_moving").length,deadStock:e.filter(i=>i.status==="dead_stock").length,avgTurnover:e.reduce((i,o)=>i+o.turnoverRate,0)/e.length||0};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Healthy Stock"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.healthy})]}),n.jsx(jn,{className:"w-8 h-8 text-green-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Fast Moving"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.fastMoving})]}),n.jsx(Nn,{className:"w-8 h-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Slow Moving"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:s.slowMoving})]}),n.jsx(ro,{className:"w-8 h-8 text-yellow-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dead Stock"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.deadStock})]}),n.jsx(Ur,{className:"w-8 h-8 text-red-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Turnover"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[s.avgTurnover.toFixed(1),"x"]})]}),n.jsx(Nn,{className:"w-8 h-8 text-gray-500"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Turnover Analysis"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Analyze product performance and identify optimization opportunities"})]}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Turnover Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days in Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reorder Point"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((i,o)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"font-medium text-gray-900",children:i.product.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.product.category}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:i.currentStock}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Avg: ",i.averageStock]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[i.turnoverRate.toFixed(2),"x"]}),o<3&&n.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:["Top ",o+1]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[i.daysInStock," days"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[t(i.status),n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${r(i.status)}`,children:i.status.replace("_"," ")})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.reorderPoint})]},i.product._id))})]}),e.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ur,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Turnover Data"}),n.jsx("p",{className:"text-gray-500",children:"Turnover analysis will appear here once sales data is available"})]})]})]})]})}const bx=["#4f46e5","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1"];function yRe({data:e}){const{currency:t}=Ta(),r=(o,l)=>l==="totalValue"?[lt(o,t),"Total Value"]:l==="percentageOfTotal"?[`${o.toFixed(1)}%`,"Percentage"]:[o,l],a=[...e].sort((o,l)=>l.totalValue-o.totalValue),s=e.reduce((o,l)=>o+l.totalValue,0),i=e.reduce((o,l)=>o+l.totalItems,0);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Overview"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Categories"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:lt(s,t)}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.toLocaleString()}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Value Distribution"}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(JS,{children:[n.jsx(so,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:({category:o,percentageOfTotal:l})=>`${o} (${l.toFixed(1)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"totalValue",children:e.map((o,l)=>n.jsx(_d,{fill:bx[l%bx.length]},`cell-${l}`))}),n.jsx(Br,{formatter:r})]})})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Turnover Rates by Category"}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"category",tick:{fontSize:11},angle:-45,textAnchor:"end",height:80}),n.jsx(_a,{tick:{fontSize:12}}),n.jsx(Br,{formatter:(o,l)=>l==="turnoverRate"?[`${o.toFixed(2)}x`,"Turnover Rate"]:[o,l],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),n.jsx(Fn,{dataKey:"turnoverRate",fill:"#4f46e5"})]})})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsx("h4",{className:"text-md font-semibold text-gray-900",children:"Category Performance Details"})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Count"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"% of Total"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Turnover Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit Margin"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((o,l)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:bx[l%bx.length]}}),n.jsx("span",{className:"font-medium text-gray-900",children:o.category})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:lt(o.totalValue,t)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.totalItems.toLocaleString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${o.percentageOfTotal}%`}})}),n.jsxs("span",{className:"text-sm text-gray-600",children:[o.percentageOfTotal.toFixed(1),"%"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-medium ${o.turnoverRate>=2?"text-green-600":o.turnoverRate>=1?"text-yellow-600":"text-red-600"}`,children:[o.turnoverRate.toFixed(2),"x"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-medium ${o.profitMargin>=30?"text-green-600":o.profitMargin>=15?"text-yellow-600":"text-red-600"}`,children:[o.profitMargin.toFixed(1),"%"]})})]},o.category))})]}),e.length===0&&n.jsx("div",{className:"text-center py-12",children:n.jsxs("div",{className:"text-gray-500",children:[n.jsx("p",{className:"text-lg font-medium",children:"No category data available"}),n.jsx("p",{className:"text-sm",children:"Category breakdown will appear here once data is available"})]})})]})]})]})}function vRe({data:e}){const{currency:t}=Ta(),r=(c,d)=>d==="totalValue"?[lt(c,t),"Total Value"]:d==="utilizationRate"?[`${c.toFixed(1)}%`,"Utilization Rate"]:d==="averageTurnover"?[`${c.toFixed(2)}x`,"Average Turnover"]:[c,d],a=[...e].sort((c,d)=>d.totalValue-c.totalValue),s=[...e].sort((c,d)=>d.utilizationRate-c.utilizationRate),i=e.reduce((c,d)=>c+d.totalValue,0);e.reduce((c,d)=>c+d.totalItems,0);const o=e.reduce((c,d)=>c+d.alertCount,0),l=e.reduce((c,d)=>c+d.utilizationRate,0)/e.length||0;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Locations"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),n.jsx(Vs,{className:"w-8 h-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:lt(i,t)})]}),n.jsx(rr,{className:"w-8 h-8 text-green-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Utilization"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(1),"%"]})]}),n.jsx(Nn,{className:"w-8 h-8 text-purple-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Alerts"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o})]}),n.jsx(Ur,{className:"w-8 h-8 text-red-500"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Inventory Value by Location"}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:a,margin:{top:20,right:30,left:20,bottom:60},children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"location",tick:{fontSize:11},angle:-45,textAnchor:"end",height:80}),n.jsx(_a,{tick:{fontSize:12},tickFormatter:c=>lt(c,t)}),n.jsx(Br,{formatter:r,contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),n.jsx(Fn,{dataKey:"totalValue",fill:"#4f46e5"})]})})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Location Utilization Rates"}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:s,margin:{top:20,right:30,left:20,bottom:60},children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"location",tick:{fontSize:11},angle:-45,textAnchor:"end",height:80}),n.jsx(_a,{tick:{fontSize:12},tickFormatter:c=>`${c}%`}),n.jsx(Br,{formatter:r,contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),n.jsx(Fn,{dataKey:"utilizationRate",fill:c=>c.utilizationRate>=80?"#10b981":c.utilizationRate>=60?"#f59e0b":"#ef4444"})]})})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b",children:n.jsx("h4",{className:"text-md font-semibold text-gray-900",children:"Location Performance Details"})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items Count"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilization Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Turnover"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Alerts"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((c,d)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vs,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"font-medium text-gray-900",children:c.location}),d===0&&n.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Highest Value"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:lt(c.totalValue,t)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.totalItems.toLocaleString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${c.utilizationRate>=80?"bg-green-500":c.utilizationRate>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(c.utilizationRate,100)}%`}})}),n.jsxs("span",{className:`text-sm font-medium ${c.utilizationRate>=80?"text-green-600":c.utilizationRate>=60?"text-yellow-600":"text-red-600"}`,children:[c.utilizationRate.toFixed(1),"%"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-medium ${c.averageTurnover>=2?"text-green-600":c.averageTurnover>=1?"text-yellow-600":"text-red-600"}`,children:[c.averageTurnover.toFixed(2),"x"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.alertCount>0?n.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[n.jsx(Ur,{className:"w-4 h-4"}),c.alertCount]}):n.jsx("span",{className:"text-green-600",children:"None"})})]},c.location))})]}),e.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Vs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Location Data"}),n.jsx("p",{className:"text-gray-500",children:"Location analysis will appear here once inventory is distributed across locations"})]})]})]})]})}function bRe({alerts:e}){const t=[{key:"lowStock",title:"Low Stock Alerts",icon:Ur,color:"amber",data:e.lowStock||[],description:"Products running low on inventory"},{key:"outOfStock",title:"Out of Stock",icon:Wu,color:"red",data:e.outOfStock||[],description:"Products completely out of stock"},{key:"deadStock",title:"Dead Stock",icon:wn,color:"gray",data:e.deadStock||[],description:"Products not moving for extended periods"},{key:"overstock",title:"Overstock",icon:ro,color:"blue",data:e.overstock||[],description:"Products with excess inventory"}],r=s=>{const i={amber:{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-800",icon:"text-amber-500"},red:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:"text-red-500"},gray:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",icon:"text-gray-500"},blue:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:"text-blue-500"}};return i[s]||i.gray};return t.some(s=>s.data.length>0)?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Inventory Alerts"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Items requiring immediate attention"})]}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(s=>{if(s.data.length===0)return null;const i=s.icon,o=r(s.color);return n.jsxs("div",{className:`${o.bg} ${o.border} border rounded-lg p-4`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(i,{className:`w-5 h-5 ${o.icon}`}),n.jsxs("div",{children:[n.jsx("h4",{className:`font-medium ${o.text}`,children:s.title}),n.jsx("p",{className:"text-sm text-gray-600",children:s.description})]}),n.jsx("span",{className:`ml-auto px-2 py-1 text-xs font-medium rounded-full ${o.bg} ${o.text}`,children:s.data.length})]}),n.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[s.data.slice(0,5).map((l,c)=>n.jsxs("div",{className:"bg-white rounded p-3 text-sm",children:[s.key==="lowStock"&&n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:l.product}),n.jsx("p",{className:"text-gray-600",children:l.location})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`font-medium ${o.text}`,children:[l.currentStock," / ",l.threshold]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Current / Threshold"})]})]}),s.key==="outOfStock"&&n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:l.product}),n.jsx("p",{className:"text-gray-600",children:l.location})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Last sold: ",new Date(l.lastSold).toLocaleDateString()]})})]}),s.key==="deadStock"&&n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:l.product}),n.jsx("p",{className:"text-gray-600",children:l.location})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`font-medium ${o.text}`,children:[l.daysInStock," days"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Stock: ",l.currentStock]})]})]}),s.key==="overstock"&&n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:l.product}),n.jsx("p",{className:"text-gray-600",children:l.location})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`font-medium ${o.text}`,children:[l.currentStock," / ",l.averageDemand]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Current / Avg Demand"})]})]})]},c)),s.data.length>5&&n.jsx("div",{className:"text-center py-2",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["+",s.data.length-5," more items"]})})]})]},s.key)})})})]}):null}const wRe=e=>{const r=Math.floor((new Date().getTime()-e.getTime())/1e3);return r<60?"just now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:`${Math.floor(r/86400)}d ago`};function jRe({isRealTime:e,className:t=""}){const[r,a]=N.useState([]),[s,i]=N.useState(!1);N.useEffect(()=>{},[e]);const o=c=>{switch(c){case"stock_update":return n.jsx(rr,{className:"w-4 h-4"});case"low_stock_alert":return n.jsx(Ur,{className:"w-4 h-4"});case"out_of_stock":return n.jsx(Ur,{className:"w-4 h-4"});case"restock":return n.jsx(Nn,{className:"w-4 h-4"});case"order_processed":return n.jsx(ro,{className:"w-4 h-4"});default:return n.jsx(os,{className:"w-4 h-4"})}},l=c=>{switch(c){case"error":return"text-red-600 bg-red-50 border-red-200";case"warning":return"text-amber-600 bg-amber-50 border-amber-200";case"success":return"text-green-600 bg-green-50 border-green-200";default:return"text-blue-600 bg-blue-50 border-blue-200"}};return!e||r.length===0?null:n.jsx("div",{className:`${t}`,children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 cursor-pointer",onClick:()=>i(!s),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(os,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Live Activity Feed"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Real-time inventory updates"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[r.length>0&&n.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full animate-pulse",children:[r.length," recent"]}),n.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:s?"▼":"▶"})]})]})}),s&&n.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?n.jsxs("div",{className:"p-6 text-center text-gray-500",children:[n.jsx(os,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"No recent activity"})]}):n.jsx("div",{className:"divide-y divide-gray-100",children:r.map(c=>n.jsx("div",{className:`p-4 border-l-4 ${l(c.severity)} hover:bg-gray-50 transition-colors`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-1 rounded ${l(c.severity)}`,children:o(c.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:c.productName}),n.jsx("span",{className:"text-xs text-gray-500",children:wRe(c.timestamp)})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.message})]})]})},c.id))})})]})})}function NRe({data:e}){Ta();const{predictions:t,summary:r}=e,a=o=>{switch(o){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},s=o=>{switch(o){case"high":return n.jsx(Ur,{className:"w-4 h-4"});case"medium":return n.jsx(wn,{className:"w-4 h-4"});case"low":return n.jsx(Pu,{className:"w-4 h-4"});default:return n.jsx(rr,{className:"w-4 h-4"})}},i=o=>o?new Date(o).toLocaleDateString():"Not applicable";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalProducts})]}),n.jsx(rr,{className:"w-8 h-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"High Risk"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.highRisk})]}),n.jsx(Ur,{className:"w-8 h-8 text-red-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Medium Risk"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.mediumRisk})]}),n.jsx(wn,{className:"w-8 h-8 text-yellow-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Risk"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.lowRisk})]}),n.jsx(Pu,{className:"w-8 h-8 text-green-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Accuracy"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[Math.round(r.avgAccuracy*100),"%"]})]}),n.jsx(os,{className:"w-8 h-8 text-blue-500"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stock Predictions & Recommendations"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered demand forecasting and inventory optimization"})]}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Daily Demand"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trend"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stockout Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Level"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recommended Order"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accuracy"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(o=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.product.name}),n.jsx("div",{className:"text-sm text-gray-500",children:o.product.category})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.currentStock}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:o.avgDailyDemand}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Seasonal: ×",o.seasonalFactor.toFixed(2)]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:`flex items-center ${o.demandTrend>0?"text-green-600":o.demandTrend<0?"text-red-600":"text-gray-600"}`,children:[o.demandTrend>0?n.jsx(Nn,{className:"w-4 h-4 mr-1"}):o.demandTrend<0?n.jsx(ro,{className:"w-4 h-4 mr-1"}):null,n.jsxs("span",{className:"text-sm",children:[o.demandTrend>0?"+":"",(o.demandTrend*100).toFixed(1),"%"]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:i(o.predictedStockoutDate)}),o.daysUntilStockout&&n.jsxs("div",{className:"text-xs text-gray-500",children:[o.daysUntilStockout," days"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a(o.riskLevel)}`,children:[s(o.riskLevel),n.jsx("span",{className:"ml-1 capitalize",children:o.riskLevel})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.recommendedOrderQuantity}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[Math.round(o.forecastAccuracy*100),"%"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:n.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${o.forecastAccuracy*100}%`}})})]})]},o.product._id))})]}),t.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(rr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Predictions Available"}),n.jsx("p",{className:"text-gray-500",children:"Predictions will appear here once sufficient sales data is available"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🤖 AI Insights"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Immediate Action Required"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[r.highRisk," products need immediate attention to prevent stockouts"]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Forecast Accuracy"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Model predictions are ",Math.round(r.avgAccuracy*100),"% accurate on average"]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Optimization Potential"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Following AI recommendations could improve inventory efficiency by 15-25%"})]})]})]})]})}function SRe({data:e}){const{monthlyData:t,insights:r}=e,a=l=>{switch(l){case"peak":return"text-green-600 bg-green-50 border-green-200";case"low":return"text-red-600 bg-red-50 border-red-200";case"normal":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},s=l=>{switch(l){case"peak":return n.jsx(Nn,{className:"w-4 h-4"});case"low":return n.jsx(ro,{className:"w-4 h-4"});case"normal":return n.jsx(os,{className:"w-4 h-4"});default:return n.jsx(il,{className:"w-4 h-4"})}},i=l=>new Date(l+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"}),o=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Peak Months"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.peakMonths.length})]}),n.jsx(Nn,{className:"w-8 h-8 text-green-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:r.peakMonths.map(l=>i(l)).join(", ")})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Months"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.lowMonths.length})]}),n.jsx(ro,{className:"w-8 h-8 text-red-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:r.lowMonths.map(l=>i(l)).join(", ")})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Variation"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[(r.avgSeasonalVariation*100).toFixed(1),"%"]})]}),n.jsx(os,{className:"w-8 h-8 text-blue-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Average seasonal variation"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recommendations"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.recommendedStockingPeriods.length})]}),n.jsx(ka,{className:"w-8 h-8 text-purple-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Stocking adjustments needed"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Sales Trends"}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(TR,{data:t,children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"month",tick:{fontSize:12},tickFormatter:l=>new Date(l+"-01").toLocaleDateString("en-US",{month:"short"})}),n.jsx(_a,{tick:{fontSize:12}}),n.jsx(Br,{formatter:(l,c)=>[c==="totalSales"?o(l):l,c==="totalSales"?"Total Sales":"Orders"],labelFormatter:l=>i(l)}),n.jsx(Hf,{type:"monotone",dataKey:"totalSales",stroke:"#4F46E5",strokeWidth:3,dot:{fill:"#4F46E5",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#4F46E5",strokeWidth:2}})]})})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Seasonal Index"}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:t,children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"month",tick:{fontSize:12},tickFormatter:l=>new Date(l+"-01").toLocaleDateString("en-US",{month:"short"})}),n.jsx(_a,{tick:{fontSize:12}}),n.jsx(Br,{formatter:l=>[l.toFixed(2),"Seasonal Index"],labelFormatter:l=>i(l)}),n.jsx(Fn,{dataKey:"seasonalIndex",fill:"#8B5CF6",radius:[4,4,0,0]})]})})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Monthly Performance Details"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Detailed seasonal analysis and category performance"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Order Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seasonal Index"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trend"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Top Categories"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(l=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(od,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:i(l.month)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(l.totalSales)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l.totalOrders}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(l.avgOrderValue)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:l.seasonalIndex.toFixed(2)}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:n.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${Math.min(l.seasonalIndex*50,100)}%`}})})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${a(l.trend)}`,children:[s(l.trend),n.jsx("span",{className:"ml-1 capitalize",children:l.trend})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"space-y-1",children:l.topCategories.map((c,d)=>n.jsxs("div",{className:"text-xs text-gray-600",children:[d+1,". ",c.category," (",c.quantity,")"]},c.category))})})]},l.month))})]})})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📈 Seasonal Recommendations"}),n.jsx("div",{className:"space-y-4",children:r.recommendedStockingPeriods.map((l,c)=>n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-purple-600",children:c+1})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:i(l.month)}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:l.recommendation}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Expected increase: +",Math.round((l.expectedIncrease-1)*100),"%"]})]})]})},c))})]})]})}const wx=["#4F46E5","#06B6D4","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#6B7280"];function kRe({data:e}){const{summary:t,categories:r,recommendations:a}=e,s=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(d),i=d=>`${d.toFixed(1)}%`,o=d=>{switch(d){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},l=r.map(d=>({name:d.category,value:d.inventoryValue,profit:d.potentialProfit})),c=r.map(d=>({category:d.category,marginPercentage:d.marginPercentage}));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Inventory Value"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s(t.totalInventoryValue)})]}),n.jsx(Ql,{className:"w-8 h-8 text-green-500"})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Cost: ",s(t.totalCostValue)]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Potential Profit"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:s(t.totalPotentialProfit)})]}),n.jsx(Nn,{className:"w-8 h-8 text-green-500"})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Margin: ",i(t.overallMarginPercentage)]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Annual Carrying Cost"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:s(t.annualCarryingCost)})]}),n.jsx(h6,{className:"w-8 h-8 text-red-500"})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Daily: ",s(t.dailyCarryingCost)]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"ROI"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i(t.returnOnInventoryInvestment)})]}),n.jsx(Pu,{className:"w-8 h-8 text-blue-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Return on investment"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Inventory Value Distribution"}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(JS,{children:[n.jsx(so,{data:l,cx:"50%",cy:"50%",outerRadius:100,dataKey:"value",label:({name:d,percent:u})=>`${d}: ${(u*100).toFixed(1)}%`,labelLine:!1,children:l.map((d,u)=>n.jsx(_d,{fill:wx[u%wx.length]},`cell-${u}`))}),n.jsx(Br,{formatter:d=>s(d)})]})})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profit Margins by Category"}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:c,margin:{top:20,right:30,left:20,bottom:60},children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"category",tick:{fontSize:11},angle:-45,textAnchor:"end",height:80}),n.jsx(_a,{tick:{fontSize:12},label:{value:"Margin %",angle:-90,position:"insideLeft"}}),n.jsx(Br,{formatter:d=>[i(d),"Profit Margin"]}),n.jsx(Fn,{dataKey:"marginPercentage",fill:"#4F46E5",radius:[4,4,0,0]})]})})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cost Analysis by Category"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Detailed breakdown of costs, values, and profitability"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inventory Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Potential Profit"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin %"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((d,u)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 rounded-full mr-3",style:{backgroundColor:wx[u%wx.length]}}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.category})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(d.inventoryValue)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(d.costValue)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(d.potentialProfit)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`text-sm font-medium ${d.marginPercentage>=30?"text-green-600":d.marginPercentage>=20?"text-yellow-600":"text-red-600"}`,children:i(d.marginPercentage)}),d.marginPercentage>=30?n.jsx(Nn,{className:"w-4 h-4 text-green-500 ml-1"}):d.marginPercentage<20?n.jsx(ro,{className:"w-4 h-4 text-red-500 ml-1"}):null]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:n.jsx("div",{className:`h-1.5 rounded-full ${d.marginPercentage>=30?"bg-green-500":d.marginPercentage>=20?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(d.marginPercentage*2,100)}%`}})})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.items}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.marginPercentage>=30?"text-green-800 bg-green-100":d.marginPercentage>=20?"text-yellow-800 bg-yellow-100":"text-red-800 bg-red-100"}`,children:d.marginPercentage>=30?"Excellent":d.marginPercentage>=20?"Good":"Needs Review"})})]},d.category))})]})})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-6 border border-orange-200",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"💰 Cost Optimization Recommendations"}),n.jsxs("div",{className:"space-y-4",children:[a.map((d,u)=>n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${o(d.priority)}`,children:[d.priority==="high"&&n.jsx(Ur,{className:"w-3 h-3 mr-1"}),d.priority==="medium"&&n.jsx(WG,{className:"w-3 h-3 mr-1"}),d.priority==="low"&&n.jsx(Pu,{className:"w-3 h-3 mr-1"}),d.priority.toUpperCase()]})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:d.type.replace("_"," ").toUpperCase()}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:d.message}),d.categories&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Affected categories: ",d.categories.join(", ")]})]})]})},u)),a.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Pu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Excellent Cost Management!"}),n.jsx("p",{className:"text-gray-500",children:"No immediate cost optimization recommendations at this time."})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📊 Key Financial Insights"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Capital Efficiency"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Your inventory investment is generating a ",i(t.returnOnInventoryInvestment)," return"]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Carrying Cost Impact"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Annual carrying costs represent ",i(t.annualCarryingCost/t.totalInventoryValue*100)," of inventory value"]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Profit Optimization"}),n.jsx("p",{className:"text-sm text-gray-600",children:t.overallMarginPercentage>=25?"Strong margins maintained across categories":"Opportunity to improve margins through pricing optimization"})]})]})]})]})}function CRe({data:e}){const{suppliers:t,summary:r,recommendations:a}=e,s=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(h),i=h=>{switch(h){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},o=h=>{switch(h){case"high":return n.jsx(Ur,{className:"w-4 h-4"});case"medium":return n.jsx(wn,{className:"w-4 h-4"});case"low":return n.jsx(jn,{className:"w-4 h-4"});default:return n.jsx(rr,{className:"w-4 h-4"})}},l=h=>h>=.9?"text-green-600":h>=.8?"text-blue-600":h>=.7?"text-yellow-600":"text-red-600",c=h=>h>=.9?n.jsx(Bx,{className:"w-4 h-4"}):h>=.8?n.jsx(Dr,{className:"w-4 h-4"}):h>=.7?n.jsx(Nn,{className:"w-4 h-4"}):n.jsx(ro,{className:"w-4 h-4"}),d=h=>{switch(h){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},u=t.map(h=>({supplier:h.supplier.length>15?h.supplier.substring(0,15)+"...":h.supplier,leadTime:h.avgLeadTime,fill:h.avgLeadTime<=7?"#10B981":h.avgLeadTime<=14?"#F59E0B":"#EF4444"}));t.slice(0,8).map(h=>({supplier:h.supplier.length>10?h.supplier.substring(0,10)+"...":h.supplier,onTime:h.onTimeDeliveryRate,quality:h.qualityRating,cost:h.costEfficiency,overall:h.performanceScore*100}));const f=t.slice(0,5).map(h=>({supplier:h.supplier.length>10?h.supplier.substring(0,10)+"...":h.supplier,"On-Time":h.onTimeDeliveryRate,Quality:h.qualityRating,"Cost Efficiency":h.costEfficiency,"Lead Time":Math.max(0,100-h.avgLeadTime*5)}));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Suppliers"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalSuppliers})]}),n.jsx(So,{className:"w-8 h-8 text-blue-500"})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Lead Time"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.avgLeadTime.toFixed(1)})]}),n.jsx(wn,{className:"w-8 h-8 text-purple-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"days"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"On-Time Delivery"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[r.avgOnTimeDelivery.toFixed(1),"%"]})]}),n.jsx(jn,{className:"w-8 h-8 text-green-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Quality"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[r.avgQualityRating.toFixed(1),"%"]})]}),n.jsx(Dr,{className:"w-8 h-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"High Risk"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.highRiskSuppliers})]}),n.jsx(Ur,{className:"w-8 h-8 text-red-500"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lead Time Performance"}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:u,margin:{top:20,right:30,left:20,bottom:60},children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"supplier",tick:{fontSize:11},angle:-45,textAnchor:"end",height:80}),n.jsx(_a,{tick:{fontSize:12},label:{value:"Days",angle:-90,position:"insideLeft"}}),n.jsx(Br,{formatter:h=>[`${h} days`,"Lead Time"]}),n.jsx(Fn,{dataKey:"leadTime",radius:[4,4,0,0]})]})})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Suppliers Performance"}),n.jsx("div",{className:"h-80",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs($1e,{data:f[0]?[f[0]]:[],children:[n.jsx(AD,{}),n.jsx(Fd,{tick:{fontSize:12}}),n.jsx(Id,{angle:45,domain:[0,100],tick:{fontSize:10}}),n.jsx(ed,{name:"Performance",dataKey:"On-Time",stroke:"#4F46E5",fill:"#4F46E5",fillOpacity:.2}),n.jsx(ed,{name:"Quality",dataKey:"Quality",stroke:"#10B981",fill:"#10B981",fillOpacity:.2}),n.jsx(ed,{name:"Cost",dataKey:"Cost Efficiency",stroke:"#F59E0B",fill:"#F59E0B",fillOpacity:.2}),n.jsx(Br,{})]})})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Supplier Performance Scorecard"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive supplier evaluation and risk assessment"})]}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Products"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"On-Time Delivery"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quality Rating"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Level"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categories"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((h,m)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-blue-600",children:m+1})})}),n.jsx("div",{className:"ml-3",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.supplier})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.totalProducts}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s(h.totalValue)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(wn,{className:"w-4 h-4 text-gray-400 mr-1"}),n.jsxs("span",{className:`text-sm ${h.avgLeadTime<=7?"text-green-600":h.avgLeadTime<=14?"text-yellow-600":"text-red-600"}`,children:[h.avgLeadTime," days"]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[h.onTimeDeliveryRate,"%"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:n.jsx("div",{className:`h-1.5 rounded-full ${h.onTimeDeliveryRate>=95?"bg-green-500":h.onTimeDeliveryRate>=90?"bg-yellow-500":"bg-red-500"}`,style:{width:`${h.onTimeDeliveryRate}%`}})})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Dr,{className:"w-4 h-4 text-yellow-400 mr-1"}),n.jsxs("span",{className:"text-sm text-gray-900",children:[h.qualityRating,"%"]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("span",{className:`text-sm font-medium ${l(h.performanceScore)}`,children:[(h.performanceScore*100).toFixed(0),"%"]}),n.jsx("span",{className:`ml-1 ${l(h.performanceScore)}`,children:c(h.performanceScore)})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:n.jsx("div",{className:`h-1.5 rounded-full ${h.performanceScore>=.9?"bg-green-500":h.performanceScore>=.8?"bg-blue-500":h.performanceScore>=.7?"bg-yellow-500":"bg-red-500"}`,style:{width:`${h.performanceScore*100}%`}})})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${i(h.riskLevel)}`,children:[o(h.riskLevel),n.jsx("span",{className:"ml-1 capitalize",children:h.riskLevel})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"max-w-xs",children:[h.categories.slice(0,3).map((p,x)=>n.jsx("span",{className:"inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full mr-1 mb-1",children:p},x)),h.categories.length>3&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",h.categories.length-3," more"]})]})})]},h.supplier))})]}),t.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(So,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Supplier Data"}),n.jsx("p",{className:"text-gray-500",children:"Supplier performance data will appear here once products are linked to suppliers"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-200",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🤝 Supplier Management Recommendations"}),n.jsxs("div",{className:"space-y-4",children:[a.map((h,m)=>n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${d(h.priority)}`,children:[h.priority==="high"&&n.jsx(Ur,{className:"w-3 h-3 mr-1"}),h.priority==="medium"&&n.jsx(wn,{className:"w-3 h-3 mr-1"}),h.priority==="low"&&n.jsx(jn,{className:"w-3 h-3 mr-1"}),h.priority.toUpperCase()]})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-1",children:h.type.replace("_"," ").toUpperCase()}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h.message}),h.suppliers&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Affected suppliers: ",h.suppliers.join(", ")]})]})]})},m)),a.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Bx,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Excellent Supplier Management!"}),n.jsx("p",{className:"text-gray-500",children:"All suppliers are performing well. Continue monitoring performance metrics."})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 border border-green-200",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📊 Supplier Insights"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Performance Leaders"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[t.filter(h=>h.performanceScore>=.9).length," suppliers are performing at excellent levels (90%+)"]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Delivery Efficiency"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Average delivery performance is ",r.avgOnTimeDelivery.toFixed(1),"% with ",r.avgLeadTime.toFixed(1)," day lead times"]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Risk Management"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[r.highRiskSuppliers," suppliers require immediate attention for performance improvement"]})]})]})]})]})}function ARe({data:e}){const{abcAnalysis:t,keyMetrics:r,performance:a}=e,s=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(u),i=u=>{switch(u){case"excellent":return"text-green-600 bg-green-50 border-green-200";case"good":return"text-blue-600 bg-blue-50 border-blue-200";case"needs_improvement":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},o=u=>{switch(u){case"improving":return n.jsx(Nn,{className:"w-5 h-5 text-green-500"});case"declining":return n.jsx(ro,{className:"w-5 h-5 text-red-500"});case"stable":return n.jsx(os,{className:"w-5 h-5 text-blue-500"});default:return n.jsx(il,{className:"w-5 h-5 text-gray-500"})}},l=[{name:"A Category",value:t.aCategory.length,fill:"#10B981"},{name:"B Category",value:t.bCategory.length,fill:"#F59E0B"},{name:"C Category",value:t.cCategory.length,fill:"#EF4444"}],c=[{name:"Turnover Ratio",value:r.inventoryTurnoverRatio,target:4,fill:"#4F46E5"},{name:"Fill Rate %",value:r.fillRate,target:95,fill:"#06B6D4"},{name:"Accuracy %",value:r.inventoryAccuracy,target:98,fill:"#10B981"}],d=[{name:"Fill Rate",value:r.fillRate,fill:"#10B981"},{name:"Accuracy",value:r.inventoryAccuracy,fill:"#4F46E5"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Turnover Ratio"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.inventoryTurnoverRatio,"x"]})]}),n.jsx(os,{className:"w-8 h-8 text-blue-500"})]}),n.jsxs("div",{className:"mt-2 flex items-center",children:[o(a.turnoverTrend),n.jsx("span",{className:"text-xs text-gray-500 ml-1 capitalize",children:a.turnoverTrend})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Days in Inventory"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.daysInInventory})]}),n.jsx(wn,{className:"w-8 h-8 text-purple-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:r.daysInInventory<=90?"Optimal":r.daysInInventory<=180?"Good":"High"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Fill Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[r.fillRate.toFixed(1),"%"]})]}),n.jsx(jn,{className:"w-8 h-8 text-green-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Target: 95%+"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Accuracy"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[r.inventoryAccuracy.toFixed(1),"%"]})]}),n.jsx(Pu,{className:"w-8 h-8 text-blue-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Target: 98%+"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Stockouts"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.stockoutFrequency})]}),n.jsx(ka,{className:"w-8 h-8 text-red-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Items out of stock"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Stock Value"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:s(r.averageStockValue)})]}),n.jsx(rr,{className:"w-8 h-8 text-gray-500"})]}),n.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Per product"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Overview"}),n.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${i(a.efficiency)}`,children:[a.efficiency==="excellent"&&n.jsx(Zo,{className:"w-4 h-4 mr-1"}),a.efficiency==="good"&&n.jsx(jn,{className:"w-4 h-4 mr-1"}),a.efficiency==="needs_improvement"&&n.jsx(ka,{className:"w-4 h-4 mr-1"}),n.jsx("span",{className:"capitalize",children:a.efficiency.replace("_"," ")})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Performance vs Targets"}),n.jsx("div",{className:"h-64",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:c,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"name",tick:{fontSize:12}}),n.jsx(_a,{tick:{fontSize:12}}),n.jsx(Br,{}),n.jsx(Fn,{dataKey:"value",fill:"#4F46E5",radius:[4,4,0,0]}),n.jsx(Fn,{dataKey:"target",fill:"#E5E7EB",opacity:.5,radius:[4,4,0,0]})]})})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Key Metrics Status"}),n.jsx("div",{className:"h-64",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(B1e,{cx:"50%",cy:"50%",innerRadius:"20%",outerRadius:"80%",data:d,children:[n.jsx(fp,{dataKey:"value",cornerRadius:10,fill:"#8884d8"}),n.jsx(Vl,{iconSize:10,layout:"vertical",verticalAlign:"middle",align:"right"}),n.jsx(Br,{formatter:u=>[`${u}%`,"Score"]})]})})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ABC Analysis Distribution"}),n.jsx("div",{className:"h-64",children:n.jsx(fa,{width:"100%",height:"100%",children:n.jsxs(no,{data:l,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(Cs,{strokeDasharray:"3 3",className:"opacity-30"}),n.jsx(Aa,{dataKey:"name",tick:{fontSize:12}}),n.jsx(_a,{tick:{fontSize:12}}),n.jsx(Br,{}),n.jsx(Fn,{dataKey:"value",fill:"#4F46E5",radius:[4,4,0,0]})]})})}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-600",children:"A Items (High Value)"}),n.jsx("p",{className:"text-lg font-bold",children:t.aCategory.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"~80% of value"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"B Items (Medium Value)"}),n.jsx("p",{className:"text-lg font-bold",children:t.bCategory.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"~15% of value"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-600",children:"C Items (Low Value)"}),n.jsx("p",{className:"text-lg font-bold",children:t.cCategory.length}),n.jsx("p",{className:"text-xs text-gray-500",children:"~5% of value"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top A Category Items"}),n.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:t.aCategory.slice(0,10).map((u,f)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:f+1})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.product.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Rank #",u.rank]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:s(u.value)}),n.jsxs("p",{className:"text-xs text-gray-500",children:[u.cumulativePercentage.toFixed(1),"% cumulative"]})]})]},u.product._id))})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-200",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🎯 Performance Recommendations"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.recommendations.map((u,f)=>n.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-medium text-indigo-600",children:f+1})})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm text-gray-600",children:u})})]})},f))}),a.recommendations.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(jn,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Excellent Performance!"}),n.jsx("p",{className:"text-gray-500",children:"Your inventory metrics are performing well across all categories."})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-6 border border-green-200",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📈 Advanced Analytics Insights"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Inventory Velocity"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Your turnover ratio of ",r.inventoryTurnoverRatio,"x indicates"," ",r.inventoryTurnoverRatio>=4?"excellent":r.inventoryTurnoverRatio>=2?"good":"slow"," inventory movement"]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Service Level"}),n.jsx("p",{className:"text-sm text-gray-600",children:r.fillRate>=95?"Excellent customer service with minimal stockouts":r.fillRate>=90?"Good service level with room for improvement":"Service level needs attention to reduce stockouts"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"ABC Focus"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Focus on ",t.aCategory.length," A-category items representing 80% of your inventory value for maximum impact"]})]})]})]})]})}class _Re{async getAnalytics(t){var r,a;try{const s=`/inventory/analytics?startDate=${t.start.toISOString()}&endDate=${t.end.toISOString()}`;return(await ue.getWithRetry(s)).data}catch(s){throw console.error("Error fetching inventory analytics:",s),new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch analytics")}}async getStockMovements(t){var r,a;try{const s=`/inventory/movements?startDate=${t.start.toISOString()}&endDate=${t.end.toISOString()}`;return(await ue.getWithRetry(s)).data}catch(s){throw console.error("Error fetching stock movements:",s),new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch stock movements")}}async getTurnoverAnalysis(t){var r,a;try{const s=`/inventory/turnover?startDate=${t.start.toISOString()}&endDate=${t.end.toISOString()}`;return(await ue.getWithRetry(s)).data}catch(s){throw console.error("Error fetching turnover analysis:",s),new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch turnover analysis")}}async getCategoryBreakdown(t){var r,a;try{const s=`/inventory/categories?startDate=${t.start.toISOString()}&endDate=${t.end.toISOString()}`;return(await ue.getWithRetry(s)).data}catch(s){throw console.error("Error fetching category breakdown:",s),new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch category breakdown")}}async getLocationAnalysis(t){var r,a;try{const s=`/inventory/locations?startDate=${t.start.toISOString()}&endDate=${t.end.toISOString()}`;return(await ue.getWithRetry(s)).data}catch(s){throw console.error("Error fetching location analysis:",s),new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch location analysis")}}async getAlerts(){var t,r;try{return(await ue.getWithRetry("/inventory/alerts")).data}catch(a){throw console.error("Error fetching inventory alerts:",a),new Error(((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch alerts")}}async exportAnalytics(t,r="excel"){var a,s;try{const i=`/inventory/export?startDate=${t.start.toISOString()}&endDate=${t.end.toISOString()}&format=${r}`;return(await ue.getWithRetry(i,{responseType:"blob"})).data}catch(i){throw console.error("Error exporting analytics:",i),new Error(((s=(a=i.response)==null?void 0:a.data)==null?void 0:s.message)||"Failed to export analytics")}}async getPredictiveAnalytics(t){var r,a;try{const s=`/inventory/analytics/predictive?startDate=${t.start.toISOString()}&endDate=${t.end.toISOString()}`;return(await ue.getWithRetry(s)).data}catch(s){throw console.error("Error fetching predictive analytics:",s),new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch predictive analytics")}}async getSeasonalAnalysis(t){var r,a;try{const s=`/inventory/analytics/seasonal?startDate=${t.start.toISOString()}&endDate=${t.end.toISOString()}`;return(await ue.getWithRetry(s)).data}catch(s){throw console.error("Error fetching seasonal analysis:",s),new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch seasonal analysis")}}async getCostAnalysis(){var t,r;try{return(await ue.getWithRetry("/inventory/analytics/cost")).data}catch(a){throw console.error("Error fetching cost analysis:",a),new Error(((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch cost analysis")}}async getSupplierPerformance(t){var r,a;try{const s=`/inventory/analytics/suppliers?startDate=${t.start.toISOString()}&endDate=${t.end.toISOString()}`;return(await ue.getWithRetry(s)).data}catch(s){throw console.error("Error fetching supplier performance:",s),new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch supplier performance")}}async getAdvancedMetrics(t){var r,a;try{const s=`/inventory/analytics/advanced?startDate=${t.start.toISOString()}&endDate=${t.end.toISOString()}`;return(await ue.getWithRetry(s)).data}catch(s){throw console.error("Error fetching advanced metrics:",s),new Error(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch advanced metrics")}}}const Bi=new _Re;function ERe(e){const[t,r]=N.useState(null),[a,s]=N.useState([]),[i,o]=N.useState([]),[l,c]=N.useState([]),[d,u]=N.useState([]),[f,h]=N.useState(null),[m,p]=N.useState(null),[x,y]=N.useState(null),[v,w]=N.useState(null),[j,A]=N.useState(null),[C,S]=N.useState(null),[k,E]=N.useState(!0),[T,F]=N.useState(null),[O,P]=N.useState(new Date),[W,q]=N.useState(!1),[D,M]=N.useState("disconnected");N.useRef(null),N.useRef(null);const H=N.useCallback(async(X=!1)=>{var de,le,G;try{X?q(!0):E(!0),F(null);const[K,Z,I,V,te,R,U,Q,J,L,he]=await Promise.all([Bi.getAnalytics(e.dateRange),Bi.getStockMovements(e.dateRange),Bi.getTurnoverAnalysis(e.dateRange),Bi.getCategoryBreakdown(e.dateRange),Bi.getLocationAnalysis(e.dateRange),Bi.getAlerts(),Bi.getPredictiveAnalytics(e.dateRange),Bi.getSeasonalAnalysis(e.dateRange),Bi.getCostAnalysis(),Bi.getSupplierPerformance(e.dateRange),Bi.getAdvancedMetrics(e.dateRange)]);if(r(K),s(Z),o(I),c(V),u(te),h(R),p(U),y(Q),w(J),A(L),S(he),P(new Date),R&&X){const ge=((de=R.lowStock)==null?void 0:de.length)||0,Ae=((le=R.outOfStock)==null?void 0:le.length)||0;(ge>0||Ae>0)&&z.error(`${ge} low stock, ${Ae} out of stock items`,{duration:4e3})}(G=e.onInventoryChange)==null||G.call(e,K)}catch(K){console.error("Error fetching inventory analytics:",K),F(K.message||"Failed to load analytics data"),X&&z.error("Failed to refresh analytics data")}finally{E(!1),q(!1)}},[e.dateRange,e.onInventoryChange]);N.useEffect(()=>{H()},[H]),N.useEffect(()=>{if(!e.autoRefresh||!e.refreshInterval)return;const X=setInterval(()=>H(!0),e.refreshInterval);return()=>clearInterval(X)},[e.autoRefresh,e.refreshInterval,H]);const ee=N.useCallback(()=>{H(!0),z.success("Analytics refreshed",{duration:2e3})},[H]);return{analytics:t,stockMovements:a,turnoverData:i,categoryBreakdown:l,locationAnalysis:d,alerts:f,predictiveAnalytics:m,seasonalAnalysis:x,costAnalysis:v,supplierPerformance:j,advancedMetrics:C,loading:k,error:T,lastUpdated:O,isRefreshing:W,realTimeStatus:D,refreshAnalytics:ee}}function kf({size:e="md",className:t=""}){const r={sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"};return n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:`
          animate-spin rounded-full 
          border-t-2 border-b-2 border-indigo-600 
          ${r[e]}
          ${t}
        `})})}const oj=[{start:new Date(Date.now()-7*24*60*60*1e3),end:new Date,label:"Last 7 days"},{start:new Date(Date.now()-30*24*60*60*1e3),end:new Date,label:"Last 30 days"},{start:new Date(Date.now()-90*24*60*60*1e3),end:new Date,label:"Last 3 months"},{start:new Date(Date.now()-365*24*60*60*1e3),end:new Date,label:"Last year"}];function TRe(){var F,O,P,W,q,D,M,H,ee,X,de,le;const{currency:e}=Ta(),[t,r]=N.useState(oj[1]),[a,s]=N.useState("overview"),[i,o]=N.useState(!0),l=N.useCallback(G=>{console.log("Inventory data updated:",G)},[]),{analytics:c,stockMovements:d,turnoverData:u,categoryBreakdown:f,locationAnalysis:h,alerts:m,predictiveAnalytics:p,seasonalAnalysis:x,costAnalysis:y,supplierPerformance:v,advancedMetrics:w,loading:j,error:A,lastUpdated:C,isRefreshing:S,realTimeStatus:k,refreshAnalytics:E}=ERe({dateRange:t,autoRefresh:!0,refreshInterval:i?30*1e3:5*60*1e3,realTime:i,onInventoryChange:l});if(j)return n.jsx(kf,{});if(A)return n.jsxs("div",{className:"text-center py-12 bg-red-50 rounded-xl",children:[n.jsx(Ur,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Error Loading Analytics"}),n.jsx("p",{className:"text-red-600 mb-4",children:A}),n.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Retry"})]});const T=[{id:"overview",label:"Overview",icon:il},{id:"movements",label:"Stock Movements",icon:os},{id:"turnover",label:"Turnover Analysis",icon:Nn},{id:"categories",label:"Categories",icon:zG},{id:"locations",label:"Locations",icon:rr},{id:"predictive",label:"AI Predictions",icon:NG},{id:"seasonal",label:"Seasonal Analysis",icon:YG},{id:"cost",label:"Cost Analysis",icon:h6},{id:"suppliers",label:"Suppliers",icon:So},{id:"advanced",label:"Advanced Metrics",icon:Zo}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Analytics"}),n.jsx("div",{className:"flex items-center gap-2",children:i?n.jsxs("div",{className:"flex items-center gap-1",children:[k==="connected"?n.jsx(A6,{className:"w-4 h-4 text-green-500"}):k==="connecting"?n.jsx(Pn,{className:"w-4 h-4 text-yellow-500 animate-spin"}):n.jsx(sq,{className:"w-4 h-4 text-red-500"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Real-time"})]}):n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wn,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Standard"})]})})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsx("p",{className:"text-gray-500",children:"Comprehensive insights into your inventory performance"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[n.jsx(wn,{className:"w-3 h-3"}),"Updated ",C.toLocaleTimeString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Real-time"}),n.jsx("button",{onClick:()=>o(!i),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i?"bg-green-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${i?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("button",{onClick:E,disabled:S,className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Pn,{className:`w-4 h-4 ${S?"animate-spin":""}`}),S?"Refreshing...":"Refresh"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(od,{className:"w-5 h-5 text-gray-400"}),n.jsx("select",{value:t.label,onChange:G=>{const K=oj.find(Z=>Z.label===G.target.value);K&&r(K)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:oj.map(G=>n.jsx("option",{value:G.label,children:G.label},G.label))})]})]})]}),i&&m&&(((F=m.lowStock)==null?void 0:F.length)>0||((O=m.outOfStock)==null?void 0:O.length)>0)&&n.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Px,{className:"w-5 h-5 text-amber-600 animate-pulse"}),n.jsx("span",{className:"font-medium text-amber-800",children:"Live Inventory Alerts"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[((P=m.lowStock)==null?void 0:P.length)>0&&n.jsxs("span",{className:"text-amber-700",children:[m.lowStock.length," items low on stock"]}),((W=m.outOfStock)==null?void 0:W.length)>0&&n.jsxs("span",{className:"text-red-700",children:[m.outOfStock.length," items out of stock"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative",children:[S&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Pn,{className:"w-4 h-4 text-blue-500 animate-spin"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Inventory Value"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:lt((c==null?void 0:c.totalValue)||0,e)})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(Ql,{className:"w-6 h-6 text-green-600"})})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsxs("span",{className:`flex items-center ${((q=c==null?void 0:c.valueChange)!=null?q:0)>=0?"text-green-600":"text-red-600"}`,children:[((D=c==null?void 0:c.valueChange)!=null?D:0)>=0?n.jsx(Nn,{className:"w-4 h-4 mr-1"}):n.jsx(ro,{className:"w-4 h-4 mr-1"}),Math.abs((c==null?void 0:c.valueChange)||0).toFixed(1),"%"]}),n.jsx("span",{className:"text-gray-500 ml-2",children:"vs previous period"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative",children:[S&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Pn,{className:"w-4 h-4 text-blue-500 animate-spin"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Units in Stock"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(c==null?void 0:c.totalItems)||0})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(rr,{className:"w-6 h-6 text-blue-600"})})]}),n.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm text-gray-500",children:[n.jsxs("span",{children:[(c==null?void 0:c.uniqueProducts)||0," unique products"]}),typeof(c==null?void 0:c.variantCount)=="number"&&n.jsxs("span",{children:["· ",c.variantCount," variants"]}),typeof(c==null?void 0:c.variantsInStockCount)=="number"&&n.jsxs("span",{children:["· ",c.variantsInStockCount," variants in stock"]})]}),(typeof(c==null?void 0:c.inStockCount)=="number"||typeof(c==null?void 0:c.lowStockCount)=="number"||typeof(c==null?void 0:c.outOfStockCount)=="number")&&n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs",children:[typeof(c==null?void 0:c.inStockCount)=="number"&&n.jsxs("span",{className:"px-2 py-1 bg-green-50 text-green-700 rounded-full",children:[c.inStockCount," in stock"]}),typeof(c==null?void 0:c.lowStockCount)=="number"&&n.jsxs("span",{className:"px-2 py-1 bg-amber-50 text-amber-700 rounded-full",children:[c.lowStockCount," low"]}),typeof(c==null?void 0:c.outOfStockCount)=="number"&&n.jsxs("span",{className:"px-2 py-1 bg-red-50 text-red-700 rounded-full",children:[c.outOfStockCount," out"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative",children:[S&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Pn,{className:"w-4 h-4 text-blue-500 animate-spin"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Turnover Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(c==null?void 0:c.turnoverRate)||0,"x"]})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(os,{className:"w-6 h-6 text-purple-600"})})]}),n.jsx("div",{className:"mt-4 flex items-center text-sm",children:n.jsxs("span",{className:"text-gray-500",children:["Avg. days in stock: ",(c==null?void 0:c.avgDaysInStock)||0]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 relative",children:[S&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Pn,{className:"w-4 h-4 text-blue-500 animate-spin"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Alerts"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((M=m==null?void 0:m.lowStock)==null?void 0:M.length)||0}),i&&(((H=m==null?void 0:m.lowStock)==null?void 0:H.length)||0)>0&&n.jsx("div",{className:"animate-pulse",children:n.jsx(Px,{className:"w-3 h-3 text-amber-500 inline ml-1"})})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:n.jsx(Ur,{className:"w-6 h-6 text-amber-600"})})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:[((ee=m==null?void 0:m.outOfStock)==null?void 0:ee.length)||0," out of stock"]}),i&&(((X=m==null?void 0:m.outOfStock)==null?void 0:X.length)||0)>0&&n.jsx(Px,{className:"w-3 h-3 text-red-500 ml-1 animate-pulse"})]})]})]}),m&&(((de=m.lowStock)==null?void 0:de.length)>0||((le=m.outOfStock)==null?void 0:le.length)>0)&&n.jsx(bRe,{alerts:m}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:T.map(G=>{const K=G.icon;return n.jsxs("button",{onClick:()=>s(G.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${a===G.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(K,{className:"w-5 h-5"}),G.label]},G.id)})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[a==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(gRe,{data:(c==null?void 0:c.valueHistory)||[]}),n.jsx(W5,{data:d||[]})]}),a==="movements"&&n.jsx(W5,{data:d||[],detailed:!0}),a==="turnover"&&n.jsx(xRe,{data:u||[]}),a==="categories"&&n.jsx(yRe,{data:f||[]}),a==="locations"&&n.jsx(vRe,{data:h||[]}),a==="predictive"&&n.jsx(NRe,{data:p||{predictions:[],summary:{totalProducts:0,highRisk:0,mediumRisk:0,lowRisk:0,avgAccuracy:0}}}),a==="seasonal"&&n.jsx(SRe,{data:x||{monthlyData:[],insights:{peakMonths:[],lowMonths:[],avgSeasonalVariation:0,recommendedStockingPeriods:[]}}}),a==="cost"&&n.jsx(kRe,{data:y||{summary:{totalInventoryValue:0,totalCostValue:0,totalPotentialProfit:0,overallMarginPercentage:0,annualCarryingCost:0,dailyCarryingCost:0,returnOnInventoryInvestment:0},categories:[],recommendations:[]}}),a==="suppliers"&&n.jsx(CRe,{data:v||{suppliers:[],summary:{totalSuppliers:0,avgLeadTime:0,avgOnTimeDelivery:0,avgQualityRating:0,highRiskSuppliers:0},recommendations:[]}}),a==="advanced"&&n.jsx(ARe,{data:w||{abcAnalysis:{aCategory:[],bCategory:[],cCategory:[]},keyMetrics:{inventoryTurnoverRatio:0,daysInInventory:0,fillRate:0,inventoryAccuracy:0,stockoutFrequency:0,averageStockValue:0},performance:{turnoverTrend:"stable",efficiency:"good",recommendations:[]}}})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsx(jRe,{isRealTime:i})})]})]})}class ORe{constructor(){this.cache={data:null,timestamp:0,expiresIn:5*60*1e3}}isCacheValid(){return this.cache.data!==null&&Date.now()-this.cache.timestamp<this.cache.expiresIn}async getAllInventory(){var t;try{if(this.isCacheValid())return console.log("Returning cached inventory data:",(t=this.cache.data)==null?void 0:t.length,"items"),this.cache.data;console.log("Fetching inventory from API...");const r=await ue.getWithRetry("/inventory");console.log("API Response received:",r.data);const a=this.normalizeInventoryData(r.data);return console.log("Normalized data:",a.length,"items"),this.cache={data:a,timestamp:Date.now(),expiresIn:5*60*1e3},a}catch(r){throw console.error("Error fetching inventory:",r),new Error("Failed to fetch inventory")}}async getProductInventory(t){try{const r=await ue.getWithRetry(`/inventory/product/${t}`);return this.normalizeInventoryData(r.data)}catch(r){throw console.error("Error fetching product inventory:",r),new Error("Failed to fetch product inventory")}}async updateInventory(t,r){try{const a=await ue.putWithRetry(`/inventory/${t}`,{quantity:r});this.cache.data&&(this.cache.data=this.cache.data.map(i=>i._id===t?{...i,quantity:r}:i));const s=this.normalizeInventoryItem(a.data);if(!s)throw new Error("Invalid inventory item returned from server");return s}catch(a){throw console.error("Error updating inventory:",a),new Error("Failed to update inventory")}}async addInventory(t){var r,a;try{const s=await ue.postWithRetry("/inventory",this.serializeInventoryData(t));if(this.cache.data){const o=this.normalizeInventoryItem(s.data);o&&(this.cache.data=[...this.cache.data,o])}const i=this.normalizeInventoryItem(s.data);if(!i)throw new Error("Invalid inventory item returned from server");return i}catch(s){console.error("Error adding inventory:",s);let i="Failed to add inventory";throw(a=(r=s.response)==null?void 0:r.data)!=null&&a.message?i=s.response.data.message:s.message&&(i=s.message),new Error(i)}}async bulkUpdateInventory(t){try{await ue.postWithRetry("/inventory/bulk",{items:t}),this.cache.data=null}catch(r){throw console.error("Error performing bulk update:",r),new Error("Failed to update inventory")}}normalizeInventoryData(t){if(console.log("normalizeInventoryData called with:",t),!Array.isArray(t))return console.error("Invalid inventory data - not an array:",t),[];const r=t.map(a=>this.normalizeInventoryItem(a)).filter(a=>a!==null);return console.log("Normalized inventory items:",r),r}normalizeInventoryItem(t){var r,a,s;if(!t||typeof t!="object")return console.error("Invalid inventory item:",t),null;try{return{_id:String(t._id),product:{_id:String(((r=t.product)==null?void 0:r._id)||t.product),name:String(((a=t.product)==null?void 0:a.name)||""),images:Array.isArray((s=t.product)==null?void 0:s.images)?[...t.product.images]:[]},size:String(t.size),color:String(t.color),quantity:Number(t.quantity),location:String(t.location),lowStockThreshold:Number(t.lowStockThreshold||5),status:this.calculateStatus(Number(t.quantity),Number(t.lowStockThreshold||5)),lastUpdated:new Date(t.lastUpdated||t.updatedAt||Date.now()).toISOString()}}catch(i){return console.error("Error normalizing inventory item:",i),null}}calculateStatus(t,r){return t<=0?"out_of_stock":t<=r?"low_stock":"in_stock"}serializeInventoryData(t){return{...t,product:typeof t.product=="object"?t.product._id:t.product,quantity:Number(t.quantity)}}}const jx=new ORe;function PRe(e={}){const{autoFetch:t=!0,retryOnError:r=!0,maxRetries:a=3,retryDelay:s=1e3}=e,[i,o]=N.useState([]),[l,c]=N.useState(!0),[d,u]=N.useState(null),[f,h]=N.useState(0),m=N.useCallback(async(v=!1)=>{if(v&&f>=a){u("Maximum retry attempts reached"),c(!1);return}try{console.log("useInventory: Starting inventory fetch..."),c(!0),u(null);const w=await jx.getAllInventory();console.log("useInventory: Received inventory data:",w),o(w),h(0),console.log("useInventory: Inventory state updated")}catch(w){if(console.error("useInventory: Error fetching inventory:",w),w.status===401||w.status===403){u("You do not have permission to access inventory data"),z.error("Access denied: Admin privileges required"),c(!1);return}u(w.message||"Failed to fetch inventory"),r&&f<a?(h(j=>j+1),setTimeout(()=>{m(!0)},s*Math.pow(2,f))):(z.error("Failed to fetch inventory data"),c(!1))}finally{c(!1)}},[a,f,s,r]);return N.useEffect(()=>{t&&m()},[t,m]),{inventory:i,loading:l,error:d,refreshInventory:()=>m(!1),updateInventory:async(v,w)=>{try{c(!0);const j=await jx.updateInventory(v,w);o(A=>A.map(C=>C._id===v?j:C)),z.success("Inventory updated successfully")}catch(j){throw z.error(j.message||"Failed to update inventory"),j}finally{c(!1)}},addInventory:async v=>{try{c(!0);const w=await jx.addInventory(v);o(j=>[...j,w]),z.success("Inventory added successfully")}catch(w){throw z.error(w.message||"Failed to add inventory"),w}finally{c(!1)}},bulkUpdate:async v=>{try{c(!0),await jx.bulkUpdateInventory(v),await m(),z.success("Bulk update completed successfully")}catch(w){throw z.error(w.message||"Failed to update inventory"),w}finally{c(!1)}}}}class IRe extends N.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){var t;return this.state.hasError?n.jsxs("div",{className:"text-center py-12 bg-red-50 rounded-xl",children:[n.jsx(Ur,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Something went wrong"}),n.jsx("p",{className:"text-red-600 mb-4",children:(t=this.state.error)==null?void 0:t.message}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Refresh Page"})]}):this.props.children}}function FRe(){const{user:e}=ln();if(!e||e.role!=="admin")return n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ur,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-500",children:"You need admin privileges to access inventory management."})]});const{inventory:t,loading:r,error:a,updateInventory:s,addInventory:i,refreshInventory:o}=PRe({autoFetch:(e==null?void 0:e.role)==="admin",retryOnError:!0,maxRetries:3}),[l,c]=N.useState(!1),[d,u]=N.useState(!1),[f,h]=N.useState(null),[m,p]=N.useState("inventory"),[x,y]=N.useState(""),[v,w]=N.useState(""),[j,A]=N.useState(""),C=[...new Set(t.map(E=>E.location))],S=t.filter(E=>{const T=E.product.name.toLowerCase().includes(x.toLowerCase())||E.size.toLowerCase().includes(x.toLowerCase())||E.color.toLowerCase().includes(x.toLowerCase()),F=!v||E.status===v,O=!j||E.location===j;return T&&F&&O});if(a)return n.jsxs("div",{className:"text-center py-12 bg-red-50 rounded-xl",children:[n.jsx(Ur,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Error Loading Inventory"}),n.jsx("p",{className:"text-red-600 mb-4",children:a}),n.jsx("button",{onClick:()=>o(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]});const k=[{id:"inventory",label:"Inventory",icon:rr},{id:"analytics",label:"Analytics",icon:il}];return n.jsx(IRe,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your product inventory and view analytics"})]}),m==="inventory"&&n.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Inventory"]})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:k.map(E=>{const T=E.icon;return n.jsxs("button",{onClick:()=>p(E.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${m===E.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(T,{className:"w-5 h-5"}),E.label]},E.id)})})}),m==="inventory"&&n.jsxs(n.Fragment,{children:[n.jsx(pRe,{searchQuery:x,onSearchChange:y,statusFilter:v,onStatusChange:w,locationFilter:j,onLocationChange:A,locations:C}),r?n.jsx(kf,{}):t.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[n.jsx(rr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Inventory Items"}),n.jsx("p",{className:"text-gray-500",children:"Add your first inventory item to get started."})]}):n.jsx(mRe,{items:S,onEdit:E=>{h(E),u(!0)},onInlineEdit:async(E,T)=>{await s(E._id,T)}}),n.jsx(uRe,{isOpen:l,onClose:()=>c(!1),onSubmit:i}),n.jsx(fRe,{isOpen:d,onClose:()=>{u(!1),h(null)},onSubmit:async E=>{f&&await s(f._id,E.quantity),u(!1),h(null)},item:f})]}),m==="analytics"&&n.jsx(TRe,{})]})})}function DRe({giftCards:e,onCancel:t,onView:r}){const a=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"redeemed":return"bg-gray-100 text-gray-800";case"expired":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Purchased By"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(s=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(rp,{className:"w-5 h-5 text-indigo-600 mr-2"}),n.jsx("span",{className:"font-mono text-sm",children:s.code})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:lt(s.initialBalance,s.currency)}),s.currentBalance!==s.initialBalance&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Balance: ",lt(s.currentBalance,s.currency)]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.purchasedBy.name}),n.jsx("div",{className:"text-sm text-gray-500",children:s.purchasedBy.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.recipient?n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.recipient.name}),n.jsx("div",{className:"text-sm text-gray-500",children:s.recipient.email})]}):n.jsx("span",{className:"text-sm text-gray-500",children:"Self Purchase"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a(s.status)}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Co(new Date(s.createdAt),{addSuffix:!0})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.expiryDate?new Date(s.expiryDate).toLocaleDateString(void 0,{timeZone:"UTC"}):"—"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>{var i;return(i=navigator.clipboard)==null?void 0:i.writeText(s.code)},className:"text-gray-500 hover:text-gray-800",title:"Copy code",children:n.jsx(Bu,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r&&r(s),className:"text-gray-500 hover:text-gray-800",title:"View details",children:n.jsx(LG,{className:"w-5 h-5"})}),s.status==="active"&&n.jsx("button",{onClick:()=>t(s._id),className:"text-red-600 hover:text-red-900",title:"Cancel gift card",children:n.jsx(wG,{className:"w-5 h-5"})})]})})]},s._id))})]})})})}function RRe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState(""),[o,l]=N.useState("all"),[c,d]=N.useState(""),[u,f]=N.useState(""),[h,m]=N.useState("newest"),[p,x]=N.useState(1),[y,v]=N.useState(10),[w,j]=N.useState(!1),[A,C]=N.useState(!1),[S,k]=N.useState({amount:"",recipientName:"",recipientEmail:"",message:"",currency:"USD",expiryDate:""}),[E,T]=N.useState(!1),[F,O]=N.useState(null);N.useEffect(()=>{P()},[]);const P=async()=>{try{const K=await ue.getWithRetry("/gift-cards/all");t(K.data)}catch(K){z.error("Failed to fetch gift cards")}finally{a(!1)}},W=async K=>{if(window.confirm("Are you sure you want to cancel this gift card?"))try{await ue.putWithRetry(`/gift-cards/${K}/cancel`),z.success("Gift card cancelled successfully"),P()}catch(Z){z.error("Failed to cancel gift card")}},q=e.filter(K=>{var Q,J,L,he,ge,Ae;const Z=s.toLowerCase(),I=K.code.toLowerCase().includes(Z)||((J=(Q=K.purchasedBy)==null?void 0:Q.name)==null?void 0:J.toLowerCase().includes(Z))||((he=(L=K.purchasedBy)==null?void 0:L.email)==null?void 0:he.toLowerCase().includes(Z))||((ge=K.recipient)==null?void 0:ge.name)&&K.recipient.name.toLowerCase().includes(Z)||((Ae=K.recipient)==null?void 0:Ae.email)&&K.recipient.email.toLowerCase().includes(Z),V=o==="all"?!0:K.status===o,te=K.createdAt?new Date(K.createdAt):null,R=c?te?te>=new Date(c):!1:!0,U=u?te?te<=new Date(u+"T23:59:59"):!1:!0;return I&&V&&R&&U}).sort((K,Z)=>{switch(h){case"oldest":return new Date(K.createdAt).getTime()-new Date(Z.createdAt).getTime();case"amount_desc":return(Z.initialBalance||0)-(K.initialBalance||0);case"balance_asc":return(K.currentBalance||0)-(Z.currentBalance||0);case"newest":default:return new Date(Z.createdAt).getTime()-new Date(K.createdAt).getTime()}}),D=q.length,M=Math.max(1,Math.ceil(D/y)),H=Math.min(p,M),ee=q.slice((H-1)*y,H*y),X=()=>x(1),de=()=>{const K=q.map(U=>({Code:U.code,Amount:U.initialBalance,Balance:U.currentBalance,Currency:U.currency,Status:U.status,Expiry:U.expiryDate?new Date(U.expiryDate).toISOString().slice(0,10):"",PurchasedBy:U.purchasedBy?`${U.purchasedBy.name} <${U.purchasedBy.email}>`:"",Recipient:U.recipient?`${U.recipient.name} <${U.recipient.email}>`:"Self",CreatedAt:U.createdAt})),I=[Object.keys(K[0]||{}).join(","),...K.map(U=>Object.values(U).map(Q=>{const J=String(Q!=null?Q:"");return/[,"]/.test(J)?'"'+J.replace(/"/g,'""')+'"':J}).join(","))].join(`
`),V=new Blob([I],{type:"text/csv;charset=utf-8;"}),te=URL.createObjectURL(V),R=document.createElement("a");R.href=te,R.download=`gift-cards-${new Date().toISOString().slice(0,10)}.csv`,R.click(),URL.revokeObjectURL(te)},le=K=>{const{name:Z,value:I}=K.target;k(V=>({...V,[Z]:I}))},G=async K=>{var Z,I;if(K.preventDefault(),!S.amount||Number(S.amount)<10){z.error("Amount must be at least 10");return}if(S.expiryDate){const V=new Date(S.expiryDate),te=new Date;if(te.setHours(0,0,0,0),isNaN(V.getTime())){z.error("Invalid expiry date");return}if(V<te){z.error("Expiry date must be today or in the future");return}}try{C(!0);const V=new AbortController,te=window.setTimeout(()=>V.abort(),2e4),R={...S,amount:Number(S.amount)};S.expiryDate||delete R.expiryDate;const{data:U}=await ue.postWithRetry("/gift-cards/purchase",R,{signal:V.signal});window.clearTimeout(te),z.success("Gift card created"),j(!1),k({amount:"",recipientName:"",recipientEmail:"",message:"",currency:"USD",expiryDate:""}),t(Q=>[U,...Q])}catch(V){(V==null?void 0:V.name)==="CanceledError"||(V==null?void 0:V.message)==="canceled"?z.error("Request timed out. Please try again."):(I=(Z=V==null?void 0:V.response)==null?void 0:Z.data)!=null&&I.message?z.error(V.response.data.message):z.error("Failed to create gift card")}finally{C(!1)}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gift Cards"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and track gift cards across your store."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",onClick:de,children:[n.jsx(yi,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),n.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>j(!0),children:[n.jsx(HG,{className:"w-5 h-5 mr-2"}),"Create Gift Card"]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"search",placeholder:"Search gift cards...",value:s,onChange:K=>{i(K.target.value),X()},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("select",{value:o,onChange:K=>{l(K.target.value),X()},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"redeemed",children:"Redeemed"}),n.jsx("option",{value:"expired",children:"Expired"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("select",{value:h,onChange:K=>m(K.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[n.jsx("option",{value:"newest",children:"Newest"}),n.jsx("option",{value:"oldest",children:"Oldest"}),n.jsx("option",{value:"amount_desc",children:"Amount: High to Low"}),n.jsx("option",{value:"balance_asc",children:"Balance: Low to High"})]}),n.jsx("input",{type:"date",value:c,onChange:K=>{d(K.target.value),X()},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"}),n.jsx("input",{type:"date",value:u,onChange:K=>{f(K.target.value),X()},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"}),n.jsxs("select",{value:y,onChange:K=>{v(Number(K.target.value)),X()},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm ml-auto",children:[n.jsx("option",{value:10,children:"10 / page"}),n.jsx("option",{value:25,children:"25 / page"}),n.jsx("option",{value:50,children:"50 / page"})]})]}),e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[n.jsx(rp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Gift Cards Found"}),n.jsx("p",{className:"text-gray-500",children:"No gift cards have been purchased yet."})]}):n.jsx(DRe,{giftCards:ee,onCancel:W,onView:K=>{O(K),T(!0)}}),D>0&&n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[n.jsxs("div",{children:["Showing ",(H-1)*y+1,"-",Math.min(H*y,D)," of ",D]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"px-3 py-1 border rounded disabled:opacity-50",onClick:()=>x(K=>Math.max(1,K-1)),disabled:H===1,children:"Previous"}),n.jsxs("span",{children:["Page ",H," of ",M]}),n.jsx("button",{className:"px-3 py-1 border rounded disabled:opacity-50",onClick:()=>x(K=>Math.min(M,K+1)),disabled:H===M,children:"Next"})]})]}),w&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:n.jsxs("div",{className:"bg-white w-full max-w-md rounded-lg shadow-xl p-6 relative",children:[n.jsx("button",{className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>j(!1),children:n.jsx(xt,{className:"w-5 h-5"})}),n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create Gift Card"}),n.jsxs("form",{onSubmit:G,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),n.jsx("input",{name:"amount",type:"number",min:10,required:!0,value:S.amount,onChange:le,className:"mt-1 w-full border border-gray-300 rounded-md px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Recipient Name"}),n.jsx("input",{name:"recipientName",value:S.recipientName,onChange:le,className:"mt-1 w-full border border-gray-300 rounded-md px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Recipient Email"}),n.jsx("input",{name:"recipientEmail",type:"email",value:S.recipientEmail,onChange:le,className:"mt-1 w-full border border-gray-300 rounded-md px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Message"}),n.jsx("textarea",{name:"message",value:S.message,onChange:le,className:"mt-1 w-full border border-gray-300 rounded-md px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),n.jsxs("select",{name:"currency",value:S.currency,onChange:le,className:"mt-1 w-full border border-gray-300 rounded-md px-3 py-2",children:[n.jsx("option",{value:"USD",children:"USD"}),n.jsx("option",{value:"EUR",children:"EUR"}),n.jsx("option",{value:"GBP",children:"GBP"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiry Date (optional)"}),n.jsx("input",{name:"expiryDate",type:"date",value:S.expiryDate,min:new Date().toISOString().slice(0,10),onChange:le,className:"mt-1 w-full border border-gray-300 rounded-md px-3 py-2"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave empty to default to 1 year from today."})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[n.jsx("button",{type:"button",className:"px-4 py-2 rounded-md border",onClick:()=>j(!1),children:"Cancel"}),n.jsx("button",{type:"submit",disabled:A,className:"px-4 py-2 rounded-md bg-indigo-600 text-white disabled:opacity-50",children:A?"Creating...":"Create"})]})]})]})}),E&&F&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:n.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-lg shadow-xl p-6 relative",children:[n.jsx("button",{className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>T(!1),children:n.jsx(xt,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Gift Card Details"}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",F.createdAt?Co(new Date(F.createdAt),{addSuffix:!0}):"—"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Unique Code"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-mono text-lg",children:F.code}),n.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-800",onClick:()=>{var K;return(K=navigator.clipboard)==null?void 0:K.writeText(F.code)},title:"Copy code",children:n.jsx(AG,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"text-xs text-gray-400",children:["Length: ",String(F.code||"").length," chars"]})]}),n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Status"}),n.jsx("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",children:F.status})]}),n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Initial Balance"}),n.jsx("div",{className:"text-lg font-semibold",children:lt(F.initialBalance,F.currency)})]}),n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Remaining Balance"}),n.jsx("div",{className:"text-lg font-semibold",children:lt(F.currentBalance,F.currency)})]}),n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Expiry Date"}),n.jsx("div",{className:"text-lg",children:F.expiryDate?new Date(F.expiryDate).toLocaleDateString(void 0,{timeZone:"UTC"}):"—"})]}),n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Last Used"}),n.jsx("div",{className:"text-lg",children:F.lastUsed?Co(new Date(F.lastUsed),{addSuffix:!0}):"—"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-md font-semibold mb-2",children:"Purchase & Usage History"}),n.jsx("div",{className:"overflow-x-auto border rounded-lg",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Date"}),n.jsx("th",{className:"px-4 py-2 text-left",children:"Type"}),n.jsx("th",{className:"px-4 py-2 text-left",children:"Amount"}),n.jsx("th",{className:"px-4 py-2 text-left",children:"Order"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2",children:F.createdAt?new Date(F.createdAt).toLocaleString():"—"}),n.jsx("td",{className:"px-4 py-2",children:"Purchase"}),n.jsx("td",{className:"px-4 py-2",children:lt(F.initialBalance,F.currency)}),n.jsx("td",{className:"px-4 py-2",children:"—"})]}),Array.isArray(F.redemptions)&&F.redemptions.length>0?F.redemptions.map((K,Z)=>n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"px-4 py-2",children:K.date?new Date(K.date).toLocaleString():"—"}),n.jsx("td",{className:"px-4 py-2",children:"Redemption"}),n.jsxs("td",{className:"px-4 py-2",children:["-",lt(K.amount,F.currency)]}),n.jsx("td",{className:"px-4 py-2",children:K.order?String(K.order).slice(-6):"—"})]},Z)):n.jsx("tr",{className:"border-t",children:n.jsx("td",{className:"px-4 py-3 text-gray-500",colSpan:4,children:"No redemptions yet."})})]})]})})]})]})})]})}function MRe({coupons:e,onEdit:t,onDelete:r}){const a=Array.isArray(e)?e:[];return n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Validity"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(s=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Iv,{className:"w-5 h-5 text-indigo-600 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:s.code}),n.jsx("div",{className:"text-sm text-gray-500",children:s.description})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:s.type==="percentage"?`${s.value}%`:`$${s.value}`}),s.minPurchase>0&&n.jsxs("div",{className:"text-sm text-gray-500",children:["Min. purchase: $",s.minPurchase]}),s.maxDiscount&&n.jsxs("div",{className:"text-sm text-gray-500",children:["Max discount: $",s.maxDiscount]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(od,{className:"w-4 h-4 text-gray-400 mr-2"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-900",children:Ba(new Date(s.startDate),"MMM d, yyyy")}),n.jsxs("div",{className:"text-sm text-gray-500",children:["to ",Ba(new Date(s.endDate),"MMM d, yyyy")]})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.usageLimit?`${s.usedCount} / ${s.usageLimit}`:`${s.usedCount} uses`}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>t(s),className:"text-indigo-600 hover:text-indigo-900",children:n.jsx(No,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r(s._id),className:"text-red-600 hover:text-red-900",children:n.jsx(en,{className:"w-5 h-5"})})]})})]},s._id))})]})})})}function LRe({isOpen:e,onClose:t,onSubmit:r,coupon:a}){const[s,i]=N.useState({code:"",type:"percentage",value:0,minPurchase:0,maxDiscount:void 0,startDate:Ba(new Date,"yyyy-MM-dd"),endDate:Ba(new Date,"yyyy-MM-dd"),isActive:!0,usageLimit:void 0,description:""}),[o,l]=N.useState(!1);N.useEffect(()=>{i(a?{code:a.code,type:a.type,value:a.value,minPurchase:a.minPurchase,maxDiscount:a.maxDiscount,startDate:Ba(new Date(a.startDate),"yyyy-MM-dd"),endDate:Ba(new Date(a.endDate),"yyyy-MM-dd"),isActive:a.isActive,usageLimit:a.usageLimit,description:a.description||""}:{code:"",type:"percentage",value:0,minPurchase:0,maxDiscount:void 0,startDate:Ba(new Date,"yyyy-MM-dd"),endDate:Ba(new Date,"yyyy-MM-dd"),isActive:!0,usageLimit:void 0,description:""})},[a]);const c=async d=>{d.preventDefault(),l(!0);try{await r(s),t()}catch(u){}finally{l(!1)}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Coupon":"Create Coupon"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coupon Code"}),n.jsx("input",{type:"text",value:s.code,onChange:d=>i(u=>({...u,code:d.target.value.toUpperCase()})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter coupon code",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Type"}),n.jsxs("select",{value:s.type,onChange:d=>i(u=>({...u,type:d.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"percentage",children:"Percentage"}),n.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s.type==="percentage"?"Discount Percentage":"Discount Amount"}),n.jsx("input",{type:"number",min:"0",step:s.type==="percentage"?"1":"0.01",max:s.type==="percentage"?"100":void 0,value:s.value,onChange:d=>i(u=>({...u,value:parseFloat(d.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Purchase"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:s.minPurchase,onChange:d=>i(u=>({...u,minPurchase:parseFloat(d.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),s.type==="percentage"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Discount Amount"}),n.jsx("input",{type:"number",min:"0",step:"0.01",value:s.maxDiscount||"",onChange:d=>i(u=>({...u,maxDiscount:d.target.value?parseFloat(d.target.value):void 0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Optional"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),n.jsx("input",{type:"date",value:s.startDate,onChange:d=>i(u=>({...u,startDate:d.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),n.jsx("input",{type:"date",value:s.endDate,onChange:d=>i(u=>({...u,endDate:d.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usage Limit"}),n.jsx("input",{type:"number",min:"0",value:s.usageLimit||"",onChange:d=>i(u=>({...u,usageLimit:d.target.value?parseInt(d.target.value):void 0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Optional"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{value:s.description,onChange:d=>i(u=>({...u,description:d.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Optional description"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:d=>i(u=>({...u,isActive:d.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active Coupon"})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:o?"Saving...":a?"Update":"Create"})]})]})]})]})}):null}function $Re(){const[e,t]=N.useState([]),[r,a]=N.useState(null),[s,i]=N.useState(!1),[o,l]=N.useState(!0);N.useEffect(()=>{c()},[]);const c=async()=>{try{const h=await ue.getWithRetry($r.COUPONS.LIST),m=Array.isArray(h.data)?h.data:[];t(m)}catch(h){z.error("Failed to fetch coupons")}finally{l(!1)}},d=async h=>{try{const m=await ue.postWithRetry($r.COUPONS.CREATE,h);t(p=>[...p,m.data]),z.success("Coupon created successfully")}catch(m){throw z.error("Failed to create coupon"),m}},u=async(h,m)=>{try{const p=await ue.putWithRetry($r.COUPONS.UPDATE(h),m);t(x=>x.map(y=>y._id===h?p.data:y)),z.success("Coupon updated successfully")}catch(p){throw z.error("Failed to update coupon"),p}},f=async h=>{if(window.confirm("Are you sure you want to delete this coupon?"))try{await ue.deleteWithRetry($r.COUPONS.DELETE(h)),t(m=>m.filter(p=>p._id!==h)),z.success("Coupon deleted successfully")}catch(m){z.error("Failed to delete coupon")}};return o?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Coupon Management"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Create and manage discount coupons for your store."})]}),n.jsxs("button",{onClick:()=>{a(null),i(!0)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Coupon"]})]}),n.jsx(MRe,{coupons:e,onEdit:h=>{a(h),i(!0)},onDelete:f}),n.jsx(LRe,{isOpen:s,onClose:()=>{i(!1),a(null)},onSubmit:r?h=>u(r._id,h):d,coupon:r})]})}function BRe(e){const{min:t,max:r}=e.estimatedDays;return t===r?`${t} business days`:`${t}-${r} business days`}function URe({zones:e,rates:t,onEditZone:r,onDeleteZone:a,onAddRate:s,onEditRate:i,onDeleteRate:o}){const[l,c]=ne.useState(null);return n.jsx("div",{className:"space-y-4",children:e.map(d=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d.name}),n.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[d.cities.length," cities, ",d.regions.length," regions"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>r(d),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:n.jsx(No,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>a(d._id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",children:n.jsx(en,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>c(l===d._id?null:d._id),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:n.jsx(kd,{className:`w-5 h-5 transition-transform duration-200 ${l===d._id?"rotate-180":""}`})})]})]}),l===d._id&&n.jsxs("div",{className:"border-t",children:[n.jsxs("div",{className:"p-6 grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Cities"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:d.cities.map(u=>n.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded",children:[u.name,u.price!=null&&` ($${u.price})`]},u.name))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Regions"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:d.regions.map(u=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-sm rounded",children:u},u))})]})]}),n.jsx("div",{className:"border-t",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Shipping Rates"}),n.jsxs("button",{onClick:()=>s(d),className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-700",children:[n.jsx(fr,{className:"w-4 h-4"}),"Add Rate"]})]}),n.jsx("div",{className:"divide-y",children:t.filter(u=>typeof u.zone=="string"?u.zone===d._id:u.zone._id===d._id).map(u=>n.jsxs("div",{className:"py-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-900",children:u.name}),n.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[n.jsxs("span",{className:"capitalize",children:[u.type," rate"]})," • ",n.jsxs("span",{children:["$",u.baseRate.toFixed(2)," base fee"]})," • ",n.jsx("span",{children:BRe(u)})]}),u.freeShippingThreshold&&n.jsxs("p",{className:"mt-1 text-sm text-green-600",children:["Free shipping over $",u.freeShippingThreshold]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>i(u),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:n.jsx(No,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>o(u._id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",children:n.jsx(en,{className:"w-4 h-4"})})]})]},u._id))})]})})]})]},d._id))})}function WRe({isOpen:e,onClose:t,onSubmit:r,zone:a}){const[s,i]=N.useState({name:"",cities:[],zonePrice:"",regions:[],isActive:!0}),[o,l]=N.useState(!1),[c,d]=N.useState([]),[u,f]=N.useState(""),h=k=>{i(E=>E.cities.find(F=>F.name.toLowerCase()===k.toLowerCase())?{...E,cities:E.cities.filter(F=>F.name.toLowerCase()!==k.toLowerCase())}:{...E,cities:[...E.cities,{name:k}]})},m=()=>{const k=c.filter(E=>!u||E.toLowerCase().includes(u.toLowerCase()));i(E=>{const T=new Set(E.cities.map(O=>O.name.toLowerCase())),F=k.filter(O=>!T.has(O.toLowerCase())).map(O=>({name:O}));return{...E,cities:[...E.cities,...F]}})},p=()=>i(k=>({...k,cities:[]})),[x,y]=N.useState("");N.useEffect(()=>{var k;i(a?{name:a.name,cities:(a.cities||[]).map(E=>typeof E=="string"?{name:E}:{name:(E==null?void 0:E.name)||""}).filter(E=>E.name),zonePrice:(k=a.zonePrice)!=null?k:"",regions:a.regions,isActive:a.isActive}:{name:"",cities:[],zonePrice:"",regions:[],isActive:!0})},[a]),N.useEffect(()=>{(async()=>{try{const k=await sa.getConfiguredCities();d(k)}catch(k){}})()},[]);const v=async k=>{k.preventDefault(),l(!0);try{await r(s),t()}catch(E){}finally{l(!1)}},w=k=>{k&&(s.cities.find(E=>E.name.toLowerCase()===k.toLowerCase())||i(E=>({...E,cities:[...E.cities,{name:k}]})))},j=k=>{i(E=>({...E,cities:E.cities.filter(T=>T.name!==k)}))},A=()=>{x&&!s.regions.includes(x)&&(i(k=>({...k,regions:[...k.regions,x]})),y(""))},C=k=>{i(E=>({...E,regions:E.regions.filter(T=>T!==k)}))};if(!e)return null;const S=({onAdd:k})=>{const[E,T]=N.useState("");return n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("input",{type:"text",value:E,onChange:F=>T(F.target.value),placeholder:"Add custom city",className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"}),n.jsx("button",{type:"button",onClick:()=>{E.trim()&&(k(E.trim()),T(""))},className:"px-2 py-1 bg-indigo-600 text-white text-xs rounded",children:"Add"})]})};return n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Shipping Zone":"Add Shipping Zone"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Name"}),n.jsx("input",{type:"text",required:!0,value:s.name,onChange:k=>i(E=>({...E,name:k.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter zone name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cities"}),n.jsx("input",{type:"text",value:u,onChange:k=>f(k.target.value),placeholder:"Search city...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}),n.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-600 mb-1",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:m,className:"hover:text-indigo-600",children:"Select All (filtered)"}),n.jsx("button",{type:"button",onClick:p,className:"hover:text-red-600",children:"Clear"})]}),n.jsxs("span",{children:[s.cities.length," selected"]})]}),n.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-lg divide-y",children:(()=>{const E=(Array.isArray(c)?c:[]).filter(T=>!u||T.toLowerCase().includes(u.toLowerCase()));return E.length?E.map(T=>{const F=!!s.cities.find(O=>typeof(O==null?void 0:O.name)=="string"&&O.name.toLowerCase()===T.toLowerCase());return n.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 text-sm cursor-pointer hover:bg-indigo-50",children:[n.jsx("input",{type:"checkbox",checked:F,onChange:()=>h(T),className:"h-4 w-4 text-indigo-600 rounded border-gray-300"}),n.jsx("span",{className:"flex-1",children:T}),F&&n.jsx("span",{className:"text-indigo-600 text-xs",children:"✓"})]},T)}):n.jsxs("div",{className:"p-3 text-xs text-gray-500 space-y-2",children:[n.jsxs("p",{children:["No configured cities found",u&&" for this search","."]}),n.jsx(S,{onAdd:w})]})})()}),s.cities.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Selected Cities"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.cities.map(k=>n.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-sm flex items-center gap-1",children:[k.name,n.jsx("button",{type:"button",onClick:()=>j(k.name),className:"text-gray-400 hover:text-gray-600",children:n.jsx(xt,{className:"w-3 h-3"})})]},k.name))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zone Price (optional)"}),n.jsx("input",{type:"number",min:"0",value:s.zonePrice,onChange:k=>i(E=>({...E,zonePrice:k.target.value})),placeholder:"Enter one price for all selected cities",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to omit a default price (individual rates still apply)."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Regions (Optional)"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:x,onChange:k=>y(k.target.value),placeholder:"Enter region name",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}),n.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:n.jsx(fr,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.regions.map(k=>n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[k,n.jsx("button",{type:"button",onClick:()=>C(k),className:"text-gray-400 hover:text-gray-600",children:n.jsx(xt,{className:"w-4 h-4"})})]},k))})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:k=>i(E=>({...E,isActive:k.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active Zone"})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:o||s.cities.length===0,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:o?"Saving...":a?"Update":"Create"})]})]})]})]})})}function zRe({isOpen:e,onClose:t,onSubmit:r,rate:a,zone:s}){const[i,o]=N.useState({name:"",type:"flat",baseRate:0,conditions:[],additionalFee:0,freeShippingThreshold:void 0,isActive:!0,estimatedDays:{min:1,max:3},cities:[]}),[l,c]=N.useState(!1);N.useEffect(()=>{o(a?v=>({...v,name:a.name,type:a.type,baseRate:a.baseRate,conditions:a.conditions,additionalFee:a.additionalFee,freeShippingThreshold:a.freeShippingThreshold,isActive:a.isActive,estimatedDays:a.estimatedDays,cities:a.cities||[]}):{name:"",type:"flat",baseRate:0,conditions:[],additionalFee:0,freeShippingThreshold:void 0,isActive:!0,estimatedDays:{min:1,max:3},cities:[]})},[a]);const[d,u]=N.useState(""),[f,h]=N.useState(""),m=()=>{const v=d.trim();if(!v||i.cities.find(j=>j.name.toLowerCase()===v.toLowerCase()))return;const w=f===""?void 0:Number(f);w!==void 0&&(isNaN(w)||w<0)||(o(j=>({...j,cities:[...j.cities,{name:v,cost:w}]})),u(""),h(""))},p=(v,w,j)=>{o(A=>({...A,cities:A.cities.map((C,S)=>S===v?{...C,[w]:w==="cost"?j===""?void 0:Number(j):j}:C)}))},x=v=>{o(w=>({...w,cities:w.cities.filter((j,A)=>A!==v)}))},y=async v=>{if(v.preventDefault(),!!s){c(!0);try{await r({...i,zone:s._id}),t()}catch(w){}finally{c(!1)}}};return e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Shipping Rate":"Add Shipping Rate"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate Name"}),n.jsx("input",{type:"text",required:!0,value:i.name,onChange:v=>o(w=>({...w,name:v.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter rate name"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City Specific Fees (optional)"}),i.cities.length>0&&n.jsxs("span",{className:"text-xs text-gray-400",children:[i.cities.length," cities"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:d,onChange:v=>u(v.target.value),placeholder:"City name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-indigo-500"}),n.jsx("input",{type:"number",min:"0",value:f,onChange:v=>h(v.target.value),placeholder:"Cost (optional)",className:"w-36 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-indigo-500"}),n.jsx("button",{type:"button",onClick:m,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700",children:"Add"})]}),i.cities.length>0&&n.jsx("div",{className:"border rounded-lg divide-y max-h-56 overflow-y-auto",children:i.cities.map((v,w)=>n.jsxs("div",{className:"flex items-center gap-2 p-2",children:[n.jsx("input",{type:"text",value:v.name,onChange:j=>p(w,"name",j.target.value),className:"flex-1 px-2 py-1 border border-gray-200 rounded text-sm"}),n.jsx("input",{type:"number",min:"0",value:v.cost===void 0?"":v.cost,onChange:j=>p(w,"cost",j.target.value),className:"w-28 px-2 py-1 border border-gray-200 rounded text-sm",placeholder:"Auto"}),n.jsx("button",{type:"button",onClick:()=>x(w),className:"text-red-500 text-xs px-2 py-1 hover:underline",children:"Remove"})]},w))}),n.jsx("p",{className:"text-xs text-gray-500",children:"If city cost empty, base rate logic applies."})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:v=>o(w=>({...w,isActive:v.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active Rate"})]}),n.jsxs("div",{className:"flex justify-end gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:l?"Saving...":a?"Update":"Create"})]})]})]})]})}):null}function HRe(e={}){const{autoFetch:t=!0,retryOnError:r=!0,maxRetries:a=3}=e,[s,i]=N.useState([]),[o,l]=N.useState([]),[c,d]=N.useState(!0),[u,f]=N.useState(null),[h,m]=N.useState(0),p=N.useCallback(async(C=!1)=>{if(C&&h>=a){console.error("Maximum retry attempts reached for shipping data"),f("Maximum retry attempts reached"),d(!1);return}try{console.log("Fetching shipping data..."),d(!0),f(null);const[S,k]=await Promise.all([sa.getZones(),sa.getRates()]);console.log("Shipping data fetched successfully:",{zonesData:S,ratesData:k}),i(S),l(k),m(0),d(!1)}catch(S){console.error("Error fetching shipping data:",S),f("Failed to load shipping data"),r&&h<a?(console.log(`Retrying... attempt ${h+1}/${a}`),m(k=>k+1),setTimeout(()=>{p(!0)},1e3*Math.pow(2,h))):(z.error("Failed to load shipping data"),d(!1))}},[a,h,r]);return N.useEffect(()=>{t&&p()},[t,p]),{zones:s,rates:o,loading:c,error:u,createZone:async C=>{try{const S=await sa.createZone(C);return i(k=>[...k,S]),S}catch(S){throw S}},updateZone:async(C,S)=>{try{const k=await sa.updateZone(C,S);return i(E=>E.map(T=>T._id===C?k:T)),k}catch(k){throw k}},deleteZone:async C=>{try{await sa.deleteZone(C),i(S=>S.filter(k=>k._id!==C))}catch(S){throw S}},createRate:async C=>{try{const S=await sa.createRate(C);return l(k=>[...k,S]),S}catch(S){throw S}},updateRate:async(C,S)=>{try{const k=await sa.updateRate(C,S);return l(E=>E.map(T=>T._id===C?k:T)),k}catch(k){throw k}},deleteRate:async C=>{try{await sa.deleteRate(C),l(S=>S.filter(k=>k._id!==C))}catch(S){throw S}},refreshData:()=>(m(0),p())}}function VRe(){const{zones:e,rates:t,loading:r}=HRe(),[a,s]=N.useState(null),[i,o]=N.useState(null),[l,c]=N.useState(!1),[d,u]=N.useState(!1),f=async v=>{try{await sa.createZone(v),c(!1)}catch(w){}},h=async(v,w)=>{try{await sa.updateZone(v,w),c(!1),s(null)}catch(j){}},m=async v=>{try{await sa.createRate(v),u(!1)}catch(w){}},p=async(v,w)=>{try{await sa.updateRate(v,w),u(!1),o(null)}catch(j){}},x=async v=>{if(window.confirm("Are you sure you want to delete this shipping zone?"))try{await sa.deleteZone(v)}catch(w){}},y=async v=>{if(window.confirm("Are you sure you want to delete this shipping rate?"))try{await sa.deleteRate(v)}catch(w){}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shipping Management"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage shipping zones and delivery rates"})]}),n.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(fr,{className:"w-5 h-5"}),"Add Shipping Zone"]})]}),n.jsx(URe,{zones:e,rates:t,onEditZone:v=>{s(v),c(!0)},onDeleteZone:x,onAddRate:v=>{s(v),u(!0)},onEditRate:v=>{o(v),u(!0)},onDeleteRate:y}),n.jsx(WRe,{isOpen:l,onClose:()=>{c(!1),s(null)},onSubmit:a?v=>h(a._id,v):f,zone:a}),n.jsx(zRe,{isOpen:d,onClose:()=>{u(!1),o(null)},onSubmit:i?v=>p(i._id,v):m,rate:i,zone:a})]})}function GRe({config:e,onSubmit:t,loading:r}){const[a,s]=ne.useState(e),i=async o=>{o.preventDefault(),await t(a)};return n.jsxs("form",{onSubmit:i,className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Facebook Pixel"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure Facebook Pixel tracking for your store"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"pixelEnabled",checked:a.enabled,onChange:o=>s(l=>({...l,enabled:o.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"pixelEnabled",className:"ml-2 text-sm text-gray-900",children:"Enable Facebook Pixel"})]})]}),a.enabled&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"pixelId",className:"block text-sm font-medium text-gray-700",children:"Pixel ID"}),n.jsx("div",{className:"mt-1",children:n.jsx("input",{type:"text",id:"pixelId",value:a.pixelId,onChange:o=>s(l=>({...l,pixelId:o.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Enter your Facebook Pixel ID",required:!0})}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You can find your Pixel ID in your Facebook Events Manager"})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(ka,{className:"w-5 h-5 text-blue-400 mt-0.5"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Important Note"}),n.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Make sure to comply with data protection regulations (like GDPR) when using Facebook Pixel. Consider implementing a cookie consent mechanism."})]})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{type:"submit",disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[n.jsx(ma,{className:"w-5 h-5"}),r?"Saving...":"Save Changes"]})})]})}class qRe{async getFacebookPixelConfig(){try{return(await ue.get("/settings/analytics/facebook-pixel")).data}catch(t){throw console.error("Error fetching Facebook Pixel config:",t),t}}async updateFacebookPixelConfig(t){try{return(await ue.put("/settings/analytics/facebook-pixel",t)).data}catch(r){throw console.error("Error updating Facebook Pixel config:",r),r}}async getAnalyticsConfig(){try{return(await ue.get("/settings/analytics")).data}catch(t){throw console.error("Error fetching analytics config:",t),t}}}const z5=new qRe;function KRe(){const[e,t]=N.useState({pixelId:"",enabled:!1}),[r,a]=N.useState(!0);N.useEffect(()=>{s()},[]);const s=async()=>{try{const o=await z5.getFacebookPixelConfig();t(o)}catch(o){z.error("Failed to load Facebook Pixel settings")}finally{a(!1)}};return{config:e,loading:r,updateConfig:async o=>{try{if(a(!0),o.enabled&&!/^\d{15,16}$/.test(o.pixelId))throw new Error("Invalid Facebook Pixel ID format");await z5.updateFacebookPixelConfig(o),t(o),o.enabled&&t6.init(o),z.success("Facebook Pixel settings updated successfully")}catch(l){throw z.error(l instanceof Error?l.message:"Failed to update Facebook Pixel settings"),l}finally{a(!1)}}}}function XRe(){const{config:e,loading:t,updateConfig:r}=KRe();return t?n.jsx(kf,{}):n.jsx("div",{className:"bg-white rounded-xl shadow-sm",children:n.jsx(GRe,{config:e,onSubmit:r,loading:t})})}function YRe(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(m8,{title:"Analytics Settings",description:"Configure analytics and tracking for your store"}),n.jsx(XRe,{})]})}function H5(){const{settings:e,updateSettings:t}=vr(),{isAuthenticated:r,user:a}=ln(),[s,i]=N.useState(!1),[o,l]=N.useState("themes"),[c,d]=N.useState("desktop"),[u,f]=N.useState([]),[h,m]=N.useState(-1),[p,x]=N.useState(!0),[y,v]=N.useState(null),[w,j]=N.useState(!0),[A,C]=N.useState(null),S=N.useRef(!1),[k,E]=N.useState({primaryColor:(e==null?void 0:e.primaryColor)||"#4F46E5",secondaryColor:(e==null?void 0:e.secondaryColor)||"#10B981",accentColor:(e==null?void 0:e.accentColor)||"#F59E0B",textColor:(e==null?void 0:e.textColor)||"#1F2937",backgroundColor:(e==null?void 0:e.backgroundColor)||"#FFFFFF",atcBgColor:(e==null?void 0:e.atcBgColor)||"",atcTextColor:(e==null?void 0:e.atcTextColor)||"",atcHoverBgColor:(e==null?void 0:e.atcHoverBgColor)||"",fontFamily:(e==null?void 0:e.fontFamily)||"Inter",headerLayout:(e==null?void 0:e.headerLayout)||"modern",footerStyle:(e==null?void 0:e.footerStyle)||"detailed",productCardStyle:(e==null?void 0:e.productCardStyle)||"modern",borderRadius:(e==null?void 0:e.borderRadius)||"medium",buttonStyle:(e==null?void 0:e.buttonStyle)||"rounded",headingFont:(e==null?void 0:e.headingFont)||"Inter",bodyFont:(e==null?void 0:e.bodyFont)||"Inter",fontSize:(e==null?void 0:e.fontSize)||"medium",lineHeight:(e==null?void 0:e.lineHeight)||"normal",letterSpacing:(e==null?void 0:e.letterSpacing)||"normal",fontWeight:(e==null?void 0:e.fontWeight)||"normal"});N.useEffect(()=>{e&&E(R=>{var U,Q,J,L,he,ge;return{...R,primaryColor:e.primaryColor||R.primaryColor||"#4F46E5",secondaryColor:e.secondaryColor||R.secondaryColor||"#10B981",accentColor:e.accentColor||R.accentColor||"#F59E0B",textColor:e.textColor||R.textColor||"#1F2937",backgroundColor:e.backgroundColor||R.backgroundColor||"#FFFFFF",headingFont:e.headingFont||R.headingFont||"Inter",bodyFont:e.bodyFont||R.bodyFont||"Inter",fontFamily:e.fontFamily||R.fontFamily||"Inter",headerLayout:e.headerLayout||R.headerLayout||"modern",footerStyle:e.footerStyle||R.footerStyle||"detailed",productCardStyle:e.productCardStyle||R.productCardStyle||"modern",borderRadius:e.borderRadius||R.borderRadius||"medium",buttonStyle:e.buttonStyle||R.buttonStyle||"rounded",atcBgColor:(Q=(U=e.atcBgColor)!=null?U:R.atcBgColor)!=null?Q:"",atcTextColor:(L=(J=e.atcTextColor)!=null?J:R.atcTextColor)!=null?L:"",atcHoverBgColor:(ge=(he=e.atcHoverBgColor)!=null?he:R.atcHoverBgColor)!=null?ge:""}})},[e]);const T=[{id:"modern-blue",name:"Modern Blue",colors:["#3B82F6","#1E40AF","#60A5FA","#1F2937","#F8FAFC"],description:"Professional and trustworthy"},{id:"warm-sunset",name:"Warm Sunset",colors:["#F59E0B","#DC2626","#FB923C","#1F2937","#FFFBEB"],description:"Energetic and welcoming"},{id:"nature-green",name:"Nature Green",colors:["#10B981","#059669","#34D399","#064E3B","#F0FDF4"],description:"Fresh and organic feel"},{id:"luxury-purple",name:"Luxury Purple",colors:["#8B5CF6","#7C3AED","#A78BFA","#1F2937","#FAF5FF"],description:"Premium and sophisticated"},{id:"minimalist-gray",name:"Minimalist Gray",colors:["#6B7280","#374151","#9CA3AF","#111827","#F9FAFB"],description:"Clean and timeless"},{id:"vibrant-pink",name:"Vibrant Pink",colors:["#EC4899","#BE185D","#F472B6","#1F2937","#FDF2F8"],description:"Bold and creative"}],F=[{id:"modern-sans",name:"Modern Sans",heading:"Inter",body:"Inter",description:"Clean and professional"},{id:"elegant-serif",name:"Elegant Serif",heading:"Playfair Display",body:"Source Sans Pro",description:"Sophisticated and readable"},{id:"friendly-rounded",name:"Friendly Rounded",heading:"Poppins",body:"Nunito",description:"Approachable and modern"},{id:"tech-corporate",name:"Tech Corporate",heading:"Montserrat",body:"Roboto",description:"Professional and technical"},{id:"creative-display",name:"Creative Display",heading:"Raleway",body:"Lato",description:"Artistic and expressive"}];N.useEffect(()=>{if(p&&w&&!S.current){const R=setTimeout(async()=>{try{if(S.current=!0,r&&(a==null?void 0:a.role)==="admin")await t(k),C(new Date);else try{const Q={primaryColor:k.primaryColor,secondaryColor:k.secondaryColor,accentColor:k.accentColor,textColor:k.textColor,backgroundColor:k.backgroundColor,atcBgColor:k.atcBgColor,atcTextColor:k.atcTextColor,atcHoverBgColor:k.atcHoverBgColor};localStorage.setItem("store:settings_overrides",JSON.stringify(Q)),C(new Date)}catch(Q){}}catch(U){console.error("Auto-save failed:",U)}finally{S.current=!1}},1e3);return()=>clearTimeout(R)}},[k,p,w,r,a==null?void 0:a.role]);const O=N.useCallback(async R=>{try{await navigator.clipboard.writeText(R),v(R),z.success(`Copied ${R} to clipboard!`),setTimeout(()=>v(null),2e3)}catch(U){z.error("Failed to copy color")}},[]),P=N.useCallback(async R=>{const U={...k,primaryColor:R.colors[0],secondaryColor:R.colors[1],accentColor:R.colors[2],textColor:R.colors[3],backgroundColor:R.colors[4]};E(U),M(`Applied ${R.name} color palette`);try{if(r&&(a==null?void 0:a.role)==="admin")console.log("Saving color palette data:",U),await t(U),z.success(`${R.name} palette applied and saved!`);else{try{localStorage.setItem("store:settings_overrides",JSON.stringify({primaryColor:U.primaryColor,secondaryColor:U.secondaryColor,accentColor:U.accentColor,textColor:U.textColor,backgroundColor:U.backgroundColor}))}catch(J){}z.success(`${R.name} palette applied (preview only)`)}}catch(Q){console.error("Failed to save palette:",Q),z.error(`${R.name} palette applied but failed to save`)}},[k,t,r,a==null?void 0:a.role]),W=N.useCallback(R=>{const U={...k,headingFont:R.heading,bodyFont:R.body,fontFamily:R.body};E(U),M(`Applied ${R.name} font pairing`),z.success(`${R.name} fonts applied!`)},[k]),q=N.useCallback(()=>{const R=T[Math.floor(Math.random()*T.length)],U=F[Math.floor(Math.random()*F.length)],Q={...k,primaryColor:R.colors[0],secondaryColor:R.colors[1],accentColor:R.colors[2],textColor:R.colors[3],backgroundColor:R.colors[4],headingFont:U.heading,bodyFont:U.body,fontFamily:U.body};E(Q),M("Generated random theme"),z.success("Random theme generated!")},[k,T,F]),D=[{id:"modern-minimal",name:"Modern Minimal",description:"Clean, contemporary design with subtle shadows",preview:"/themes/modern-minimal.jpg",colors:{primary:"#1F2937",secondary:"#6366F1",accent:"#F59E0B",text:"#111827",background:"#FFFFFF"},typography:{fontFamily:"Inter",fontSize:"medium"},layout:{headerLayout:"minimal",footerStyle:"simple",productCardStyle:"minimal",borderRadius:"large",buttonStyle:"rounded"}},{id:"vibrant-modern",name:"Vibrant Modern",description:"Bold colors with modern aesthetics",preview:"/themes/vibrant-modern.jpg",colors:{primary:"#8B5CF6",secondary:"#EC4899",accent:"#F97316",text:"#1F2937",background:"#FFFFFF"},typography:{fontFamily:"Poppins",fontSize:"medium"},layout:{headerLayout:"modern",footerStyle:"detailed",productCardStyle:"modern",borderRadius:"medium",buttonStyle:"rounded"}},{id:"elegant-classic",name:"Elegant Classic",description:"Timeless design with sophisticated typography",preview:"/themes/elegant-classic.jpg",colors:{primary:"#92400E",secondary:"#059669",accent:"#DC2626",text:"#1F2937",background:"#FFFBEB"},typography:{fontFamily:"Playfair Display",fontSize:"large"},layout:{headerLayout:"classic",footerStyle:"detailed",productCardStyle:"classic",borderRadius:"small",buttonStyle:"square"}},{id:"dark-premium",name:"Dark Premium",description:"Luxurious dark theme for premium brands",preview:"/themes/dark-premium.jpg",colors:{primary:"#F59E0B",secondary:"#10B981",accent:"#EF4444",text:"#F9FAFB",background:"#111827"},typography:{fontFamily:"Montserrat",fontSize:"medium"},layout:{headerLayout:"modern",footerStyle:"newsletter",productCardStyle:"modern",borderRadius:"medium",buttonStyle:"pill"}},{id:"fresh-organic",name:"Fresh & Organic",description:"Natural colors perfect for organic/eco brands",preview:"/themes/fresh-organic.jpg",colors:{primary:"#059669",secondary:"#0D9488",accent:"#F59E0B",text:"#064E3B",background:"#F0FDF4"},typography:{fontFamily:"Nunito",fontSize:"medium"},layout:{headerLayout:"modern",footerStyle:"detailed",productCardStyle:"modern",borderRadius:"large",buttonStyle:"rounded"}},{id:"tech-corporate",name:"Tech Corporate",description:"Professional design for B2B and tech companies",preview:"/themes/tech-corporate.jpg",colors:{primary:"#1E40AF",secondary:"#3B82F6",accent:"#F59E0B",text:"#1F2937",background:"#F8FAFC"},typography:{fontFamily:"Source Sans Pro",fontSize:"medium"},layout:{headerLayout:"modern",footerStyle:"detailed",productCardStyle:"modern",borderRadius:"small",buttonStyle:"square"}}],M=R=>{const U={id:Date.now().toString(),timestamp:new Date,settings:{...k},description:R},Q=u.slice(0,h+1);Q.push(U),f(Q),m(Q.length-1)},H=()=>{if(h>0){const R=u[h-1];E(R.settings),m(h-1)}},ee=()=>{if(h<u.length-1){const R=u[h+1];E(R.settings),m(h+1)}},X=R=>{const U={...k,primaryColor:R.colors.primary,secondaryColor:R.colors.secondary,accentColor:R.colors.accent,textColor:R.colors.text,backgroundColor:R.colors.background,fontFamily:R.typography.fontFamily,headerLayout:R.layout.headerLayout,footerStyle:R.layout.footerStyle,productCardStyle:R.layout.productCardStyle,borderRadius:R.layout.borderRadius,buttonStyle:R.layout.buttonStyle};E(U),M(`Applied ${R.name} theme`),z.success(`${R.name} theme applied!`)},de=async()=>{i(!0);try{if(!(r&&(a==null?void 0:a.role)==="admin")){z.error("Admin access required to save design");return}await t(k),M("Saved design changes"),z.success("Design saved successfully!")}catch(R){z.error("Failed to save design")}finally{i(!1)}},le=()=>{const R={name:"Custom Theme",timestamp:new Date().toISOString(),settings:k},U=JSON.stringify(R,null,2),Q=new Blob([U],{type:"application/json"}),J=URL.createObjectURL(Q),L=document.createElement("a");L.href=J,L.download="store-theme.json",L.click(),z.success("Theme exported successfully!")},G=R=>{var J;const U=(J=R.target.files)==null?void 0:J[0];if(!U)return;const Q=new FileReader;Q.onload=L=>{var he;try{const ge=JSON.parse((he=L.target)==null?void 0:he.result);E(ge.settings),M(`Imported ${ge.name||"Custom"} theme`),z.success("Theme imported successfully!")}catch(ge){z.error("Invalid theme file")}},Q.readAsText(U)},K=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Theme Templates"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Choose from pre-designed themes or create your own"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[n.jsx(yi,{className:"w-4 h-4"}),"Export"]}),n.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors cursor-pointer",children:[n.jsx(Gn,{className:"w-4 h-4"}),"Import",n.jsx("input",{type:"file",accept:".json",onChange:G,className:"hidden"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(R=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ou,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Preview"})]})}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex gap-1 mb-3",children:[n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:R.colors.primary}}),n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:R.colors.secondary}}),n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:R.colors.accent}})]}),n.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:R.name}),n.jsx("p",{className:"text-sm text-gray-500 mb-3",children:R.description}),n.jsx("button",{onClick:()=>X(R),className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm",children:"Apply Theme"})]})]},R.id))})]}),Z=()=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Custom Design"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Fine-tune every aspect of your store's appearance"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("input",{type:"checkbox",checked:w,onChange:R=>j(R.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),"Auto-save"]}),A&&n.jsxs("span",{className:"text-xs text-gray-400",children:["Saved ",A.toLocaleTimeString()]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx("input",{type:"checkbox",checked:p,onChange:R=>x(R.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),n.jsx(Zo,{className:"w-4 h-4"}),"Real-time"]})}),n.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-3 py-2 text-sm bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all",children:[n.jsx(KG,{className:"w-4 h-4"}),"Random"]}),n.jsxs("div",{className:"flex items-center gap-1 border border-gray-200 rounded-lg p-1",children:[n.jsx("button",{onClick:H,disabled:h<=0,className:"p-1.5 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed rounded",title:"Undo",children:n.jsx(eq,{className:"w-4 h-4"})}),n.jsx("button",{onClick:ee,disabled:h>=u.length-1,className:"p-1.5 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed rounded",title:"Redo",children:n.jsx(VG,{className:"w-4 h-4"})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(Pv,{className:"w-5 h-5"}),"Quick Color Palettes"]}),n.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-700",children:"View All"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:T.map(R=>n.jsxs("div",{onClick:()=>P(R),className:"group cursor-pointer p-3 border border-gray-200 rounded-lg hover:border-indigo-300 hover:shadow-md transition-all",children:[n.jsx("div",{className:"flex gap-1 mb-2",children:R.colors.map((U,Q)=>n.jsx("div",{className:"w-6 h-6 rounded flex-1",style:{backgroundColor:U}},Q))}),n.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-indigo-600",children:R.name}),n.jsx("div",{className:"text-xs text-gray-500",children:R.description})]},R.id))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(ld,{className:"w-5 h-5"}),"Advanced Colors"]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[{key:"primaryColor",label:"Primary Color",value:k.primaryColor,description:"Main brand color for buttons and highlights"},{key:"secondaryColor",label:"Secondary Color",value:k.secondaryColor,description:"Supporting color for accents"},{key:"accentColor",label:"Accent Color",value:k.accentColor,description:"Call-to-action and emphasis color"},{key:"textColor",label:"Text Color",value:k.textColor,description:"Primary text color"},{key:"backgroundColor",label:"Background Color",value:k.backgroundColor,description:"Main background color"}].map(R=>n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:R.label}),n.jsx("p",{className:"text-xs text-gray-500",children:R.description})]}),n.jsx("button",{onClick:()=>O(R.value),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Copy color",children:y===R.value?n.jsx(Jo,{className:"w-4 h-4 text-green-500"}):n.jsx(Bu,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"color",value:R.value,onChange:U=>E(Q=>({...Q,[R.key]:U.target.value})),className:"w-12 h-12 rounded-lg border-2 border-gray-200 cursor-pointer hover:border-gray-300 transition-colors"}),n.jsx("div",{className:"absolute inset-1 rounded-md",style:{backgroundColor:R.value}})]}),n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",value:R.value,onChange:U=>E(Q=>({...Q,[R.key]:U.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono",placeholder:"#000000"})})]})]},R.key))}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add to Cart Button Colors"}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[{key:"atcBgColor",label:"ATC Background",value:k.atcBgColor,placeholder:"Use primary by default"},{key:"atcTextColor",label:"ATC Text",value:k.atcTextColor,placeholder:"Use background by default"},{key:"atcHoverBgColor",label:"ATC Hover Background",value:k.atcHoverBgColor,placeholder:"Use ATC background by default"}].map(R=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:R.label}),n.jsx("p",{className:"text-xs text-gray-500",children:R.placeholder})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"color",value:R.value||"#000000",onChange:U=>E(Q=>({...Q,[R.key]:U.target.value})),className:"w-12 h-12 rounded-lg border-2 border-gray-200 cursor-pointer hover:border-gray-300 transition-colors"}),n.jsx("div",{className:"absolute inset-1 rounded-md",style:{backgroundColor:R.value||"transparent"}})]}),n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",value:R.value,onChange:U=>E(Q=>({...Q,[R.key]:U.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono",placeholder:"#4F46E5"})})]})]},R.key))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(cd,{className:"w-5 h-5"}),"Typography & Fonts"]}),n.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-700",children:"Font Library"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Font Pairings"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(R=>n.jsxs("div",{onClick:()=>W(R),className:"group cursor-pointer p-4 border border-gray-200 rounded-lg hover:border-indigo-300 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900 group-hover:text-indigo-600",style:{fontFamily:R.heading},children:"Heading"}),n.jsx("div",{className:"text-sm text-gray-600",style:{fontFamily:R.body},children:"Body text example"})]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),n.jsx("div",{className:"text-xs text-gray-500",children:R.description})]})]},R.id))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heading Font"}),n.jsxs("select",{value:k.headingFont,onChange:R=>E(U=>({...U,headingFont:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"Inter",children:"Inter"}),n.jsx("option",{value:"Roboto",children:"Roboto"}),n.jsx("option",{value:"Open Sans",children:"Open Sans"}),n.jsx("option",{value:"Montserrat",children:"Montserrat"}),n.jsx("option",{value:"Playfair Display",children:"Playfair Display"}),n.jsx("option",{value:"Poppins",children:"Poppins"}),n.jsx("option",{value:"Lato",children:"Lato"}),n.jsx("option",{value:"Source Sans Pro",children:"Source Sans Pro"}),n.jsx("option",{value:"Raleway",children:"Raleway"}),n.jsx("option",{value:"Nunito",children:"Nunito"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Body Font"}),n.jsxs("select",{value:k.bodyFont,onChange:R=>E(U=>({...U,bodyFont:R.target.value,fontFamily:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"Inter",children:"Inter"}),n.jsx("option",{value:"Roboto",children:"Roboto"}),n.jsx("option",{value:"Open Sans",children:"Open Sans"}),n.jsx("option",{value:"Montserrat",children:"Montserrat"}),n.jsx("option",{value:"Source Sans Pro",children:"Source Sans Pro"}),n.jsx("option",{value:"Poppins",children:"Poppins"}),n.jsx("option",{value:"Lato",children:"Lato"}),n.jsx("option",{value:"Nunito",children:"Nunito"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),n.jsxs("select",{value:k.fontSize,onChange:R=>E(U=>({...U,fontSize:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"small",children:"Small"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"large",children:"Large"}),n.jsx("option",{value:"extra-large",children:"Extra Large"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Line Height"}),n.jsxs("select",{value:k.lineHeight,onChange:R=>E(U=>({...U,lineHeight:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"tight",children:"Tight"}),n.jsx("option",{value:"normal",children:"Normal"}),n.jsx("option",{value:"relaxed",children:"Relaxed"}),n.jsx("option",{value:"loose",children:"Loose"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h4",{className:"font-medium text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(Vr,{className:"w-5 h-5"}),"Layout & Components"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Header Layout"}),n.jsx("div",{className:"space-y-3",children:[{value:"classic",label:"Classic",description:"Traditional layout with centered logo"},{value:"modern",label:"Modern",description:"Clean layout with left-aligned logo"},{value:"minimal",label:"Minimal",description:"Simplified header with minimal elements"}].map(R=>n.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer group",children:[n.jsx("input",{type:"radio",name:"headerLayout",value:R.value,checked:k.headerLayout===R.value,onChange:U=>E(Q=>({...Q,headerLayout:U.target.value})),className:"mt-1 text-indigo-600 focus:ring-indigo-500"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-indigo-600",children:R.label}),n.jsx("div",{className:"text-xs text-gray-500",children:R.description})]})]},R.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Footer Style"}),n.jsx("div",{className:"space-y-3",children:[{value:"simple",label:"Simple",description:"Basic footer with essential links"},{value:"detailed",label:"Detailed",description:"Comprehensive footer with multiple sections"},{value:"newsletter",label:"Newsletter",description:"Footer focused on newsletter signup"}].map(R=>n.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer group",children:[n.jsx("input",{type:"radio",name:"footerStyle",value:R.value,checked:k.footerStyle===R.value,onChange:U=>E(Q=>({...Q,footerStyle:U.target.value})),className:"mt-1 text-indigo-600 focus:ring-indigo-500"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-indigo-600",children:R.label}),n.jsx("div",{className:"text-xs text-gray-500",children:R.description})]})]},R.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Product Cards"}),n.jsx("div",{className:"space-y-3",children:[{value:"modern",label:"Modern",description:"Contemporary cards with subtle shadows"},{value:"classic",label:"Classic",description:"Traditional card design"},{value:"minimal",label:"Minimal",description:"Clean cards with minimal styling"}].map(R=>n.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer group",children:[n.jsx("input",{type:"radio",name:"productCardStyle",value:R.value,checked:k.productCardStyle===R.value,onChange:U=>E(Q=>({...Q,productCardStyle:U.target.value})),className:"mt-1 text-indigo-600 focus:ring-indigo-500"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-indigo-600",children:R.label}),n.jsx("div",{className:"text-xs text-gray-500",children:R.description})]})]},R.value))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8 pt-6 border-t border-gray-100",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Border Radius"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"none",label:"None"},{value:"small",label:"Small"},{value:"medium",label:"Medium"},{value:"large",label:"Large"}].map(R=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"borderRadius",value:R.value,checked:k.borderRadius===R.value,onChange:U=>E(Q=>({...Q,borderRadius:U.target.value})),className:"text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:R.label})]},R.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Button Style"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"rounded",label:"Rounded"},{value:"square",label:"Square"},{value:"pill",label:"Pill"}].map(R=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"buttonStyle",value:R.value,checked:k.buttonStyle===R.value,onChange:U=>E(Q=>({...Q,buttonStyle:U.target.value})),className:"text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:R.label})]},R.value))})]})]})]})]}),I=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(cs,{className:"w-5 h-5"}),"Live Preview",p&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs bg-green-100 text-green-700 rounded-full",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live"]})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"See how your changes look in real-time"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>{z.success("Preview refreshed!")},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Refresh preview",children:n.jsx(Pn,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>d("desktop"),className:`p-2 rounded-md transition-all ${c==="desktop"?"bg-white text-indigo-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Desktop preview",children:n.jsx(Ou,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>d("tablet"),className:`p-2 rounded-md transition-all ${c==="tablet"?"bg-white text-indigo-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Tablet preview",children:n.jsx(Um,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>d("mobile"),className:`p-2 rounded-md transition-all ${c==="mobile"?"bg-white text-indigo-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,title:"Mobile preview",children:n.jsx(Uu,{className:"w-4 h-4"})})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 relative overflow-hidden",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white rounded-full shadow-sm border",children:[c==="desktop"&&n.jsx(Ou,{className:"w-4 h-4 text-gray-600"}),c==="tablet"&&n.jsx(Um,{className:"w-4 h-4 text-gray-600"}),c==="mobile"&&n.jsx(Uu,{className:"w-4 h-4 text-gray-600"}),n.jsxs("span",{className:"text-sm text-gray-600 capitalize font-medium",children:[c," Preview"]}),n.jsxs("div",{className:"flex items-center gap-1 ml-2 text-xs text-gray-400",children:[c==="desktop"&&"1920×1080",c==="tablet"&&"768×1024",c==="mobile"&&"375×667"]})]})}),n.jsxs("div",{className:`mx-auto bg-white rounded-lg shadow-xl overflow-hidden transition-all duration-500 ${c==="desktop"?"max-w-6xl":c==="tablet"?"max-w-2xl":"max-w-sm"}`,style:{color:k.textColor,backgroundColor:k.backgroundColor,fontFamily:k.bodyFont||k.fontFamily,transform:c==="mobile"?"scale(0.9)":"scale(1)"},children:[n.jsxs("div",{className:"px-6 py-4 border-b relative overflow-hidden",style:{backgroundColor:k.primaryColor,color:k.backgroundColor},children:[n.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[n.jsx("h2",{className:"text-xl font-bold",style:{fontFamily:k.headingFont||k.fontFamily},children:"Your Store"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"hidden md:flex items-center gap-4 text-sm opacity-90",children:[n.jsx("span",{children:"Home"}),n.jsx("span",{children:"Products"}),n.jsx("span",{children:"About"}),n.jsx("span",{children:"Contact"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:`${k.secondaryColor}20`},children:n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.secondaryColor}})}),n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:`${k.accentColor}20`},children:n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.accentColor}})})]})]})]}),n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full -translate-y-8 translate-x-8",style:{backgroundColor:k.secondaryColor}}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 rounded-full translate-y-4 -translate-x-4",style:{backgroundColor:k.accentColor}})]})]}),n.jsxs("div",{className:"relative px-6 py-12 text-center",style:{backgroundColor:`${k.backgroundColor}`},children:[n.jsxs("div",{className:"relative z-10",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{fontFamily:k.headingFont||k.fontFamily,color:k.textColor},children:"Welcome to Our Store"}),n.jsx("p",{className:"text-lg mb-8 opacity-80",style:{color:k.textColor},children:"Discover amazing products with our new design"}),n.jsx("button",{className:`px-8 py-3 font-semibold text-white transition-all hover:scale-105 ${k.buttonStyle==="pill"?"rounded-full":k.buttonStyle==="square"?"rounded-none":"rounded-lg"}`,style:{backgroundColor:k.atcBgColor||k.secondaryColor,color:k.atcTextColor||"#FFFFFF"},children:"Shop Now"})]}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute top-4 left-4 w-16 h-16 rounded-full opacity-10",style:{backgroundColor:k.primaryColor}}),n.jsx("div",{className:"absolute bottom-4 right-4 w-20 h-20 rounded-full opacity-10",style:{backgroundColor:k.accentColor}})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",style:{fontFamily:k.headingFont||k.fontFamily,color:k.textColor},children:"Featured Products"}),n.jsx("div",{className:`grid gap-4 ${c==="mobile"?"grid-cols-1":c==="tablet"?"grid-cols-2":"grid-cols-3"}`,children:[1,2,3].map(R=>n.jsxs("div",{className:`group bg-gray-50 rounded-lg p-4 hover:shadow-lg transition-all ${k.borderRadius==="none"?"rounded-none":k.borderRadius==="small"?"rounded":k.borderRadius==="large"?"rounded-xl":"rounded-lg"}`,style:{backgroundColor:`${k.backgroundColor}f8`},children:[n.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-200 to-gray-300 mb-3 relative overflow-hidden",style:{borderRadius:k.borderRadius==="large"?"12px":k.borderRadius==="small"?"4px":k.borderRadius==="none"?"0":"8px"},children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br opacity-20",style:{background:`linear-gradient(135deg, ${k.primaryColor}, ${k.secondaryColor})`}})}),n.jsxs("h4",{className:"font-medium text-sm mb-1 group-hover:text-opacity-80 transition-colors",style:{color:k.textColor},children:["Product ",R]}),n.jsx("p",{className:"text-sm mb-3 opacity-70",style:{color:k.textColor},children:"Beautiful product description"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-bold",style:{color:k.primaryColor},children:["$",(29.99*R).toFixed(2)]}),n.jsx("button",{className:`px-4 py-2 text-sm text-white transition-all hover:scale-105 ${k.buttonStyle==="pill"?"rounded-full":k.buttonStyle==="square"?"rounded-none":"rounded"}`,style:{backgroundColor:k.atcBgColor||k.secondaryColor,color:k.atcTextColor||"#FFFFFF"},children:"Add"})]})]},R))})]}),n.jsxs("div",{className:"rounded-xl p-6 text-center relative overflow-hidden",style:{backgroundColor:`${k.primaryColor}10`},children:[n.jsxs("div",{className:"relative z-10",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",style:{fontFamily:k.headingFont||k.fontFamily,color:k.textColor},children:"Stay Updated"}),n.jsx("p",{className:"text-sm mb-4 opacity-70",style:{color:k.textColor},children:"Subscribe to our newsletter for latest updates"}),n.jsxs("div",{className:"flex gap-2 max-w-sm mx-auto",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-3 py-2 rounded border border-gray-300 text-sm",style:{borderRadius:k.borderRadius==="large"?"8px":"4px"}}),n.jsx("button",{className:`px-4 py-2 text-sm text-white font-medium ${k.buttonStyle==="pill"?"rounded-full":k.buttonStyle==="square"?"rounded-none":"rounded"}`,style:{backgroundColor:k.accentColor},children:"Subscribe"})]})]}),n.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 rounded-full opacity-20 -translate-y-4 translate-x-4",style:{backgroundColor:k.accentColor}})]})]}),n.jsx("div",{className:"px-6 py-8 border-t mt-8",style:{backgroundColor:k.textColor,color:k.backgroundColor,borderColor:`${k.textColor}20`},children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4 text-sm opacity-80",children:[n.jsx("span",{children:"Privacy Policy"}),n.jsx("span",{children:"Terms of Service"}),n.jsx("span",{children:"Contact Us"})]}),n.jsx("div",{className:"text-sm opacity-60",children:"© 2024 Your Store. All rights reserved."})]})})]}),n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx("div",{className:"flex items-center gap-2 bg-white rounded-lg shadow-lg p-2",children:n.jsx("button",{onClick:()=>x(!p),className:`p-2 rounded ${p?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"} transition-colors`,title:p?"Disable real-time preview":"Enable real-time preview",children:n.jsx(Zo,{className:"w-4 h-4"})})})})]}),n.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nn,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Performance Score"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"85%"}})}),n.jsx("span",{className:"text-sm text-gray-600",children:"85/100"})]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:"Real-time analysis of your theme's performance impact"})]})})]}),V=[{id:"themes",label:"Theme Templates",icon:w6,description:"Pre-designed themes"},{id:"custom",label:"Custom Design",icon:P2,description:"Advanced customization"},{id:"preview",label:"Live Preview",icon:cs,description:"Real-time preview"},{id:"advanced",label:"Advanced",icon:Ha,description:"Expert settings"}],te=()=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Advanced Settings"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Expert-level customization options"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(XG,{className:"w-5 h-5"}),"CSS Variables"]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Box Shadow"}),n.jsx("input",{type:"text",placeholder:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transition Duration"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"150ms",children:"Fast (150ms)"}),n.jsx("option",{value:"300ms",children:"Normal (300ms)"}),n.jsx("option",{value:"500ms",children:"Slow (500ms)"})]})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Nn,{className:"w-5 h-5"}),"Performance & Optimization"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Lazy Load Images"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Improve page load times"})]}),n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Preload Critical Fonts"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Reduce font loading flicker"})]}),n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:"Minimize CSS"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Compress stylesheets for production"})]}),n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Custom CSS"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("textarea",{placeholder:`/* Add your custom CSS here */\r
.custom-button {\r
  background: linear-gradient(45deg, #667eea, #764ba2);\r
  border: none;\r
  border-radius: 25px;\r
  padding: 12px 24px;\r
  color: white;\r
  font-weight: 600;\r
}`,rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono text-sm"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Custom CSS will be applied after theme styles"}),n.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm",children:"Validate CSS"})]})]})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg",children:n.jsx(ld,{className:"w-6 h-6 text-white"})}),"Store Theme Designer"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Design and customize your store's appearance with real-time preview"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-50 text-green-700 rounded-lg border border-green-200",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium",children:"Theme Active"})]}),w&&A&&n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(Jo,{className:"w-3 h-3 text-green-500"}),"Auto-saved ",A.toLocaleTimeString()]}),n.jsxs("button",{onClick:de,disabled:s,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all disabled:opacity-50 shadow-lg hover:shadow-xl",children:[n.jsx(ma,{className:"w-5 h-5"}),s?"Saving...":"Save Design"]})]})]}),n.jsx("div",{className:"border-b border-gray-200 bg-white rounded-lg shadow-sm",children:n.jsx("nav",{className:"flex space-x-1 p-1",children:V.map(R=>{const U=R.icon;return n.jsxs("button",{onClick:()=>l(R.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium text-sm transition-all ${o===R.id?"bg-indigo-50 text-indigo-700 shadow-sm border border-indigo-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[n.jsx(U,{className:"w-5 h-5"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{children:R.label}),n.jsx("div",{className:"text-xs opacity-75",children:R.description})]})]},R.id)})})}),n.jsxs("div",{className:"min-h-[600px]",children:[o==="themes"&&K(),o==="custom"&&Z(),o==="preview"&&I(),o==="advanced"&&te()]})]})}const JRe="modulepreload",ZRe=function(e){return"/"+e},V5={},Ll=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=ZRe(c),c in V5)return;V5[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":JRe,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function QRe(){const{sections:e,setSections:t,saveLayout:r,sectionGap:a,setSectionGap:s}=Ev(),[i,o]=N.useState("desktop"),[l,c]=N.useState(null),[d,u]=N.useState(!1),[f,h]=N.useState("components"),[m,p]=N.useState(""),[x,y]=N.useState("all"),[v,w]=N.useState(!1),[j,A]=N.useState([]),[C,S]=N.useState([]),k=N.useRef(null),E=[{id:"modern-ecommerce",name:"Modern E-commerce",description:"Professional layout with modern design elements",preview:"/templates/modern-ecommerce.jpg",category:"ecommerce",sections:[{id:"hero-1",type:"hero",title:"Main Hero",enabled:!0,order:0,settings:{showOverlay:!0,overlayOpacity:40,textAlignment:"center"}},{id:"banner-1",type:"banner",title:"Promotional Banner",enabled:!0,order:1,settings:{backgroundColor:"#EF4444",textColor:"#FFFFFF"}},{id:"featured-1",type:"featured",title:"Featured Products",enabled:!0,order:2,settings:{itemsPerRow:4,showDescription:!0,showPrice:!0}},{id:"categories-1",type:"categories",title:"Shop by Category",enabled:!0,order:3,settings:{displayStyle:"grid",itemsPerRow:6,showNames:!0}}]},{id:"fashion-boutique",name:"Fashion Boutique",description:"Elegant design perfect for fashion brands",preview:"/templates/fashion-boutique.jpg",category:"fashion",sections:[{id:"hero-2",type:"hero",title:"Fashion Hero",enabled:!0,order:0,settings:{showOverlay:!0,overlayOpacity:30,textAlignment:"left"}},{id:"video-1",type:"video",title:"Brand Story",enabled:!0,order:1,settings:{autoplay:!1,showControls:!0}},{id:"featured-2",type:"featured",title:"New Collection",enabled:!0,order:2,settings:{itemsPerRow:3,showDescription:!0,showPrice:!0}}]},{id:"minimal-store",name:"Minimal Store",description:"Clean and simple design focusing on products",preview:"/templates/minimal-store.jpg",category:"minimal",sections:[{id:"hero-3",type:"hero",title:"Simple Hero",enabled:!0,order:0,settings:{showOverlay:!1,textAlignment:"center"}},{id:"products-1",type:"products",title:"All Products",enabled:!0,order:1,settings:{itemsPerRow:4,showFilters:!0,sortOptions:!0}}]}],T=[{type:"hero",title:"Hero Section",icon:zn,description:"Large banner with call-to-action",category:"layout"},{type:"banner",title:"Promotional Banner",icon:Dr,description:"Attention-grabbing announcement bar",category:"layout"},{type:"banners",title:"Banners (Admin)",icon:zn,description:"Render active banners from Admin > Banners",category:"media"},{type:"divider",title:"Divider",icon:Ov,description:"Visual section separator",category:"layout"},{type:"spacer",title:"Spacer",icon:v_,description:"Add vertical spacing",category:"layout"},{type:"breadcrumb",title:"Breadcrumb",icon:BG,description:"Navigation breadcrumb trail",category:"layout"},{type:"featured",title:"Featured Products",icon:Xs,description:"Showcase selected products",category:"commerce"},{type:"categories",title:"Product Categories",icon:Ix,description:"Product category navigation",category:"commerce"},{type:"products",title:"Product Grid",icon:Vr,description:"Display all products with filters",category:"commerce"},{type:"tabbedProducts",title:"Tabbed Products",icon:Ix,description:"New Products and Best Sellers tabs",category:"commerce"},{type:"countdown",title:"Countdown Timer",icon:wn,description:"Create urgency with countdown",category:"commerce"},{type:"pricing",title:"Pricing Table",icon:il,description:"Product pricing comparison",category:"commerce"},{type:"brands",title:"Brand Showcase",icon:Bx,description:"Display partner brands",category:"commerce"},{type:"comparison",title:"Product Comparison",icon:Vr,description:"Compare multiple products",category:"commerce"},{type:"reviews",title:"Product Reviews",icon:Dr,description:"Customer product reviews",category:"commerce"},{type:"text",title:"Rich Text",icon:cd,description:"Rich text content area",category:"content"},{type:"faq",title:"FAQ Section",icon:$m,description:"Frequently asked questions",category:"content"},{type:"testimonials",title:"Testimonials",icon:So,description:"Customer reviews and ratings",category:"content"},{type:"blog",title:"Blog Posts",icon:cd,description:"Display latest blog articles",category:"content"},{type:"team",title:"Team Members",icon:ec,description:"Show team member profiles",category:"content"},{type:"stats",title:"Statistics",icon:Nn,description:"Display key numbers and metrics",category:"content"},{type:"features",title:"Feature List",icon:jn,description:"Highlight key features",category:"content"},{type:"timeline",title:"Timeline",icon:wn,description:"Show chronological events",category:"content"},{type:"accordion",title:"Accordion",icon:S6,description:"Collapsible content sections",category:"content"},{type:"tabs",title:"Tab Content",icon:IG,description:"Organize content in tabs",category:"content"},{type:"alert",title:"Alert Box",icon:ka,description:"Important notifications",category:"content"},{type:"progress",title:"Progress Bar",icon:os,description:"Show completion progress",category:"content"},{type:"image",title:"Image Block",icon:zn,description:"Custom image section",category:"media"},{type:"video",title:"Video Player",icon:Wx,description:"Embedded video content",category:"media",premium:!0},{type:"gallery",title:"Image Gallery",icon:I2,description:"Photo gallery with lightbox",category:"media"},{type:"carousel",title:"Image Carousel",icon:zn,description:"Sliding image carousel",category:"media"},{type:"newsletter",title:"Newsletter Signup",icon:to,description:"Email subscription form",category:"engagement"},{type:"social",title:"Social Media",icon:qG,description:"Social media integration",category:"engagement"},{type:"contact",title:"Contact Form",icon:$m,description:"Customer contact form",category:"engagement"},{type:"search",title:"Search Bar",icon:Mn,description:"Product search functionality",category:"engagement"},{type:"map",title:"Location Map",icon:Vs,description:"Interactive location map",category:"engagement"},{type:"chat",title:"Live Chat",icon:RG,description:"Customer support chat",category:"engagement",premium:!0},{type:"calendar",title:"Event Calendar",icon:od,description:"Event scheduling calendar",category:"engagement"},{type:"cta",title:"Call to Action",icon:hl,description:"Prominent action button",category:"engagement"}],F=()=>{A(I=>[...I.slice(-9),e]),S([])},O=()=>{if(j.length>0){const I=j[j.length-1];S(V=>[e,...V.slice(0,9)]),A(V=>V.slice(0,-1)),t(I)}},P=()=>{if(C.length>0){const I=C[0];A(V=>[...V,e]),S(V=>V.slice(1)),t(I)}},W=I=>{if(!I.destination)return;F();const V=Array.from(e),[te]=V.splice(I.source.index,1);V.splice(I.destination.index,0,te);const R=V.map((U,Q)=>({...U,order:Q}));t(R)},q=I=>{F(),t(e.map(V=>V.id===I?{...V,enabled:!V.enabled}:V))},D=I=>{F();const V={id:`${I}-${Date.now()}`,type:I,title:`New ${I.charAt(0).toUpperCase()+I.slice(1)}`,enabled:!0,order:e.length,settings:{},animations:{entrance:"fadeIn",duration:600,delay:0}};t([...e,V]),c(V.id),z.success(`${V.title} added successfully!`)},M=I=>{F(),t(e.filter(V=>V.id!==I)),l===I&&c(null),z.success("Section deleted")},H=I=>{F();const V=e.find(Q=>Q.id===I);if(!V)return;const te={...V,id:`${V.type}-${Date.now()}`,title:`${V.title} Copy`,order:V.order+1},R=[...e];R.splice(V.order+1,0,te);const U=R.map((Q,J)=>({...Q,order:J}));t(U),z.success("Section duplicated")},ee=I=>{F(),t(I.sections),c(null),z.success(`${I.name} template applied!`)},X=()=>{const I={sections:e,metadata:{name:"Custom Store Layout",created:new Date().toISOString(),version:"1.0"}},V=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),te=URL.createObjectURL(V),R=document.createElement("a");R.href=te,R.download="store-layout.json",R.click(),URL.revokeObjectURL(te),z.success("Layout exported successfully!")},de=I=>{var R;const V=(R=I.target.files)==null?void 0:R[0];if(!V)return;const te=new FileReader;te.onload=U=>{var Q;try{const J=JSON.parse((Q=U.target)==null?void 0:Q.result);J.sections&&(F(),t(J.sections),c(null),z.success("Layout imported successfully!"))}catch(J){z.error("Invalid layout file")}},te.readAsText(V)},le=async()=>{try{try{localStorage.getItem("token")&&await r()}catch(I){}z.success("Page layout saved successfully! Changes are live on your store.")}catch(I){z.error("Failed to save page layout")}},G=T.filter(I=>{const V=I.title.toLowerCase().includes(m.toLowerCase())||I.description.toLowerCase().includes(m.toLowerCase()),te=x==="all"||I.category===x;return V&&te}),K=I=>{const V="relative border-2 border-dashed rounded-lg p-4 transition-all cursor-pointer",te=I.enabled?"border-indigo-300 bg-indigo-50 hover:border-indigo-400":"border-gray-300 bg-gray-50 opacity-60",R=l===I.id?"ring-2 ring-indigo-500 border-indigo-500":"";return n.jsxs("div",{className:`${V} ${te} ${R}`,onClick:()=>c(I.id),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:I.title}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:U=>{U.stopPropagation(),H(I.id)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Duplicate section",children:n.jsx(Bu,{className:"w-3 h-3 text-gray-500"})}),n.jsx("button",{onClick:U=>{U.stopPropagation(),q(I.id)},className:`text-xs px-2 py-1 rounded transition-colors ${I.enabled?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:I.enabled?"ON":"OFF"}),n.jsx("button",{onClick:U=>{U.stopPropagation(),M(I.id)},className:"p-1 hover:bg-red-100 rounded transition-colors",title:"Delete section",children:n.jsx(en,{className:"w-3 h-3 text-red-500"})})]})]}),n.jsxs("div",{className:"bg-white rounded p-3 min-h-[80px] flex items-center justify-center relative overflow-hidden",children:[I.type==="hero"&&n.jsx("div",{className:"w-full h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded flex items-center justify-center text-white text-xs font-medium",children:"Hero Banner"}),I.type==="featured"&&n.jsx("div",{className:"grid grid-cols-3 gap-2 w-full",children:[1,2,3].map(U=>n.jsx("div",{className:"h-8 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded flex items-center justify-center",children:n.jsx(Xs,{className:"w-4 h-4 text-indigo-600"})},U))}),I.type==="categories"&&n.jsx("div",{className:"grid grid-cols-4 gap-1 w-full",children:[1,2,3,4].map(U=>n.jsx("div",{className:"h-6 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx(Ix,{className:"w-3 h-3 text-gray-500"})},U))}),I.type==="products"&&n.jsx("div",{className:"grid grid-cols-2 gap-2 w-full",children:[1,2,3,4].map(U=>n.jsx("div",{className:"h-8 bg-gray-200 rounded flex items-center justify-center",children:n.jsx(Vr,{className:"w-4 h-4 text-gray-500"})},U))}),I.type==="tabbedProducts"&&n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"px-3 py-1 text-xs rounded-full bg-white shadow",children:"New Products"}),n.jsx("span",{className:"px-3 py-1 text-xs rounded-full bg-gray-100",children:"Best Sellers"})]}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3].map(U=>n.jsx("div",{className:"h-8 bg-gray-200 rounded"},U))})]}),I.type==="text"&&n.jsxs("div",{className:"w-full space-y-1",children:[n.jsx("div",{className:"h-2 bg-gray-300 rounded w-3/4"}),n.jsx("div",{className:"h-2 bg-gray-300 rounded w-full"}),n.jsx("div",{className:"h-2 bg-gray-300 rounded w-2/3"})]}),I.type==="banner"&&n.jsx("div",{className:"w-full h-12 bg-gradient-to-r from-red-500 to-pink-500 rounded flex items-center justify-center text-white text-xs font-medium",children:"Promotional Banner"}),I.type==="banners"&&n.jsx("div",{className:"w-full h-12 bg-gradient-to-r from-indigo-500 to-blue-500 rounded flex items-center justify-center text-white text-xs font-medium",children:"Banners (from Admin)"}),I.type==="video"&&n.jsx("div",{className:"w-full h-12 bg-gray-800 rounded flex items-center justify-center",children:n.jsx(Wx,{className:"w-6 h-6 text-white"})}),I.type==="newsletter"&&n.jsx("div",{className:"w-full h-12 bg-blue-100 rounded flex items-center justify-center",children:n.jsx(to,{className:"w-5 h-5 text-blue-600"})}),I.type==="testimonials"&&n.jsxs("div",{className:"w-full h-12 bg-yellow-100 rounded flex items-center justify-center text-xs text-yellow-800",children:[n.jsx(Dr,{className:"w-4 h-4 mr-1"}),"Customer Reviews"]}),I.type==="countdown"&&n.jsx("div",{className:"w-full h-12 bg-orange-100 rounded flex items-center justify-center",children:n.jsx(wn,{className:"w-5 h-5 text-orange-600"})}),I.animations&&n.jsx("div",{className:"absolute top-1 right-1",title:`Animation: ${I.animations.entrance}`,children:n.jsx(Zo,{className:"w-3 h-3 text-purple-500"})})]})]})},Z=()=>{const I=e.find(V=>V.id===l);return I?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:I.title}),n.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),n.jsx("input",{type:"text",value:I.title,onChange:V=>{t(e.map(te=>te.id===I.id?{...te,title:V.target.value}:te))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show Section"}),n.jsx("button",{onClick:()=>q(I.id),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.enabled?"bg-indigo-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.enabled?"translate-x-6":"translate-x-1"}`})})]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("button",{onClick:()=>w(!v),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:[v?n.jsx(F2,{className:"w-4 h-4"}):n.jsx(kd,{className:"w-4 h-4"}),"Advanced Settings"]})}),I.type==="featured"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Items per Row"}),n.jsxs("select",{value:I.settings.itemsPerRow||4,onChange:V=>{t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,itemsPerRow:parseInt(V.target.value)}}:te))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"2",children:"2"}),n.jsx("option",{value:"3",children:"3"}),n.jsx("option",{value:"4",children:"4"}),n.jsx("option",{value:"6",children:"6"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show Descriptions"}),n.jsx("button",{onClick:()=>{t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,showDescription:!V.settings.showDescription}}:V))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.showDescription?"bg-indigo-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.showDescription?"translate-x-6":"translate-x-1"}`})})]})]}),I.type==="tabbedProducts"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),n.jsx("input",{type:"text",value:I.settings.title||"New Products",onChange:V=>{t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,title:V.target.value}}:te))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle"}),n.jsx("input",{type:"text",value:I.settings.subtitle||"",onChange:V=>{t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,subtitle:V.target.value}}:te))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Image (optional)"}),I.settings.headerImage?n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:I.settings.headerImage,alt:"Header",className:"w-full h-32 object-cover rounded-lg border"}),n.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center gap-2 transition-opacity rounded-lg",children:[n.jsxs("label",{className:"px-3 py-1 bg-white/90 text-xs rounded cursor-pointer font-medium shadow",children:["Change",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async V=>{var R;const te=(R=V.target.files)==null?void 0:R[0];if(te){if(!te.type.startsWith("image/")){z.error("Please select an image");return}if(te.size>5*1024*1024){z.error("Max 5MB image");return}try{const{uploadToCloudinary:U}=await Ll(async()=>{const{uploadToCloudinary:J}=await Promise.resolve().then(()=>Wc);return{uploadToCloudinary:J}},void 0),Q=await U(te);t(e.map(J=>J.id===I.id?{...J,settings:{...J.settings,headerImage:Q}}:J)),z.success("Header image updated")}catch(U){z.error("Upload failed")}}}})]}),n.jsx("button",{onClick:()=>t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,headerImage:""}}:V)),className:"px-3 py-1 bg-red-500 text-white text-xs rounded shadow",children:"Remove"})]})]}):n.jsxs("label",{className:"flex flex-col items-center justify-center h-32 border-2 border-dashed rounded-lg text-xs text-gray-500 cursor-pointer hover:border-indigo-400 hover:text-indigo-600 transition-colors",children:[n.jsx("span",{children:"Upload Header Image"}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async V=>{var R;const te=(R=V.target.files)==null?void 0:R[0];if(te){if(!te.type.startsWith("image/")){z.error("Please select an image");return}if(te.size>5*1024*1024){z.error("Max 5MB image");return}try{const{uploadToCloudinary:U}=await Ll(async()=>{const{uploadToCloudinary:J}=await Promise.resolve().then(()=>Wc);return{uploadToCloudinary:J}},void 0),Q=await U(te);t(e.map(J=>J.id===I.id?{...J,settings:{...J.settings,headerImage:Q}}:J)),z.success("Header image added")}catch(U){z.error("Upload failed")}}}})]}),n.jsx("p",{className:"mt-1 text-[11px] text-gray-400",children:"Recommended aspect ratio ~ 5:2. Max 5MB."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Image Fit"}),n.jsxs("select",{value:I.settings.headerImageFit||"cover",onChange:V=>t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,headerImageFit:V.target.value}}:te)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 text-sm",children:[n.jsx("option",{value:"cover",children:"Cover (crop / fill)"}),n.jsx("option",{value:"contain",children:"Contain (show full image)"})]}),n.jsx("p",{className:"mt-1 text-[11px] text-gray-400",children:"Use Contain to show entire image without cropping (adds padding if aspect ratio differs)."}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Full Natural Height"}),n.jsx("button",{onClick:()=>t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,headerImageUncapped:!V.settings.headerImageUncapped}}:V)),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.headerImageUncapped?"bg-indigo-600":"bg-gray-200"}`,title:"Remove max height limits so very tall image displays completely",children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.headerImageUncapped?"translate-x-6":"translate-x-1"}`})})]}),I.settings.headerImageUncapped&&n.jsx("p",{className:"mt-1 text-[11px] text-indigo-600",children:"Tip: Increase overlap amount if top whitespace reappears. Auto boost applied when enabled."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Items"}),n.jsx("input",{type:"number",min:1,max:24,value:I.settings.maxItems||8,onChange:V=>{const te=Math.max(1,Math.min(24,parseInt(V.target.value)||1));t(e.map(R=>R.id===I.id?{...R,settings:{...R.settings,maxItems:te}}:R))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[n.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Overlap Previous Section"}),n.jsx("button",{onClick:()=>t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,overlapPrevious:!V.settings.overlapPrevious}}:V)),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.overlapPrevious?"bg-indigo-600":"bg-gray-200"}`,title:"Allow the header image to rise and cover the whitespace above",children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.overlapPrevious?"translate-x-6":"translate-x-1"}`})})]}),I.settings.overlapPrevious&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Overlap Amount: ",I.settings.overlapAmount||60,"px"]}),n.jsx("button",{type:"button",onClick:()=>{const V=Math.min(200,(I.settings.overlapAmount||60)+20);t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,overlapAmount:V}}:te))},className:"text-xs px-2 py-1 rounded bg-indigo-50 text-indigo-600 hover:bg-indigo-100 border border-indigo-200",children:"+20"})]}),n.jsx("input",{type:"range",min:0,max:200,step:5,value:I.settings.overlapAmount||60,onChange:V=>t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,overlapAmount:parseInt(V.target.value)}}:te)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),n.jsx("p",{className:"mt-1 text-[11px] text-gray-400",children:"Increase if you still see a white gap above the image. Use +20 for quick adjustments (max 200px)."})]}),n.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Overlap Shadow"}),n.jsx("button",{onClick:()=>t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,overlapShadow:!V.settings.overlapShadow}}:V)),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.overlapShadow?"bg-indigo-600":"bg-gray-200"}`,title:"Add subtle shadow to distinguish overlapping image",children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.overlapShadow?"translate-x-6":"translate-x-1"}`})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tabs Background"}),n.jsx("input",{type:"text",placeholder:"gradient or color",value:I.settings.tabContainerBg||"",onChange:V=>t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,tabContainerBg:V.target.value}}:te)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("input",{type:"color",value:I.settings.tabContainerBgColor||"#d1d5db",onChange:V=>t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,tabContainerBg:V.target.value}}:te))}),n.jsx("span",{className:"text-xs text-gray-500",children:"Quick color"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Active Tab Background"}),n.jsx("input",{type:"color",value:I.settings.tabActiveBg||"#ffffff",onChange:V=>t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,tabActiveBg:V.target.value}}:te)),className:"w-full h-10 border border-gray-300 rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Active Text"}),n.jsx("input",{type:"color",value:I.settings.tabActiveText||"#111827",onChange:V=>t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,tabActiveText:V.target.value}}:te)),className:"w-full h-10 border border-gray-300 rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inactive Text"}),n.jsx("input",{type:"color",value:I.settings.tabInactiveText||"#374151",onChange:V=>t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,tabInactiveText:V.target.value}}:te)),className:"w-full h-10 border border-gray-300 rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hover Text"}),n.jsx("input",{type:"color",value:I.settings.tabHoverText||"#111827",onChange:V=>t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,tabHoverText:V.target.value}}:te)),className:"w-full h-10 border border-gray-300 rounded-lg"})]}),n.jsxs("div",{className:"col-span-2 flex items-center justify-between mt-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Full Background Cover"}),n.jsx("button",{onClick:()=>t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,fullBackground:V.settings.fullBackground===!1}}:V)),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.fullBackground===!1?"bg-gray-200":"bg-indigo-600"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.fullBackground===!1?"translate-x-1":"translate-x-6"}`})})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vertical Padding"}),n.jsxs("select",{value:I.settings.paddingScale||"md",onChange:V=>t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,paddingScale:V.target.value}}:te)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 text-sm",children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"xs",children:"Extra Small"}),n.jsx("option",{value:"sm",children:"Small"}),n.jsx("option",{value:"md",children:"Medium (default)"}),n.jsx("option",{value:"lg",children:"Large"})]})]}),n.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Collapse Top Padding"}),n.jsx("button",{onClick:()=>t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,collapseTopPadding:!V.settings.collapseTopPadding}}:V)),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.collapseTopPadding?"bg-indigo-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.collapseTopPadding?"translate-x-6":"translate-x-1"}`})})]})]})]}),I.type==="hero"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Alignment"}),n.jsxs("select",{value:I.settings.textAlignment||"center",onChange:V=>{t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,textAlignment:V.target.value}}:te))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"left",children:"Left"}),n.jsx("option",{value:"center",children:"Center"}),n.jsx("option",{value:"right",children:"Right"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show Overlay"}),n.jsx("button",{onClick:()=>{t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,showOverlay:!V.settings.showOverlay}}:V))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.showOverlay?"bg-indigo-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.showOverlay?"translate-x-6":"translate-x-1"}`})})]}),I.settings.showOverlay&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Overlay Opacity: ",I.settings.overlayOpacity||50,"%"]}),n.jsx("input",{type:"range",min:"0",max:"100",value:I.settings.overlayOpacity||50,onChange:V=>{t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,overlayOpacity:parseInt(V.target.value)}}:te))},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]}),I.type==="banners"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Layout"}),n.jsxs("select",{value:I.settings.layout||"carousel",onChange:V=>{t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,layout:V.target.value}}:te))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"carousel",children:"Carousel"}),n.jsx("option",{value:"grid",children:"Grid"}),n.jsx("option",{value:"single",children:"Single"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Autoplay"}),n.jsx("button",{onClick:()=>{t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,autoplay:!V.settings.autoplay}}:V))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.autoplay?"bg-indigo-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.autoplay?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pause on Hover"}),n.jsx("button",{onClick:()=>{t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,pauseOnHover:!V.settings.pauseOnHover}}:V))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.pauseOnHover?"bg-indigo-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.pauseOnHover?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Autoplay Interval (ms)"}),n.jsx("input",{type:"number",min:1e3,step:500,value:I.settings.interval||I.settings.intervalMs||4e3,onChange:V=>{const te=parseInt(V.target.value)||0;t(e.map(R=>R.id===I.id?{...R,settings:{...R.settings,interval:te,intervalMs:te}}:R))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show Controls (Prev/Next)"}),n.jsx("button",{onClick:()=>{t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,showControls:!V.settings.showControls}}:V))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.showControls?"bg-indigo-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.showControls?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show Dots (Indicators)"}),n.jsx("button",{onClick:()=>{t(e.map(V=>V.id===I.id?{...V,settings:{...V.settings,showDots:!V.settings.showDots,showIndicators:!V.settings.showDots}}:V))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.settings.showDots||I.settings.showIndicators?"bg-indigo-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.settings.showDots||I.settings.showIndicators?"translate-x-6":"translate-x-1"}`})})]})]}),v&&I.animations&&n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(Zo,{className:"w-4 h-4"}),"Animation Settings"]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entrance Animation"}),n.jsxs("select",{value:I.animations.entrance,onChange:V=>{t(e.map(te=>te.id===I.id?{...te,animations:{...te.animations,entrance:V.target.value}}:te))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"fadeIn",children:"Fade In"}),n.jsx("option",{value:"slideUp",children:"Slide Up"}),n.jsx("option",{value:"slideDown",children:"Slide Down"}),n.jsx("option",{value:"slideLeft",children:"Slide Left"}),n.jsx("option",{value:"slideRight",children:"Slide Right"}),n.jsx("option",{value:"zoomIn",children:"Zoom In"}),n.jsx("option",{value:"bounce",children:"Bounce"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Duration: ",I.animations.duration,"ms"]}),n.jsx("input",{type:"range",min:"200",max:"2000",step:"100",value:I.animations.duration,onChange:V=>{t(e.map(te=>te.id===I.id?{...te,animations:{...te.animations,duration:parseInt(V.target.value)}}:te))},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Delay: ",I.animations.delay,"ms"]}),n.jsx("input",{type:"range",min:"0",max:"1000",step:"100",value:I.animations.delay,onChange:V=>{t(e.map(te=>te.id===I.id?{...te,animations:{...te.animations,delay:parseInt(V.target.value)}}:te))},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]}),v&&n.jsxs("div",{className:"space-y-4 border-t pt-4",children:[n.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[n.jsx(ld,{className:"w-4 h-4"}),"Styling"]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),n.jsx("input",{type:"color",value:I.settings.backgroundColor||"#FFFFFF",onChange:V=>{t(e.map(te=>te.id===I.id?{...te,settings:{...te.settings,backgroundColor:V.target.value}}:te))},className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})]})]})]}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Vr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"Select a section to configure its settings"})]})};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Enhanced Visual Store Builder"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Professional page builder with advanced features"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-1 border-r pr-3",children:[n.jsx("button",{onClick:O,disabled:j.length===0,className:"p-2 hover:bg-gray-100 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Undo",children:n.jsx(Cj,{className:"w-4 h-4"})}),n.jsx("button",{onClick:P,disabled:C.length===0,className:"p-2 hover:bg-gray-100 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Redo",children:n.jsx(Cj,{className:"w-4 h-4 scale-x-[-1]"})})]}),n.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>o("desktop"),className:`p-2 rounded transition-colors ${i==="desktop"?"bg-white shadow-sm":"hover:bg-gray-200"}`,title:"Desktop view",children:n.jsx(Ou,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>o("tablet"),className:`p-2 rounded transition-colors ${i==="tablet"?"bg-white shadow-sm":"hover:bg-gray-200"}`,title:"Tablet view",children:n.jsx(Um,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>o("mobile"),className:`p-2 rounded transition-colors ${i==="mobile"?"bg-white shadow-sm":"hover:bg-gray-200"}`,title:"Mobile view",children:n.jsx(Uu,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 pl-3 ml-3 border-l border-gray-200",children:[n.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Section Gap"}),n.jsx("select",{value:a,onChange:I=>s(parseInt(I.target.value)||0),className:"px-2 py-1 text-xs border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500",title:"Adjust vertical space between sections",children:[0,2,4,6,8,10,12,16].map(I=>n.jsxs("option",{value:I,children:[" ",I," "]},I))})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",title:"Export layout",children:[n.jsx(yi,{className:"w-4 h-4"}),"Export"]}),n.jsx("input",{ref:k,type:"file",accept:".json",onChange:de,className:"hidden"}),n.jsxs("button",{onClick:()=>{var I;return(I=k.current)==null?void 0:I.click()},className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",title:"Import layout",children:[n.jsx(Gn,{className:"w-4 h-4"}),"Import"]}),n.jsxs("button",{onClick:()=>u(!d),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${d?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(cs,{className:"w-4 h-4"}),d?"Edit Mode":"Preview"]}),n.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(ma,{className:"w-4 h-4"}),"Save Layout"]})]})]})]})}),n.jsxs("div",{className:"flex h-[calc(100vh-88px)]",children:[!d&&n.jsx("div",{className:"w-80 bg-white border-r border-gray-200 overflow-y-auto",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex mb-4 bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>h("templates"),className:`flex-1 py-2 px-3 text-sm rounded-md transition-colors ${f==="templates"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Templates"}),n.jsx("button",{onClick:()=>h("components"),className:`flex-1 py-2 px-3 text-sm rounded-md transition-colors ${f==="components"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Components"}),n.jsx("button",{onClick:()=>h("layers"),className:`flex-1 py-2 px-3 text-sm rounded-md transition-colors ${f==="layers"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Layers"})]}),f==="templates"&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Professional Templates"}),n.jsx("div",{className:"space-y-3",children:E.map(I=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 hover:border-indigo-300 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-sm text-gray-900",children:I.name}),I.premium&&n.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"PRO"})]}),n.jsx("p",{className:"text-xs text-gray-500 mb-3",children:I.description}),n.jsx("button",{onClick:()=>ee(I),className:"w-full px-3 py-2 bg-indigo-600 text-white text-xs rounded hover:bg-indigo-700 transition-colors",children:"Apply Template"})]},I.id))})]})}),f==="components"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search components...",value:m,onChange:I=>p(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(p6,{className:"w-4 h-4 text-gray-400"}),n.jsxs("select",{value:x,onChange:I=>y(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 text-sm",children:[n.jsx("option",{value:"all",children:"All Categories"}),n.jsx("option",{value:"layout",children:"Layout"}),n.jsx("option",{value:"commerce",children:"Commerce"}),n.jsx("option",{value:"content",children:"Content"}),n.jsx("option",{value:"media",children:"Media"}),n.jsx("option",{value:"engagement",children:"Engagement"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Add Components"}),n.jsx("div",{className:"space-y-2",children:G.map(I=>{const V=I.icon;return n.jsxs("button",{onClick:()=>D(I.type),className:"w-full flex items-center gap-3 p-3 text-left border border-gray-200 rounded-lg hover:border-indigo-300 hover:bg-indigo-50 transition-colors group",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(V,{className:"w-5 h-5 text-gray-500 group-hover:text-indigo-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"font-medium text-sm text-gray-900",children:I.title}),I.premium&&n.jsx("span",{className:"px-1.5 py-0.5 bg-yellow-100 text-yellow-800 text-xs rounded",children:"PRO"})]}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:I.description}),n.jsx("div",{className:"text-xs text-indigo-600 mt-1 capitalize",children:I.category})]}),n.jsx(fr,{className:"w-4 h-4 text-gray-400 group-hover:text-indigo-600"})]},I.type)})})]})]}),f==="layers"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Page Layers"}),n.jsxs("span",{className:"text-xs text-gray-500",children:[e.length," sections"]})]}),n.jsx("div",{className:"space-y-1",children:e.sort((I,V)=>I.order-V.order).map((I,V)=>n.jsxs("div",{onClick:()=>c(I.id),className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors ${l===I.id?"bg-indigo-50 border border-indigo-200":"hover:bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-gray-400 w-4",children:V+1}),n.jsx(w6,{className:"w-4 h-4 text-gray-400"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:I.title}),n.jsx("div",{className:"text-xs text-gray-500 capitalize",children:I.type})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[I.animations&&n.jsx("div",{title:"Has animations",children:n.jsx(Zo,{className:"w-3 h-3 text-purple-500"})}),n.jsx("div",{className:`w-2 h-2 rounded-full ${I.enabled?"bg-green-500":"bg-gray-300"}`,title:I.enabled?"Visible":"Hidden"})]})]},I.id))})]})]})}),n.jsxs("div",{className:"flex-1 flex",children:[n.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:n.jsx("div",{className:`mx-auto bg-white rounded-lg shadow-lg transition-all duration-300 ${i==="desktop"?"max-w-full":i==="tablet"?"max-w-4xl":"max-w-sm"}`,children:d?n.jsx("div",{className:"p-6",children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",rowGap:`${a*.25}rem`},children:[" ",e.filter(I=>I.enabled).sort((I,V)=>I.order-V.order).map(I=>n.jsx("div",{className:"group",children:K(I)},I.id))]})}):n.jsx(xc,{onDragEnd:W,children:n.jsx(vc,{droppableId:"page-sections",children:I=>n.jsxs("div",{...I.droppableProps,ref:I.innerRef,className:"p-6 min-h-[400px]",style:{display:"flex",flexDirection:"column",rowGap:`${a*.25}rem`},children:[e.sort((V,te)=>V.order-te.order).map((V,te)=>n.jsx(yc,{draggableId:V.id,index:te,children:(R,U)=>n.jsxs("div",{ref:R.innerRef,...R.draggableProps,className:`relative transition-transform ${U.isDragging?"rotate-1 scale-105":""}`,children:[n.jsx("div",{...R.dragHandleProps,className:"absolute -left-3 top-1/2 transform -translate-y-1/2 cursor-move text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(v_,{className:"w-5 h-5"})}),K(V)]})},V.id)),I.placeholder,e.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Vr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start building your page"}),n.jsx("p",{className:"text-sm",children:"Add components from the sidebar to begin designing your store"})]})]})})})})}),!d&&n.jsx("div",{className:"w-80 bg-white border-l border-gray-200 overflow-y-auto",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Ha,{className:"w-5 h-5 text-gray-500"}),n.jsx("h3",{className:"font-medium text-gray-900",children:"Section Settings"})]}),Z()]})})]})]})]})}function eMe({isOpen:e,onClose:t}){if(!e)return null;const{sections:r,updateSection:a,removeSection:s,reorderSections:i,saveLayout:o,addSection:l}=Ev(),[c,d]=N.useState(null),[u,f]=N.useState({}),[h,m]=N.useState("basic"),[p,x]=N.useState(""),[y,v]=N.useState("all"),[w,j]=N.useState("list"),[A,C]=N.useState("order"),[S,k]=N.useState("asc"),[E,T]=N.useState([]),[F,O]=N.useState(!1),[P,W]=N.useState("desktop"),[q,D]=N.useState([]),[M,H]=N.useState(!1),[ee,X]=N.useState([]),[de,le]=N.useState([]),[G,K]=N.useState(!1),[Z,I]=N.useState(!1),[V,te]=N.useState([]),[R,U]=N.useState(!1),[Q,J]=N.useState([]),[L,he]=N.useState(!1);N.useState([]);const[ge,Ae]=N.useState(!1);N.useState([]);const[Ee,xe]=N.useState(!1);N.useState([]),N.useState(!1),N.useState(!1);const[Te,Ue]=N.useState(!1),[tt,ct]=N.useState(!1),[mt,ut]=N.useState(!1),[it,At]=N.useState(!1),[Bt,vt]=N.useState([]),Gt=N.useRef(null),Ut=N.useMemo(()=>{let _e=r.filter(Xe=>{const st=Xe.title.toLowerCase().includes(p.toLowerCase())||Xe.type.toLowerCase().includes(p.toLowerCase()),_t=y==="all"||y==="enabled"&&Xe.enabled||y==="disabled"&&!Xe.enabled||y==="locked"&&ee.includes(Xe.id)||y==="favorites"&&de.includes(Xe.id)||Xe.type===y;return st&&_t});return _e.sort((Xe,st)=>{let _t=0;switch(A){case"name":_t=Xe.title.localeCompare(st.title);break;case"type":_t=Xe.type.localeCompare(st.type);break;case"status":_t=(Xe.enabled?1:0)-(st.enabled?1:0);break;default:_t=Xe.order-st.order}return S==="desc"?-_t:_t}),_e},[r,p,y,A,S,ee,de]),ft=Ut;N.useEffect(()=>{const _e=Xe=>{var st;if(Xe.ctrlKey||Xe.metaKey)switch(Xe.key){case"f":Xe.preventDefault(),(st=Gt.current)==null||st.focus();break;case"a":Xe.preventDefault(),Ut.length>0&&(T(Ut.map(_t=>_t.id)),z.success(`Selected ${Ut.length} components`));break;case"d":Xe.preventDefault(),E.length>0&&tn("duplicate");break;case"s":Xe.preventDefault();try{localStorage.getItem("token")&&o()}catch(_t){}z.success("Layout saved!");break}else Xe.key==="Delete"&&E.length>0?tn("delete"):Xe.key==="Escape"&&(T([]),d(null))};if(e)return window.addEventListener("keydown",_e),()=>window.removeEventListener("keydown",_e)},[e,E,Ut,o]),N.useEffect(()=>{e&&Q.length===0&&J([{id:"hero-promo",name:"Promotional Hero",type:"hero",description:"Hero section with promotional banner and CTA",category:"Marketing",tags:["promotion","banner","cta"],popularity:95,settings:{title:"Special Offer - Limited Time!",settings:{backgroundColor:"#ef4444",textColor:"#ffffff",content:"Save up to 50% on selected items"}}},{id:"product-showcase",name:"Product Showcase",type:"featured_products",description:"Featured products with special layout",category:"E-commerce",tags:["products","showcase","featured"],popularity:88,settings:{title:"Featured Products",settings:{itemsPerRow:3,showPrices:!0}}},{id:"testimonial-grid",name:"Customer Reviews Grid",type:"reviews",description:"Grid layout for customer testimonials",category:"Social Proof",tags:["reviews","testimonials","grid"],popularity:76,settings:{title:"What Our Customers Say",settings:{layout:"grid",itemsPerRow:2}}},{id:"newsletter-signup",name:"Newsletter Signup",type:"newsletter",description:"Email capture form with incentive",category:"Lead Generation",tags:["newsletter","email","signup"],popularity:82,settings:{title:"Stay Updated",settings:{content:"Subscribe for exclusive offers and updates"}}}])},[e,Q.length]);const Ht=_e=>{const Xe=de.includes(_e);le(st=>st.includes(_e)?st.filter(_t=>_t!==_e):[...st,_e]),St(Xe?"unfavorite":"favorite",_e),z.success(Xe?"Removed from favorites":"Added to favorites")},dr=_e=>{const Xe=ee.includes(_e);X(st=>st.includes(_e)?st.filter(_t=>_t!==_e):[...st,_e]),St(Xe?"unlock":"lock",_e),z.success(Xe?"Component unlocked":"Component locked")},St=(_e,Xe,st)=>{const _t={id:Date.now().toString(),action:_e,sectionId:Xe,timestamp:new Date,details:st};D(re=>[_t,...re.slice(0,49)])},ir=(_e,Xe)=>{const st=r.find(_t=>_t.id===_e);if(st){const _t={id:Date.now().toString(),sectionId:_e,version:V.filter(re=>re.sectionId===_e).length+1,timestamp:new Date,settings:{...st},comment:Xe};te(re=>[_t,...re]),z.success(`Revision ${_t.version} created for ${st.title}`)}},Kr=_e=>{const Xe={id:`${_e.type}_${Date.now()}`,type:_e.type,title:_e.settings.title||_e.name,order:r.length+1,enabled:!0,settings:_e.settings.settings||{},animations:_e.settings.animations,responsive:_e.settings.responsive};l(Xe),St("template_applied",Xe.id,{templateId:_e.id}),z.success(`Applied template: ${_e.name}`)},Jn=()=>{At(!0),vt([]),z.success("Macro recording started")},Zn=()=>{At(!1),z.success(`Macro recorded with ${Bt.length} actions`)},qa=()=>{Bt.forEach((_e,Xe)=>{setTimeout(()=>{switch(_e.type){case"toggle_visibility":a(_e.sectionId,{enabled:!_e.enabled});break}},Xe*500)}),z.success(`Playing macro with ${Bt.length} actions`)},gn=()=>{const _e={totalComponents:r.length,enabledComponents:r.filter(Xe=>Xe.enabled).length,favoriteComponents:de.length,lockedComponents:ee.length,recentActivity:q.slice(0,10),componentTypes:r.reduce((Xe,st)=>(Xe[st.type]=(Xe[st.type]||0)+1,Xe),{})};return console.log("Performance Report:",_e),z.success("Performance report generated (check console)"),_e},tn=_e=>{const Xe=r.filter(st=>E.includes(st.id));switch(_e){case"enable":Xe.forEach(st=>{st.enabled||(a(st.id,{enabled:!0}),St("bulk_enable",st.id))});break;case"disable":Xe.forEach(st=>{st.enabled&&(a(st.id,{enabled:!1}),St("bulk_disable",st.id))});break;case"delete":window.confirm(`Delete ${E.length} selected components?`)&&E.forEach(st=>{s(st),St("bulk_delete",st)});break;case"duplicate":Xe.forEach(st=>{const _t={...st,id:Date.now().toString()+Math.random(),title:`${st.title} (Copy)`,order:r.length};l(_t),St("bulk_duplicate",st.id,{newId:_t.id})});break}T([])},va=()=>{const _e=E.length>0?r.filter(re=>E.includes(re.id)):r,Xe=new Blob([JSON.stringify(_e,null,2)],{type:"application/json"}),st=URL.createObjectURL(Xe),_t=document.createElement("a");_t.href=st,_t.download=`components-export-${new Date().toISOString().split("T")[0]}.json`,_t.click(),URL.revokeObjectURL(st)},je=_e=>{var _t;const Xe=(_t=_e.target.files)==null?void 0:_t[0];if(!Xe)return;const st=new FileReader;st.onload=re=>{var fe;try{JSON.parse((fe=re.target)==null?void 0:fe.result).forEach(ce=>{const me={...ce,id:Date.now().toString()+Math.random(),order:r.length};l(me),St("import",me.id)})}catch(oe){alert("Failed to import components. Please check the file format.")}},st.readAsText(Xe),_e.target.value=""},Oe=()=>{const _e=r.filter(re=>re.enabled).length,Xe=r.filter(re=>!re.enabled).length,st=[...new Set(r.map(re=>re.type))],_t=st.map(re=>({type:re,count:r.filter(fe=>fe.type===re).length}));return{total:r.length,enabled:_e,disabled:Xe,types:st.length,typeDistribution:_t,lastModified:new Date().toLocaleDateString()}},Ze=(_e,Xe)=>{a(_e,{enabled:!Xe}),St(Xe?"hide":"show",_e),z.success(Xe?"Section hidden":"Section shown")},He=(_e,Xe)=>{window.confirm(`Are you sure you want to delete "${Xe}"?`)&&(s(_e),St("delete",_e,{title:Xe}),z.success("Section deleted"))},dt=_e=>{const Xe={..._e,id:`${_e.type}-${Date.now()}`,title:`${_e.title} (Copy)`,order:r.length};l(Xe),St("duplicate",_e.id,{newSectionId:Xe.id}),z.success("Section duplicated")},be=(_e,Xe)=>{const st=r.findIndex(oe=>oe.id===_e);if(Xe==="up"&&st===0||Xe==="down"&&st===r.length-1)return;const _t=[...r],re=Xe==="up"?st-1:st+1;[_t[st],_t[re]]=[_t[re],_t[st]];const fe=_t.map((oe,ce)=>({...oe,order:ce}));i(fe),z.success(`Section moved ${Xe}`),St(`move_${Xe}`,_e)},Ke=_e=>{d(_e.id),f(_e)},at=()=>{c&&u&&(console.log("Saving section:",c,"with data:",u),a(c,u),d(null),f({}),z.success("Section updated successfully!"))},bt=()=>{d(null),f({})},yt=_e=>({hero:zn,featured:Vr,categories:Vr,products:Vr,text:cd,image:zn,testimonials:Bn,banner:Vr,banners:Vr,countdown:Bn,newsletter:Bn,video:Bn,social:Bn,faq:Bn,contact:Bn,gallery:zn,blog:cd,team:Bn,stats:Bn,pricing:Vr,features:Bn,timeline:Bn,map:Bn,search:Bn,reviews:Bn,brands:zn,accordion:Vr,tabs:Vr,carousel:zn,comparison:Vr,cta:Bn,divider:Vr,spacer:Vr,breadcrumb:Vr,alert:Bn,progress:Bn,chat:Bn,calendar:Bn})[_e]||Vr;return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-indigo-50 to-purple-50",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ha,{className:"text-indigo-600",size:24}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Advanced Component Manager"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[r.length," components • ",r.filter(_e=>_e.enabled).length," visible"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>I(!Z),className:`p-2 rounded-lg transition-colors ${Z?"bg-green-100 text-green-600":"hover:bg-gray-100 text-gray-600"}`,title:"Version Control",children:n.jsx(ew,{size:20})}),n.jsx("button",{onClick:()=>U(!R),className:`p-2 rounded-lg transition-colors ${R?"bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-600"}`,title:"Template Library",children:n.jsx(y_,{size:20})}),n.jsx("button",{onClick:()=>Ae(!ge),className:`p-2 rounded-lg transition-colors ${ge?"bg-purple-100 text-purple-600":"hover:bg-gray-100 text-gray-600"}`,title:"A/B Testing",children:n.jsx(tw,{size:20})}),n.jsx("button",{onClick:()=>he(!L),className:`p-2 rounded-lg transition-colors ${L?"bg-orange-100 text-orange-600":"hover:bg-gray-100 text-gray-600"}`,title:"Performance Analytics",children:n.jsx(Nn,{size:20})}),n.jsx("button",{onClick:()=>Ue(!Te),className:`p-2 rounded-lg transition-colors ${Te?"bg-red-100 text-red-600":"hover:bg-gray-100 text-gray-600"}`,title:"Automation & Macros",children:n.jsx(Zo,{size:20})}),n.jsx("button",{onClick:()=>xe(!Ee),className:`p-2 rounded-lg transition-colors ${Ee?"bg-yellow-100 text-yellow-600":"hover:bg-gray-100 text-gray-600"}`,title:"Scheduling",children:n.jsx(od,{size:20})}),n.jsx("button",{onClick:()=>ct(!tt),className:`p-2 rounded-lg transition-colors ${tt?"bg-teal-100 text-teal-600":"hover:bg-gray-100 text-gray-600"}`,title:"Workflow Management",children:n.jsx(j_,{size:20})}),n.jsx("button",{onClick:()=>ut(!mt),className:`p-2 rounded-lg transition-colors ${mt?"bg-gray-100 text-gray-600":"hover:bg-gray-100 text-gray-600"}`,title:"Security Settings",children:n.jsx(Bm,{size:20})}),n.jsx("button",{onClick:()=>O(!F),className:`p-2 rounded-lg transition-colors ${F?"bg-indigo-100 text-indigo-600":"hover:bg-gray-100 text-gray-600"}`,title:"Analytics",children:n.jsx(il,{size:20})}),n.jsx("button",{onClick:()=>K(!G),className:`p-2 rounded-lg transition-colors ${G?"bg-indigo-100 text-indigo-600":"hover:bg-gray-100 text-gray-600"}`,title:"Preferences",children:n.jsx(Ha,{size:20})}),n.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-600",children:n.jsx(xt,{size:20})})]})]}),n.jsxs("div",{className:"border-b border-gray-200 bg-white p-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"relative",children:[n.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{type:"text",placeholder:"Search components...",value:p,onChange:_e=>x(_e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),n.jsxs("select",{value:y,onChange:_e=>v(_e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"All Components"}),n.jsx("option",{value:"enabled",children:"Enabled Only"}),n.jsx("option",{value:"disabled",children:"Disabled Only"}),n.jsx("option",{value:"locked",children:"Locked"}),n.jsx("option",{value:"favorites",children:"Favorites"}),n.jsx("option",{value:"hero",children:"Hero Sections"}),n.jsx("option",{value:"products",children:"Product Sections"}),n.jsx("option",{value:"content",children:"Content Sections"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("select",{value:A,onChange:_e=>C(_e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"order",children:"Order"}),n.jsx("option",{value:"name",children:"Name"}),n.jsx("option",{value:"type",children:"Type"}),n.jsx("option",{value:"status",children:"Status"})]}),n.jsx("button",{onClick:()=>k(S==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:`Sort ${S==="asc"?"Descending":"Ascending"}`,children:S==="asc"?n.jsx(bG,{size:16}):n.jsx(yG,{size:16})})]}),n.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[n.jsx("button",{onClick:()=>j("list"),className:`p-2 ${w==="list"?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"}`,title:"List View",children:n.jsx(S6,{size:16})}),n.jsx("button",{onClick:()=>j("grid"),className:`p-2 ${w==="grid"?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"}`,title:"Grid View",children:n.jsx(Ix,{size:16})})]}),n.jsx("button",{onClick:()=>H(!M),className:`px-3 py-2 rounded-lg transition-colors ${M?"bg-indigo-100 text-indigo-600":"border border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Bulk Actions"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:va,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-600",title:"Export Components",children:n.jsx(yi,{size:16})}),n.jsxs("label",{className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-600 cursor-pointer",title:"Import Components",children:[n.jsx(Gn,{size:16}),n.jsx("input",{type:"file",accept:".json",onChange:je,className:"hidden"})]})]})]}),M&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("span",{className:"font-medium text-gray-900",children:["Bulk Actions (",E.length," selected)"]}),n.jsx("button",{onClick:()=>T([]),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear Selection"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>tn("enable"),disabled:E.length===0,className:"px-3 py-1 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 disabled:opacity-50",children:[n.jsx(cs,{size:14,className:"inline mr-1"}),"Enable"]}),n.jsxs("button",{onClick:()=>tn("disable"),disabled:E.length===0,className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded text-sm hover:bg-yellow-200 disabled:opacity-50",children:[n.jsx(Ux,{size:14,className:"inline mr-1"}),"Disable"]}),n.jsxs("button",{onClick:()=>tn("duplicate"),disabled:E.length===0,className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 disabled:opacity-50",children:[n.jsx(Bu,{size:14,className:"inline mr-1"}),"Duplicate"]}),n.jsxs("button",{onClick:()=>tn("delete"),disabled:E.length===0,className:"px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200 disabled:opacity-50",children:[n.jsx(en,{size:14,className:"inline mr-1"}),"Delete"]})]})]})]}),F&&n.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-4",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Component Analytics"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(()=>{const _e=Oe();return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:_e.total}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Components"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:_e.enabled}),n.jsx("div",{className:"text-sm text-gray-600",children:"Enabled"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:_e.disabled}),n.jsx("div",{className:"text-sm text-gray-600",children:"Disabled"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_e.types}),n.jsx("div",{className:"text-sm text-gray-600",children:"Component Types"})]})]})})()})]}),Z&&n.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-medium text-gray-900 flex items-center",children:[n.jsx(ew,{className:"mr-2 text-green-600",size:20}),"Version Control"]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs("button",{onClick:()=>gn(),className:"px-3 py-1 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200",children:[n.jsx(D2,{size:14,className:"inline mr-1"}),"Export History"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Recent Changes"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:q.slice(0,3).map(_e=>n.jsxs("div",{className:"mb-1",children:[_e.action.replace("_"," ")," - ",_e.timestamp.toLocaleTimeString()]},_e.id))})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Saved Revisions"}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[V.length," revisions saved"]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Auto-Save Status"}),n.jsx("div",{className:"text-xs text-green-600 mt-1",children:"✓ Active"})]})]})]}),R&&n.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-blue-50 to-cyan-50 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-medium text-gray-900 flex items-center",children:[n.jsx(y_,{className:"mr-2 text-blue-600",size:20}),"Template Library"]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[Q.length," templates available"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:Q.map(_e=>n.jsxs("div",{className:"bg-white p-3 rounded border hover:shadow-md transition-shadow cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"font-medium text-sm text-gray-900",children:_e.name}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Dr,{size:12,className:"text-yellow-500"}),n.jsx("span",{className:"text-xs text-gray-500",children:_e.popularity})]})]}),n.jsx("div",{className:"text-xs text-gray-500 mb-2",children:_e.description}),n.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:_e.tags.slice(0,2).map(Xe=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:Xe},Xe))}),n.jsx("button",{onClick:()=>Kr(_e),className:"w-full px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"Apply Template"})]},_e.id))})]}),L&&n.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-orange-50 to-red-50 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-medium text-gray-900 flex items-center",children:[n.jsx(Nn,{className:"mr-2 text-orange-600",size:20}),"Performance Analytics"]}),n.jsxs("button",{onClick:()=>gn(),className:"px-3 py-1 bg-orange-100 text-orange-700 rounded text-sm hover:bg-orange-200",children:[n.jsx(os,{size:14,className:"inline mr-1"}),"Generate Report"]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[n.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[Math.round(r.filter(_e=>_e.enabled).length/r.length*100),"%"]}),n.jsx("div",{className:"text-xs text-gray-600",children:"Visibility Rate"})]}),n.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[n.jsx("div",{className:"text-lg font-bold text-green-600",children:de.length}),n.jsx("div",{className:"text-xs text-gray-600",children:"Favorites"})]}),n.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:q.length}),n.jsx("div",{className:"text-xs text-gray-600",children:"Total Actions"})]}),n.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[n.jsx("div",{className:"text-lg font-bold text-purple-600",children:ee.length}),n.jsx("div",{className:"text-xs text-gray-600",children:"Locked"})]})]})]}),ge&&n.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-purple-50 to-pink-50 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-medium text-gray-900 flex items-center",children:[n.jsx(tw,{className:"mr-2 text-purple-600",size:20}),"A/B Testing"]}),n.jsxs("button",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded text-sm hover:bg-purple-200",children:[n.jsx(fr,{size:14,className:"inline mr-1"}),"New Test"]})]}),n.jsx("div",{className:"bg-white p-3 rounded border",children:n.jsxs("div",{className:"text-sm text-gray-500 text-center py-4",children:["🧪 A/B Testing features coming soon!",n.jsx("br",{}),"Test different component variations to optimize performance."]})})]}),Te&&n.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-red-50 to-pink-50 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-medium text-gray-900 flex items-center",children:[n.jsx(Zo,{className:"mr-2 text-red-600",size:20}),"Automation & Macros"]}),n.jsxs("div",{className:"flex space-x-2",children:[it?n.jsxs("button",{onClick:Zn,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200",children:[n.jsx(UG,{size:14,className:"inline mr-1"}),"Stop Recording"]}):n.jsxs("button",{onClick:Jn,className:"px-3 py-1 bg-red-100 text-red-700 rounded text-sm hover:bg-red-200",children:[n.jsx(Wx,{size:14,className:"inline mr-1"}),"Record Macro"]}),Bt.length>0&&n.jsxs("button",{onClick:qa,className:"px-3 py-1 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200",children:[n.jsx(Wx,{size:14,className:"inline mr-1"}),"Play Macro"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Recording Status"}),n.jsx("div",{className:`text-xs mt-1 ${it?"text-red-600":"text-gray-500"}`,children:it?"🔴 Recording...":"⏸️ Not Recording"})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Saved Macros"}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Bt.length," actions recorded"]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Auto-Actions"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Auto-save enabled"})]})]})]}),Ee&&n.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-yellow-50 to-orange-50 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-medium text-gray-900 flex items-center",children:[n.jsx(od,{className:"mr-2 text-yellow-600",size:20}),"Component Scheduling"]}),n.jsxs("button",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded text-sm hover:bg-yellow-200",children:[n.jsx(QG,{size:14,className:"inline mr-1"}),"Schedule Action"]})]}),n.jsx("div",{className:"bg-white p-3 rounded border",children:n.jsxs("div",{className:"text-sm text-gray-500 text-center py-4",children:["📅 Scheduling features coming soon!",n.jsx("br",{}),"Schedule component changes for specific dates and times."]})})]}),tt&&n.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-teal-50 to-cyan-50 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-medium text-gray-900 flex items-center",children:[n.jsx(j_,{className:"mr-2 text-teal-600",size:20}),"Workflow Management"]}),n.jsxs("button",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded text-sm hover:bg-teal-200",children:[n.jsx(fr,{size:14,className:"inline mr-1"}),"Create Workflow"]})]}),n.jsx("div",{className:"bg-white p-3 rounded border",children:n.jsxs("div",{className:"text-sm text-gray-500 text-center py-4",children:["🔄 Workflow management coming soon!",n.jsx("br",{}),"Create automated workflows for component management."]})})]}),mt&&n.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-gray-50 to-slate-50 p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-medium text-gray-900 flex items-center",children:[n.jsx(Bm,{className:"mr-2 text-gray-600",size:20}),"Security Settings"]}),n.jsxs("button",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200",children:[n.jsx(So,{size:14,className:"inline mr-1"}),"Manage Access"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Access Control"}),n.jsx("div",{className:"text-xs text-green-600 mt-1",children:"✓ Admin Only"})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Component Locks"}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[ee.length," components locked"]})]}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Audit Trail"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"All changes logged"})]})]})]}),n.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Preview Device:"}),n.jsx("div",{className:"flex space-x-1",children:["desktop","tablet","mobile"].map(_e=>n.jsxs("button",{onClick:()=>W(_e),className:`px-3 py-1 rounded text-sm capitalize transition-colors ${P===_e?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[_e==="desktop"&&n.jsx(Ou,{size:14,className:"inline mr-1"}),_e==="tablet"&&n.jsx(Um,{size:14,className:"inline mr-1"}),_e==="mobile"&&n.jsx(Uu,{size:14,className:"inline mr-1"}),_e]},_e))})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleTimeString()]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto max-h-[calc(95vh-400px)]",children:ft.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Vr,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Components Found"}),n.jsx("p",{className:"text-gray-500",children:p?"Try adjusting your search or filters":"Add components from the Visual Store Builder"})]}):n.jsx("div",{className:`p-6 ${w==="grid"?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-4"}`,children:ft.map(_e=>{var oe,ce,me,pe,Pe,Me,Ie,we,ae,Se,De,Ye,Ve,Je,gt,Qt,or,Hr,Nr,fs,Es,Qs,bl,hs,Zf,Qf,eh,Wd,Cp,th,bc,rh,Ap,nh,ah,zd,_p,sh,Hd,Vd,Oo,ih,oh,Ep,lh,ch,dh,uh,Tp,Op,Pp,fh,Ip,Fp,Dp,Rp,Gd,Mp,Lp,$p,Bp,Up,Pr,Sr,Wp,zp,Hp,Vp,Gp,qp,hh,Kp,Cn,qd,io,mh,Kd,Ka,ph,gh,xh,yh,vh,bh,Oa,Xp,Xa,Yp,wh,Pi,wc,Xd,Rr,Ii,Yd,Jp,Jd,Zp,Qp,eg,jh,jc,Po,tg,Nh,Sh,Zd,Qd,kh,rg;const Xe=yt(_e.type),st=c===_e.id,_t=E.includes(_e.id),re=ee.includes(_e.id),fe=de.includes(_e.id);return n.jsx("div",{className:`border rounded-lg transition-all duration-200 ${_t?"ring-2 ring-indigo-500 border-indigo-300":_e.enabled?"border-gray-200 bg-white hover:shadow-md":"border-gray-100 bg-gray-50"} p-4`,children:st?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(b_,{className:"mr-2 text-indigo-600",size:20}),"Edit Component - Advanced Settings"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:at,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm hover:bg-green-700 flex items-center transition-colors",children:[n.jsx(ma,{size:14,className:"mr-1"}),"Save Changes"]}),n.jsxs("button",{onClick:bt,className:"px-4 py-2 bg-gray-600 text-white rounded-md text-sm hover:bg-gray-700 flex items-center transition-colors",children:[n.jsx(xt,{size:14,className:"mr-1"}),"Cancel"]})]})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:["basic","styling","layout","animations","responsive","advanced"].map(ve=>n.jsx("button",{onClick:()=>m(ve),className:`py-2 px-1 border-b-2 font-medium text-sm capitalize transition-colors ${h===ve?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:ve},ve))})}),h==="basic"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Component Title"}),n.jsx("input",{type:"text",value:u.title||"",onChange:ve=>f({...u,title:ve.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter component title..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Component Type"}),n.jsxs("select",{value:u.type||"",onChange:ve=>f({...u,type:ve.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"hero",children:"🎯 Hero Banner"}),n.jsx("option",{value:"featured",children:"⭐ Featured Products"}),n.jsx("option",{value:"categories",children:"📂 Categories"}),n.jsx("option",{value:"products",children:"🛍️ Products Grid"}),n.jsx("option",{value:"text",children:"📝 Text Block"}),n.jsx("option",{value:"image",children:"🖼️ Image"}),n.jsx("option",{value:"testimonials",children:"💬 Testimonials"}),n.jsx("option",{value:"banner",children:"🎪 Promotional Banner"}),n.jsx("option",{value:"banners",children:"🖼️ Banners (from Admin)"}),n.jsx("option",{value:"countdown",children:"⏱️ Countdown Timer"}),n.jsx("option",{value:"newsletter",children:"📧 Newsletter Signup"}),n.jsx("option",{value:"video",children:"🎥 Video"}),n.jsx("option",{value:"social",children:"📱 Social Media"}),n.jsx("option",{value:"faq",children:"❓ FAQ Section"}),n.jsx("option",{value:"contact",children:"📞 Contact Form"}),n.jsx("option",{value:"gallery",children:"🖼️ Image Gallery"}),n.jsx("option",{value:"blog",children:"📰 Blog Posts"}),n.jsx("option",{value:"team",children:"👥 Team Members"}),n.jsx("option",{value:"stats",children:"📊 Statistics"}),n.jsx("option",{value:"pricing",children:"💰 Pricing Table"}),n.jsx("option",{value:"features",children:"✨ Features List"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),n.jsx("input",{type:"number",value:u.order||0,onChange:ve=>f({...u,order:parseInt(ve.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",min:"0"})]}),n.jsx("div",{className:"flex items-center",children:n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:u.enabled||!1,onChange:ve=>f({...u,enabled:ve.target.checked}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable Component"})]})})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Component-Specific Settings"}),u.type==="image"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Upload"}),n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-gray-400 transition-colors",children:(oe=u.settings)!=null&&oe.imageUrl?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:u.settings.imageUrl,alt:"Image preview",className:"w-full h-48 object-cover rounded-lg"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/40 transition-colors rounded-lg flex items-center justify-center opacity-0 hover:opacity-100",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("label",{className:"p-2 bg-white rounded-full cursor-pointer hover:bg-gray-100",children:[n.jsx(Gn,{className:"w-5 h-5 text-gray-600"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async ve=>{var br;const er=(br=ve.target.files)==null?void 0:br[0];if(er)try{console.log("Uploading image file:",er.name);const{uploadToCloudinary:xn}=await Ll(async()=>{const{uploadToCloudinary:Ts}=await Promise.resolve().then(()=>Wc);return{uploadToCloudinary:Ts}},void 0),Mr=await xn(er);console.log("Image uploaded successfully:",Mr);const Qn={...u.settings,imageUrl:Mr};f({...u,settings:Qn}),console.log("Updated editForm with new settings:",Qn),z.success("Image uploaded successfully!")}catch(xn){console.error("Image upload failed:",xn),z.error("Failed to upload image")}}})]}),n.jsx("button",{type:"button",onClick:()=>f({...u,settings:{...u.settings,imageUrl:""}}),className:"p-2 bg-white rounded-full hover:bg-gray-100",children:n.jsx(xt,{className:"w-5 h-5 text-gray-600"})})]})})]}):n.jsxs("div",{className:"text-center",children:[n.jsx(zn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("span",{className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Upload an image"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async ve=>{var br;const er=(br=ve.target.files)==null?void 0:br[0];if(er)try{const{uploadToCloudinary:xn}=await Ll(async()=>{const{uploadToCloudinary:Qn}=await Promise.resolve().then(()=>Wc);return{uploadToCloudinary:Qn}},void 0),Mr=await xn(er);f({...u,settings:{...u.settings,imageUrl:Mr}}),z.success("Image uploaded successfully!")}catch(xn){z.error("Failed to upload image")}}})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, WebP up to 10MB"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alt Text (for accessibility)"}),n.jsx("input",{type:"text",value:((ce=u.settings)==null?void 0:ce.altText)||"",onChange:ve=>f({...u,settings:{...u.settings,altText:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",placeholder:"Describe the image..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Width"}),n.jsxs("select",{value:((me=u.settings)==null?void 0:me.width)||"full",onChange:ve=>f({...u,settings:{...u.settings,width:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"full",children:"Full Width"}),n.jsx("option",{value:"3/4",children:"75% Width"}),n.jsx("option",{value:"1/2",children:"50% Width"}),n.jsx("option",{value:"1/3",children:"33% Width"}),n.jsx("option",{value:"auto",children:"Auto"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Object Fit"}),n.jsxs("select",{value:((pe=u.settings)==null?void 0:pe.objectFit)||"cover",onChange:ve=>f({...u,settings:{...u.settings,objectFit:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"cover",children:"Cover"}),n.jsx("option",{value:"contain",children:"Contain"}),n.jsx("option",{value:"fill",children:"Fill"}),n.jsx("option",{value:"scale-down",children:"Scale Down"}),n.jsx("option",{value:"none",children:"None"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aspect Ratio"}),n.jsxs("select",{value:((Pe=u.settings)==null?void 0:Pe.aspectRatio)||"auto",onChange:ve=>f({...u,settings:{...u.settings,aspectRatio:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"auto",children:"Auto"}),n.jsx("option",{value:"16/9",children:"16:9 (Widescreen)"}),n.jsx("option",{value:"4/3",children:"4:3 (Standard)"}),n.jsx("option",{value:"1/1",children:"1:1 (Square)"}),n.jsx("option",{value:"3/2",children:"3:2 (Photo)"}),n.jsx("option",{value:"21/9",children:"21:9 (Ultra-wide)"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Me=u.settings)==null?void 0:Me.lazy)||!1,onChange:ve=>f({...u,settings:{...u.settings,lazy:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Lazy Loading"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Ie=u.settings)==null?void 0:Ie.clickable)||!1,onChange:ve=>f({...u,settings:{...u.settings,clickable:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Clickable"})]})]}),((we=u.settings)==null?void 0:we.clickable)&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link URL"}),n.jsx("input",{type:"url",value:((ae=u.settings)==null?void 0:ae.linkUrl)||"",onChange:ve=>f({...u,settings:{...u.settings,linkUrl:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",placeholder:"https://example.com"})]})]})]}),u.type==="video"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Source"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",name:"videoSource",value:"upload",checked:((Se=u.settings)==null?void 0:Se.videoSource)==="upload",onChange:ve=>f({...u,settings:{...u.settings,videoSource:ve.target.value}}),className:"w-4 h-4 text-indigo-600 border-gray-300 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Upload Video"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",name:"videoSource",value:"url",checked:((De=u.settings)==null?void 0:De.videoSource)==="url"||!((Ye=u.settings)!=null&&Ye.videoSource),onChange:ve=>f({...u,settings:{...u.settings,videoSource:ve.target.value}}),className:"w-4 h-4 text-indigo-600 border-gray-300 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Video URL"})]})]}),((Ve=u.settings)==null?void 0:Ve.videoSource)==="upload"?n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-gray-400 transition-colors",children:(Je=u.settings)!=null&&Je.videoUrl?n.jsxs("div",{className:"relative",children:[n.jsx("video",{src:u.settings.videoUrl,className:"w-full h-48 object-cover rounded-lg",controls:!0}),n.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/40 transition-colors rounded-lg flex items-center justify-center opacity-0 hover:opacity-100",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("label",{className:"p-2 bg-white rounded-full cursor-pointer hover:bg-gray-100",children:[n.jsx(Gn,{className:"w-5 h-5 text-gray-600"}),n.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:async ve=>{var br;const er=(br=ve.target.files)==null?void 0:br[0];if(er)try{const{uploadToCloudinary:xn}=await Ll(async()=>{const{uploadToCloudinary:Qn}=await Promise.resolve().then(()=>Wc);return{uploadToCloudinary:Qn}},void 0),Mr=await xn(er);f({...u,settings:{...u.settings,videoUrl:Mr}}),z.success("Video uploaded successfully!")}catch(xn){z.error("Failed to upload video")}}})]}),n.jsx("button",{type:"button",onClick:()=>f({...u,settings:{...u.settings,videoUrl:""}}),className:"p-2 bg-white rounded-full hover:bg-gray-100",children:n.jsx(xt,{className:"w-5 h-5 text-gray-600"})})]})})]}):n.jsxs("div",{className:"text-center",children:[n.jsx(Gn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("span",{className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Upload a video"}),n.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:async ve=>{var br;const er=(br=ve.target.files)==null?void 0:br[0];if(er)try{const{uploadToCloudinary:xn}=await Ll(async()=>{const{uploadToCloudinary:Qn}=await Promise.resolve().then(()=>Wc);return{uploadToCloudinary:Qn}},void 0),Mr=await xn(er);f({...u,settings:{...u.settings,videoUrl:Mr}}),z.success("Video uploaded successfully!")}catch(xn){z.error("Failed to upload video")}}})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"MP4, WebM, MOV up to 100MB"})]})}):n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL (YouTube, Vimeo, or direct link)"}),n.jsx("input",{type:"url",value:((gt=u.settings)==null?void 0:gt.videoUrl)||"",onChange:ve=>f({...u,settings:{...u.settings,videoUrl:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",placeholder:"https://youtube.com/watch?v=... or https://example.com/video.mp4"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aspect Ratio"}),n.jsxs("select",{value:((Qt=u.settings)==null?void 0:Qt.aspectRatio)||"16:9",onChange:ve=>f({...u,settings:{...u.settings,aspectRatio:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"16:9",children:"16:9 (Widescreen)"}),n.jsx("option",{value:"4:3",children:"4:3 (Standard)"}),n.jsx("option",{value:"1:1",children:"1:1 (Square)"}),n.jsx("option",{value:"21:9",children:"21:9 (Ultra-wide)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Quality"}),n.jsxs("select",{value:((or=u.settings)==null?void 0:or.quality)||"auto",onChange:ve=>f({...u,settings:{...u.settings,quality:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"auto",children:"Auto"}),n.jsx("option",{value:"1080p",children:"1080p (Full HD)"}),n.jsx("option",{value:"720p",children:"720p (HD)"}),n.jsx("option",{value:"480p",children:"480p (SD)"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Hr=u.settings)==null?void 0:Hr.autoplay)||!1,onChange:ve=>f({...u,settings:{...u.settings,autoplay:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Autoplay"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Nr=u.settings)==null?void 0:Nr.muted)||!1,onChange:ve=>f({...u,settings:{...u.settings,muted:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Muted"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((fs=u.settings)==null?void 0:fs.loop)||!1,onChange:ve=>f({...u,settings:{...u.settings,loop:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Loop"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Es=u.settings)==null?void 0:Es.controls)||!0,onChange:ve=>f({...u,settings:{...u.settings,controls:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Controls"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Qs=u.settings)==null?void 0:Qs.poster)||!1,onChange:ve=>f({...u,settings:{...u.settings,poster:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Custom Poster"})]})]}),((bl=u.settings)==null?void 0:bl.poster)&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Poster Image"}),n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:(hs=u.settings)!=null&&hs.posterUrl?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:u.settings.posterUrl,alt:"Video poster",className:"w-full h-32 object-cover rounded"}),n.jsx("button",{type:"button",onClick:()=>f({...u,settings:{...u.settings,posterUrl:""}}),className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-sm hover:bg-gray-100",children:n.jsx(xt,{className:"w-4 h-4 text-gray-600"})})]}):n.jsx("div",{className:"text-center",children:n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("span",{className:"text-sm text-indigo-600 hover:text-indigo-500",children:"Upload poster image"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:async ve=>{var br;const er=(br=ve.target.files)==null?void 0:br[0];if(er)try{const{uploadToCloudinary:xn}=await Ll(async()=>{const{uploadToCloudinary:Qn}=await Promise.resolve().then(()=>Wc);return{uploadToCloudinary:Qn}},void 0),Mr=await xn(er);f({...u,settings:{...u.settings,posterUrl:Mr}}),z.success("Poster uploaded successfully!")}catch(xn){z.error("Failed to upload poster")}}})]})})})]})]})]}),u.type==="hero"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Title"}),n.jsx("input",{type:"text",value:((Zf=u.settings)==null?void 0:Zf.title)||"Welcome to Our Store",onChange:ve=>f({...u,settings:{...u.settings,title:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Subtitle"}),n.jsx("textarea",{value:((Qf=u.settings)==null?void 0:Qf.subtitle)||"Discover amazing products",onChange:ve=>f({...u,settings:{...u.settings,subtitle:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",rows:2})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text"}),n.jsx("input",{type:"text",value:((eh=u.settings)==null?void 0:eh.buttonText)||"Shop Now",onChange:ve=>f({...u,settings:{...u.settings,buttonText:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Link"}),n.jsx("input",{type:"text",value:((Wd=u.settings)==null?void 0:Wd.buttonLink)||"/products",onChange:ve=>f({...u,settings:{...u.settings,buttonLink:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overlay Opacity (%)"}),n.jsx("input",{type:"range",min:"0",max:"100",value:((Cp=u.settings)==null?void 0:Cp.overlayOpacity)||50,onChange:ve=>f({...u,settings:{...u.settings,overlayOpacity:parseInt(ve.target.value)}}),className:"w-full"}),n.jsxs("span",{className:"text-sm text-gray-500",children:[((th=u.settings)==null?void 0:th.overlayOpacity)||50,"%"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Height"}),n.jsxs("select",{value:((bc=u.settings)==null?void 0:bc.height)||"large",onChange:ve=>f({...u,settings:{...u.settings,height:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"small",children:"Small (300px)"}),n.jsx("option",{value:"medium",children:"Medium (500px)"}),n.jsx("option",{value:"large",children:"Large (700px)"}),n.jsx("option",{value:"fullscreen",children:"Full Screen"})]})]})]}),u.type==="featured"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Items Per Row"}),n.jsxs("select",{value:((rh=u.settings)==null?void 0:rh.itemsPerRow)||4,onChange:ve=>f({...u,settings:{...u.settings,itemsPerRow:parseInt(ve.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:2,children:"2 Columns"}),n.jsx("option",{value:3,children:"3 Columns"}),n.jsx("option",{value:4,children:"4 Columns"}),n.jsx("option",{value:6,children:"6 Columns"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Products to Show"}),n.jsx("input",{type:"number",value:((Ap=u.settings)==null?void 0:Ap.maxProducts)||8,onChange:ve=>f({...u,settings:{...u.settings,maxProducts:parseInt(ve.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",min:"1",max:"20"})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((nh=u.settings)==null?void 0:nh.showPrice)||!0,onChange:ve=>f({...u,settings:{...u.settings,showPrice:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Product Prices"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((ah=u.settings)==null?void 0:ah.showDescription)||!0,onChange:ve=>f({...u,settings:{...u.settings,showDescription:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Product Descriptions"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((zd=u.settings)==null?void 0:zd.showRating)||!1,onChange:ve=>f({...u,settings:{...u.settings,showRating:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Product Ratings"})]})]})]}),u.type==="brands"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brands Title"}),n.jsx("input",{type:"text",value:((_p=u.settings)==null?void 0:_p.title)||"",onChange:ve=>f({...u,settings:{...u.settings,title:ve.target.value}}),placeholder:"\\u0627\\u0644\\u0645\\u0627\\u0631\\u0643\\u0627\\u062A",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brands Subtitle / Description"}),n.jsx("textarea",{value:((sh=u.settings)==null?void 0:sh.subtitle)||((Hd=u.settings)==null?void 0:Hd.description)||"",onChange:ve=>f({...u,settings:{...u.settings,subtitle:ve.target.value,description:ve.target.value}}),rows:2,placeholder:"e.g. Trusted by leading brands worldwide",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Layout"}),n.jsxs("select",{value:((Vd=u.settings)==null?void 0:Vd.layout)||"marquee",onChange:ve=>f({...u,settings:{...u.settings,layout:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"marquee",children:"Marquee (Scrolling)"}),n.jsx("option",{value:"grid",children:"Grid"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Speed"}),n.jsx("input",{type:"number",min:5,max:200,value:(ih=(Oo=u.settings)==null?void 0:Oo.speed)!=null?ih:40,onChange:ve=>f({...u,settings:{...u.settings,speed:Number(ve.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"flex items-center md:col-span-2 space-x-2",children:[n.jsx("input",{id:"brands-pauseOnHover",type:"checkbox",checked:!!((oh=u.settings)!=null&&oh.pauseOnHover),onChange:ve=>f({...u,settings:{...u.settings,pauseOnHover:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("label",{htmlFor:"brands-pauseOnHover",className:"text-sm font-medium text-gray-700",children:"Pause on hover"})]})]}),u.type==="text"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),n.jsx("textarea",{value:((Ep=u.settings)==null?void 0:Ep.content)||"Enter your text content here...",onChange:ve=>f({...u,settings:{...u.settings,content:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",rows:6})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),n.jsxs("select",{value:((lh=u.settings)==null?void 0:lh.fontSize)||"medium",onChange:ve=>f({...u,settings:{...u.settings,fontSize:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"small",children:"Small"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"large",children:"Large"}),n.jsx("option",{value:"xlarge",children:"Extra Large"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Line Height"}),n.jsxs("select",{value:((ch=u.settings)==null?void 0:ch.lineHeight)||"normal",onChange:ve=>f({...u,settings:{...u.settings,lineHeight:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"tight",children:"Tight"}),n.jsx("option",{value:"normal",children:"Normal"}),n.jsx("option",{value:"loose",children:"Loose"})]})]})]})]}),u.type==="newsletter"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Newsletter Title"}),n.jsx("input",{type:"text",value:((dh=u.settings)==null?void 0:dh.newsletterTitle)||"Subscribe to our Newsletter",onChange:ve=>f({...u,settings:{...u.settings,newsletterTitle:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Newsletter Description"}),n.jsx("textarea",{value:((uh=u.settings)==null?void 0:uh.newsletterDescription)||"Get the latest updates and offers",onChange:ve=>f({...u,settings:{...u.settings,newsletterDescription:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",rows:3})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Placeholder Text"}),n.jsx("input",{type:"text",value:((Tp=u.settings)==null?void 0:Tp.placeholder)||"Enter your email",onChange:ve=>f({...u,settings:{...u.settings,placeholder:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text"}),n.jsx("input",{type:"text",value:((Op=u.settings)==null?void 0:Op.buttonText)||"Subscribe",onChange:ve=>f({...u,settings:{...u.settings,buttonText:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Pp=u.settings)==null?void 0:Pp.showPrivacyNote)||!0,onChange:ve=>f({...u,settings:{...u.settings,showPrivacyNote:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Privacy Notice"})]})})]}),u.type==="video"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL (YouTube, Vimeo, or direct link)"}),n.jsx("input",{type:"url",value:((fh=u.settings)==null?void 0:fh.videoUrl)||"",onChange:ve=>f({...u,settings:{...u.settings,videoUrl:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",placeholder:"https://youtube.com/watch?v=..."})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aspect Ratio"}),n.jsxs("select",{value:((Ip=u.settings)==null?void 0:Ip.aspectRatio)||"16:9",onChange:ve=>f({...u,settings:{...u.settings,aspectRatio:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"16:9",children:"16:9 (Widescreen)"}),n.jsx("option",{value:"4:3",children:"4:3 (Standard)"}),n.jsx("option",{value:"1:1",children:"1:1 (Square)"}),n.jsx("option",{value:"21:9",children:"21:9 (Ultra-wide)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Width"}),n.jsxs("select",{value:((Fp=u.settings)==null?void 0:Fp.maxWidth)||"full",onChange:ve=>f({...u,settings:{...u.settings,maxWidth:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"sm",children:"Small (640px)"}),n.jsx("option",{value:"md",children:"Medium (768px)"}),n.jsx("option",{value:"lg",children:"Large (1024px)"}),n.jsx("option",{value:"xl",children:"Extra Large (1280px)"}),n.jsx("option",{value:"full",children:"Full Width"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Dp=u.settings)==null?void 0:Dp.autoplay)||!1,onChange:ve=>f({...u,settings:{...u.settings,autoplay:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Autoplay (when visible)"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Rp=u.settings)==null?void 0:Rp.showControls)||!0,onChange:ve=>f({...u,settings:{...u.settings,showControls:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Video Controls"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Gd=u.settings)==null?void 0:Gd.loop)||!1,onChange:ve=>f({...u,settings:{...u.settings,loop:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Loop Video"})]})]})]}),u.type==="banner"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Message"}),n.jsx("input",{type:"text",value:((Mp=u.settings)==null?void 0:Mp.message)||"Special Offer - Limited Time!",onChange:ve=>f({...u,settings:{...u.settings,message:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Type"}),n.jsxs("select",{value:((Lp=u.settings)==null?void 0:Lp.bannerType)||"promotional",onChange:ve=>f({...u,settings:{...u.settings,bannerType:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"promotional",children:"Promotional"}),n.jsx("option",{value:"announcement",children:"Announcement"}),n.jsx("option",{value:"warning",children:"Warning"}),n.jsx("option",{value:"info",children:"Information"}),n.jsx("option",{value:"success",children:"Success"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),n.jsxs("select",{value:(($p=u.settings)==null?void 0:$p.position)||"top",onChange:ve=>f({...u,settings:{...u.settings,position:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"top",children:"Top"}),n.jsx("option",{value:"middle",children:"Middle"}),n.jsx("option",{value:"bottom",children:"Bottom"}),n.jsx("option",{value:"sticky",children:"Sticky Top"})]})]})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Bp=u.settings)==null?void 0:Bp.dismissible)||!0,onChange:ve=>f({...u,settings:{...u.settings,dismissible:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Allow users to dismiss banner"})]})})]}),u.type==="banners"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (optional)"}),n.jsx("input",{type:"text",value:((Up=u.settings)==null?void 0:Up.title)||"",onChange:ve=>f({...u,settings:{...u.settings,title:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Layout"}),n.jsxs("select",{value:((Pr=u.settings)==null?void 0:Pr.layout)||"carousel",onChange:ve=>f({...u,settings:{...u.settings,layout:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"carousel",children:"Carousel"}),n.jsx("option",{value:"grid",children:"Grid"}),n.jsx("option",{value:"single",children:"Single"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Items"}),n.jsx("input",{type:"number",min:1,max:20,value:(Wp=(Sr=u.settings)==null?void 0:Sr.maxItems)!=null?Wp:10,onChange:ve=>f({...u,settings:{...u.settings,maxItems:Number(ve.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height (px)"}),n.jsx("input",{type:"number",min:120,max:720,value:(Hp=(zp=u.settings)==null?void 0:zp.height)!=null?Hp:360,onChange:ve=>f({...u,settings:{...u.settings,height:Number(ve.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Autoplay"}),n.jsxs("select",{value:(Vp=u.settings)!=null&&Vp.autoplay?"true":"false",onChange:ve=>f({...u,settings:{...u.settings,autoplay:ve.target.value==="true"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"true",children:"Enabled"}),n.jsx("option",{value:"false",children:"Disabled"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interval (ms)"}),n.jsx("input",{type:"number",min:1e3,step:500,value:(qp=(Gp=u.settings)==null?void 0:Gp.intervalMs)!=null?qp:4e3,onChange:ve=>f({...u,settings:{...u.settings,intervalMs:Number(ve.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"flex items-center gap-3 pt-7",children:[n.jsx("input",{id:"showIndicators",type:"checkbox",checked:!!((hh=u.settings)!=null&&hh.showIndicators),onChange:ve=>f({...u,settings:{...u.settings,showIndicators:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("label",{htmlFor:"showIndicators",className:"text-sm text-gray-700",children:"Show indicators"})]})]})]}),u.type==="countdown"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Date & Time"}),n.jsx("input",{type:"datetime-local",value:((Kp=u.settings)==null?void 0:Kp.targetDate)||new Date(Date.now()+7*24*60*60*1e3).toISOString().slice(0,16),onChange:ve=>f({...u,settings:{...u.settings,targetDate:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Countdown Title"}),n.jsx("input",{type:"text",value:((Cn=u.settings)==null?void 0:Cn.countdownTitle)||"Limited Time Offer",onChange:ve=>f({...u,settings:{...u.settings,countdownTitle:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Format"}),n.jsxs("select",{value:((qd=u.settings)==null?void 0:qd.format)||"full",onChange:ve=>f({...u,settings:{...u.settings,format:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"full",children:"Days, Hours, Minutes, Seconds"}),n.jsx("option",{value:"compact",children:"Hours:Minutes:Seconds"}),n.jsx("option",{value:"minimal",children:"Hours:Minutes"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),n.jsxs("select",{value:((io=u.settings)==null?void 0:io.size)||"large",onChange:ve=>f({...u,settings:{...u.settings,size:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"small",children:"Small"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"large",children:"Large"}),n.jsx("option",{value:"xlarge",children:"Extra Large"})]})]})]})]}),u.type==="testimonials"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Style"}),n.jsxs("select",{value:((mh=u.settings)==null?void 0:mh.displayStyle)||"carousel",onChange:ve=>f({...u,settings:{...u.settings,displayStyle:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"carousel",children:"Carousel"}),n.jsx("option",{value:"grid",children:"Grid"}),n.jsx("option",{value:"single",children:"Single Featured"}),n.jsx("option",{value:"masonry",children:"Masonry Layout"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Items to Show"}),n.jsxs("select",{value:((Kd=u.settings)==null?void 0:Kd.itemsToShow)||3,onChange:ve=>f({...u,settings:{...u.settings,itemsToShow:parseInt(ve.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:1,children:"1 at a time"}),n.jsx("option",{value:2,children:"2 at a time"}),n.jsx("option",{value:3,children:"3 at a time"}),n.jsx("option",{value:4,children:"4 at a time"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Ka=u.settings)==null?void 0:Ka.showStars)||!0,onChange:ve=>f({...u,settings:{...u.settings,showStars:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Star Ratings"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((ph=u.settings)==null?void 0:ph.showPhotos)||!0,onChange:ve=>f({...u,settings:{...u.settings,showPhotos:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Customer Photos"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((gh=u.settings)==null?void 0:gh.autoplay)||!1,onChange:ve=>f({...u,settings:{...u.settings,autoplay:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Auto-rotate testimonials"})]})]})]}),u.type==="faq"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"FAQ Title"}),n.jsx("input",{type:"text",value:((xh=u.settings)==null?void 0:xh.faqTitle)||"Frequently Asked Questions",onChange:ve=>f({...u,settings:{...u.settings,faqTitle:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Style"}),n.jsxs("select",{value:((yh=u.settings)==null?void 0:yh.faqStyle)||"accordion",onChange:ve=>f({...u,settings:{...u.settings,faqStyle:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"accordion",children:"Accordion"}),n.jsx("option",{value:"tabs",children:"Tabs"}),n.jsx("option",{value:"cards",children:"Cards"}),n.jsx("option",{value:"list",children:"Simple List"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Items Per Column"}),n.jsxs("select",{value:((vh=u.settings)==null?void 0:vh.itemsPerColumn)||1,onChange:ve=>f({...u,settings:{...u.settings,itemsPerColumn:parseInt(ve.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:1,children:"Single Column"}),n.jsx("option",{value:2,children:"Two Columns"}),n.jsx("option",{value:3,children:"Three Columns"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((bh=u.settings)==null?void 0:bh.allowMultipleOpen)||!1,onChange:ve=>f({...u,settings:{...u.settings,allowMultipleOpen:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Allow multiple items open"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Oa=u.settings)==null?void 0:Oa.showSearch)||!0,onChange:ve=>f({...u,settings:{...u.settings,showSearch:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show search functionality"})]})]})]}),u.type==="contact"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Form Title"}),n.jsx("input",{type:"text",value:((Xp=u.settings)==null?void 0:Xp.formTitle)||"Get in Touch",onChange:ve=>f({...u,settings:{...u.settings,formTitle:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Form Description"}),n.jsx("textarea",{value:((Xa=u.settings)==null?void 0:Xa.formDescription)||"We'd love to hear from you. Send us a message!",onChange:ve=>f({...u,settings:{...u.settings,formDescription:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",rows:3})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Recipient"}),n.jsx("input",{type:"email",value:((Yp=u.settings)==null?void 0:Yp.emailRecipient)||"contact@yourstore.com",onChange:ve=>f({...u,settings:{...u.settings,emailRecipient:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Submit Button Text"}),n.jsx("input",{type:"text",value:((wh=u.settings)==null?void 0:wh.submitText)||"Send Message",onChange:ve=>f({...u,settings:{...u.settings,submitText:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Pi=u.settings)==null?void 0:Pi.showPhone)||!0,onChange:ve=>f({...u,settings:{...u.settings,showPhone:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include phone field"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((wc=u.settings)==null?void 0:wc.showCompany)||!1,onChange:ve=>f({...u,settings:{...u.settings,showCompany:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include company field"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Xd=u.settings)==null?void 0:Xd.requireConsent)||!0,onChange:ve=>f({...u,settings:{...u.settings,requireConsent:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Require privacy consent"})]})]})]}),!["hero","featured","text","newsletter","video","banner","countdown","testimonials","faq","contact"].includes(u.type||"")&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsxs("p",{children:["Specific settings for ",u.type," component will be available soon."]}),n.jsx("p",{className:"text-sm mt-2",children:"Use the Styling, Layout, and other tabs for general customization."})]})]})]}),h==="styling"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),n.jsx("input",{type:"color",value:((Rr=u.settings)==null?void 0:Rr.backgroundColor)||"#FFFFFF",onChange:ve=>f({...u,settings:{...u.settings,backgroundColor:ve.target.value}}),className:"w-full h-10 border border-gray-300 rounded-md"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),n.jsx("input",{type:"color",value:((Ii=u.settings)==null?void 0:Ii.textColor)||"#1F2937",onChange:ve=>f({...u,settings:{...u.settings,textColor:ve.target.value}}),className:"w-full h-10 border border-gray-300 rounded-md"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Border Radius"}),n.jsxs("select",{value:((Yd=u.settings)==null?void 0:Yd.borderRadius)||"md",onChange:ve=>f({...u,settings:{...u.settings,borderRadius:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"none",children:"No Radius"}),n.jsx("option",{value:"sm",children:"Small"}),n.jsx("option",{value:"md",children:"Medium"}),n.jsx("option",{value:"lg",children:"Large"}),n.jsx("option",{value:"xl",children:"Extra Large"}),n.jsx("option",{value:"full",children:"Full Rounded"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shadow"}),n.jsxs("select",{value:((Jp=u.settings)==null?void 0:Jp.shadow)||"none",onChange:ve=>f({...u,settings:{...u.settings,shadow:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"none",children:"No Shadow"}),n.jsx("option",{value:"sm",children:"Small Shadow"}),n.jsx("option",{value:"md",children:"Medium Shadow"}),n.jsx("option",{value:"lg",children:"Large Shadow"}),n.jsx("option",{value:"xl",children:"Extra Large Shadow"})]})]})]}),h==="layout"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Margin Top"}),n.jsxs("select",{value:((Jd=u.settings)==null?void 0:Jd.marginTop)||"md",onChange:ve=>f({...u,settings:{...u.settings,marginTop:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"sm",children:"Small"}),n.jsx("option",{value:"md",children:"Medium"}),n.jsx("option",{value:"lg",children:"Large"}),n.jsx("option",{value:"xl",children:"Extra Large"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Margin Bottom"}),n.jsxs("select",{value:((Zp=u.settings)==null?void 0:Zp.marginBottom)||"md",onChange:ve=>f({...u,settings:{...u.settings,marginBottom:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"sm",children:"Small"}),n.jsx("option",{value:"md",children:"Medium"}),n.jsx("option",{value:"lg",children:"Large"}),n.jsx("option",{value:"xl",children:"Extra Large"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Padding"}),n.jsxs("select",{value:((Qp=u.settings)==null?void 0:Qp.padding)||"md",onChange:ve=>f({...u,settings:{...u.settings,padding:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"sm",children:"Small"}),n.jsx("option",{value:"md",children:"Medium"}),n.jsx("option",{value:"lg",children:"Large"}),n.jsx("option",{value:"xl",children:"Extra Large"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Alignment"}),n.jsxs("select",{value:((eg=u.settings)==null?void 0:eg.textAlignment)||"left",onChange:ve=>f({...u,settings:{...u.settings,textAlignment:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"left",children:"Left"}),n.jsx("option",{value:"center",children:"Center"}),n.jsx("option",{value:"right",children:"Right"}),n.jsx("option",{value:"justify",children:"Justify"})]})]})]}),h==="animations"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entrance Animation"}),n.jsxs("select",{value:((jh=u.animations)==null?void 0:jh.entrance)||"fadeIn",onChange:ve=>{var er,br;return f({...u,animations:{entrance:ve.target.value,duration:((er=u.animations)==null?void 0:er.duration)||800,delay:((br=u.animations)==null?void 0:br.delay)||0}})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"none",children:"No Animation"}),n.jsx("option",{value:"fadeIn",children:"Fade In"}),n.jsx("option",{value:"slideUp",children:"Slide Up"}),n.jsx("option",{value:"slideDown",children:"Slide Down"}),n.jsx("option",{value:"slideLeft",children:"Slide Left"}),n.jsx("option",{value:"slideRight",children:"Slide Right"}),n.jsx("option",{value:"zoomIn",children:"Zoom In"}),n.jsx("option",{value:"bounceIn",children:"Bounce In"}),n.jsx("option",{value:"flipIn",children:"Flip In"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Animation Duration (ms)"}),n.jsx("input",{type:"number",value:((jc=u.animations)==null?void 0:jc.duration)||800,onChange:ve=>{var er,br;return f({...u,animations:{entrance:((er=u.animations)==null?void 0:er.entrance)||"fadeIn",duration:parseInt(ve.target.value),delay:((br=u.animations)==null?void 0:br.delay)||0}})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",min:"100",max:"3000",step:"100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Animation Delay (ms)"}),n.jsx("input",{type:"number",value:((Po=u.animations)==null?void 0:Po.delay)||0,onChange:ve=>{var er,br;return f({...u,animations:{entrance:((er=u.animations)==null?void 0:er.entrance)||"fadeIn",duration:((br=u.animations)==null?void 0:br.duration)||800,delay:parseInt(ve.target.value)}})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",min:"0",max:"2000",step:"100"})]}),n.jsx("div",{className:"flex items-center",children:n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((tg=u.settings)==null?void 0:tg.animateOnScroll)||!1,onChange:ve=>f({...u,settings:{...u.settings,animateOnScroll:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Animate on Scroll"})]})})]}),h==="responsive"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Configure how this component appears on different devices"}),["desktop","tablet","mobile"].map(ve=>{var er,br,xn,Mr;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("h4",{className:"font-medium text-gray-900 mb-3 capitalize",children:[ve," Settings"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Visibility"}),n.jsxs("select",{value:((br=(er=u.responsive)==null?void 0:er[ve])==null?void 0:br.visibility)||"visible",onChange:Qn=>{var Ts;return f({...u,responsive:{...u.responsive,[ve]:{...(Ts=u.responsive)==null?void 0:Ts[ve],visibility:Qn.target.value}}})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[n.jsx("option",{value:"visible",children:"Visible"}),n.jsx("option",{value:"hidden",children:"Hidden"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Width"}),n.jsxs("select",{value:((Mr=(xn=u.responsive)==null?void 0:xn[ve])==null?void 0:Mr.width)||"full",onChange:Qn=>{var Ts;return f({...u,responsive:{...u.responsive,[ve]:{...(Ts=u.responsive)==null?void 0:Ts[ve],width:Qn.target.value}}})},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[n.jsx("option",{value:"full",children:"Full Width"}),n.jsx("option",{value:"auto",children:"Auto"}),n.jsx("option",{value:"1/2",children:"Half Width"}),n.jsx("option",{value:"1/3",children:"One Third"}),n.jsx("option",{value:"2/3",children:"Two Thirds"})]})]})]})]},ve)})]}),h==="advanced"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom CSS Class"}),n.jsx("input",{type:"text",value:((Nh=u.settings)==null?void 0:Nh.customClass)||"",onChange:ve=>f({...u,settings:{...u.settings,customClass:ve.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",placeholder:"custom-class-name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Z-Index"}),n.jsx("input",{type:"number",value:((Sh=u.settings)==null?void 0:Sh.zIndex)||0,onChange:ve=>f({...u,settings:{...u.settings,zIndex:parseInt(ve.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",min:"0",max:"9999"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Attributes (JSON)"}),n.jsx("textarea",{value:(Zd=u.settings)!=null&&Zd.customAttributes?JSON.stringify(u.settings.customAttributes,null,2):"{}",onChange:ve=>{try{const er=JSON.parse(ve.target.value);f({...u,settings:{...u.settings,customAttributes:er}})}catch(er){}},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 font-mono text-sm",rows:4,placeholder:'{"data-tracking": "component-1", "aria-label": "Custom component"}'})]}),n.jsxs("div",{className:"md:col-span-2 space-y-2",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((Qd=u.settings)==null?void 0:Qd.lazyLoad)||!1,onChange:ve=>f({...u,settings:{...u.settings,lazyLoad:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enable Lazy Loading"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((kh=u.settings)==null?void 0:kh.seoOptimized)||!1,onChange:ve=>f({...u,settings:{...u.settings,seoOptimized:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SEO Optimized"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",checked:((rg=u.settings)==null?void 0:rg.accessibilityEnhanced)||!1,onChange:ve=>f({...u,settings:{...u.settings,accessibilityEnhanced:ve.target.checked}}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Enhanced Accessibility"})]})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Live Preview"}),n.jsx("div",{className:"text-xs text-gray-600",children:"Changes will be reflected in real-time on your store preview"})]})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[M&&n.jsx("input",{type:"checkbox",checked:_t,onChange:ve=>{ve.target.checked?T(er=>[...er,_e.id]):T(er=>er.filter(br=>br!==_e.id))},className:"mt-1 text-indigo-600 focus:ring-indigo-500"}),n.jsx("div",{className:`p-2 rounded-lg ${_e.enabled?"bg-indigo-100":"bg-gray-100"}`,children:n.jsx(Xe,{size:20,className:_e.enabled?"text-indigo-600":"text-gray-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h3",{className:"font-medium text-gray-900 truncate",children:_e.title}),fe&&n.jsx(Sj,{className:"text-yellow-500",size:16,fill:"currentColor"}),re&&n.jsx(jo,{className:"text-red-500",size:16})]}),n.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[n.jsx("span",{className:"capitalize px-2 py-1 bg-gray-100 rounded text-xs",children:_e.type}),n.jsxs("span",{children:["Order: ",_e.order]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs ${_e.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_e.enabled?"Visible":"Hidden"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>Ht(_e.id),className:`p-2 rounded hover:bg-gray-100 ${fe?"text-yellow-500":"text-gray-400"}`,title:fe?"Remove from favorites":"Add to favorites",children:n.jsx(Sj,{size:16,fill:fe?"currentColor":"none"})}),n.jsx("button",{onClick:()=>dr(_e.id),className:`p-2 rounded hover:bg-gray-100 ${re?"text-red-500":"text-gray-400"}`,title:re?"Unlock component":"Lock component",children:re?n.jsx(jo,{size:16}):n.jsx(tq,{size:16})}),n.jsx("button",{onClick:()=>Ze(_e.id,_e.enabled),className:`p-2 rounded hover:bg-gray-100 ${_e.enabled?"text-green-600":"text-gray-400"}`,title:_e.enabled?"Hide component":"Show component",children:_e.enabled?n.jsx(cs,{size:16}):n.jsx(Ux,{size:16})})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>be(_e.id,"up"),disabled:_e.order===0||re,className:"p-2 rounded hover:bg-gray-100 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move up",children:n.jsx(F2,{size:16})}),n.jsx("button",{onClick:()=>be(_e.id,"down"),disabled:_e.order===r.length-1||re,className:"p-2 rounded hover:bg-gray-100 text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",title:"Move down",children:n.jsx(kd,{size:16})})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{onClick:()=>Ke(_e),disabled:re,className:"p-2 rounded hover:bg-gray-100 text-blue-600 disabled:opacity-50",title:"Edit component",children:n.jsx(b_,{size:16})}),n.jsx("button",{onClick:()=>ir(_e.id,"Manual revision"),className:"p-2 rounded hover:bg-gray-100 text-purple-600",title:"Create revision",children:n.jsx(ew,{size:16})}),n.jsx("button",{onClick:()=>{z.success("Advanced settings coming soon!")},className:"p-2 rounded hover:bg-gray-100 text-orange-600",title:"Advanced settings",children:n.jsx(_G,{size:16})}),n.jsx("button",{onClick:()=>{z.success(`Performance data for ${_e.title} will be available in the analytics panel`)},className:"p-2 rounded hover:bg-gray-100 text-teal-600",title:"View performance",children:n.jsx(os,{size:16})}),n.jsx("button",{onClick:()=>{z.success("A/B test variant created for "+_e.title)},className:"p-2 rounded hover:bg-gray-100 text-pink-600",title:"Create A/B test",children:n.jsx(tw,{size:16})}),n.jsx("button",{onClick:()=>dt(_e),className:"p-2 rounded hover:bg-gray-100 text-green-600",title:"Duplicate component",children:n.jsx(Bu,{size:16})}),n.jsx("div",{className:"relative",children:n.jsx("button",{onClick:()=>{z.success("More actions dropdown")},className:"p-2 rounded hover:bg-gray-100 text-gray-600",title:"More actions",children:n.jsx(MG,{size:16})})}),n.jsx("button",{onClick:()=>He(_e.id,_e.title),disabled:re,className:"p-2 rounded hover:bg-gray-100 text-red-600 disabled:opacity-50",title:"Delete component",children:n.jsx(en,{size:16})})]})]})]})},_e.id)})})}),n.jsx("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[n.jsxs("span",{children:[r.filter(_e=>_e.enabled).length," of ",r.length," components visible"]}),E.length>0&&n.jsxs("span",{className:"text-indigo-600 font-medium",children:[E.length," selected"]}),n.jsxs("span",{children:["Device: ",P]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>{St("save_all","all");try{localStorage.getItem("token")&&o()}catch(_e){}},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 font-medium flex items-center",children:[n.jsx(ma,{size:16,className:"mr-2"}),"Save All Changes"]}),n.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Close"})]})]})})]})})}function tMe({compact:e=!1}){const{settings:t,updateSettings:r}=vr(),[a,s]=N.useState(null),[i,o]=N.useState(""),[l,c]=N.useState(!1),[d,u]=N.useState(!1),[f,h]=N.useState(""),[m,p]=N.useState(""),[x,y]=N.useState("");N.useEffect(()=>{var T,F,O;t!=null&&t.logo&&o(t.logo),h((T=t==null?void 0:t.logoWidthMobile)!=null?T:56),p((F=t==null?void 0:t.logoMaxHeightMobile)!=null?F:40),y((O=t==null?void 0:t.logoWidthDesktop)!=null?O:100)},[t==null?void 0:t.logo]);const v=T=>{var O;const F=(O=T.target.files)==null?void 0:O[0];F&&C(F)},w=T=>{T.preventDefault(),u(!0)},j=()=>{u(!1)},A=T=>{T.preventDefault(),u(!1);const F=T.dataTransfer.files[0];F&&C(F)},C=T=>{if(!T.type.startsWith("image/")){z.error("Please upload an image file");return}if(T.size>2*1024*1024){z.error("Image size should be less than 2MB");return}s(T),o(URL.createObjectURL(T))},S=async()=>{if(a){c(!0);try{const T=await Ys(a);await r({logo:T}),s(null)}catch(T){z.error("Failed to update logo")}finally{c(!1)}}},k=async()=>{try{await r({logo:null}),s(null),o("")}catch(T){z.error("Failed to remove logo")}},E=async()=>{try{await r({logoWidthMobile:typeof f=="number"?f:void 0,logoMaxHeightMobile:typeof m=="number"?m:void 0,logoWidthDesktop:typeof x=="number"?x:void 0}),z.success("Logo size updated")}catch(T){z.error("Failed to update logo size")}};return e?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Store Logo"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload your store logo (200x50px recommended)"})]}),n.jsx("div",{onDragOver:w,onDragLeave:j,onDrop:A,className:`
            relative border-2 border-dashed rounded-lg p-4
            ${d?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"}
            transition-all duration-200
          `,children:i?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"relative w-32 mx-auto",children:[n.jsx("img",{src:i,alt:"Logo preview",className:"w-full h-auto max-h-16 object-contain"}),n.jsx("button",{onClick:k,className:"absolute -top-1 -right-1 p-1 bg-white rounded-full shadow-md hover:bg-gray-100",children:n.jsx(xt,{className:"w-3 h-3 text-gray-500"})})]}),a&&n.jsx("button",{onClick:S,disabled:l,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 text-sm",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-white border-t-transparent"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Jo,{className:"w-3 h-3"}),"Save Logo"]})})]}):n.jsxs("div",{className:"text-center",children:[n.jsx(Gn,{className:"mx-auto h-8 w-8 text-gray-400"}),n.jsxs("div",{className:"mt-2",children:[n.jsxs("label",{className:"relative cursor-pointer",children:[n.jsx("span",{className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Upload logo"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:v})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"or drag and drop"})]})]})})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Store Logo"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload your store logo. Recommended size: 200x50 pixels."})]}),n.jsx("div",{onDragOver:w,onDragLeave:j,onDrop:A,className:`
          relative border-2 border-dashed rounded-xl p-8
          ${d?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-gray-400"}
          transition-all duration-200
        `,children:i?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative w-48 mx-auto",children:[n.jsx("img",{src:i,alt:"Logo preview",className:"w-full h-auto"}),n.jsx("button",{onClick:k,className:"absolute -top-2 -right-2 p-1 bg-white rounded-full shadow-md hover:bg-gray-100",children:n.jsx(xt,{className:"w-4 h-4 text-gray-500"})})]}),a&&n.jsx("button",{onClick:S,disabled:l,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Jo,{className:"w-4 h-4"}),"Save Changes"]})})]}):n.jsxs("div",{className:"text-center",children:[n.jsx(Gn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"relative cursor-pointer",children:[n.jsx("span",{className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Upload a file"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:v})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 2MB"})]})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Logo Guidelines"}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("li",{children:"• Use a transparent background (PNG format recommended)"}),n.jsx("li",{children:"• Keep the file size under 2MB"}),n.jsx("li",{children:"• Maintain a clear, readable design at different sizes"}),n.jsx("li",{children:"• Use your brand colors consistently"})]})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-4 space-y-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Header Logo Size"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Mobile width (px)"}),n.jsx("input",{type:"number",min:24,max:160,value:f,onChange:T=>h(T.target.value===""?"":Number(T.target.value)),className:"mt-1 w-full border rounded px-3 py-2"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Mobile max height (px)"}),n.jsx("input",{type:"number",min:20,max:120,value:m,onChange:T=>p(T.target.value===""?"":Number(T.target.value)),className:"mt-1 w-full border rounded px-3 py-2"})]}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Desktop width (px)"}),n.jsx("input",{type:"number",min:60,max:240,value:x,onChange:T=>y(T.target.value===""?"":Number(T.target.value)),className:"mt-1 w-full border rounded px-3 py-2"})]})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:[n.jsx(Jo,{className:"w-4 h-4"})," Save Sizes"]})})]})]})}function rMe(){var S,k,E,T,F,O,P,W,q,D,M,H,ee,X,de,le,G,K,Z,I,V,te;const{settings:e,updateSettings:t,refreshData:r}=vr(),[a,s]=N.useState(!1),[i,o]=N.useState("colors"),[l,c]=N.useState({primaryColor:(e==null?void 0:e.primaryColor)||"#4F46E5",secondaryColor:(e==null?void 0:e.secondaryColor)||"#10B981",accentColor:(e==null?void 0:e.accentColor)||"#F59E0B",textColor:(e==null?void 0:e.textColor)||"#1F2937",backgroundColor:(e==null?void 0:e.backgroundColor)||"#FFFFFF",fontFamily:(e==null?void 0:e.fontFamily)||"Inter",borderRadius:(e==null?void 0:e.borderRadius)||"medium",buttonStyle:(e==null?void 0:e.buttonStyle)||"rounded",headerLayout:(e==null?void 0:e.headerLayout)||"modern",headerBackgroundColor:(e==null?void 0:e.headerBackgroundColor)||"",headerTextColor:(e==null?void 0:e.headerTextColor)||"",footerStyle:(e==null?void 0:e.footerStyle)||"detailed",productCardStyle:(e==null?void 0:e.productCardStyle)||"modern",productGridStyle:(e==null?void 0:e.productGridStyle)||"standard",navCategoryFontColor:(e==null?void 0:e.navCategoryFontColor)||"",navCategoryFontSize:(e==null?void 0:e.navCategoryFontSize)||"medium",navPanelFontColor:(e==null?void 0:e.navPanelFontColor)||"",navPanelColumnActiveBgColor:(e==null?void 0:e.navPanelColumnActiveBgColor)||"",navPanelAccentColor:(e==null?void 0:e.navPanelAccentColor)||"",navPanelHeaderColor:(e==null?void 0:e.navPanelHeaderColor)||"",headerIcons:{showLanguage:(k=(S=e==null?void 0:e.headerIcons)==null?void 0:S.showLanguage)!=null?k:!0,showCurrency:(T=(E=e==null?void 0:e.headerIcons)==null?void 0:E.showCurrency)!=null?T:!0,showSearch:(O=(F=e==null?void 0:e.headerIcons)==null?void 0:F.showSearch)!=null?O:!0,showWishlist:(W=(P=e==null?void 0:e.headerIcons)==null?void 0:P.showWishlist)!=null?W:!0,showCart:(D=(q=e==null?void 0:e.headerIcons)==null?void 0:q.showCart)!=null?D:!0,showAccount:(H=(M=e==null?void 0:e.headerIcons)==null?void 0:M.showAccount)!=null?H:!0},headerIconVariants:{cart:((ee=e==null?void 0:e.headerIconVariants)==null?void 0:ee.cart)||"shoppingBag",wishlist:((X=e==null?void 0:e.headerIconVariants)==null?void 0:X.wishlist)||"heart"},phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",addressLink:(e==null?void 0:e.addressLink)||"",socialLinks:{facebook:((de=e==null?void 0:e.socialLinks)==null?void 0:de.facebook)||"",twitter:((le=e==null?void 0:e.socialLinks)==null?void 0:le.twitter)||"",instagram:((G=e==null?void 0:e.socialLinks)==null?void 0:G.instagram)||"",youtube:((K=e==null?void 0:e.socialLinks)==null?void 0:K.youtube)||"",whatsapp:((Z=e==null?void 0:e.socialLinks)==null?void 0:Z.whatsapp)||"",linkedin:((I=e==null?void 0:e.socialLinks)==null?void 0:I.linkedin)||"",tiktok:((V=e==null?void 0:e.socialLinks)==null?void 0:V.tiktok)||""},siteTitle:(e==null?void 0:e.siteTitle)||"",siteDescription:(e==null?void 0:e.siteDescription)||"",keywords:((te=e==null?void 0:e.keywords)==null?void 0:te.join(", "))||"",scrollTopBgColor:(e==null?void 0:e.scrollTopBgColor)||"",scrollTopTextColor:(e==null?void 0:e.scrollTopTextColor)||"",scrollTopHoverBgColor:(e==null?void 0:e.scrollTopHoverBgColor)||"",scrollTopPingColor:(e==null?void 0:e.scrollTopPingColor)||"",newArrivalsMobileHeadingColor:(e==null?void 0:e.newArrivalsMobileHeadingColor)||"",newArrivalsMobileTextColor:(e==null?void 0:e.newArrivalsMobileTextColor)||"",newArrivalsMobileOverlayBg:(e==null?void 0:e.newArrivalsMobileOverlayBg)||"",newArrivalsMobileProductNameColor:(e==null?void 0:e.newArrivalsMobileProductNameColor)||"",newArrivalsMobileProductPriceColor:(e==null?void 0:e.newArrivalsMobileProductPriceColor)||"",newArrivalsBannerEnabled:(e==null?void 0:e.newArrivalsBannerEnabled)||!1,newArrivalsBannerImage:(e==null?void 0:e.newArrivalsBannerImage)||"",newArrivalsBannerHeading:(e==null?void 0:e.newArrivalsBannerHeading)||"",newArrivalsBannerSubheading:(e==null?void 0:e.newArrivalsBannerSubheading)||""}),d=[{id:"colors",label:"Colors & Brand",icon:ld},{id:"typography",label:"Typography",icon:cd},{id:"layout",label:"Layout & Style",icon:Vr},{id:"navigation",label:"Navigation Styles",icon:Vr},{id:"contact",label:"Contact Info",icon:Uu},{id:"social",label:"Social Media",icon:Ou},{id:"seo",label:"SEO Settings",icon:cs}],u=[{name:"Blue Ocean",primary:"#3B82F6",secondary:"#10B981",accent:"#F59E0B"},{name:"Purple Dreams",primary:"#8B5CF6",secondary:"#EC4899",accent:"#F97316"},{name:"Forest Green",primary:"#059669",secondary:"#0D9488",accent:"#F59E0B"},{name:"Sunset Orange",primary:"#EA580C",secondary:"#DC2626",accent:"#7C3AED"},{name:"Dark Mode",primary:"#6366F1",secondary:"#8B5CF6",accent:"#F59E0B"}],f=["Inter","Roboto","Open Sans","Montserrat","Playfair Display","Poppins","Lato","Source Sans Pro","Raleway","Nunito"],h=async R=>{R.preventDefault(),s(!0);try{const Q={...l,borderRadius:{none:"0px",small:"4px",medium:"8px",large:"12px",xl:"16px"}[l.borderRadius]||l.borderRadius,keywords:l.keywords?l.keywords.split(",").map(J=>J.trim()).filter(J=>J):[],newArrivalsMobileHeadingColor:l.newArrivalsMobileHeadingColor||"",newArrivalsMobileTextColor:l.newArrivalsMobileTextColor||"",newArrivalsMobileOverlayBg:l.newArrivalsMobileOverlayBg||"",newArrivalsMobileProductNameColor:l.newArrivalsMobileProductNameColor||"",newArrivalsMobileProductPriceColor:l.newArrivalsMobileProductPriceColor||"",newArrivalsBannerEnabled:l.newArrivalsBannerEnabled||!1,newArrivalsBannerHeading:l.newArrivalsBannerHeading||"",newArrivalsBannerSubheading:l.newArrivalsBannerSubheading||""};await t(Q),await r(),z.success("Design settings updated successfully!")}catch(U){z.error("Failed to update design settings")}finally{s(!1)}},m=R=>{c(U=>({...U,primaryColor:R.primary,secondaryColor:R.secondary,accentColor:R.accent}))},p=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx(tMe,{compact:!0}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Color Palette"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Arrivals Heading (Mobile)"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.newArrivalsMobileHeadingColor||"#ffffff",onChange:R=>c(U=>({...U,newArrivalsMobileHeadingColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.newArrivalsMobileHeadingColor,onChange:R=>c(U=>({...U,newArrivalsMobileHeadingColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#ffffff"})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Applied only on mobile viewport (< lg) for New Arrivals page heading."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Arrivals Text (Mobile)"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.newArrivalsMobileTextColor||"#e5e7eb",onChange:R=>c(U=>({...U,newArrivalsMobileTextColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.newArrivalsMobileTextColor,onChange:R=>c(U=>({...U,newArrivalsMobileTextColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#e5e7eb"})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Mobile page description color (fallback to default gray if empty)."})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Arrivals Overlay (Mobile)"}),n.jsx("input",{type:"text",value:l.newArrivalsMobileOverlayBg,onChange:R=>c(U=>({...U,newArrivalsMobileOverlayBg:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"rgba(0,0,0,0.4) or #00000066"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"CSS background value for darkening overlay under mobile heading (leave blank for default rgba(0,0,0,0.4))."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Arrivals Product Name (Mobile)"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.newArrivalsMobileProductNameColor||"#ffffff",onChange:R=>c(U=>({...U,newArrivalsMobileProductNameColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.newArrivalsMobileProductNameColor,onChange:R=>c(U=>({...U,newArrivalsMobileProductNameColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#ffffff"})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Applies to product titles on New Arrivals page when viewport is mobile (< lg)."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Arrivals Product Price (Mobile)"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.newArrivalsMobileProductPriceColor||"#ffffff",onChange:R=>c(U=>({...U,newArrivalsMobileProductPriceColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.newArrivalsMobileProductPriceColor,onChange:R=>c(U=>({...U,newArrivalsMobileProductPriceColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#ffffff"})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Applies to product prices on New Arrivals page (mobile only)."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.primaryColor,onChange:R=>c(U=>({...U,primaryColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.primaryColor,onChange:R=>c(U=>({...U,primaryColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#4F46E5"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.secondaryColor,onChange:R=>c(U=>({...U,secondaryColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.secondaryColor,onChange:R=>c(U=>({...U,secondaryColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#10B981"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accent Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.accentColor,onChange:R=>c(U=>({...U,accentColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.accentColor,onChange:R=>c(U=>({...U,accentColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#F59E0B"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Color Presets"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-3",children:u.map(R=>n.jsxs("button",{onClick:()=>m(R),className:"p-3 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[n.jsxs("div",{className:"flex gap-1 mb-2",children:[n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:R.primary}}),n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:R.secondary}}),n.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:R.accent}})]}),n.jsx("span",{className:"text-xs text-gray-600",children:R.name})]},R.name))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.textColor,onChange:R=>c(U=>({...U,textColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.textColor,onChange:R=>c(U=>({...U,textColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#1F2937"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.backgroundColor,onChange:R=>c(U=>({...U,backgroundColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.backgroundColor,onChange:R=>c(U=>({...U,backgroundColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#FFFFFF"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Scroll-to-Top Button"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"scrollTopBgColor",label:"Background",placeholder:"#4F46E5"},{key:"scrollTopTextColor",label:"Icon/Text",placeholder:"#FFFFFF"},{key:"scrollTopHoverBgColor",label:"Hover Background",placeholder:"#4338CA"},{key:"scrollTopPingColor",label:"Pulse Ring",placeholder:"#818CF8"}].map(R=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:R.label}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l[R.key]||"",onChange:U=>c(Q=>({...Q,[R.key]:U.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l[R.key]||"",onChange:U=>c(Q=>({...Q,[R.key]:U.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:R.placeholder})]})]},R.key))})]}),n.jsxs("div",{className:"mt-10 border-t pt-8",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"New Arrivals Banner"}),n.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Configure a dedicated banner for the New Arrivals page. When enabled and an image is set, the banner appears above the products grid (replacing the default heading area)."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{id:"newArrivalsBannerEnabled",type:"checkbox",checked:l.newArrivalsBannerEnabled,onChange:R=>c(U=>({...U,newArrivalsBannerEnabled:R.target.checked})),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"newArrivalsBannerEnabled",className:"text-sm font-medium text-gray-700",children:"Enable New Arrivals Banner"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Heading"}),n.jsx("input",{type:"text",value:l.newArrivalsBannerHeading,onChange:R=>c(U=>({...U,newArrivalsBannerHeading:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Fresh Arrivals",disabled:!l.newArrivalsBannerEnabled})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Subheading"}),n.jsx("input",{type:"text",value:l.newArrivalsBannerSubheading,onChange:R=>c(U=>({...U,newArrivalsBannerSubheading:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Discover the latest styles just in",disabled:!l.newArrivalsBannerEnabled})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Image"}),l.newArrivalsBannerImage?n.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[n.jsx("img",{src:l.newArrivalsBannerImage,alt:"Banner preview",className:"h-24 w-auto rounded-lg object-cover border"}),n.jsx("button",{type:"button",onClick:()=>c(R=>({...R,newArrivalsBannerImage:""})),className:"px-3 py-2 text-xs rounded-md bg-red-50 text-red-600 hover:bg-red-100",children:"Remove"})]}):null,n.jsx("input",{type:"file",accept:"image/*",disabled:!l.newArrivalsBannerEnabled,onChange:async R=>{var J,L;const U=(J=R.target.files)==null?void 0:J[0];if(!U)return;const Q=new FormData;Q.append("file",U);try{const ge=(L=(await ue.post("/settings/upload/new-arrivals-banner",Q,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:L.url;ge&&(c(Ae=>({...Ae,newArrivalsBannerImage:ge,newArrivalsBannerEnabled:!0})),z.success("Banner image uploaded"))}catch(he){z.error("Failed to upload banner image")}},className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended dimensions: 1600x400 (wide). Large images are automatically optimized by the browser."})]})]})]})]}),x=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Typography"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),n.jsx("select",{value:l.fontFamily,onChange:R=>c(U=>({...U,fontFamily:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:f.map(R=>n.jsx("option",{value:R,style:{fontFamily:R},children:R},R))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Border Radius"}),n.jsxs("select",{value:l.borderRadius,onChange:R=>c(U=>({...U,borderRadius:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"none",children:"None (0px)"}),n.jsx("option",{value:"small",children:"Small (4px)"}),n.jsx("option",{value:"medium",children:"Medium (8px)"}),n.jsx("option",{value:"large",children:"Large (12px)"}),n.jsx("option",{value:"xl",children:"Extra Large (16px)"})]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Style"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:["rounded","square","pill"].map(R=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"buttonStyle",value:R,checked:l.buttonStyle===R,onChange:U=>c(Q=>({...Q,buttonStyle:U.target.value})),className:"text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700 capitalize",children:R})]},R))})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Preview"}),n.jsxs("div",{style:{fontFamily:l.fontFamily},children:[n.jsx("h5",{className:"text-lg font-semibold mb-2",style:{color:l.textColor},children:"Sample Heading"}),n.jsx("p",{className:"text-sm mb-3",style:{color:l.textColor},children:"This is how your text will look with the selected font family and colors."}),n.jsx("button",{className:`px-4 py-2 text-white ${l.buttonStyle==="pill"?"rounded-full":l.buttonStyle==="square"?"rounded-none":"rounded-lg"}`,style:{backgroundColor:l.primaryColor},children:"Sample Button"})]})]})]}),y=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Layout & Style"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Background Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.headerBackgroundColor||"#ffffff",onChange:R=>c(U=>({...U,headerBackgroundColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.headerBackgroundColor,onChange:R=>c(U=>({...U,headerBackgroundColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#FFFFFF (leave empty for theme default)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Header Text/Icon Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.headerTextColor||"#1f2937",onChange:R=>c(U=>({...U,headerTextColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.headerTextColor,onChange:R=>c(U=>({...U,headerTextColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#1F2937 (leave empty for theme default)"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Header Layout"}),n.jsx("div",{className:"space-y-2",children:["classic","modern","minimal"].map(R=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"headerLayout",value:R,checked:l.headerLayout===R,onChange:U=>c(Q=>({...Q,headerLayout:U.target.value})),className:"text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700 capitalize",children:R})]},R))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Footer Style"}),n.jsx("div",{className:"space-y-2",children:["simple","detailed","newsletter"].map(R=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"footerStyle",value:R,checked:l.footerStyle===R,onChange:U=>c(Q=>({...Q,footerStyle:U.target.value})),className:"text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700 capitalize",children:R})]},R))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Product Card Style"}),n.jsx("div",{className:"space-y-2",children:["modern","classic","minimal"].map(R=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"productCardStyle",value:R,checked:l.productCardStyle===R,onChange:U=>c(Q=>({...Q,productCardStyle:U.target.value})),className:"text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700 capitalize",children:R})]},R))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Product Grid Style"}),n.jsx("div",{className:"space-y-2",children:["standard","compact","masonry","list","wide","gallery","carousel"].map(R=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",name:"productGridStyle",value:R,checked:l.productGridStyle===R,onChange:U=>c(Q=>({...Q,productGridStyle:U.target.value})),className:"text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700 capitalize",children:R})]},R))})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Header Icons"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{key:"showLanguage",label:"Language"},{key:"showCurrency",label:"Currency"},{key:"showSearch",label:"Search"},{key:"showWishlist",label:"Wishlist"},{key:"showCart",label:"Cart"},{key:"showAccount",label:"Account"}].map(R=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l.headerIcons[R.key],onChange:U=>c(Q=>({...Q,headerIcons:{...Q.headerIcons,[R.key]:U.target.checked}})),className:"text-indigo-600 focus:ring-indigo-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:R.label})]},R.key))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cart Icon Style"}),n.jsxs("select",{value:l.headerIconVariants.cart,onChange:R=>c(U=>({...U,headerIconVariants:{...U.headerIconVariants,cart:R.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"shoppingBag",children:"Shopping Bag"}),n.jsx("option",{value:"shoppingCart",children:"Shopping Cart"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wishlist Icon Style"}),n.jsxs("select",{value:l.headerIconVariants.wishlist,onChange:R=>c(U=>({...U,headerIconVariants:{...U.headerIconVariants,wishlist:R.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"heart",children:"Heart"}),n.jsx("option",{value:"bookmark",children:"Bookmark"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[{key:"cart",label:"Custom Cart Icon"},{key:"wishlist",label:"Custom Wishlist Icon"},{key:"account",label:"Custom Account Icon"},{key:"search",label:"Custom Search Icon"},{key:"language",label:"Custom Language Icon"},{key:"currency",label:"Custom Currency Icon"}].map(R=>{var U;return n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:R.label}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:async Q=>{var L,he,ge,Ae;const J=(L=Q.target.files)==null?void 0:L[0];if(J)try{const Ee=new FormData;Ee.append("file",J);const Te=(he=(await ue.postWithRetry(`/settings/upload/header-icon/${R.key}`,Ee,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:he.url;c(Ue=>({...Ue,headerIconAssets:{...Ue.headerIconAssets,[R.key]:Te}})),z.success(`${R.label} uploaded`)}catch(Ee){z.error(((Ae=(ge=Ee==null?void 0:Ee.response)==null?void 0:ge.data)==null?void 0:Ae.message)||`Failed to upload ${R.label}`)}finally{Q.currentTarget.value=""}},className:"block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-3 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"}),((U=l.headerIconAssets)==null?void 0:U[R.key])&&n.jsx("img",{src:l.headerIconAssets[R.key],alt:`${R.key} preview`,className:"w-8 h-8 object-contain rounded border"})]})]},R.key)})})]})]})]})}),v=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Navigation & Mega Menu"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Top Nav Font Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.navCategoryFontColor||"#1f2937",onChange:R=>c(U=>({...U,navCategoryFontColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.navCategoryFontColor,onChange:R=>c(U=>({...U,navCategoryFontColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#1F2937"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Top Nav Font Size"}),n.jsxs("select",{value:l.navCategoryFontSize,onChange:R=>c(U=>({...U,navCategoryFontSize:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"small",children:"Small"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"large",children:"Large"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Panel Text Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.navPanelFontColor||"#1f2937",onChange:R=>c(U=>({...U,navPanelFontColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.navPanelFontColor,onChange:R=>c(U=>({...U,navPanelFontColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#1F2937"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Panel Accent Color (borders/icons)"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.navPanelAccentColor||"#e5e7eb",onChange:R=>c(U=>({...U,navPanelAccentColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.navPanelAccentColor,onChange:R=>c(U=>({...U,navPanelAccentColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#E5E7EB"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Active Column Background"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.navPanelColumnActiveBgColor||"#f3f4f6",onChange:R=>c(U=>({...U,navPanelColumnActiveBgColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.navPanelColumnActiveBgColor,onChange:R=>c(U=>({...U,navPanelColumnActiveBgColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#F3F4F6"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Panel Header Color"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"color",value:l.navPanelHeaderColor||"#111827",onChange:R=>c(U=>({...U,navPanelHeaderColor:R.target.value})),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:l.navPanelHeaderColor,onChange:R=>c(U=>({...U,navPanelHeaderColor:R.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"#111827"})]})]})]})]});i==="navigation"&&v();const w=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:l.phone,onChange:R=>c(U=>({...U,phone:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"+1 (555) 123-4567"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsx("input",{type:"text",value:l.address,onChange:R=>c(U=>({...U,address:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"123 Fashion Street, NY 10001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Link (Map / Contact Page)"}),n.jsx("input",{type:"url",value:l.addressLink,onChange:R=>c(U=>({...U,addressLink:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"https://maps.google.com/?q=Your+Store+Address"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional: paste a Google Maps, Waze, or custom contact page URL."}),l.addressLink&&n.jsx("a",{href:l.addressLink,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-block text-indigo-600 text-xs hover:underline",children:"Preview link"})]})]})]})}),j=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Social Media Links"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(l.socialLinks).map(([R,U])=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:R}),n.jsx("input",{type:"url",value:U,onChange:Q=>c(J=>({...J,socialLinks:{...J.socialLinks,[R]:Q.target.value}})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:`https://${R}.com/yourstore`})]},R))})]})}),A=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"SEO Settings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Title"}),n.jsx("input",{type:"text",value:l.siteTitle,onChange:R=>c(U=>({...U,siteTitle:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Your Store Name - Quality Fashion"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Description"}),n.jsx("textarea",{value:l.siteDescription,onChange:R=>c(U=>({...U,siteDescription:R.target.value})),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Describe your store and what you offer..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords (comma-separated)"}),n.jsx("input",{type:"text",value:l.keywords,onChange:R=>c(U=>({...U,keywords:R.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"fashion, clothing, style, women, men"})]})]})]})}),C=()=>{switch(i){case"colors":return p();case"typography":return x();case"layout":return y();case"navigation":return v();case"contact":return w();case"social":return j();case"seo":return A();default:return p()}};return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"bg-white rounded-xl shadow-sm",children:n.jsxs("form",{onSubmit:h,className:"p-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsx("div",{className:"lg:w-64 flex-shrink-0",children:n.jsx("nav",{className:"space-y-1",children:d.map(R=>{const U=R.icon;return n.jsxs("button",{type:"button",onClick:()=>o(R.id),className:`w-full flex items-center gap-3 px-3 py-2 text-left rounded-lg transition-colors ${i===R.id?"bg-indigo-50 text-indigo-700 border-indigo-200":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(U,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-medium",children:R.label})]},R.id)})})}),n.jsx("div",{className:"flex-1",children:C()})]}),n.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200 mt-8",children:n.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[n.jsx(ma,{className:"w-5 h-5"}),a?"Saving...":"Save Changes"]})})]})})})}function nMe({isOpen:e,onClose:t}){const[r,a]=N.useState(0),s=[{id:"welcome",title:"Welcome to Design Studio",description:"Your complete store design solution with professional themes, drag-and-drop builder, and advanced customization tools.",icon:P2,highlight:"theme-designer"},{id:"theme-designer",title:"Theme Designer",description:"Choose from pre-made themes or create custom color palettes, typography, and styles. Perfect for quick brand styling.",icon:ld,highlight:"theme-designer"},{id:"page-builder",title:"Visual Page Builder",description:"Drag and drop sections to design your store layout. Customize headers, product grids, and content areas visually.",icon:Vr,highlight:"visual-builder"},{id:"design-settings",title:"Advanced Settings",description:"Fine-tune every detail with advanced design options, custom CSS, and responsive settings for all devices.",icon:Ha,highlight:"design-settings"},{id:"preview-save",title:"Preview & Save",description:"See your changes in real-time with live preview, test on different devices, and save your design when ready.",icon:cs,highlight:"preview"}],i=()=>{r<s.length-1&&a(r+1)},o=()=>{r>0&&a(r-1)},l=()=>{localStorage.setItem("design-tutorial-completed","true"),t()};if(!e)return null;const c=s[r],d=c.icon;return n.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:n.jsx(d,{className:"w-6 h-6 text-indigo-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:c.title}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Step ",r+1," of ",s.length]})]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(xt,{className:"w-5 h-5"})})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("p",{className:"text-gray-600 leading-relaxed",children:c.description}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-2",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[r+1,"/",s.length]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${(r+1)/s.length*100}%`}})})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-between",children:[n.jsxs("button",{onClick:o,disabled:r===0,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Tv,{className:"w-4 h-4"}),"Previous"]}),r===s.length-1?n.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(ma,{className:"w-4 h-4"}),"Get Started"]}):n.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:["Next",n.jsx(_f,{className:"w-4 h-4"})]})]})]})})}function aMe(){var x;const[e,t]=N.useState("theme-designer"),[r,a]=N.useState(!1),[s,i]=N.useState(!1),[o,l]=N.useState(!1),{sections:c,saveLayout:d}=Ev(),[u,f]=N.useState({store:null,mobile:null,tablet:null}),h=()=>{Object.values(u).forEach(y=>{y&&!y.closed&&y.close()}),f({store:null,mobile:null,tablet:null}),z.success("All preview windows closed")};N.useEffect(()=>{localStorage.getItem("design-tutorial-completed")||a(!0)},[]);const m=[{id:"theme-designer",name:"Theme Designer",icon:ld,description:"Customize colors, fonts, and overall style",component:H5},{id:"visual-builder",name:"Page Builder",icon:Vr,description:"Design your store layout with drag & drop",component:QRe},{id:"design-settings",name:"Design Settings",icon:Ha,description:"Advanced design configuration",component:rMe}],p=((x=m.find(y=>y.id===e))==null?void 0:x.component)||H5;return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200",children:n.jsxs("div",{className:"px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Design Studio"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Customize every aspect of your store's appearance and layout"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-1 px-3 py-2 text-sm text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-lg transition-colors border border-indigo-200",children:[n.jsx(Vr,{className:"w-4 h-4"}),"Manage Components"]}),n.jsxs("button",{onClick:()=>l(!o),className:`flex items-center gap-1 px-3 py-2 text-sm rounded-lg transition-colors border ${o?"text-blue-700 bg-blue-50 border-blue-300":"text-blue-600 hover:text-blue-700 hover:bg-blue-50 border-blue-200"}`,children:[n.jsx(cs,{className:"w-4 h-4"}),"Quick Actions"]}),n.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(y6,{className:"w-4 h-4"}),"Tutorial"]}),n.jsxs("div",{className:"flex items-center gap-1 px-3 py-2 bg-green-100 text-green-800 rounded-lg text-sm",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Live Preview Active"]})]})]}),n.jsx("nav",{className:"flex space-x-1",children:m.map(y=>{const v=y.icon;return n.jsxs("button",{onClick:()=>t(y.id),className:`flex items-center gap-3 px-6 py-3 rounded-lg font-medium text-sm transition-all ${e===y.id?"bg-indigo-50 text-indigo-700 border border-indigo-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[n.jsx(v,{className:"w-5 h-5"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-medium",children:y.name}),n.jsx("div",{className:"text-xs opacity-75",children:y.description})]})]},y.id)})})]})}),n.jsx("div",{className:"p-6",children:n.jsx(p,{})}),o&&n.jsxs("div",{className:"fixed bottom-6 right-6 bg-white rounded-xl shadow-lg border border-gray-200 p-4 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Quick Actions"}),n.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Close Quick Actions",children:n.jsx(xt,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{onClick:()=>{u.store&&!u.store.closed&&u.store.close();const y=window.open("/","_blank");f(v=>({...v,store:y})),z.success("Store preview opened")},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-left hover:bg-gray-50 rounded-lg transition-colors",title:"Preview your store in a new tab",children:[n.jsx(cs,{className:"w-4 h-4 text-gray-500"}),"Preview Store"]}),n.jsxs("button",{onClick:()=>{u.mobile&&!u.mobile.closed&&u.mobile.close();const y=window.open("/","_blank","width=375,height=667,scrollbars=yes,resizable=yes");y?(y.document.title="Mobile Preview",f(v=>({...v,mobile:y})),z.success("Mobile preview opened")):z.error("Please allow popups to open mobile preview")},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-left hover:bg-gray-50 rounded-lg transition-colors",title:"Preview your store on mobile size",children:[n.jsx(Uu,{className:"w-4 h-4 text-gray-500"}),"Mobile Preview"]}),n.jsxs("button",{onClick:()=>{u.tablet&&!u.tablet.closed&&u.tablet.close();const y=window.open("/","_blank","width=768,height=1024,scrollbars=yes,resizable=yes");y?(y.document.title="Tablet Preview",f(v=>({...v,tablet:y})),z.success("Tablet preview opened")):z.error("Please allow popups to open tablet preview")},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-left hover:bg-gray-50 rounded-lg transition-colors",title:"Preview your store on tablet size",children:[n.jsx(Um,{className:"w-4 h-4 text-gray-500"}),"Tablet Preview"]}),n.jsxs("button",{onClick:async()=>{try{try{localStorage.getItem("token")&&await d()}catch(y){}z.success("Layout saved successfully!")}catch(y){z.error("Failed to save layout"),console.error("Save error:",y)}},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-left hover:bg-gray-50 rounded-lg transition-colors",title:"Save your current layout",children:[n.jsx(ma,{className:"w-4 h-4 text-gray-500"}),"Save Layout"]}),n.jsxs("button",{onClick:()=>{try{const y={sections:c,theme:{colors:{primary:"#3B82F6",secondary:"#6B7280",accent:"#F59E0B",background:"#FFFFFF",text:"#1F2937"},fonts:{heading:"Inter",body:"Inter"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem"}},metadata:{name:"Custom Store Theme",created:new Date().toISOString(),version:"1.0",componentsCount:c.length,enabledComponents:c.filter(A=>A.enabled).length}},v=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),w=URL.createObjectURL(v),j=document.createElement("a");j.href=w,j.download=`store-theme-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(w),z.success(`Theme exported! ${c.length} components included.`)}catch(y){z.error("Failed to export theme. Please try again."),console.error("Export error:",y)}},className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-left hover:bg-gray-50 rounded-lg transition-colors",title:"Export your current theme configuration",children:[n.jsx(yi,{className:"w-4 h-4 text-gray-500"}),"Export Theme"]}),n.jsx("div",{className:"border-t border-gray-200 my-2"}),n.jsxs("button",{onClick:h,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-left hover:bg-red-50 text-red-600 hover:text-red-700 rounded-lg transition-colors",title:"Close all preview windows",children:[n.jsx(xt,{className:"w-4 h-4"}),"Close All Previews"]})]})]}),n.jsx(nMe,{isOpen:r,onClose:()=>a(!1)}),n.jsx(eMe,{isOpen:s,onClose:()=>i(!1)})]})}function sMe(){var gn,tn,va,je,Oe,Ze,He,dt;const{user:e}=ln(),[t,r]=N.useState([]),[a,s]=N.useState(!0),[i,o]=N.useState(null),[l,c]=N.useState(""),[d,u]=N.useState(1),[f,h]=N.useState(20),[m,p]=N.useState(1),[x,y]=N.useState(!1),[v,w]=N.useState(""),[j,A]=N.useState(""),[C,S]=N.useState(""),[k,E]=N.useState(""),[T,F]=N.useState(""),[O,P]=N.useState(""),[W,q]=N.useState("createdAt"),[D,M]=N.useState("desc"),[H,ee]=N.useState(null),[X,de]=N.useState([]),[le,G]=N.useState(!1),[K,Z]=N.useState([]),[I,V]=N.useState(""),[te,R]=N.useState(!1),[U,Q]=N.useState(""),[J,L]=N.useState([]),[he,ge]=N.useState(!1),Ae=t.length>0&&t.every(be=>K.includes(be._id)),[Ee,xe]=N.useState(null),[Te,Ue]=N.useState(30),[tt,ct]=N.useState(!1),[mt,ut]=N.useState(null),[it,At]=N.useState(()=>({orders:!0,totalSpent:!0,avgOrder:!0,lastOrder:!0,joined:!0,role:!0,email:!0,name:!0})),Bt=be=>At(Ke=>({...Ke,[be]:!Ke[be]})),[vt,Gt]=N.useState(""),Ut=async(be={})=>{var Ke,at;try{x||s(!0),o(null);const bt=be.page||d,yt=typeof be.search=="string"?be.search:l,_e=new URLSearchParams;_e.set("page",String(bt)),_e.set("limit",String(f)),yt&&_e.set("search",yt),v&&_e.set("role",v),j&&_e.set("waOptIn",j),C&&_e.set("startDate",C),k&&_e.set("endDate",k),T&&_e.set("minOrders",T),O&&_e.set("maxOrders",O),_e.set("sortBy",W),_e.set("sortDir",D);const{data:Xe}=await ue.getWithRetry(`/users?${_e.toString()}`),st=Xe;r(st.users),u(st.page),p(st.totalPages)}catch(bt){o(((at=(Ke=bt==null?void 0:bt.response)==null?void 0:Ke.data)==null?void 0:at.message)||"Failed to load customers")}finally{s(!1),y(!1)}};N.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&Ut()},[e]),N.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&ft()},[e,Te]);const ft=async()=>{var be,Ke;try{ct(!0),ut(null);const{data:at}=await ue.getWithRetry(`/users/stats/summary?days=${Te}`);xe(at)}catch(at){ut(((Ke=(be=at==null?void 0:at.response)==null?void 0:be.data)==null?void 0:Ke.message)||"Failed to load stats")}finally{ct(!1)}},Ht=be=>{be.preventDefault(),Ut({page:1,search:l})};N.useEffect(()=>{Gt(l)},[]),N.useEffect(()=>{c(vt)},[vt]),N.useEffect(()=>{if((e==null?void 0:e.role)!=="admin")return;const be=setTimeout(()=>{Ut({page:1,search:vt})},600);return()=>clearTimeout(be)},[vt,v,j,C,k,T,O,W,D,f]);const dr=()=>{y(!0),Ut()},St=async be=>{ee(be),de([]),G(!0);try{const{data:Ke}=await ue.getWithRetry(`/users/${be._id}/orders?limit=10`);de(Ke)}catch(Ke){o("Failed to load recent orders")}finally{G(!1)}},ir=async()=>{try{const be=new URLSearchParams;l&&be.set("search",l),v&&be.set("role",v),C&&be.set("startDate",C),k&&be.set("endDate",k),T&&be.set("minOrders",T),O&&be.set("maxOrders",O),be.set("sortBy",W),be.set("sortDir",D),be.set("limit",String(f));const Ke=await ue.getWithRetry(`/users/export?${be.toString()}`,{responseType:"blob"}),at=new Blob([Ke.data],{type:"text/csv;charset=utf-8;"}),bt=window.URL.createObjectURL(at),yt=document.createElement("a");yt.href=bt,yt.setAttribute("download",`customers_export_${Date.now()}.csv`),document.body.appendChild(yt),yt.click(),yt.remove(),window.URL.revokeObjectURL(bt)}catch(be){o("Export failed")}},Kr=()=>{Z(Ae?be=>be.filter(Ke=>!t.some(at=>at._id===Ke)):be=>Array.from(new Set([...be,...t.map(Ke=>Ke._id)])))},Jn=be=>{Z(Ke=>Ke.includes(be)?Ke.filter(at=>at!==be):[...Ke,be])},Zn=async()=>{var be,Ke;if(I)try{await ue.patchWithRetry("/users/bulk-role",{userIds:K,role:I}),V(""),Ut()}catch(at){o(((Ke=(be=at==null?void 0:at.response)==null?void 0:be.data)==null?void 0:Ke.message)||"Bulk role update failed")}},qa=async(be,Ke,at)=>{var bt,yt;at==null||at.stopPropagation();try{await ue.patchWithRetry(`/users/${be}/role`,{role:Ke}),Ut()}catch(_e){o(((yt=(bt=_e==null?void 0:_e.response)==null?void 0:bt.data)==null?void 0:yt.message)||"Role update failed")}};return!e||e.role!=="admin"?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ur,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-500",children:"You need admin privileges to view customers."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(So,{className:"w-6 h-6"})," Customers"]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View registered customers and their signup dates"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"relative",children:n.jsxs("button",{onClick:ir,type:"button",className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:[n.jsx(yi,{className:"w-4 h-4"}),"Export CSV"]})}),n.jsxs("button",{onClick:async()=>{try{const be=new URLSearchParams;l&&be.set("search",l),v&&be.set("role",v),C&&be.set("startDate",C),k&&be.set("endDate",k),T&&be.set("minOrders",T),O&&be.set("maxOrders",O),be.set("sortBy",W),be.set("sortDir",D),be.set("limit",String(f));const Ke=await ue.getWithRetry(`/users/export.xlsx?${be.toString()}`,{responseType:"blob"}),at=new Blob([Ke.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),bt=window.URL.createObjectURL(at),yt=document.createElement("a");yt.href=bt,yt.setAttribute("download",`customers_export_${Date.now()}.xlsx`),document.body.appendChild(yt),yt.click(),yt.remove(),window.URL.revokeObjectURL(bt)}catch(be){o("XLSX export failed")}},type:"button",className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:[n.jsx(yi,{className:"w-4 h-4"}),"Export XLSX"]}),K.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:async()=>{try{const be=new URLSearchParams;be.set("userIds",K.join(","));const Ke=await ue.getWithRetry(`/users/export?${be.toString()}`,{responseType:"blob"}),at=new Blob([Ke.data],{type:"text/csv;charset=utf-8;"}),bt=window.URL.createObjectURL(at),yt=document.createElement("a");yt.href=bt,yt.setAttribute("download",`customers_selected_${Date.now()}.csv`),document.body.appendChild(yt),yt.click(),yt.remove(),window.URL.revokeObjectURL(bt)}catch(be){o("Selected CSV export failed")}},type:"button",className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-indigo-300 text-indigo-700 bg-indigo-50 hover:bg-indigo-100",title:"Export only selected customers (CSV)",children:[n.jsx(yi,{className:"w-4 h-4"}),"Selected CSV"]}),n.jsxs("button",{onClick:async()=>{try{const be=new URLSearchParams;be.set("userIds",K.join(","));const Ke=await ue.getWithRetry(`/users/export.xlsx?${be.toString()}`,{responseType:"blob"}),at=new Blob([Ke.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),bt=window.URL.createObjectURL(at),yt=document.createElement("a");yt.href=bt,yt.setAttribute("download",`customers_selected_${Date.now()}.xlsx`),document.body.appendChild(yt),yt.click(),yt.remove(),window.URL.revokeObjectURL(bt)}catch(be){o("Selected XLSX export failed")}},type:"button",className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-indigo-300 text-indigo-700 bg-indigo-50 hover:bg-indigo-100",title:"Export only selected customers (XLSX)",children:[n.jsx(yi,{className:"w-4 h-4"}),"Selected XLSX"]}),n.jsx("button",{onClick:()=>R(!0),type:"button",className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-green-300 text-green-700 bg-green-50 hover:bg-green-100",title:"Generate WhatsApp links for selected customers",children:"WhatsApp"})]}),n.jsxs("button",{onClick:dr,disabled:x||a,className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:[n.jsx(Pn,{className:`w-4 h-4 ${x?"animate-spin":""}`}),"Refresh"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:"Customer Summary"}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("label",{className:"text-gray-500",children:"Period:"}),n.jsx("select",{value:Te,onChange:be=>Ue(parseInt(be.target.value)),className:"px-2 py-1 border border-gray-300 rounded",children:[7,14,30,60,90,180,365].map(be=>n.jsxs("option",{value:be,children:[be,"d"]},be))}),n.jsx("button",{onClick:ft,disabled:tt,className:"px-2 py-1 border border-gray-300 rounded text-xs hover:bg-gray-50 disabled:opacity-40",children:"Refresh"})]})]}),mt&&n.jsx("div",{className:"text-xs text-red-600 bg-red-50 border border-red-200 px-3 py-2 rounded",children:mt}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Total Customers"}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:tt?"...":(gn=Ee==null?void 0:Ee.totalCustomers)!=null?gn:"--"})]}),n.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[n.jsxs("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:["New (last ",Te,"d)"]}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:tt?"...":(tn=Ee==null?void 0:Ee.newCustomers)!=null?tn:"--"})]}),n.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Top Spender"}),n.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 truncate",children:tt?"...":((je=(va=Ee==null?void 0:Ee.topSpenders)==null?void 0:va[0])==null?void 0:je.name)||"—"}),n.jsx("p",{className:"text-xs text-gray-500",children:tt?"":(Oe=Ee==null?void 0:Ee.topSpenders)!=null&&Oe[0]?"$"+Ee.topSpenders[0].totalSpent.toFixed(2):""})]})]}),(Ee==null?void 0:Ee.topSpenders)&&Ee.topSpenders.length>0&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[n.jsx("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center justify-between",children:n.jsx("h3",{className:"text-xs font-semibold tracking-wide text-gray-600 uppercase",children:"Top Spenders"})}),n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Orders"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Spent"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Order"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:Ee.topSpenders.map(be=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-2 font-medium text-gray-800",children:be.name}),n.jsx("td",{className:"px-4 py-2 text-gray-600",children:be.orderCount}),n.jsxs("td",{className:"px-4 py-2 text-gray-600",children:["$",be.totalSpent.toFixed(2)]}),n.jsx("td",{className:"px-4 py-2 text-gray-500",children:be.lastOrder?new Date(be.lastOrder).toLocaleDateString():"—"})]},be.userId))})]})]})]}),n.jsxs("form",{onSubmit:Ht,className:"flex flex-wrap gap-3 items-end",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Mn,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),n.jsx("input",{type:"text",value:vt,onChange:be=>Gt(be.target.value),placeholder:"Search by name or email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Role"}),n.jsxs("select",{value:v,onChange:be=>{w(be.target.value)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"WA Opt-In"}),n.jsxs("select",{value:j,onChange:be=>A(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"true",children:"Yes"}),n.jsx("option",{value:"false",children:"No"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Start Date"}),n.jsx("input",{type:"date",value:C,onChange:be=>S(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"End Date"}),n.jsx("input",{type:"date",value:k,onChange:be=>E(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Min Orders"}),n.jsx("input",{type:"number",min:0,value:T,onChange:be=>F(be.target.value),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Max Orders"}),n.jsx("input",{type:"number",min:0,value:O,onChange:be=>P(be.target.value),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Sort By"}),n.jsxs("select",{value:W,onChange:be=>q(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[n.jsx("option",{value:"createdAt",children:"Joined"}),n.jsx("option",{value:"orderCount",children:"Orders"}),n.jsx("option",{value:"totalSpent",children:"Total Spent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Direction"}),n.jsxs("select",{value:D,onChange:be=>M(be.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[n.jsx("option",{value:"desc",children:"Desc"}),n.jsx("option",{value:"asc",children:"Asc"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Page Size"}),n.jsx("select",{value:f,onChange:be=>{h(parseInt(be.target.value)),u(1)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[10,20,50,100].map(be=>n.jsx("option",{value:be,children:be},be))})]}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Search"}),n.jsx("button",{type:"button",onClick:()=>{w(""),A(""),S(""),E(""),c(""),Gt(""),F(""),P(""),q("createdAt"),M("desc"),h(20),Ut({page:1,search:""})},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50",children:"Reset"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-xs bg-white border border-gray-200 rounded-lg p-3",children:[n.jsx("span",{className:"font-semibold text-gray-600",children:"Columns:"}),[["name","Name"],["email","Email"],["role","Role"],["phone","Phone"],["waOptIn","WA"],["orders","Orders"],["totalSpent","Total"],["avgOrder","Avg"],["lastOrder","Last"],["joined","Joined"]].map(([be,Ke])=>n.jsxs("label",{className:"flex items-center gap-1 cursor-pointer select-none",children:[n.jsx("input",{type:"checkbox",checked:it[be],onChange:()=>Bt(be)}),n.jsx("span",{children:Ke})]},be)),n.jsx("button",{type:"button",className:"ml-auto text-indigo-600 hover:underline",onClick:()=>At({name:!0,email:!0,role:!0,phone:!0,waOptIn:!0,orders:!0,totalSpent:!0,avgOrder:!0,lastOrder:!0,joined:!0}),children:"All"}),n.jsx("button",{type:"button",className:"text-indigo-600 hover:underline",onClick:()=>At({name:!0,email:!1,role:!1,phone:!1,waOptIn:!1,orders:!0,totalSpent:!0,avgOrder:!0,lastOrder:!0,joined:!0}),children:"Compact"})]}),i&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:i}),a?n.jsx("div",{className:"flex justify-center py-20",children:n.jsx(kf,{})}):t.length===0?n.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[n.jsx(So,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Customers Found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or check back later."})]}):n.jsxs("div",{className:"bg-white shadow-sm rounded-xl border border-gray-200 overflow-hidden",children:[K.length>0&&n.jsxs("div",{className:"flex items-center gap-4 p-3 bg-indigo-50 border border-indigo-200 rounded-lg text-sm",children:[n.jsxs("span",{className:"font-medium text-indigo-800",children:[K.length," selected"]}),n.jsxs("select",{value:I,onChange:be=>V(be.target.value),className:"px-2 py-1 border border-indigo-300 rounded",children:[n.jsx("option",{value:"",children:"Set Role..."}),n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]}),n.jsx("button",{onClick:Zn,disabled:!I,className:"px-3 py-1 bg-indigo-600 text-white rounded disabled:opacity-40",children:"Apply"}),n.jsx("button",{onClick:()=>Z([]),className:"px-2 py-1 text-indigo-700 hover:underline",children:"Clear"}),n.jsx("button",{onClick:()=>R(!0),className:"px-3 py-1 bg-green-600 text-white rounded",children:"WhatsApp"})]}),n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-3",children:n.jsx("input",{type:"checkbox",checked:Ae,onChange:Kr})}),it.name&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),it.email&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),it.role&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),it.phone&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),it.waOptIn&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WA"}),it.waLast&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WA Last"}),it.waPreview&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WA Preview"}),it.orders&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),it.totalSpent&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Spent"}),it.avgOrder&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Order"}),it.lastOrder&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Order"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:t.filter(be=>{var bt,yt;const Ke=!T||((bt=be.orderCount)!=null?bt:0)>=parseInt(T),at=!O||((yt=be.orderCount)!=null?yt:0)<=parseInt(O);return Ke&&at}).map(be=>{var Ke,at,bt;return n.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>St(be),children:[n.jsx("td",{className:"px-3 py-4",children:n.jsx("input",{type:"checkbox",checked:K.includes(be._id),onChange:yt=>{yt.stopPropagation(),Jn(be._id)}})}),it.name&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap flex items-center gap-3",children:[be.image?n.jsx("img",{src:be.image,alt:be.name,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 text-sm font-semibold",children:be.name.charAt(0).toUpperCase()}),n.jsx("span",{className:"font-medium text-gray-900",children:be.name})]}),K.includes(be._id)&&n.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:be.phoneNumber&&be.whatsappOptIn?"WA✓":""}),it.email&&n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:be.email}),it.role&&n.jsx("td",{className:"px-6 py-4",children:n.jsxs("select",{value:be.role,onChange:yt=>qa(be._id,yt.target.value,yt),className:`text-xs font-medium px-2 py-1 rounded-full border ${be.role==="admin"?"bg-purple-100 text-purple-700 border-purple-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:[n.jsx("option",{value:"user",children:"user"}),n.jsx("option",{value:"admin",children:"admin"})]})}),it.phone&&n.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:be.phoneNumber||"—"}),it.waOptIn&&n.jsx("td",{className:"px-6 py-4 text-xs",children:be.whatsappOptIn?n.jsx("span",{className:"text-green-600 font-semibold",children:"Yes"}):n.jsx("span",{className:"text-gray-400",children:"No"})}),it.waLast&&n.jsx("td",{className:"px-6 py-4 text-xs text-gray-600",children:be.lastWhatsAppContactAt?new Date(be.lastWhatsAppContactAt).toLocaleDateString():"—"}),it.waPreview&&n.jsx("td",{className:"px-6 py-4 text-xs max-w-[160px] truncate",title:be.lastWhatsAppMessagePreview||"",children:be.lastWhatsAppMessagePreview||"—"}),it.orders&&n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-800 font-medium",children:(Ke=be.orderCount)!=null?Ke:0})}),it.totalSpent&&n.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:["$",((at=be.totalSpent)!=null?at:0).toFixed(2)]}),it.avgOrder&&n.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:["$",((bt=be.averageOrderValue)!=null?bt:0).toFixed(2)]}),it.lastOrder&&n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:be.lastOrder?new Date(be.lastOrder).toLocaleDateString():"—"}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(be.createdAt).toLocaleDateString()})]},be._id)})})]}),n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Page ",d," of ",m]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{disabled:d===1,onClick:()=>Ut({page:d-1}),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm disabled:opacity-40",children:"Prev"}),n.jsx("button",{disabled:d===m,onClick:()=>Ut({page:d+1}),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm disabled:opacity-40",children:"Next"})]})]})]}),H&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>ee(null)}),n.jsxs("div",{className:"relative bg-white w-full max-w-2xl rounded-xl shadow-xl p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(R2,{className:"w-5 h-5"})," ",H.name]}),n.jsx("button",{onClick:()=>ee(null),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Email"}),n.jsx("p",{className:"font-medium",children:H.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Role"}),n.jsx("p",{children:n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${H.role==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:H.role})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Joined"}),n.jsx("p",{className:"font-medium",children:new Date(H.createdAt).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Orders"}),n.jsx("p",{className:"font-medium",children:(Ze=H.orderCount)!=null?Ze:0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Total Spent"}),n.jsxs("p",{className:"font-medium",children:["$",((He=H.totalSpent)!=null?He:0).toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Avg Order Value"}),n.jsxs("p",{className:"font-medium",children:["$",((dt=H.averageOrderValue)!=null?dt:0).toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Last Order"}),n.jsx("p",{className:"font-medium",children:H.lastOrder?new Date(H.lastOrder).toLocaleDateString():"—"})]}),n.jsxs("div",{className:"col-span-2 border-t pt-3",children:[n.jsx("p",{className:"text-gray-500 mb-1",children:"WhatsApp Contact"}),n.jsx(iMe,{user:H,onUpdated:be=>{ee(Ke=>Ke&&Ke._id===be._id?{...Ke,phoneNumber:be.phoneNumber,whatsappOptIn:be.whatsappOptIn}:Ke),Ut()}})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Recent Orders"}),le?n.jsx("div",{className:"py-6 flex justify-center",children:n.jsx(kf,{})}):X.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No recent orders."}):n.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg divide-y divide-gray-100",children:X.map(be=>{var Ke,at;return n.jsxs("div",{className:"p-3 text-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"font-medium text-gray-800",children:["#",be.orderNumber]}),n.jsx("span",{className:"text-gray-600",children:new Date(be.createdAt).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsxs("span",{className:"text-gray-600",children:[((Ke=be.items)==null?void 0:Ke.length)||0," items"]}),n.jsxs("span",{className:"font-medium",children:[be.currency||"USD"," ",(at=be.totalAmount)==null?void 0:at.toFixed(2)]})]}),n.jsx("span",{className:"inline-block mt-2 text-xs px-2 py-0.5 rounded-full bg-gray-100 text-gray-700",children:be.status})]},be._id)})})]})]})]}),te&&n.jsx(oMe,{onClose:()=>{R(!1),L([])},customerCount:K.length,onGenerate:async()=>{ge(!0);try{const{buildLinksForIds:be}=await Ll(async()=>{const{buildLinksForIds:at}=await import("./whatsappService-utnH2MkR.js");return{buildLinksForIds:at}},__vite__mapDeps([0,1,2])),Ke=await be(K,U,!0);L(Ke.links||[])}catch(be){console.error(be)}finally{ge(!1)}},waMessage:U,setWaMessage:Q,waLinks:J,waLoading:he})]})}function iMe({user:e,onUpdated:t}){const[r,a]=N.useState(e.phoneNumber||""),[s,i]=N.useState(!!e.whatsappOptIn),[o,l]=N.useState(!1),c=async()=>{l(!0);try{await ue.patchWithRetry(`/users/${e._id}/contact`,{phoneNumber:r,whatsappOptIn:s}),t({...e,phoneNumber:r,whatsappOptIn:s})}catch(d){}finally{l(!1)}};return n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[n.jsx("input",{value:r,onChange:d=>a(d.target.value),placeholder:"+15551234567",className:"px-2 py-1 border rounded w-full md:w-48"}),n.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[n.jsx("input",{type:"checkbox",checked:s,onChange:d=>i(d.target.checked)})," Opt-in"]}),n.jsx("button",{disabled:o,onClick:c,className:"px-3 py-1 text-xs bg-green-600 text-white rounded disabled:opacity-40",children:o?"Saving...":"Save"})]})}function oMe({onClose:e,customerCount:t,onGenerate:r,waMessage:a,setWaMessage:s,waLinks:i,waLoading:o}){return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),n.jsxs("div",{className:"relative bg-white w-full max-w-3xl rounded-lg shadow-lg p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-lg font-semibold",children:["WhatsApp Broadcast (",t," selected)"]}),n.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),n.jsx("textarea",{value:a,onChange:l=>s(l.target.value),placeholder:"Message",rows:4,className:"w-full border rounded px-3 py-2 text-sm"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:r,disabled:o||!a.trim(),className:"px-4 py-2 bg-green-600 text-white rounded disabled:opacity-40",children:o?"Generating...":"Generate Links"}),i.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>i.filter(l=>l.url).forEach((l,c)=>setTimeout(()=>window.open(l.url,"_blank"),c*400)),className:"px-3 py-2 bg-emerald-600 text-white rounded text-sm",children:["Open All (",i.filter(l=>l.url).length,")"]}),n.jsx("button",{onClick:()=>navigator.clipboard.writeText(i.filter(l=>l.url).map(l=>l.url).join(`
`)),className:"px-3 py-2 bg-gray-700 text-white rounded text-sm",children:"Copy Links"})]})]}),i.length>0&&n.jsx("div",{className:"max-h-72 overflow-y-auto border rounded divide-y text-sm",children:i.map((l,c)=>n.jsxs("div",{className:"p-2 flex items-center gap-3",children:[n.jsx("span",{className:"flex-1 truncate",children:l.name||l.phoneNumber||"User"}),l.skipped?n.jsxs("span",{className:"text-xs text-red-600",children:["Skipped: ",l.reason]}):n.jsx("a",{href:l.url,target:"_blank",rel:"noreferrer",className:"text-green-600 text-xs underline",children:"Open"})]},c))})]})]})}const lMe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState(!1),[s,i]=N.useState(""),[o,l]=N.useState(50),c=async()=>{var d,u;a(!0),i("");try{const{data:f}=await ue.getWithRetry(`/whatsapp/audits?limit=${o}`);t(f.audits||[])}catch(f){i(((u=(d=f==null?void 0:f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to load audits")}finally{a(!1)}};return N.useEffect(()=>{c()},[o]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(D2,{className:"w-6 h-6"})," WhatsApp Audits"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("select",{value:o,onChange:d=>l(parseInt(d.target.value)),className:"border rounded px-2 py-1 text-sm",children:[20,50,100,200].map(d=>n.jsx("option",{value:d,children:d},d))}),n.jsxs("button",{onClick:c,disabled:r,className:"px-3 py-2 border rounded text-sm flex items-center gap-2 disabled:opacity-40",children:[n.jsx(Pn,{className:`w-4 h-4 ${r?"animate-spin":""}`}),"Refresh"]})]})]}),s&&n.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 px-3 py-2 rounded",children:s}),n.jsx("div",{className:"bg-white border rounded-lg overflow-hidden",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left",children:"Time"}),n.jsx("th",{className:"px-3 py-2 text-left",children:"Links"}),n.jsx("th",{className:"px-3 py-2 text-left",children:"Skipped"}),n.jsx("th",{className:"px-3 py-2 text-left",children:"Message Preview"}),n.jsx("th",{className:"px-3 py-2 text-left",children:"Context"})]})}),n.jsxs("tbody",{className:"divide-y",children:[e.map(d=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:new Date(d.createdAt).toLocaleString()}),n.jsx("td",{className:"px-3 py-2",children:d.generatedLinks}),n.jsx("td",{className:"px-3 py-2",children:d.skipped}),n.jsx("td",{className:"px-3 py-2 max-w-xs truncate",title:d.message,children:d.message.slice(0,120)}),n.jsx("td",{className:"px-3 py-2 text-xs text-gray-500",children:d.context?JSON.stringify(d.context):"—"})]},d._id)),e.length===0&&!r&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-3 py-6 text-center text-gray-500",children:"No audits yet."})})]})]})})]})},cMe=({recipient:e,selected:t,onSelect:r,onUpdated:a,onDeleted:s})=>{var y,v,w,j,A,C;const[i,o]=N.useState(!1),[l,c]=N.useState(e),[d,u]=N.useState(!1),[f,h]=N.useState(""),m=S=>{var T,F,O;const{name:k,value:E}=S.target;k.startsWith("address.")?c({...l,address:{street:k==="address.street"?E:((T=l.address)==null?void 0:T.street)||"",city:k==="address.city"?E:((F=l.address)==null?void 0:F.city)||"",country:k==="address.country"?E:((O=l.address)==null?void 0:O.country)||""}}):c({...l,[k]:E})},p=async()=>{u(!0),h("");try{await ue.putWithRetry(`/recipients/${e._id}`,l),o(!1),a()}catch(S){h("Failed to update recipient")}finally{u(!1)}},x=async()=>{if(window.confirm("Delete this recipient?")){u(!0),h("");try{await ue.deleteWithRetry(`/recipients/${e._id}`),s()}catch(S){h("Failed to delete recipient")}finally{u(!1)}}};return i?n.jsxs("tr",{style:{background:t?"#e0e7ff":void 0},children:[n.jsx("td",{style:{textAlign:"center"},children:n.jsx("input",{type:"checkbox",checked:t,onChange:r})}),n.jsxs("td",{children:[n.jsx("input",{name:"firstName",value:l.firstName,onChange:m}),n.jsx("input",{name:"lastName",value:l.lastName,onChange:m})]}),n.jsx("td",{children:n.jsx("input",{name:"email",value:l.email,onChange:m})}),n.jsx("td",{children:n.jsx("input",{name:"mobile",value:l.mobile,onChange:m})}),n.jsxs("td",{children:[n.jsx("input",{name:"address.street",value:((y=l.address)==null?void 0:y.street)||"",onChange:m,placeholder:"Street"}),n.jsx("input",{name:"address.city",value:((v=l.address)==null?void 0:v.city)||"",onChange:m,placeholder:"City"}),n.jsx("input",{name:"address.country",value:((w=l.address)==null?void 0:w.country)||"",onChange:m,placeholder:"Country"})]}),n.jsxs("td",{style:{display:"flex",gap:8},children:[n.jsx("button",{onClick:p,disabled:d,title:"Save",style:{background:"#4ade80",border:"none",borderRadius:4,padding:6,cursor:"pointer"},children:"💾"}),n.jsx("button",{onClick:()=>o(!1),disabled:d,title:"Cancel",style:{background:"#fbbf24",border:"none",borderRadius:4,padding:6,cursor:"pointer"},children:"✖️"})]}),n.jsx("td",{children:f&&n.jsx("span",{style:{color:"red"},children:f})})]}):n.jsxs("tr",{style:{background:t?"#e0e7ff":void 0},children:[n.jsx("td",{style:{textAlign:"center"},children:n.jsx("input",{type:"checkbox",checked:t,onChange:r})}),n.jsxs("td",{children:[e.firstName," ",e.lastName]}),n.jsx("td",{children:e.email}),n.jsx("td",{children:e.mobile}),n.jsxs("td",{children:[(j=e.address)==null?void 0:j.street,", ",(A=e.address)==null?void 0:A.city,", ",(C=e.address)==null?void 0:C.country]}),n.jsxs("td",{style:{display:"flex",gap:8},children:[n.jsx("button",{onClick:()=>o(!0),title:"Edit",style:{background:"#e0e7ff",border:"none",borderRadius:4,padding:6,cursor:"pointer",display:"flex",alignItems:"center"},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 112.828 2.828L11.828 15.828a4 4 0 01-1.414.828l-4 1a1 1 0 01-1.263-1.263l1-4a4 4 0 01.828-1.414z"})})}),n.jsx("button",{onClick:x,disabled:d,title:"Delete",style:{background:"#fee2e2",border:"none",borderRadius:4,padding:6,cursor:"pointer",display:"flex",alignItems:"center"},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6M1 7h22M8 7V5a2 2 0 012-2h4a2 2 0 012 2v2"})})})]}),n.jsx("td",{children:f&&n.jsx("span",{style:{color:"red"},children:f})})]})},G5={firstName:"",lastName:"",email:"",mobile:"",secondaryMobile:"",address:{street:"",city:"",country:""}},dMe=({onCreated:e})=>{var d,u,f;const[t,r]=N.useState(G5),[a,s]=N.useState(!1),[i,o]=N.useState(""),l=h=>{var x,y,v;const{name:m,value:p}=h.target;m.startsWith("address.")?r({...t,address:{street:m==="address.street"?p:((x=t.address)==null?void 0:x.street)||"",city:m==="address.city"?p:((y=t.address)==null?void 0:y.city)||"",country:m==="address.country"?p:((v=t.address)==null?void 0:v.country)||""}}):r({...t,[m]:p})},c=async h=>{var p,x,y,v,w;if(h.preventDefault(),o(""),!t.firstName.trim()||!t.lastName.trim()||!t.email.trim()||!t.mobile.trim()){o("All fields are required.");return}const m=/^\+[0-9]{1,4}[0-9]{9,10}$/;if(!m.test(t.mobile)){o("Mobile must start with +, country code, and 9-10 digits.");return}if(t.secondaryMobile&&t.secondaryMobile.trim()&&!m.test(t.secondaryMobile)){o("Secondary mobile must start with +, country code, and 9-10 digits.");return}if(!((p=t.address)!=null&&p.street.trim())||!((x=t.address)!=null&&x.city.trim())||!((y=t.address)!=null&&y.country.trim())){o("All address fields are required.");return}s(!0);try{let j={...t};await ue.postWithRetry("/recipients",j),r(G5),e()}catch(j){o(((w=(v=j==null?void 0:j.response)==null?void 0:v.data)==null?void 0:w.message)||"Failed to create recipient")}finally{s(!1)}};return n.jsxs("form",{onSubmit:c,style:{display:"grid",gap:16,gridTemplateColumns:"1fr 1fr",marginBottom:0},children:[n.jsx("h3",{style:{gridColumn:"1 / -1",fontSize:22,fontWeight:600,color:"#3730a3",marginBottom:8},children:"Add Recipient"}),n.jsx("input",{name:"firstName",value:t.firstName,onChange:l,placeholder:"First Name",required:!0,style:{padding:10,borderRadius:6,border:"1px solid #c7d2fe",fontSize:16}}),n.jsx("input",{name:"lastName",value:t.lastName,onChange:l,placeholder:"Last Name",required:!0,style:{padding:10,borderRadius:6,border:"1px solid #c7d2fe",fontSize:16}}),n.jsx("input",{name:"email",value:t.email,onChange:l,placeholder:"Email",required:!0,style:{padding:10,borderRadius:6,border:"1px solid #c7d2fe",fontSize:16}}),n.jsx("input",{name:"mobile",value:t.mobile,onChange:l,placeholder:"Mobile",required:!0,style:{padding:10,borderRadius:6,border:"1px solid #c7d2fe",fontSize:16}}),n.jsx("input",{name:"secondaryMobile",value:t.secondaryMobile,onChange:l,placeholder:"Secondary Mobile",style:{padding:10,borderRadius:6,border:"1px solid #c7d2fe",fontSize:16}}),n.jsx("input",{name:"address.street",value:((d=t.address)==null?void 0:d.street)||"",onChange:l,placeholder:"Street",required:!0,style:{padding:10,borderRadius:6,border:"1px solid #c7d2fe",fontSize:16}}),n.jsx("input",{name:"address.city",value:((u=t.address)==null?void 0:u.city)||"",onChange:l,placeholder:"City",required:!0,style:{padding:10,borderRadius:6,border:"1px solid #c7d2fe",fontSize:16}}),n.jsx("input",{name:"address.country",value:((f=t.address)==null?void 0:f.country)||"",onChange:l,placeholder:"Country",required:!0,style:{padding:10,borderRadius:6,border:"1px solid #c7d2fe",fontSize:16}}),n.jsx("button",{type:"submit",disabled:a,style:{gridColumn:"1 / -1",marginTop:8,padding:"12px 0",background:"#6366f1",color:"#fff",border:"none",borderRadius:8,fontWeight:600,fontSize:18,cursor:"pointer",boxShadow:"0 1px 4px #c7d2fe"},children:"Add"}),i&&n.jsx("span",{style:{gridColumn:"1 / -1",color:"red",fontSize:16},children:i})]})},uMe=()=>{const[e,t]=N.useState([]),[r,a]=N.useState([]),[s,i]=N.useState(!0),[o,l]=N.useState(""),[c,d]=N.useState(!1),[u,f]=N.useState(""),[h,m]=N.useState(1),[p,x]=N.useState(""),[y,v]=N.useState("all"),w=10;if(N.useEffect(()=>{(async()=>{try{const W=await ue.getWithRetry("/recipients");t(W.data)}catch(W){l("Failed to fetch recipients")}finally{i(!1)}})()},[]),s)return n.jsx("div",{children:"Loading..."});if(o)return n.jsx("div",{children:o});const j=Array.from(new Set(e.map(P=>{var W;return(W=P.address)==null?void 0:W.country}).filter(Boolean))).sort(),A=e.filter(P=>{var M;const W=P.firstName.toLowerCase().includes(u.toLowerCase())||P.lastName.toLowerCase().includes(u.toLowerCase())||P.email.toLowerCase().includes(u.toLowerCase()),q=p?((M=P.address)==null?void 0:M.country)===p:!0,D=y==="all"?!0:y==="yes"?!!P.mobile:y==="no"?!P.mobile:!0;return W&&q&&D}),C=Math.ceil(A.length/w)||1,S=A.slice((h-1)*w,h*w),k=S.length>0&&S.every(P=>r.includes(P._id));function E(){a(k?r.filter(P=>!S.some(W=>W._id===P)):[...new Set([...r,...S.map(P=>P._id)])])}function T(P){a(W=>W.includes(P)?W.filter(q=>q!==P):[...W,P])}function F(){a([])}function O(P){f(P.target.value),m(1)}return n.jsxs("div",{style:{maxWidth:900,margin:"0 auto",background:"#f8fafc",borderRadius:12,boxShadow:"0 2px 8px #e0e7ef",padding:32},children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:24},children:[r.length>0&&n.jsxs("div",{style:{background:"#e0e7ff",color:"#3730a3",borderRadius:8,padding:"10px 18px",marginBottom:4,display:"flex",alignItems:"center",gap:16},children:[n.jsxs("span",{style:{fontWeight:600},children:[r.length," recipient",r.length>1?"s":""," selected"]}),n.jsx("button",{onClick:F,style:{background:"none",border:"none",color:"#6366f1",fontWeight:600,cursor:"pointer",textDecoration:"underline"},children:"Clear"}),n.jsx("button",{onClick:async()=>{if(window.confirm(`Delete ${r.length} selected recipient(s)?`))try{await Promise.all(r.map(P=>ue.deleteWithRetry(`/recipients/${P}`))),t(e.filter(P=>!r.includes(P._id))),a([]),Bh.success("Selected recipients deleted!")}catch(P){Bh.error("Failed to delete selected recipients")}},style:{background:"#ef4444",color:"#fff",border:"none",borderRadius:6,padding:"7px 16px",fontWeight:600,cursor:"pointer",marginLeft:8},children:"Delete Selected"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:12},children:[n.jsx("h2",{style:{fontSize:28,fontWeight:700,color:"#3730a3",letterSpacing:.5},children:"Recipients"}),n.jsx("input",{type:"text",placeholder:"Search by name or email...",value:u,onChange:O,style:{padding:"8px 14px",borderRadius:8,border:"1px solid #c7d2fe",fontSize:16,minWidth:220,marginRight:8}}),n.jsx("button",{style:{padding:"10px 22px",background:"#6366f1",color:"#fff",border:"none",borderRadius:"8px",fontWeight:600,fontSize:16,cursor:"pointer",boxShadow:"0 1px 4px #c7d2fe"},onClick:()=>d(P=>!P),children:c?"Close":"Add Recipient"})]}),n.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap",alignItems:"center"},children:[n.jsxs("label",{style:{fontWeight:500,color:"#3730a3"},children:["Country:",n.jsxs("select",{value:p,onChange:P=>{x(P.target.value),m(1)},style:{marginLeft:8,padding:"6px 12px",borderRadius:6,border:"1px solid #c7d2fe",fontSize:15},children:[n.jsx("option",{value:"",children:"All"}),j.map(P=>n.jsx("option",{value:P,children:P},P))]})]}),n.jsxs("label",{style:{fontWeight:500,color:"#3730a3"},children:["Has Mobile:",n.jsxs("select",{value:y,onChange:P=>{v(P.target.value),m(1)},style:{marginLeft:8,padding:"6px 12px",borderRadius:6,border:"1px solid #c7d2fe",fontSize:15},children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"yes",children:"Yes"}),n.jsx("option",{value:"no",children:"No"})]})]})]})]}),c&&n.jsx("div",{style:{marginBottom:32,background:"#eef2ff",borderRadius:8,padding:24,boxShadow:"0 1px 4px #e0e7ef"},children:n.jsx(dMe,{onCreated:()=>{i(!0),d(!1),Bh.success("Recipient created!"),ue.getWithRetry("/recipients").then(P=>t(P.data)).finally(()=>i(!1))}})}),n.jsx("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #e0e7ef",padding:0,overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,minWidth:600},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#f1f5f9",color:"#6366f1",fontWeight:600},children:[n.jsx("th",{style:{padding:"14px 8px",textAlign:"center",borderTopLeftRadius:8},children:n.jsx("input",{type:"checkbox",checked:k,onChange:E})}),n.jsx("th",{style:{padding:"14px 8px",textAlign:"left"},children:"Name"}),n.jsx("th",{style:{padding:"14px 8px",textAlign:"left"},children:"Email"}),n.jsx("th",{style:{padding:"14px 8px",textAlign:"left"},children:"Mobile"}),n.jsx("th",{style:{padding:"14px 8px",textAlign:"left"},children:"Address"}),n.jsx("th",{style:{padding:"14px 8px",textAlign:"left",borderTopRightRadius:8},children:"Actions"})]})}),n.jsxs("tbody",{children:[A.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,style:{textAlign:"center",padding:32,color:"#64748b",fontSize:18},children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[n.jsx("span",{style:{fontSize:48,opacity:.2},children:"👤"}),"No recipients found."]})})}),S.map(P=>n.jsx(cMe,{recipient:P,selected:r.includes(P._id),onSelect:()=>T(P._id),onUpdated:()=>{i(!0),Bh.success("Recipient updated!"),ue.getWithRetry("/recipients").then(W=>t(W.data)).finally(()=>i(!1))},onDeleted:()=>{t(e.filter(W=>W._id!==P._id)),Bh.success("Recipient deleted!")}},P._id))]})]})}),C>1&&n.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:24,gap:8},children:[n.jsx("button",{onClick:()=>m(P=>Math.max(1,P-1)),disabled:h===1,style:{padding:"6px 16px",borderRadius:6,border:"1px solid #c7d2fe",background:h===1?"#e5e7eb":"#6366f1",color:h===1?"#a1a1aa":"#fff",fontWeight:600,cursor:h===1?"not-allowed":"pointer"},children:"Prev"}),n.jsxs("span",{style:{fontWeight:600,color:"#3730a3",fontSize:16},children:["Page ",h," of ",C]}),n.jsx("button",{onClick:()=>m(P=>Math.min(C,P+1)),disabled:h===C,style:{padding:"6px 16px",borderRadius:6,border:"1px solid #c7d2fe",background:h===C?"#e5e7eb":"#6366f1",color:h===C?"#a1a1aa":"#fff",fontWeight:600,cursor:h===C?"not-allowed":"pointer"},children:"Next"})]})]})};function fMe(){const[e,t]=N.useState([]),[r,a]=N.useState(!1),[s,i]=N.useState({name:"",address:"",contact:"",notes:""}),[o,l]=N.useState(null),c=async()=>{a(!0);try{const m=await ue.getWithRetry("/warehouses");t(m.data)}catch(m){z.error("Failed to fetch warehouses")}finally{a(!1)}};N.useEffect(()=>{c()},[]);const d=m=>{i({...s,[m.target.name]:m.target.value})},u=async m=>{m.preventDefault(),a(!0);try{o?(await ue.putWithRetry(`/warehouses/${o}`,s),z.success("Warehouse updated")):(await ue.postWithRetry("/warehouses",s),z.success("Warehouse added")),i({name:"",address:"",contact:"",notes:""}),l(null),c()}catch(p){z.error("Failed to save warehouse")}finally{a(!1)}},f=m=>{i({name:m.name,address:m.address||"",contact:m.contact||"",notes:m.notes||""}),l(m._id)},h=async m=>{if(window.confirm("Delete this warehouse?")){a(!0);try{await ue.deleteWithRetry(`/warehouses/${m}`),z.success("Warehouse deleted"),c()}catch(p){z.error("Failed to delete warehouse")}finally{a(!1)}}};return n.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded shadow",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Warehouse Management"}),n.jsxs("form",{onSubmit:u,className:"space-y-3 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Name"}),n.jsx("input",{name:"name",value:s.name,onChange:d,required:!0,className:"w-full border rounded px-2 py-1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Address"}),n.jsx("input",{name:"address",value:s.address,onChange:d,className:"w-full border rounded px-2 py-1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Contact"}),n.jsx("input",{name:"contact",value:s.contact,onChange:d,className:"w-full border rounded px-2 py-1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium",children:"Notes"}),n.jsx("textarea",{name:"notes",value:s.notes,onChange:d,className:"w-full border rounded px-2 py-1"})]}),n.jsxs("button",{type:"submit",disabled:r,className:"bg-indigo-600 text-white px-4 py-2 rounded",children:[o?"Update":"Add"," Warehouse"]}),o&&n.jsx("button",{type:"button",onClick:()=>{l(null),i({name:"",address:"",contact:"",notes:""})},className:"ml-2 px-4 py-2 rounded border",children:"Cancel"})]}),n.jsxs("table",{className:"w-full border",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"p-2 text-left",children:"Name"}),n.jsx("th",{className:"p-2 text-left",children:"Address"}),n.jsx("th",{className:"p-2 text-left",children:"Contact"}),n.jsx("th",{className:"p-2 text-left",children:"Notes"}),n.jsx("th",{className:"p-2",children:"Actions"})]})}),n.jsx("tbody",{children:e.map(m=>n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-2",children:m.name}),n.jsx("td",{className:"p-2",children:m.address}),n.jsx("td",{className:"p-2",children:m.contact}),n.jsx("td",{className:"p-2",children:m.notes}),n.jsxs("td",{className:"p-2 flex gap-2",children:[n.jsx("button",{onClick:()=>f(m),className:"text-blue-600",children:"Edit"}),n.jsx("button",{onClick:()=>h(m._id),className:"text-red-600",children:"Delete"})]})]},m._id))})]})]})}const Tl={getStatus:async()=>(await ue.getWithRetry("/db/status")).data,getConfig:async()=>(await ue.getWithRetry("/db/config")).data,testConnection:async e=>(await ue.postWithRetry("/db/test",{uri:e})).data,applyConfig:async e=>(await ue.postWithRetry("/db/apply",{uri:e})).data,reconnect:async()=>(await ue.postWithRetry("/db/reconnect")).data};function q5({color:e,children:t}){const r={green:"bg-green-100 text-green-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800",gray:"bg-gray-100 text-gray-800"};return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${r[e]}`,children:t})}function hMe(){const[e,t]=N.useState(!0),[r,a]=N.useState(null),[s,i]=N.useState(null),[o,l]=N.useState(""),[c,d]=N.useState(null),u=N.useMemo(()=>{switch(r==null?void 0:r.readyState){case 0:return"disconnected";case 1:return"connected";case 2:return"connecting";case 3:return"disconnecting";default:return"unknown"}},[r]);N.useEffect(()=>{(async()=>{try{const[p,x]=await Promise.all([Tl.getStatus(),Tl.getConfig()]);a(p),i(x)}catch(p){z.error(p.message||"Failed to load DB status")}finally{t(!1)}})()},[]);const f=async()=>{if(!o.trim()){z.error("Please enter a MongoDB connection string");return}d("test");try{await Tl.testConnection(o.trim()),z.success("Connection successful")}catch(p){z.error(p.message||"Connection failed")}finally{d(null)}},h=async()=>{if(!o.trim()){z.error("Please enter a MongoDB connection string");return}d("apply");try{await Tl.applyConfig(o.trim());const[p,x]=await Promise.all([Tl.getStatus(),Tl.getConfig()]);a(p),i(x),l(""),z.success("Database configuration updated")}catch(p){z.error(p.message||"Failed to apply configuration")}finally{d(null)}},m=async()=>{d("reconnect");try{await Tl.reconnect();const p=await Tl.getStatus();a(p),z.success("Reconnected to database")}catch(p){z.error(p.message||"Failed to reconnect")}finally{d(null)}};return e?n.jsx("div",{children:"Loading database info..."}):n.jsxs("div",{className:"max-w-3xl",children:[n.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Database"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Manage MongoDB connection configuration. Sensitive parts are masked."}),n.jsxs("div",{className:"grid gap-6",children:[n.jsxs("section",{className:"bg-white p-4 rounded shadow",children:[n.jsx("h2",{className:"font-medium mb-3",children:"Current Status"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:"Status:"}),n.jsx(q5,{color:r!=null&&r.connected?"green":"red",children:r!=null&&r.connected?"Connected":"Disconnected"}),n.jsx(q5,{color:u==="connecting"?"yellow":"gray",children:u})]}),n.jsxs("div",{children:["Host: ",n.jsx("span",{className:"font-mono",children:(r==null?void 0:r.host)||"-"})]}),n.jsxs("div",{children:["Last Connected: ",r!=null&&r.lastConnectedAt?new Date(r.lastConnectedAt).toLocaleString():"-"]}),(r==null?void 0:r.error)&&n.jsxs("div",{className:"text-red-600",children:["Error: ",r.error]})]}),n.jsx("div",{className:"mt-4",children:n.jsx("button",{onClick:m,disabled:c!==null,className:"px-3 py-2 bg-blue-600 text-white rounded disabled:opacity-50",children:c==="reconnect"?"Reconnecting...":"Reconnect"})})]}),n.jsxs("section",{className:"bg-white p-4 rounded shadow",children:[n.jsx("h2",{className:"font-medium mb-3",children:"Configured URI"}),n.jsx("div",{className:"font-mono text-sm break-all",children:s!=null&&s.hasUri?s==null?void 0:s.uriMasked:"Not configured"})]}),n.jsxs("section",{className:"bg-white p-4 rounded shadow",children:[n.jsx("h2",{className:"font-medium mb-3",children:"Update Connection"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"mongodb+srv://user:pass@cluster.mongodb.net/dbname?retryWrites=true&w=majority",className:"w-full border rounded px-3 py-2 font-mono text-sm",value:o,onChange:p=>l(p.target.value),autoComplete:"off"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:f,disabled:c!==null,className:"px-3 py-2 bg-gray-800 text-white rounded disabled:opacity-50",children:c==="test"?"Testing...":"Test Connection"}),n.jsx("button",{onClick:h,disabled:c!==null,className:"px-3 py-2 bg-emerald-600 text-white rounded disabled:opacity-50",children:c==="apply"?"Applying...":"Apply & Reconnect"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"We will verify the connection before saving to your server's .env and reconnecting."})]})]})]})]})}function mMe(){let e="https://leohol.onrender.com".trim();if((e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))&&(e=e.slice(1,-1)),!e)return"";try{const t=new URL(e);return t.origin.replace(/\/$/,"")+(t.pathname&&t.pathname!=="/"?t.pathname.replace(/\/$/,""):"")}catch(t){return e.replace(/\/$/,"")}}async function lj(e){const r=mMe()||"/api",a=e?`${r}/legal/stats?page=${e}`:`${r}/legal/stats`,{data:s}=await Lx.get(a);return s}function pMe(){const[e,t]=N.useState({}),[r,a]=N.useState(!1),[s,i]=N.useState(null),[o,l]=N.useState(null),c=N.useCallback(async()=>{a(!0),i(null);try{const[f,h,m]=await Promise.all([lj("privacy"),lj("terms"),lj()]);t({privacy:f,terms:h,all:m}),l(new Date)}catch(f){i((f==null?void 0:f.message)||"Failed to load stats")}finally{a(!1)}},[]);N.useEffect(()=>{c()},[c]);const d=async f=>{const m=`https://leohol.onrender.com/legal/export?format=${f}`;try{const p=await fetch(m);if(!p.ok)throw new Error("Export failed");const x=await p.blob(),y=document.createElement("a"),v=URL.createObjectURL(x);y.href=v,y.download=`legal-views.${f}`,document.body.appendChild(y),y.click(),y.remove(),URL.revokeObjectURL(v)}catch(p){i((p==null?void 0:p.message)||"Export failed")}},u=({title:f,data:h})=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-100",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:f}),h?n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-3xl font-semibold text-gray-800",children:h.total}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Last 24h: ",n.jsx("span",{className:"font-medium text-indigo-600",children:h.last24h})]})]}):n.jsx("p",{className:"text-sm text-gray-400",children:"—"})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Legal Page Views"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Aggregated, non-identifiable view counts for Privacy Policy & Terms pages."})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>d("csv"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200 border border-gray-300",children:[n.jsx(yi,{className:"w-4 h-4"})," CSV"]}),n.jsxs("button",{onClick:()=>d("json"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-md bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200 border border-gray-300",children:[n.jsx(yi,{className:"w-4 h-4"})," JSON"]}),n.jsxs("button",{onClick:c,disabled:r,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-indigo-600 text-white text-sm font-medium shadow hover:bg-indigo-500 disabled:opacity-50",children:[n.jsx(Pn,{className:`w-4 h-4 ${r?"animate-spin":""}`}),"Refresh"]})]})]}),s&&n.jsx("div",{className:"p-3 rounded bg-red-50 border border-red-200 text-sm text-red-700",children:s}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(u,{title:"Privacy Policy",data:e.privacy}),n.jsx(u,{title:"Terms of Service",data:e.terms}),n.jsx(u,{title:"All Legal (any)",data:e.all})]}),n.jsxs("div",{className:"text-xs text-gray-400 pt-4 border-t",children:[o&&n.jsxs("span",{children:["Last updated: ",o.toLocaleTimeString()]})," · Counts sourced from hashed IP+UA records (no PII stored)."]})]})}const p8=[{label:"General",items:[{name:"Design Studio",icon:P2,path:"/admin/design",component:aMe},{name:"Dashboard",icon:j6,path:"/admin",component:H1e},{name:"Products",icon:rr,path:"/admin/products",component:YTe},{name:"Orders",icon:So,path:"/admin/orders",component:I3e},{name:"Customers",icon:w_,path:"/admin/customers",component:sMe},{name:"Recipients",icon:w_,path:"/admin/recipients",component:uMe}]},{label:"Content",items:[{name:"Hero Banner",icon:zn,path:"/admin/hero",component:H3e},{name:"Featured",icon:Dr,path:"/admin/featured",component:PDe},{name:"Categories",icon:PG,path:"/admin/categories",component:RDe},{name:"Navigation",icon:DG,path:"/admin/navigation",component:LDe},{name:"Footer",icon:Vr,path:"/admin/footer",component:GDe},{name:"Announcements",icon:cd,path:"/admin/announcements",component:nRe},{name:"Banner",icon:zn,path:"/admin/banner",component:sRe},{name:"Background",icon:ld,path:"/admin/background",component:dRe},{name:"Brands",icon:zn,path:"/admin/brands",component:oRe},{name:"Media",icon:zn,path:"/admin/media",component:ZDe}]},{label:"Sales",items:[{name:"Inventory",icon:jG,path:"/admin/inventory",component:FRe},{name:"Warehouses",icon:ua,path:"/admin/warehouses",component:fMe},{name:"Gift Cards",icon:rp,path:"/admin/gift-cards",component:RRe},{name:"Coupons",icon:Iv,path:"/admin/coupons",component:$Re}]},{label:"Shipping",items:[{name:"Delivery",icon:ua,path:"/admin/delivery",component:JDe},{name:"Shipping",icon:ua,path:"/admin/shipping",component:VRe}]},{label:"System",items:[{name:"Analytics",icon:il,path:"/admin/analytics",component:YRe},{name:"Reviews",icon:Dr,path:"/admin/reviews",component:FDe},{name:"Database",icon:Ha,path:"/admin/database",component:hMe},{name:"Legal Stats",icon:GG,path:"/admin/legal-stats",component:pMe},{name:"Settings",icon:Ha,path:"/admin/settings",component:W3e},{name:"WhatsApp Audits",icon:D2,path:"/admin/whatsapp-audits",component:lMe}]}],g8=p8.reduce((e,t)=>[...e,...t.items],[]);function gMe({user:e}){var s,i;const{settings:t}=vr(),r=((i=(s=t==null?void 0:t.logoWidthDesktop)!=null?s:t==null?void 0:t.logoWidthMobile)!=null?i:120)+"px",a=t!=null&&t.logoMaxHeightMobile?t.logoMaxHeightMobile+"px":"48px";return n.jsx("div",{className:"fixed inset-y-0 left-0 w-64 shadow-lg",style:{background:"#ff9800"},children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"flex items-center gap-3 h-16 px-6 border-b",children:n.jsx(Wm,{className:"w-auto",style:{width:r,maxHeight:a}})}),n.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:p8.map(o=>n.jsxs("div",{className:"space-y-1",children:[o.label&&n.jsx("h3",{className:"px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:o.label}),o.items.map(l=>n.jsxs(DP,{to:l.path,end:l.path==="/admin",className:({isActive:c})=>`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${c?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(l.icon,{className:"w-5 h-5 mr-3"}),l.name]},l.path))]},o.label))}),n.jsx("div",{className:"p-4 border-t bg-gray-50 mt-auto",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-medium text-indigo-600",children:e.name.charAt(0)})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),n.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.email})]})]})})]})})}function xMe(e,t,r){const a=Array.from(e),[s]=a.splice(t,1);return a.splice(r,0,s),a}const x8=({productId:e,images:t,onChange:r,isAdmin:a})=>{const[s,i]=N.useState(!1),[o,l]=N.useState(t||[]),c=N.useRef(null),[d,u]=N.useState(null);N.useEffect(()=>{l(t||[])},[t]);const f=async(j,A=!0)=>{var C,S,k;try{i(!0);const E=await ue.patchWithRetry(`/products/${e}/images`,{images:j}),T=(C=E==null?void 0:E.data)==null?void 0:C.imagesVersion;r(j),window.dispatchEvent(new CustomEvent("product-images-updated",{detail:{productId:e,images:j,imagesVersion:T,forceGlobal:!0}})),A&&z.success("Images updated")}catch(E){z.error(((k=(S=E==null?void 0:E.response)==null?void 0:S.data)==null?void 0:k.message)||"Failed to update images")}finally{i(!1)}},h=async j=>{var A;if(!(!j||j.length===0)){i(!0);try{const C=[];for(let k=0;k<j.length;k++){const E=j[k],T=new FormData;T.append("file",E);try{const F=await ue.post("/uploads/product-image",T,{headers:{"Content-Type":"multipart/form-data"}});(A=F==null?void 0:F.data)!=null&&A.url&&C.push(F.data.url)}catch(F){console.warn("Upload failed for file, skipping",E.name,F)}}if(!C.length){z.error("No images uploaded");return}const S=[...o,...C];l(S),await f(S)}finally{i(!1)}}},m=async j=>{const A=o.filter((C,S)=>S!==j);l(A),await f(A)},p=async j=>{if(j===0)return;const A=[o[j],...o.filter((C,S)=>S!==j)];l(A),await f(A)},x=j=>u(j),y=(j,A)=>{j.preventDefault(),d==null},v=async(j,A)=>{if(j.preventDefault(),d==null||d===A)return;const C=xMe(o,d,A);u(null),l(C),await f(C,!1)},w=async()=>{const j=prompt("Enter image URL or Cloudinary public ID");if(!j)return;const A=[...o,j.trim()];l(A),await f(A)};return a?n.jsxs("div",{className:"mt-4 border rounded-lg p-4 bg-white/70",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Manage Images"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{type:"button",disabled:s,onClick:()=>{var j;return(j=c.current)==null?void 0:j.click()},className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded bg-indigo-600 text-white hover:bg-indigo-500 disabled:opacity-50",children:[n.jsx(fr,{className:"w-4 h-4"})," Upload"]}),n.jsxs("button",{type:"button",disabled:s,onClick:w,className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded bg-gray-200 hover:bg-gray-300 text-gray-800 disabled:opacity-50",children:[n.jsx(fr,{className:"w-4 h-4"})," URL"]}),n.jsx("input",{ref:c,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:j=>h(j.target.files)})]})]}),o.length===0&&n.jsx("p",{className:"text-xs text-gray-500",children:"No images yet. Upload or add by URL."}),n.jsx("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-3 md:grid-cols-4",children:o.map((j,A)=>{const C=Wa(j);return n.jsxs("div",{className:"relative group border rounded-md overflow-hidden bg-gray-50",draggable:!0,onDragStart:()=>x(A),onDragOver:S=>y(S,A),onDrop:S=>v(S,A),children:[n.jsx("img",{src:C,alt:`Product image ${A+1}`,className:"w-full h-32 object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors"}),n.jsx("div",{className:"absolute top-1 left-1 flex gap-1",children:n.jsx("button",{type:"button",onClick:()=>p(A),disabled:s,className:`p-1 rounded text-xs flex items-center gap-1 ${A===0?"bg-yellow-400 text-black":"bg-white/80 hover:bg-white"}`,title:A===0?"Primary image":"Set as primary",children:n.jsx(Dr,{className:`w-4 h-4 ${A===0?"fill-current":""}`})})}),n.jsx("div",{className:"absolute top-1 right-1 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx("button",{type:"button",onClick:()=>m(A),disabled:s,className:"p-1 rounded bg-white/80 hover:bg-white text-red-600",title:"Delete",children:n.jsx(en,{className:"w-4 h-4"})})}),n.jsxs("div",{className:"absolute bottom-1 left-1 flex items-center gap-1 bg-white/80 text-[10px] px-1 py-0.5 rounded",children:[n.jsx(cc,{className:"w-3 h-3"})," ",A+1]})]},A)})}),s&&n.jsx("p",{className:"text-xs mt-2 text-indigo-600 animate-pulse",children:"Saving changes..."})]}):null};function yMe({productId:e,onUpdate:t}){var Bt,vt,Gt,Ut,ft,Ht,dr,St,ir,Kr,Jn,Zn,qa,gn,tn,va;const[r,a]=N.useState(null),[s,i]=N.useState(!1),[o,l]=N.useState({}),[c,d]=N.useState(!1),[u,f]=N.useState([]),[h,m]=N.useState(!1),[p,x]=N.useState(null),[y,v]=N.useState(!1),[w,j]=N.useState(null),[A,C]=N.useState(null),[S,k]=N.useState("seo"),[E,T]=N.useState(!1),[F,O]=N.useState(()=>{var je;return(je=r==null?void 0:r.relatedProducts)!=null&&je.length?"manual":"off"}),[P,W]=N.useState(!1),[q,D]=N.useState(null),[M,H]=N.useState(!1),[ee,X]=N.useState(""),[de,le]=N.useState([]),[G,K]=N.useState(!1),[Z,I]=N.useState(!1),[V,te]=N.useState(""),[R,U]=N.useState(!1),[Q,J]=N.useState(!1),[L,he]=N.useState([]),ge=Dd(),[Ae,Ee]=N.useState({});N.useEffect(()=>{tt()},[e]),N.useEffect(()=>{s&&u.length===0&&Ue()},[s]),N.useEffect(()=>{(async()=>{if(!(!M||L.length))try{U(!0);const Oe=await ue.getWithRetry("/products?limit=30&includeInactive=false");he(Oe.data||[])}catch(Oe){}finally{U(!1)}})()},[M]);const xe=()=>{const je=L;if(!V.trim())return je;const Oe=V.trim().toLowerCase();return je.filter(Ze=>{var He;return(He=Ze.name)==null?void 0:He.toLowerCase().includes(Oe)})},Te=()=>{const je=xe();return je.length?`1-${je.length} of ${je.length} products`:""},Ue=async()=>{m(!0),x(null);try{const je=await ue.getWithRetry("/categories");f(je.data||[])}catch(je){x("Failed to load categories")}finally{m(!1)}},tt=async()=>{var je;try{const Oe=await ue.getWithRetry(`/products/${e}`);a(Oe.data);const Ze=Array.isArray(Oe.data.images)?Oe.data.images:[];let He=[];if((!Ze||Ze.length===0)&&Array.isArray(Oe.data.colors)){const be=Oe.data.colors.flatMap(at=>Array.isArray(at==null?void 0:at.images)?at.images:[]),Ke=new Set;He=be.filter(at=>{if(!at)return!1;const bt=String(at);return Ke.has(bt)?!1:(Ke.add(bt),!0)})}const dt=Ze.length?Ze:He;l({...Oe.data,images:dt,category:typeof Oe.data.category=="object"&&((je=Oe.data.category)!=null&&je._id)?Oe.data.category._id:Oe.data.category,categories:(Oe.data.categories||[]).map(be=>typeof be=="object"?be._id:be),relatedProducts:(Oe.data.relatedProducts||[]).map(be=>typeof be=="object"?be._id:be),addOns:(Oe.data.addOns||[]).map(be=>typeof be=="object"?be._id:be),isActive:Oe.data.isActive!==!1,isFeatured:Oe.data.isFeatured===!0,slug:Oe.data.slug,metaTitle:Oe.data.metaTitle,metaDescription:Oe.data.metaDescription,metaKeywords:Oe.data.metaKeywords,ogTitle:Oe.data.ogTitle,ogDescription:Oe.data.ogDescription,ogImage:Oe.data.ogImage})}catch(Oe){z.error("Failed to fetch product details")}},ct=async()=>{var je,Oe,Ze;d(!0);try{const He={...o,category:((je=o.category)==null?void 0:je._id)||o.category,categories:(o.categories||[]).map(Ke=>typeof Ke=="object"?Ke._id:Ke),colors:o.colors,isActive:o.isActive!==!1,isFeatured:o.isFeatured===!0,relatedProducts:(o.relatedProducts||[]).map(Ke=>typeof Ke=="object"?Ke._id:Ke),addOns:(o.addOns||[]).map(Ke=>typeof Ke=="object"?Ke._id:Ke),metaKeywords:Array.isArray(o.metaKeywords)?o.metaKeywords:[]},dt=await ue.putWithRetry(`/products/${e}`,He),be=(dt==null?void 0:dt.data)||{...r,...o};a(be);try{const Ke=be.images,at=be.imagesVersion;if(Array.isArray(Ke)&&Ke.length)window.dispatchEvent(new CustomEvent("product-images-updated",{detail:{productId:e,images:Ke,imagesVersion:at}}));else if(Array.isArray(be.colors)){const bt=be.colors.flatMap(yt=>Array.isArray(yt.images)?yt.images:[]).filter(Boolean);bt.length&&(window.dispatchEvent(new CustomEvent("product-images-updated",{detail:{productId:e,images:bt,imagesVersion:at}})),window.dispatchEvent(new CustomEvent("product-variant-images-updated",{detail:{productId:e,variantImages:bt}})))}}catch(Ke){}i(!1),z.success("Product updated successfully"),t&&t()}catch(He){const dt=((Ze=(Oe=He==null?void 0:He.response)==null?void 0:Oe.data)==null?void 0:Ze.message)||"Failed to update product";z.error(dt)}finally{d(!1)}},mt=async(je,Oe)=>{var He,dt;const Ze=Array.from(je.target.files||[]);if(Ze.length){Ee(be=>({...be,[Oe]:!0}));try{if((((dt=(He=o.colors)==null?void 0:He[Oe])==null?void 0:dt.images)||[]).length+Ze.length>5){z.error("Maximum 5 images per color");return}const Ke=await Promise.all(Ze.map(at=>Ys(at)));l(at=>{const bt=[...at.colors||[]],yt=bt[Oe]||{name:"",code:"#000000",sizes:[],images:[]};let Xe=(yt.images||[]).concat(Ke);return Xe.length>5&&(z.error("Maximum 5 images per color"),Xe=Xe.slice(0,5)),bt[Oe]={...yt,images:Xe},{...at,colors:bt}})}catch(be){z.error("Failed to upload image(s)")}finally{Ee(be=>({...be,[Oe]:!1})),je.target&&(je.target.value="")}}},ut=(je,Oe)=>{l(Ze=>{const He=[...Ze.colors||[]],dt=He[je];if(!dt)return Ze;const be=(dt.images||[]).filter((Ke,at)=>at!==Oe);return He[je]={...dt,images:be},{...Ze,colors:He}})},it=async je=>{var Ze,He,dt;const Oe=(Ze=je.target.files)==null?void 0:Ze[0];if(Oe){if(j(null),Oe.size>100*1024*1024){j("File too large (max 100MB)");return}v(!0),C(null);try{const be=new FormData;be.append("video",Oe);const at=(await ue.post(`/products/${e}/videos`,be,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:bt=>{bt.total&&C(Math.round(bt.loaded/bt.total*100))}})).data.url;l(bt=>({...bt,videoUrls:[...bt.videoUrls||[],at]})),z.success("Video uploaded")}catch(be){const Ke=((dt=(He=be==null?void 0:be.response)==null?void 0:He.data)==null?void 0:dt.message)||be.message||"Upload failed";j(Ke),z.error(Ke)}finally{v(!1),C(null),je.target&&(je.target.value="")}}},At=()=>o.originalPrice&&o.price?Math.round((o.originalPrice-o.price)/o.originalPrice*100):0;return r?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Product Information"}),s?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>i(!1),className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:n.jsx(xt,{className:"w-5 h-5"})}),n.jsxs("button",{onClick:ct,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[n.jsx(ma,{className:"w-4 h-4"}),c?"Saving...":"Save Changes"]})]}):n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100",children:[n.jsx(M2,{className:"w-4 h-4"}),"Edit"]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"pt-2 pb-4 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Images"}),n.jsxs("span",{className:"text-xs text-gray-500",children:[((Bt=r.images)==null?void 0:Bt.length)||0," image",(((vt=r.images)==null?void 0:vt.length)||0)!==1&&"s"]})]}),(()=>{const je=r.images&&r.images.length>0?r.images:Array.isArray(r.colors)?r.colors.flatMap(Oe=>Array.isArray(Oe.images)?Oe.images:[]).filter(Boolean):[];return je.length?n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-16 h-16 rounded border overflow-hidden bg-gray-50",children:n.jsx("img",{src:je[0],alt:"Primary",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Primary:"})," First image in list. Drag to change."]}),r.images&&r.images.length===0&&je.length>0&&n.jsx("div",{className:"text-[10px] text-indigo-600",children:"Showing images derived from color variants (not yet saved as top-level). Upload or reorder to promote them."})]})]}):null})(),n.jsx(x8,{productId:e,images:r.images&&r.images.length>0?r.images:Array.isArray(r.colors)?r.colors.flatMap(je=>Array.isArray(je.images)?je.images:[]).filter(Boolean):[],isAdmin:!0,onChange:je=>{a(Oe=>Oe&&{...Oe,images:je}),l(Oe=>({...Oe,images:je}))}}),(!r.images||r.images.length===0)&&n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"No images yet. Use Upload or URL to add your first product image."})]}),n.jsxs("div",{className:"pt-2 pb-4 border-b",children:[n.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:"Selling Tools"}),n.jsxs("div",{className:"border rounded-lg divide-y",children:[n.jsxs("div",{className:"p-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 mb-1",children:"Product Add-ons"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Upsell customers with product add-ons directly on the product page."})]}),n.jsxs("button",{type:"button",onClick:()=>H(!0),className:"w-full text-left p-4 flex items-center justify-between hover:bg-gray-50 border-t",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Add-ons"}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Selected: ",(o.addOns||r.addOns||[]).length]})]}),n.jsx("span",{className:"text-gray-400",children:"›"})]}),n.jsxs("div",{className:"p-4 flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Featured Product"}),n.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Featured Products can be displayed in Summary Blocks on your page."})]}),n.jsx("button",{type:"button",onClick:()=>s&&l(je=>({...je,isFeatured:je.isFeatured!==!0})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s?o.isFeatured?"bg-indigo-600":"bg-gray-300":r.isFeatured?"bg-indigo-600":"bg-gray-300"}`,children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition ${s?o.isFeatured?"translate-x-5":"translate-x-1":r.isFeatured?"translate-x-5":"translate-x-1"}`})})]}),n.jsxs("button",{type:"button",onClick:()=>T(!0),className:"w-full text-left p-4 flex items-center justify-between hover:bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Related Products"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Showcase similar items on your Product Pages."})]}),n.jsx("span",{className:"text-gray-400",children:"›"})]}),n.jsxs("div",{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:"Product Reviews"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Show customer reviews directly on all product pages."})]}),n.jsx("a",{href:"#reviews",className:"text-xs text-indigo-600 hover:underline",children:"Manage"})]})]})]}),n.jsxs("div",{className:"pt-2 pb-4 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Size Guide"}),!s&&((Ut=(Gt=r.sizeGuide)==null?void 0:Gt.rows)!=null&&Ut.length)?n.jsxs("span",{className:"text-xs text-gray-500",children:[r.sizeGuide.rows.length," size",r.sizeGuide.rows.length>1?"s":""]}):null]}),s?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Title"}),n.jsx("input",{type:"text",value:((ft=o.sizeGuide)==null?void 0:ft.title)||"",onChange:je=>l(Oe=>({...Oe,sizeGuide:{...Oe.sizeGuide||{},title:je.target.value}})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Unit"}),n.jsxs("select",{value:((Ht=o.sizeGuide)==null?void 0:Ht.unit)||"cm",onChange:je=>l(Oe=>({...Oe,sizeGuide:{...Oe.sizeGuide||{},unit:je.target.value}})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"cm",children:"cm"}),n.jsx("option",{value:"in",children:"inch"})]})]})]}),n.jsx("div",{className:"overflow-x-auto border rounded-lg",children:n.jsxs("table",{className:"min-w-full text-xs",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{className:"text-gray-600",children:[n.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Size"}),n.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Chest"}),n.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Waist"}),n.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Hip"}),n.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Length"}),n.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Sleeve"}),n.jsx("th",{className:"px-2 py-2"})]})}),n.jsx("tbody",{className:"divide-y",children:(((dr=o.sizeGuide)==null?void 0:dr.rows)||[]).map((je,Oe)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[["size","chest","waist","hip","length","sleeve"].map(Ze=>{var He;return n.jsx("td",{className:"px-2 py-1",children:n.jsx("input",{type:Ze==="size"?"text":"number",step:"0.1",value:(He=je[Ze])!=null?He:"",onChange:dt=>l(be=>{var Ke;return{...be,sizeGuide:{...be.sizeGuide||{},rows:(((Ke=be.sizeGuide)==null?void 0:Ke.rows)||[]).map((at,bt)=>bt===Oe?{...at,[Ze]:Ze==="size"?dt.target.value:dt.target.value===""?void 0:parseFloat(dt.target.value)}:at)}}}),className:"w-20 px-2 py-1 border rounded focus:ring-1 focus:ring-indigo-500"})},Ze)}),n.jsx("td",{className:"px-2 py-1 text-right",children:n.jsx("button",{type:"button",onClick:()=>l(Ze=>{var He;return{...Ze,sizeGuide:{...Ze.sizeGuide||{},rows:(((He=Ze.sizeGuide)==null?void 0:He.rows)||[]).filter((dt,be)=>be!==Oe)}}}),className:"text-xs px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"X"})})]},Oe))})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>l(je=>{var Oe;return{...je,sizeGuide:{...je.sizeGuide||{},rows:[...((Oe=je.sizeGuide)==null?void 0:Oe.rows)||[],{size:""}]}}}),className:"text-xs px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Add Row"}),(((St=o.sizeGuide)==null?void 0:St.rows)||[]).length>0&&n.jsx("button",{type:"button",onClick:()=>l(je=>({...je,sizeGuide:{...je.sizeGuide||{},rows:[]}})),className:"text-xs px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Clear"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Note"}),n.jsx("textarea",{rows:2,value:((ir=o.sizeGuide)==null?void 0:ir.note)||"",onChange:je=>l(Oe=>({...Oe,sizeGuide:{...Oe.sizeGuide||{},note:je.target.value}})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500",placeholder:"Measurement taken flat. Allow 1-2cm difference."})]})]}):n.jsxs("div",{className:"space-y-3",children:[(Jn=(Kr=r.sizeGuide)==null?void 0:Kr.rows)!=null&&Jn.length?n.jsx("div",{className:"overflow-x-auto border rounded-lg",children:n.jsxs("table",{className:"min-w-full text-xs",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{className:"text-gray-600",children:[n.jsx("th",{className:"px-2 py-2 text-left font-medium",children:"Size"}),["chest","waist","hip","length","sleeve"].map(je=>n.jsx("th",{className:"px-2 py-2 text-left font-medium capitalize",children:je},je))]})}),n.jsx("tbody",{className:"divide-y",children:r.sizeGuide.rows.map((je,Oe)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-2 py-1 font-medium",children:je.size}),["chest","waist","hip","length","sleeve"].map(Ze=>{var He;return n.jsx("td",{className:"px-2 py-1",children:(He=je[Ze])!=null?He:"-"},Ze)})]},Oe))})]})}):n.jsx("p",{className:"text-sm text-gray-500",children:"No size guide set."}),((Zn=r.sizeGuide)==null?void 0:Zn.note)&&n.jsx("p",{className:"text-xs text-gray-500 whitespace-pre-line",children:r.sizeGuide.note})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),s?n.jsx("input",{type:"text",value:o.name||"",onChange:je=>l(Oe=>({...Oe,name:je.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}):n.jsx("p",{className:"text-gray-900",children:r.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s?n.jsxs("div",{children:[h&&n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Loading categories..."}),p&&n.jsxs("div",{className:"text-xs text-red-600 mb-1 flex items-center justify-between",children:[n.jsx("span",{children:p}),n.jsx("button",{onClick:Ue,type:"button",className:"text-indigo-600 hover:underline",children:"Retry"})]}),n.jsxs("select",{value:o.category||"",onChange:je=>l(Oe=>({...Oe,category:je.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 disabled:opacity-50",disabled:h,children:[n.jsx("option",{value:"",children:"Select category"}),u.map(je=>n.jsx("option",{value:je._id,children:je.name},je._id))]})]}):n.jsx("p",{className:"text-gray-900",children:typeof r.category=="object"?r.category.name:r.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Price"}),s?n.jsx("input",{type:"number",min:"0",step:"0.01",value:o.price||"",onChange:je=>l(Oe=>({...Oe,price:parseFloat(je.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}):n.jsx("p",{className:"text-gray-900",children:lt(r.price,ge)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Price"}),s?n.jsx("input",{type:"number",min:"0",step:"0.01",value:o.originalPrice||"",onChange:je=>l(Oe=>({...Oe,originalPrice:parseFloat(je.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}):n.jsx("p",{className:"text-gray-900",children:r.originalPrice?lt(r.originalPrice,ge):"-"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock"}),s?n.jsx("input",{type:"number",min:"0",value:o.stock||"",onChange:je=>l(Oe=>({...Oe,stock:parseInt(je.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}):n.jsxs("p",{className:"text-gray-900",children:[r.stock," units"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Product"}),s?n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:o.isNew||!1,onChange:je=>l(Oe=>({...Oe,isNew:je.target.checked})),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Mark as new product"})]}):n.jsx("p",{className:"text-gray-900",children:r.isNew?"Yes":"No"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Active"}),s?n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",checked:o.isActive!==!1,onChange:je=>l(Oe=>({...Oe,isActive:je.target.checked})),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("span",{children:o.isActive!==!1?"Active (visible)":"Inactive (hidden)"})]}):n.jsx("p",{className:"text-gray-900",children:r.isActive!==!1?"Active":"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s?n.jsx("textarea",{rows:4,value:o.description||"",onChange:je=>l(Oe=>({...Oe,description:je.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"}):n.jsx("p",{className:"text-gray-600",children:r.description})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-6 border-t",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-400 mb-2",children:[n.jsx(Dr,{className:"w-5 h-5 fill-current"}),n.jsx("span",{className:"text-lg font-semibold",children:r.rating.toFixed(1)})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[r.reviews.length," reviews"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-600 mb-2",children:[n.jsx(Bm,{className:"w-5 h-5"}),n.jsx("span",{className:"text-lg font-semibold",children:"100%"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Authentic"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 mb-2",children:[n.jsx(ua,{className:"w-5 h-5"}),n.jsx("span",{className:"text-lg font-semibold",children:"Free"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Shipping"})]})]}),o.originalPrice&&o.price&&n.jsx("div",{className:"pt-6 border-t",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Calculated Discount:"}),n.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded",children:[At(),"% OFF"]})]})}),n.jsxs("div",{className:"pt-6 border-t space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Product Videos"}),!s&&((qa=r.videoUrls)!=null&&qa.length)?n.jsxs("span",{className:"text-xs text-gray-500",children:[r.videoUrls.length," video",r.videoUrls.length>1?"s":""]}):null]}),s?n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Upload Video (mp4/webm)"}),n.jsx("input",{type:"file",accept:"video/mp4,video/webm,video/ogg,video/quicktime,video/x-matroska",onChange:it,disabled:y,className:"block text-xs"}),A!=null&&n.jsx("div",{className:"mt-1 w-48 h-2 bg-gray-200 rounded overflow-hidden",children:n.jsx("div",{className:"h-full bg-indigo-600 transition-all",style:{width:`${A}%`}})}),y&&A==null&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Uploading..."}),w&&n.jsx("div",{className:"text-xs text-red-600 mt-1",children:w})]})}),(o.videoUrls||[]).map((je,Oe)=>n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("input",{type:"text",value:je,placeholder:"https://cdn.example.com/video.mp4",onChange:Ze=>l(He=>({...He,videoUrls:(He.videoUrls||[]).map((dt,be)=>be===Oe?Ze.target.value:dt)})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"}),/^https?:\/\//i.test(je)&&/(mp4|webm)$/i.test(je.split("?")[0])&&n.jsx("video",{className:"w-full rounded border",src:je,controls:!0,preload:"metadata"})]}),n.jsx("button",{type:"button",onClick:()=>l(Ze=>({...Ze,videoUrls:(Ze.videoUrls||[]).filter((He,dt)=>dt!==Oe)})),className:"text-xs px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600 h-8 mt-0.5",children:"Remove"})]},Oe)),(o.videoUrls||[]).length<8&&n.jsx("button",{type:"button",onClick:()=>l(je=>({...je,videoUrls:[...je.videoUrls||[],""]})),className:"text-xs px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Add Video URL"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Up to 8 URLs. Direct .mp4 or .webm links will show a preview."})]}):n.jsx("div",{className:"space-y-3",children:r.videoUrls&&r.videoUrls.length?r.videoUrls.map((je,Oe)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs text-gray-500 break-all",children:je}),/^https?:\/\//i.test(je)&&/(mp4|webm)$/i.test(je.split("?")[0])&&n.jsx("video",{className:"w-full max-w-md rounded border",src:je,controls:!0,preload:"metadata"})]},Oe)):n.jsx("p",{className:"text-sm text-gray-500",children:"No videos added."})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Categories"}),s?n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"Hold Ctrl (Windows) / Cmd (Mac) to multi-select."}),n.jsx("select",{multiple:!0,value:o.categories||[],onChange:je=>{const Oe=Array.from(je.target.selectedOptions).map(Ze=>Ze.value);l(Ze=>({...Ze,categories:Oe}))},className:"w-full h-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:u.map(je=>n.jsx("option",{value:je._id,children:je.name},je._id))})]}):n.jsx("p",{className:"text-gray-900 text-sm",children:(r.categories||[]).length?r.categories.map(je=>typeof je=="object"?je.name:je).join(", "):"-"})]}),n.jsxs("div",{className:"pt-6 border-t space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-md font-medium text-gray-900",children:"Colors & Sizes"}),!s&&((gn=r.colors)!=null&&gn.length)?n.jsxs("span",{className:"text-xs text-gray-500",children:[r.colors.length," color",r.colors.length>1?"s":""]}):null]}),s?n.jsxs("div",{className:"space-y-6",children:[(o.colors||[]).map((je,Oe)=>{var Ze;return n.jsxs("div",{className:"border rounded-lg p-4 space-y-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Color Name"}),n.jsx("input",{type:"text",value:je.name,onChange:He=>l(dt=>({...dt,colors:(dt.colors||[]).map((be,Ke)=>Ke===Oe?{...be,name:He.target.value}:be)})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Hex Code"}),n.jsx("input",{type:"text",value:je.code,onChange:He=>l(dt=>({...dt,colors:(dt.colors||[]).map((be,Ke)=>Ke===Oe?{...be,code:He.target.value}:be)})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 font-mono",placeholder:"#000000"})]})]}),n.jsx("button",{type:"button",onClick:()=>l(He=>({...He,colors:(He.colors||[]).filter((dt,be)=>be!==Oe)})),className:"text-xs px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600 h-8",children:"Remove"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Images (max 5)"}),Ae[Oe]&&n.jsx("span",{className:"text-[10px] text-gray-500",children:"Uploading..."})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(je.images||[]).map((He,dt)=>n.jsxs("div",{className:"relative w-16 h-16 rounded overflow-hidden border bg-white",children:[n.jsx("img",{src:He,alt:je.name||"color",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>ut(Oe,dt),className:"absolute top-0 right-0 bg-white/80 hover:bg-white text-gray-700 rounded-bl px-1 py-0.5",children:n.jsx(xt,{className:"w-3 h-3"})})]},dt)),(((Ze=je.images)==null?void 0:Ze.length)||0)<5&&n.jsxs("label",{className:"w-16 h-16 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-gray-400 text-gray-400 text-[10px]",children:[n.jsx(Gn,{className:"w-4 h-4"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:He=>mt(He,Oe),className:"hidden"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Sizes"}),n.jsx("button",{type:"button",onClick:()=>l(He=>({...He,colors:(He.colors||[]).map((dt,be)=>be===Oe?{...dt,sizes:[...dt.sizes,{name:"",stock:0}]}:dt)})),className:"text-[10px] px-2 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Add Size"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-xs border",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-1 text-left font-medium",children:"Size"}),n.jsx("th",{className:"px-2 py-1 text-left font-medium",children:"Stock"}),n.jsx("th",{className:"px-2 py-1"})]})}),n.jsx("tbody",{className:"divide-y",children:je.sizes.map((He,dt)=>n.jsxs("tr",{className:"bg-white",children:[n.jsx("td",{className:"px-2 py-1",children:n.jsx("input",{type:"text",value:He.name,onChange:be=>l(Ke=>({...Ke,colors:(Ke.colors||[]).map((at,bt)=>bt===Oe?{...at,sizes:at.sizes.map((yt,_e)=>_e===dt?{...yt,name:be.target.value}:yt)}:at)})),className:"w-24 px-2 py-1 border rounded focus:ring-1 focus:ring-indigo-500"})}),n.jsx("td",{className:"px-2 py-1",children:n.jsx("input",{type:"number",min:0,value:He.stock,onChange:be=>l(Ke=>({...Ke,colors:(Ke.colors||[]).map((at,bt)=>bt===Oe?{...at,sizes:at.sizes.map((yt,_e)=>_e===dt?{...yt,stock:parseInt(be.target.value)||0}:yt)}:at)})),className:"w-24 px-2 py-1 border rounded focus:ring-1 focus:ring-indigo-500"})}),n.jsx("td",{className:"px-2 py-1 text-right",children:n.jsx("button",{type:"button",onClick:()=>l(be=>({...be,colors:(be.colors||[]).map((Ke,at)=>at===Oe?{...Ke,sizes:Ke.sizes.filter((bt,yt)=>yt!==dt)}:Ke)})),className:"text-[10px] px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600",children:"X"})})]},dt))})]})})]})]},Oe)}),n.jsx("button",{type:"button",onClick:()=>l(je=>({...je,colors:[...je.colors||[],{name:"",code:"#000000",sizes:[]}]})),className:"text-xs px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Add Color"})]}):n.jsx("div",{className:"space-y-4",children:(tn=r.colors)!=null&&tn.length?r.colors.map((je,Oe)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-4 h-4 rounded-full border",style:{background:je.code}}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:je.name})]}),n.jsxs("span",{className:"text-xs text-gray-500",children:[je.sizes.length," size",je.sizes.length>1?"s":""]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-xs",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-1 text-left font-medium",children:"Size"}),n.jsx("th",{className:"px-2 py-1 text-left font-medium",children:"Stock"})]})}),n.jsx("tbody",{className:"divide-y",children:je.sizes.map((Ze,He)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-2 py-1 font-medium",children:Ze.name}),n.jsx("td",{className:"px-2 py-1",children:Ze.stock})]},He))})]})})]},Oe)):n.jsx("p",{className:"text-sm text-gray-500",children:"No colors set."})})]}),n.jsxs("div",{className:"pt-8 border-t space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Marketing"}),n.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white",children:[n.jsxs("div",{className:"flex border-b text-sm",children:[n.jsx("button",{type:"button",onClick:()=>k("seo"),className:`flex-1 px-6 py-3 font-medium ${S==="seo"?"text-gray-900 border-b-2 border-black":"text-gray-500 hover:text-gray-700"}`,children:"SEO and URL"}),n.jsx("button",{type:"button",onClick:()=>k("social"),className:`flex-1 px-6 py-3 font-medium ${S==="social"?"text-gray-900 border-b-2 border-black":"text-gray-500 hover:text-gray-700"}`,children:"Social Share"})]}),n.jsx("div",{className:"p-6 space-y-6",children:S==="seo"?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Slug (URL)"}),s?n.jsx("input",{type:"text",value:o.slug||"",onChange:je=>l(Oe=>({...Oe,slug:je.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500",placeholder:"auto-generated-if-empty"}):n.jsx("p",{className:"text-sm text-gray-700",children:r.slug||n.jsx("span",{className:"italic text-gray-400",children:"(auto)"})}),n.jsx("p",{className:"mt-1 text-[11px] text-gray-500",children:"Lowercase letters, numbers and dashes only. Leave blank to auto-generate from name."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Meta Title"}),s?n.jsx("input",{type:"text",value:o.metaTitle||"",onChange:je=>l(Oe=>({...Oe,metaTitle:je.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"}):n.jsx("p",{className:"text-sm text-gray-700",children:r.metaTitle||"-"})]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-6",children:n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Meta Description"}),s?n.jsx("textarea",{rows:3,value:o.metaDescription||"",onChange:je=>l(Oe=>({...Oe,metaDescription:je.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"}):n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:r.metaDescription||"-"})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Meta Keywords (comma separated)"}),s?n.jsx("input",{type:"text",value:(o.metaKeywords||[]).join(", "),onChange:je=>l(Oe=>({...Oe,metaKeywords:je.target.value.split(",").map(Ze=>Ze.trim()).filter(Boolean)})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500",placeholder:"shirt, cotton, summer"}):n.jsx("p",{className:"text-sm text-gray-700",children:Array.isArray(r.metaKeywords)&&r.metaKeywords.length?r.metaKeywords.join(", "):"-"})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"OG Title"}),s?n.jsx("input",{type:"text",value:o.ogTitle||"",onChange:je=>l(Oe=>({...Oe,ogTitle:je.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"}):n.jsx("p",{className:"text-sm text-gray-700",children:r.ogTitle||"-"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"OG Image URL"}),s?n.jsx("input",{type:"text",value:o.ogImage||"",onChange:je=>l(Oe=>({...Oe,ogImage:je.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500",placeholder:"https://cdn.example.com/image.jpg"}):n.jsx("p",{className:"text-sm text-gray-700 break-all",children:r.ogImage||"-"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"OG Description"}),s?n.jsx("textarea",{rows:3,value:o.ogDescription||"",onChange:je=>l(Oe=>({...Oe,ogDescription:je.target.value})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"}):n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:r.ogDescription||"-"})]}),o.ogImage&&/^https?:\/\//i.test(o.ogImage)&&n.jsx("div",{className:"pt-2",children:n.jsx("img",{src:o.ogImage,alt:"OG Preview",className:"max-h-40 rounded border"})})]})})]})]})]})]}),E&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",children:n.jsxs("div",{className:"bg-white w-full max-w-2xl rounded shadow-xl flex flex-col max-h-[90vh]",children:[n.jsxs("div",{className:"flex items-center justify-between px-8 py-6 border-b",children:[n.jsx("button",{onClick:()=>T(!1),className:"text-xs tracking-wide font-medium text-gray-800 hover:underline",children:"CANCEL"}),n.jsx("h2",{className:"text-sm font-semibold tracking-wide text-gray-900",children:"Related Products"}),n.jsx("button",{disabled:Z,onClick:async()=>{var je,Oe;try{I(!0);const Ze=F==="off"?[]:(o.relatedProducts||[]).map(He=>typeof He=="object"?He._id:He);await ue.putWithRetry(`/products/${e}/related`,{relatedProducts:Ze}),F==="off"&&l(He=>({...He,relatedProducts:[]})),z.success("Related products updated"),T(!1)}catch(Ze){z.error(((Oe=(je=Ze==null?void 0:Ze.response)==null?void 0:je.data)==null?void 0:Oe.message)||"Failed to save")}finally{I(!1)}},className:"px-5 py-2 text-[11px] font-semibold tracking-wide bg-black text-white disabled:opacity-40",children:Z?"APPLY...":"APPLY"})]}),n.jsxs("div",{className:"px-8 pt-8 pb-10 overflow-y-auto",children:[n.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:"Related Products"}),n.jsx("p",{className:"mt-3 text-sm leading-6 text-gray-600 max-w-xl",children:"To show related products on this product's page, choose a mode below."}),n.jsxs("div",{className:"mt-8 relative w-full max-w-md",children:[n.jsxs("button",{type:"button",onClick:()=>W(je=>!je),className:"w-full h-12 border border-gray-200 rounded flex items-center justify-between px-4 bg-gray-50 text-sm hover:bg-gray-100",children:[n.jsxs("span",{className:"truncate text-gray-800",children:[F==="off"&&"Off",F==="manual"&&"Manual selection",F==="category"&&(q==="ALL"?"All Categories":((va=u.find(je=>je._id===q))==null?void 0:va.name)||"Category")]}),n.jsx("span",{className:"text-gray-500",children:"▾"})]}),P&&n.jsx("div",{className:"absolute z-10 mt-2 bg-white border border-gray-200 rounded shadow-lg w-full py-2 text-sm",children:n.jsxs("ul",{className:"max-h-72 overflow-y-auto",children:[n.jsx("li",{children:n.jsxs("button",{type:"button",onClick:()=>{O("off"),D(null),W(!1),l(je=>({...je,relatedProducts:[]}))},className:"w-full flex items-center justify-between px-4 py-2 hover:bg-gray-100 text-gray-900",children:[n.jsx("span",{children:"Off"}),F==="off"&&n.jsx("span",{className:"text-xs",children:"✔"})]})}),n.jsx("li",{className:"px-4 pt-3 pb-1 text-[10px] uppercase tracking-wide text-gray-500",children:"Categories"}),n.jsx("li",{children:n.jsxs("button",{type:"button",onClick:async()=>{O("category"),D("ALL"),W(!1);try{const je=[];if(r&&(typeof r.category=="object"?je.push(r.category._id):r.category&&je.push(r.category),(r.categories||[]).forEach(Oe=>{const Ze=typeof Oe=="object"?Oe._id:Oe;Ze&&!je.includes(Ze)&&je.push(Ze)})),je.length){const Ze=((await ue.getWithRetry(`/products?categories=${encodeURIComponent(je.join(","))}&includeInactive=false`)).data||[]).filter(He=>He._id!==e).map(He=>He._id);l(He=>({...He,relatedProducts:Ze.slice(0,12)}))}}catch(je){}},className:"w-full flex items-center justify-between px-4 py-2 hover:bg-gray-100 text-gray-900",children:[n.jsx("span",{children:"All"}),F==="category"&&q==="ALL"&&n.jsx("span",{className:"text-xs",children:"✔"})]})}),u.map(je=>n.jsx("li",{children:n.jsxs("button",{type:"button",onClick:async()=>{O("category"),D(je._id),W(!1);try{const Ze=((await ue.getWithRetry(`/products?categories=${encodeURIComponent(je._id)}&includeInactive=false`)).data||[]).filter(He=>He._id!==e).map(He=>He._id);l(He=>({...He,relatedProducts:Ze.slice(0,12)}))}catch(Oe){}},className:"w-full flex items-center justify-between px-4 py-2 hover:bg-gray-100 text-gray-900",children:[n.jsx("span",{className:"truncate",children:je.name}),F==="category"&&q===je._id&&n.jsx("span",{className:"text-xs",children:"✔"})]})},je._id)),n.jsx("li",{className:"px-4 pt-3 pb-1 text-[10px] uppercase tracking-wide text-gray-500",children:"Manual"}),n.jsx("li",{children:n.jsxs("button",{type:"button",onClick:()=>{O("manual"),D(null),W(!1)},className:"w-full flex items-center justify-between px-4 py-2 hover:bg-gray-100 text-gray-900",children:[n.jsx("span",{children:"Manual selection"}),F==="manual"&&n.jsx("span",{className:"text-xs",children:"✔"})]})})]})})]}),F==="manual"&&n.jsxs("div",{className:"mt-10 space-y-6",children:[n.jsxs("div",{className:"flex gap-2 max-w-md",children:[n.jsx("input",{type:"text",value:ee,onChange:je=>X(je.target.value),placeholder:"Search products",className:"flex-1 h-10 px-3 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-500"}),n.jsx("button",{type:"button",onClick:async()=>{if(ee.trim())try{K(!0);const je=await ue.getWithRetry(`/products/search?query=${encodeURIComponent(ee.trim())}`);le(je.data||[])}catch(je){z.error("Search failed")}finally{K(!1)}},className:"px-4 h-10 bg-indigo-600 text-white text-sm rounded disabled:opacity-50",disabled:G,children:G?"...":"Search"})]}),n.jsxs("div",{className:"border rounded max-w-md max-h-56 overflow-y-auto divide-y",children:[(o.relatedProducts||[]).length===0&&de.length===0&&n.jsx("p",{className:"p-4 text-xs text-gray-500",children:"No products selected."}),(o.relatedProducts||[]).map((je,Oe)=>n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50",children:[n.jsx("span",{className:"text-xs truncate pr-4",title:je,children:je}),n.jsx("button",{type:"button",onClick:()=>l(Ze=>({...Ze,relatedProducts:(Ze.relatedProducts||[]).filter((He,dt)=>dt!==Oe)})),className:"text-[11px] text-red-500 hover:text-red-600",children:"Remove"})]},je+""+Oe))]}),de.length>0&&n.jsxs("div",{className:"space-y-1 max-w-md",children:[n.jsx("p",{className:"text-[11px] font-medium text-gray-600",children:"Results"}),n.jsx("div",{className:"border rounded divide-y max-h-40 overflow-y-auto",children:de.map(je=>{var Ze;const Oe=(Ze=o.relatedProducts)==null?void 0:Ze.includes(je._id);return n.jsxs("button",{type:"button",onClick:()=>l(He=>{var dt;return(dt=He.relatedProducts)!=null&&dt.includes(je._id)?He:{...He,relatedProducts:[...He.relatedProducts||[],je._id]}}),className:"w-full flex items-center justify-between px-3 py-2 text-left text-xs hover:bg-indigo-50",children:[n.jsx("span",{className:"truncate pr-2",children:je.name}),Oe&&n.jsx("span",{className:"text-indigo-600 text-[10px]",children:"Added"})]},je._id)})})]})]})]})]})}),M&&n.jsxs("div",{className:"fixed inset-0 z-50 bg-white overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between px-8 py-6",children:[n.jsx("button",{onClick:()=>H(!1),className:"text-xs tracking-wide font-medium text-gray-800 hover:underline",children:"CANCEL"}),n.jsx("h2",{className:"text-sm font-semibold tracking-wide text-gray-900",children:"Add Product Add-ons"}),n.jsx("button",{disabled:Q,onClick:async()=>{var je,Oe;try{J(!0),await ue.putWithRetry(`/products/${e}/addons`,{addOns:(o.addOns||[]).map(Ze=>typeof Ze=="object"?Ze._id:Ze)}),z.success("Add-ons updated"),H(!1)}catch(Ze){z.error(((Oe=(je=Ze==null?void 0:Ze.response)==null?void 0:je.data)==null?void 0:Oe.message)||"Failed to save")}finally{J(!1)}},className:"px-5 py-2 text-[11px] font-semibold tracking-wide bg-black text-white disabled:opacity-40",children:Q?"APPLY...":"APPLY"})]}),n.jsxs("div",{className:"max-w-3xl mx-auto px-8 pb-24",children:[n.jsx("h3",{className:"text-2xl font-semibold text-gray-900",children:"Product Add-ons"}),n.jsxs("p",{className:"mt-3 text-sm leading-6 text-gray-600 max-w-2xl",children:["Select a product add-on to upsell with your featured product. Products with subscriptions or more than one variant option are not available as add-ons.",n.jsx("button",{type:"button",className:"ml-2 underline",children:"Learn more"})]}),n.jsx("div",{className:"mt-8",children:n.jsxs("div",{className:"flex items-center bg-gray-100 h-12 px-4 w-full max-w-xl",children:[n.jsx("span",{className:"text-gray-500 text-sm mr-3",children:"🔍"}),n.jsx("input",{type:"text",value:V,onChange:je=>te(je.target.value),placeholder:"Search products",className:"flex-1 bg-transparent outline-none text-sm placeholder-gray-500"})]})}),n.jsxs("div",{className:"mt-8 border-t border-gray-200",children:[n.jsxs("ul",{className:"divide-y divide-gray-200",children:[R&&n.jsx("li",{className:"py-8 text-center text-sm text-gray-500",children:"Loading products..."}),!R&&xe().length===0&&n.jsx("li",{className:"py-8 text-center text-sm text-gray-500",children:"No products found."}),!R&&xe().map(je=>{var Ze;const Oe=(o.addOns||[]).includes(je._id);return n.jsxs("li",{className:"flex items-center gap-6 py-6",children:[n.jsx("input",{type:"checkbox",checked:Oe,onChange:()=>l(He=>({...He,addOns:Oe?(He.addOns||[]).filter(dt=>dt!==je._id):[...He.addOns||[],je._id]})),className:"h-4 w-4 border-gray-400 rounded-sm"}),(Ze=je.images)!=null&&Ze[0]?n.jsx("img",{src:je.images[0],alt:je.name,className:"w-48 h-48 object-cover bg-gray-100"}):n.jsx("div",{className:"w-48 h-48 bg-gray-100"}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"text-sm font-medium text-gray-900",children:je.name})})]},je._id)})]}),n.jsx("p",{className:"mt-6 text-xs text-gray-600",children:Te()})]})]})]})]}):null}function vMe(){const{id:e}=RP(),t=Ea(),[r,a]=N.useState(null);return N.useEffect(()=>{e&&a(e)},[e]),r?n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("button",{onClick:()=>t("/admin/products"),className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800",children:[n.jsx(Zl,{className:"w-4 h-4"})," Back"]})}),n.jsx(yMe,{productId:r,onUpdate:()=>{}})]}):n.jsxs("div",{className:"p-6",children:[n.jsxs("button",{onClick:()=>t("/admin/products"),className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800 mb-4",children:[n.jsx(Zl,{className:"w-4 h-4"})," Back to Products"]}),n.jsx("div",{className:"text-gray-500",children:"Product not found."})]})}function bMe(){const{user:e}=ln();return n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsx(gMe,{user:{name:(e==null?void 0:e.name)||"Admin",email:(e==null?void 0:e.email)||"admin@example.com"}}),n.jsx("div",{className:"pl-64",children:n.jsx("main",{className:"p-8",children:n.jsxs(MP,{children:[g8.map(t=>{const r=t.path==="/admin"?"":t.path.replace("/admin/","");return n.jsx(Pl,{path:r||"/",element:n.jsx(t.component,{})},t.path)}),n.jsx(Pl,{path:"products/:id",element:n.jsx(vMe,{})})]})})})]})}function Nx({children:e,requireAdmin:t=!1}){const{isAuthenticated:r,user:a}=ln(),s=Nd();return r?t&&(a==null?void 0:a.role)!=="admin"?n.jsx(Lm,{to:"/",replace:!0}):n.jsx(n.Fragment,{children:e}):n.jsx(Lm,{to:"/login",state:{from:s},replace:!0})}const y8="Your Store";let Sx=null;function v8(e=8e3){return Sx||(Sx=new Promise((t,r)=>{var i,o;if(typeof window=="undefined"){r(new Error("Window not available"));return}if((o=(i=window.google)==null?void 0:i.accounts)!=null&&o.id){t();return}const a=document.querySelector("script[data-google-identity]"),s=()=>{var l,c;return(c=(l=window.google)==null?void 0:l.accounts)!=null&&c.id?(t(),!0):!1};if(a)a.addEventListener("load",()=>s()||r(new Error("Google script loaded but API missing"))),a.addEventListener("error",()=>r(new Error("Failed to load Google script")));else{const l=document.createElement("script");l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.setAttribute("data-google-identity","true"),l.onload=()=>{s()||r(new Error("Google script loaded but api not ready"))},l.onerror=()=>r(new Error("Failed to load Google script")),document.head.appendChild(l)}setTimeout(()=>{s()||r(new Error("Google script load timeout"))},e)}),Sx)}function wMe(){const[e,t]=N.useState(""),[r,a]=N.useState(""),[s,i]=N.useState(!1),[o,l]=N.useState(""),[c,d]=N.useState("prompt"),{google:u,loading:f}=ZP(),[h,m]=N.useState(!1),[p,x]=N.useState(!0),{login:y,user:v}=ln(),{settings:w}=vr(),j=Ea(),{t:A,i18n:C}=$t(),S=C.dir()==="rtl";N.useEffect(()=>{navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"geolocation"}).then(O=>{d(O.state),O.addEventListener("change",()=>{d(O.state)})}).catch(()=>{d("prompt")})},[]),N.useEffect(()=>{let O=!1;return(async()=>{var W,q;if(!(!(u!=null&&u.enabled)||!u.clientId))try{if(await v8(),O)return;if(!((q=(W=window.google)==null?void 0:W.accounts)!=null&&q.id))throw new Error("GIS API missing after load");window.google.accounts.id.initialize({client_id:u.clientId,callback:async D=>{var M,H;try{const{data:ee}=await ue.post("/auth/google",{credential:D.credential});localStorage.setItem("token",ee.token),z.success(A("auth.googleLoginSuccess","Logged in with Google")),j("/store",{replace:!0})}catch(ee){z.error(((H=(M=ee==null?void 0:ee.response)==null?void 0:M.data)==null?void 0:H.message)||A("auth.googleLoginFailed","Google login failed"))}}}),window.google.accounts.id.renderButton(document.getElementById("google-signin-container"),{theme:"outline",size:"large",shape:"rectangular",width:320}),O||(m(!0),x(!0))}catch(D){O||x(!1)}})(),()=>{O=!0}},[u,j,A]);const k=async O=>{var P,W;O.preventDefault(),i(!0),l("");try{await y({email:e,password:r}),v&&v.role==="admin"?j("/admin/dashboard",{replace:!0}):j("/store",{replace:!0})}catch(q){const D=((W=(P=q==null?void 0:q.response)==null?void 0:P.data)==null?void 0:W.message)||A("auth.errors.loginFailed");l(D)}finally{i(!1)}},E=()=>{window.location.protocol==="https:"?window.open("chrome://settings/content/location","_blank"):z(A("auth.location.prompt"),{icon:"ℹ️"})},T=(w==null?void 0:w.authBackgroundImage)||void 0,F=la(T)||T;return n.jsxs("div",{className:"relative min-h-screen w-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 overflow-hidden",children:[F&&n.jsxs("div",{className:"fixed inset-0 -z-10",children:[n.jsx("img",{src:F,alt:"Authentication background",className:"w-full h-full object-cover",loading:"lazy"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/60 to-gray-900/80"})]}),!F&&n.jsx("div",{className:"fixed inset-0 -z-10 bg-gray-50"}),n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(jo,{className:"w-12 h-12 text-indigo-400 drop-shadow"})}),n.jsxs("div",{className:"mt-6 text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[n.jsx(ZG,{className:"w-6 h-6 text-indigo-400 drop-shadow"}),n.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-white drop-shadow",children:(w==null?void 0:w.name)||(w==null?void 0:w.siteTitle)||y8})]}),n.jsx("h2",{className:"text-lg font-medium text-gray-100 drop-shadow",children:A("auth.title")})]}),n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-200 drop-shadow",children:[A("auth.haveAccount")," ",n.jsx(Vn,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:A("auth.createAccountLink")})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white/90 backdrop-blur-sm py-8 px-4 shadow-xl sm:rounded-lg sm:px-10",children:[c==="denied"&&n.jsx("div",{className:"mb-6 p-4 bg-yellow-50 rounded-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Vs,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:A("auth.location.blockedTitle")}),n.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[n.jsx("p",{children:A("auth.location.blockedMessage")}),n.jsx("button",{onClick:E,className:"mt-2 text-sm font-medium text-yellow-800 hover:text-yellow-900",children:A("auth.location.enable")})]})]})]})}),o&&n.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-600",children:[n.jsx(ka,{className:"w-5 h-5"}),n.jsx("p",{className:"text-sm",children:o})]}),n.jsxs("form",{className:"space-y-6",onSubmit:k,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:A("auth.email")}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:O=>t(O.target.value),className:`appearance-none block w-full ${S?"pr-10 pl-3":"pl-10 pr-3"} py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500`}),n.jsx(to,{className:`absolute ${S?"left-3":"right-3"} top-2.5 h-5 w-5 text-gray-400`})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:A("auth.password")}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:O=>a(O.target.value),className:`appearance-none block w-full ${S?"pr-10 pl-3":"pl-10 pr-3"} py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500`}),n.jsx(jo,{className:`absolute ${S?"left-3":"right-3"} top-2.5 h-5 w-5 text-gray-400`})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:A("auth.rememberMe")})]}),n.jsx("div",{className:"text-sm",children:n.jsx(Vn,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:A("auth.forgotPassword")})})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:A(s?"auth.signingIn":"auth.signInButton")})})]}),f&&n.jsx("div",{className:"mt-6 animate-pulse h-10 bg-gray-200 rounded"}),!f&&(u==null?void 0:u.enabled)&&u.clientId&&p&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:A("auth.orContinueWith")})})]}),n.jsx("div",{className:"mt-6 flex flex-col items-center",children:n.jsx("div",{id:"google-signin-container",className:h?"":"opacity-50 pointer-events-none"})})]}),!f&&(u==null?void 0:u.enabled)&&!p&&n.jsx("div",{className:"mt-4 text-center text-xs text-red-500",children:"Google sign-in not available (script failed to load)"}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:A("auth.demoCredentials")})})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 text-sm text-gray-600",children:[n.jsx("div",{children:A("auth.demoEmail")}),n.jsx("div",{children:A("auth.demoPassword")})]})]})]})})]})}function jMe(){const[e,t]=N.useState(""),[r,a]=N.useState(""),{t:s,i18n:i}=$t(),o=i.dir()==="rtl",[l,c]=N.useState(""),[d,u]=N.useState(""),[f,h]=N.useState(!1),[m,p]=N.useState(""),x=Ea(),{login:y}=ln(),{settings:v}=vr(),{google:w,loading:j}=ZP(),[A,C]=N.useState(!1),[S,k]=N.useState(!0),E=async O=>{var P,W;if(O.preventDefault(),p(""),l!==d){p(s("auth.register.passwordsNoMatch"));return}if(l.length<6){p(s("auth.register.passwordTooShort"));return}h(!0);try{const q=await ue.post("/auth/register",{name:e,email:r,password:l}),{token:D}=q.data;localStorage.setItem("token",D),await y({email:r,password:l}),z.success(s("auth.register.success")),x("/")}catch(q){const D=((W=(P=q.response)==null?void 0:P.data)==null?void 0:W.message)||s("auth.register.failed");p(D)}finally{h(!1)}},T=(v==null?void 0:v.authBackgroundImage)||void 0,F=la(T)||T;return N.useEffect(()=>{let O=!1;return(async()=>{var W,q;if(!(!w.enabled||!w.clientId))try{if(await v8(),O)return;if(!((q=(W=window.google)==null?void 0:W.accounts)!=null&&q.id))throw new Error("GIS API missing after load");window.google.accounts.id.initialize({client_id:w.clientId,callback:async D=>{var M,H;try{const{data:ee}=await ue.post("/auth/google",{credential:D.credential});localStorage.setItem("token",ee.token),z.success(s("auth.googleLoginSuccess","Logged in with Google")),x("/store",{replace:!0})}catch(ee){z.error(((H=(M=ee==null?void 0:ee.response)==null?void 0:M.data)==null?void 0:H.message)||s("auth.googleLoginFailed","Google login failed"))}}}),window.google.accounts.id.renderButton(document.getElementById("google-signin-container-register"),{theme:"outline",size:"large",shape:"rectangular",width:320}),O||(C(!0),k(!0))}catch(D){O||k(!1)}})(),()=>{O=!0}},[w,x,s]),n.jsxs("div",{className:"relative min-h-screen w-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 overflow-hidden",children:[F&&n.jsxs("div",{className:"fixed inset-0 -z-10",children:[n.jsx("img",{src:F,alt:"Authentication background",className:"w-full h-full object-cover",loading:"lazy"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/60 to-gray-900/80"})]}),!F&&n.jsx("div",{className:"fixed inset-0 -z-10 bg-gray-50"}),n.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"flex flex-col items-center",children:[v!=null&&v.logo?n.jsx("img",{src:v.logo,alt:((v==null?void 0:v.name)||(v==null?void 0:v.siteTitle)||y8)+" logo",className:"h-16 w-auto mb-4 object-contain",loading:"lazy"}):n.jsx(ec,{className:"w-12 h-12 text-indigo-600 mb-4"}),n.jsx("h2",{className:"text-center text-3xl font-bold text-white drop-shadow",children:s("auth.register.heading")})]})}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white/90 backdrop-blur-sm py-8 px-4 shadow-xl sm:rounded-lg sm:px-10",children:[m&&n.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-600",children:[n.jsx(ka,{className:"w-5 h-5"}),n.jsx("p",{className:"text-sm",children:m})]}),n.jsxs("form",{className:"space-y-6",onSubmit:E,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:s("auth.register.name")}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e,onChange:O=>t(O.target.value),className:`appearance-none block w-full ${o?"pr-10 pl-3":"pl-10 pr-3"} py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500`}),n.jsx(ec,{className:`absolute ${o?"left-3":"right-3"} top-2.5 h-5 w-5 text-gray-400`})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:s("auth.register.email")}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:O=>a(O.target.value),className:`appearance-none block w-full ${o?"pr-10 pl-3":"pl-10 pr-3"} py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500`}),n.jsx(to,{className:`absolute ${o?"left-3":"right-3"} top-2.5 h-5 w-5 text-gray-400`})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:s("auth.register.password")}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:l,onChange:O=>c(O.target.value),className:`appearance-none block w-full ${o?"pr-10 pl-3":"pl-10 pr-3"} py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500`}),n.jsx(jo,{className:`absolute ${o?"left-3":"right-3"} top-2.5 h-5 w-5 text-gray-400`})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:s("auth.register.confirmPassword")}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:d,onChange:O=>u(O.target.value),className:`appearance-none block w-full ${o?"pr-10 pl-3":"pl-10 pr-3"} py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500`}),n.jsx(jo,{className:`absolute ${o?"left-3":"right-3"} top-2.5 h-5 w-5 text-gray-400`})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s(f?"auth.register.creating":"auth.register.create")})})]}),j&&n.jsx("div",{className:"mt-6 animate-pulse h-10 bg-gray-200 rounded"}),!j&&w.enabled&&w.clientId&&S&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-white text-gray-500",children:s("auth.orContinueWith")})})]}),n.jsx("div",{className:"mt-6 flex flex-col items-center",children:n.jsx("div",{id:"google-signin-container-register",className:A?"":"opacity-50 pointer-events-none"})})]}),!j&&w.enabled&&!S&&n.jsx("div",{className:"mt-4 text-center text-xs text-red-500",children:"Google sign-in not available (script failed to load)"}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:()=>x("/login"),className:"w-full flex items-center justify-center gap-2 py-3 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[n.jsx(Zl,{className:"w-4 h-4"}),s("auth.register.backToLogin")]})})]})})]})}function Yl({product:e,layoutVariant:t="standard",forceAlwaysShowInfo:r=!1}){const[a,s]=N.useState(!1),{settings:i}=vr(),o=(i==null?void 0:i.productCardStyle)||"modern",l=Ea(),{addToCart:c}=ga(),{currency:d}=Ta(),u=i!=null&&i.currency&&i.currency in Vi?i.currency:d,{t:f}=$t(),h=A=>{A.stopPropagation(),c({id:e.id,name:e.name,price:e.price,image:e.image}),z.success(f("cart.added","Added to cart"))},m=t==="gallery",p=t==="compact",x=t==="carousel",v=m?"aspect-square":t==="wide"?"aspect-[4/5]":"aspect-[3/4]",j=(typeof window!="undefined"?window.innerWidth<1024:!1)?{name:i==null?void 0:i.newArrivalsMobileProductNameColor,price:i==null?void 0:i.newArrivalsMobileProductPriceColor}:{name:void 0,price:void 0};return n.jsxs("div",{onClick:()=>l(`/product/${e.id}`),className:`group relative cursor-pointer theme-font ${o==="minimal"?"":"transition-transform"} ${p?"text-xs":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[n.jsxs("div",{className:`relative ${v} overflow-hidden bg-gray-100 ${o==="classic"?"rounded-lg":"theme-border-radius"} ${m?"ring-1 ring-gray-200 hover:ring-indigo-400":""}`,children:[n.jsx("img",{src:e.image,alt:e.name,loading:"lazy",className:`absolute inset-0 w-full h-full object-cover ${e.hoverImage?"transition-opacity duration-300 group-hover:opacity-0":""} ${o==="minimal"?"":"transform transition-transform duration-700 group-hover:scale-105"}`}),e.hoverImage&&n.jsx("img",{src:e.hoverImage,alt:`${e.name} alternate view`,loading:"lazy",className:`absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-300 group-hover:opacity-100 ${o==="minimal"?"":"transform transition-transform duration-700 group-hover:scale-105"}`}),n.jsx("div",{className:`absolute inset-0 ${m?"bg-black/0 group-hover:bg-black/30":"bg-black/10"} ${a&&!m?"opacity-100":m?"transition-colors":"opacity-0"} ${o==="minimal"?"hidden":"transition-opacity duration-300"}`}),!m&&n.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.discount&&n.jsx("span",{className:"px-3 py-1 bg-rose-600 theme-background text-xs font-medium rounded-full",children:e.discount}),typeof e.stock=="number"&&e.stock<=0&&n.jsx("span",{className:"px-3 py-1 bg-gray-900/80 backdrop-blur text-white text-xs font-semibold rounded-full",children:"Sold Out"})]}),(x||!m&&!p)&&n.jsx("div",{className:`absolute inset-x-4 bottom-4 ${a||x?"opacity-100 translate-y-0":"opacity-0 translate-y-2"} ${o==="minimal"?"hidden":"transition-all duration-300"}`,children:n.jsxs("button",{onClick:h,className:`w-full ${p?"py-2 text-xs":"py-3"} theme-atc-button font-medium flex items-center justify-center gap-2`,children:[n.jsx(Xs,{className:"w-4 h-4"}),f(p?"common.cartShort":"common.addToCart")]})})]}),m?n.jsxs("div",{className:`absolute inset-0 flex flex-col justify-end p-2 ${r?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity bg-gradient-to-t from-black/50 via-black/10 to-transparent`,children:[n.jsx("h3",{className:"text-[11px] font-medium text-white line-clamp-1 mb-1",children:e.name}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-xs font-semibold text-white",children:lt(e.price,u)}),e.originalPrice&&n.jsx("span",{className:"text-[10px] text-gray-200 line-through",children:lt(e.originalPrice,u)})]})]}):n.jsxs("div",{className:"mt-3 space-y-1 text-center",children:[n.jsx("h3",{className:`font-medium leading-tight theme-text ${o==="minimal"?"":"group-hover:theme-primary transition-colors"} ${p?"text-xs line-clamp-2 min-h-[2.2rem]":"text-sm"}`,style:j.name?{color:j.name}:void 0,children:e.name}),n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:`font-semibold theme-primary ${p?"text-sm":"text-lg"}`,style:j.price?{color:j.price}:void 0,children:lt(e.price,u)}),e.originalPrice&&n.jsx("span",{className:`text-gray-500 line-through ${p?"text-[10px]":"text-sm"}`,children:lt(e.originalPrice,u)})]})]})]})}function NMe({categories:e,selectedCategory:t,selectedFilters:r,onCategoryChange:a,onFilterChange:s,isOpen:i,onClose:o}){const l=Dd(),{settings:c}=vr(),[d,u]=N.useState({categories:!0,sizes:!0,colors:!0,price:!0}),[f,h]=N.useState([]),[m,p]=N.useState([]),[x,y]=N.useState([]),[v,w]=N.useState(!1),j=N.useRef(new Map),A=N.useRef(null),C=25*1e3,S=N.useCallback(()=>{const P=new URLSearchParams;t&&t!=="all"&&P.set("category",t);const W=r.filter(D=>m.includes(D)),q=r.filter(D=>x.some(M=>M.name===D));return W.length&&P.set("sizes",W.join(",")),q.length&&P.set("colors",q.join(",")),P.toString()},[t,r,m,x]),k=N.useCallback(async()=>{const P=S(),W=P||"root",q=j.current.get(W),D=Date.now();if(q&&D-q.timestamp<C){const H=q.data;if(Array.isArray(H.sizes)&&p(H.sizes),Array.isArray(H.colorObjects)&&y(H.colorObjects),Array.isArray(H.priceBuckets)){const ee=H.priceBuckets.map(X=>{var G,K;const de=(G=X.min)!=null?G:0,le=(K=X.max)!=null?K:null;return{min:de,max:le,value:le===null?`${de}-up`:`${de}-${le}`,label:le!=null?`${lt(de,l)} - ${lt(le,l)}`:`${lt(de,l)}+`}});h(ee)}if(D-q.timestamp<C)return}A.current&&A.current.abort();const M=new AbortController;A.current=M;try{w(!0);const ee=(await ue.getWithRetry(`/products/filters${P?`?${P}`:""}`)).data||{};if(j.current.set(W,{timestamp:Date.now(),data:ee}),Array.isArray(ee.sizes)?p(ee.sizes):p([]),Array.isArray(ee.colorObjects)?y(ee.colorObjects):y([]),Array.isArray(ee.priceBuckets)){const X=ee.priceBuckets.map(de=>{var K,Z;const le=(K=de.min)!=null?K:0,G=(Z=de.max)!=null?Z:null;return{min:le,max:G,value:G===null?`${le}-up`:`${le}-${G}`,label:G!=null?`${lt(le,l)} - ${lt(G,l)}`:`${lt(le,l)}+`}});h(X)}else h([])}catch(H){if((H==null?void 0:H.name)==="AbortError")return;console.error("Failed to fetch product facets",H)}finally{A.current===M&&(A.current=null),w(!1)}},[S,l]);N.useEffect(()=>{if(c&&c.showColorFilter===!1&&r.length){const P=x.map(q=>q.name),W=r.filter(q=>!P.includes(q));W.length!==r.length&&s(W)}},[c==null?void 0:c.showColorFilter,x,r,s]);const E=N.useRef(null);N.useEffect(()=>(E.current&&window.clearTimeout(E.current),E.current=window.setTimeout(()=>{k()},120),()=>{E.current&&window.clearTimeout(E.current)}),[k]),N.useEffect(()=>()=>{A.current&&A.current.abort()},[]);const T=P=>{u(W=>({...W,[P]:!W[P]}))},F=()=>{a("all"),s([]),o()},O=({title:P,children:W,name:q})=>n.jsxs("div",{className:"py-4 border-b border-gray-200 last:border-0",children:[n.jsxs("button",{onClick:()=>T(q),className:"flex items-center justify-between w-full group",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:P}),n.jsx(kd,{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${d[q]?"rotate-180":""}`})]}),n.jsx("div",{className:`mt-4 space-y-4 ${d[q]?"block":"hidden"}`,children:W})]});return n.jsx(n.Fragment,{children:n.jsxs("div",{className:`
        fixed inset-0 z-40 lg:relative lg:opacity-100 lg:pointer-events-auto
        transition-opacity duration-300 ease-in-out
        ${i?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none lg:block"}
      `,children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm lg:hidden",onClick:o}),n.jsx("div",{className:`
          fixed right-0 top-0 h-full w-[300px] bg-white transform transition-transform duration-300 ease-in-out lg:relative lg:w-64 lg:transform-none
          ${i?"translate-x-0":"translate-x-full lg:translate-x-0"}
        `,children:n.jsxs("div",{className:"h-full overflow-y-auto p-4 lg:p-0",children:[n.jsxs("div",{className:"flex items-center justify-between lg:hidden mb-4",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Filters"}),n.jsx("button",{onClick:o,className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:"Close"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(O,{title:"Categories",name:"categories",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"category",checked:t==="all",onChange:()=>{a("all"),i&&o()},className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),n.jsx("span",{className:`text-sm ${t==="all"?"text-indigo-600 font-medium":"text-gray-600"}`,children:"All Categories"})]}),e.map(P=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"category",checked:t===P.id,onChange:()=>{const W=r.filter(q=>/^(\d+(?:\.\d+)?)-(?:\d+(?:\.\d+)?|up)$/.test(q));if(W.length){const q=r.filter(D=>!W.includes(D));s(q)}a(P.id),i&&o()},className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),n.jsx("span",{className:`text-sm ${t===P.id?"text-indigo-600 font-medium":"text-gray-600"}`,children:P.name})]},P.id))]})}),n.jsx(O,{title:"Size",name:"sizes",children:n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.map(P=>n.jsxs("label",{className:"relative flex items-center justify-center",children:[n.jsx("input",{type:"checkbox",className:"peer sr-only",checked:r.includes(P),onChange:W=>{W.target.checked?s([...r,P]):s(r.filter(q=>q!==P))}}),n.jsx("div",{className:"w-full py-2 text-sm text-center border rounded-lg cursor-pointer transition-all duration-200 peer-checked:bg-indigo-600 peer-checked:text-white peer-checked:border-indigo-600 hover:bg-gray-50 peer-checked:hover:bg-indigo-700",children:P})]},P)),!m.length&&!v&&n.jsx("div",{className:"col-span-3 text-center text-xs text-gray-400",children:"No sizes"}),v&&!m.length&&n.jsx("div",{className:"col-span-3 text-center text-xs text-gray-400 animate-pulse",children:"Loading..."})]})}),(c==null?void 0:c.showColorFilter)!==!1&&n.jsx(O,{title:"Color",name:"colors",children:n.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[x.map(P=>{const W=P.code?{backgroundColor:P.code}:{backgroundColor:"#ccc"},q=(()=>{if(!P.code)return!1;const D=P.code.replace("#","");if(D.length===3){const M=D[0],H=D[1],ee=D[2];return parseInt(M+M,16)*.299+parseInt(H+H,16)*.587+parseInt(ee+ee,16)*.114>186}if(D.length===6){const M=parseInt(D.slice(0,2),16),H=parseInt(D.slice(2,4),16),ee=parseInt(D.slice(4,6),16);return M*.299+H*.587+ee*.114>186}return!1})();return n.jsxs("label",{className:"relative group",children:[n.jsx("input",{type:"checkbox",className:"peer sr-only",checked:r.includes(P.name),onChange:D=>{D.target.checked?s([...r,P.name]):s(r.filter(M=>M!==P.name))}}),n.jsx("div",{style:W,className:`w-8 h-8 rounded-full cursor-pointer ring-2 ring-transparent peer-checked:ring-indigo-600 peer-checked:ring-offset-2 transition-all duration-200 flex items-center justify-center ${q?"border border-gray-200":""}`}),n.jsx("span",{className:"sr-only",children:P.name}),n.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:P.name})]},`${P.name}-${P.code||"no-code"}`)}),!x.length&&!v&&n.jsx("div",{className:"col-span-6 text-center text-xs text-gray-400",children:"No colors"}),v&&!x.length&&n.jsx("div",{className:"col-span-6 text-center text-xs text-gray-400 animate-pulse",children:"Loading..."})]})}),n.jsx(O,{title:"Price Range",name:"price",children:n.jsx("div",{className:"space-y-2",children:f.map(P=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:r.includes(P.value),onChange:W=>{const q=r.filter(M=>/^(\d+(?:\.\d+)?)-(?:\d+(?:\.\d+)?|up)$/.test(M)),D=r.filter(M=>!q.includes(M));W.target.checked?s([...D,P.value]):s(D)}}),n.jsx("span",{className:"text-sm text-gray-600",children:P.label})]},P.value))})}),n.jsx("div",{className:"lg:hidden pt-4",children:n.jsx("button",{onClick:F,className:"w-full px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100",children:"Clear All Filters"})})]})]})})]})})}function b8({responsiveListMode:e=!1}){const[t,r]=N.useState([]),[a,s]=N.useState(!0),[i,o]=N.useState(null),[l,c]=N.useState("all"),[d,u]=N.useState([]),f=N.useRef(null),[h,m]=N.useState(!1),[p,x]=N.useState([]),[y]=T2(),v=y.get("category"),[w,j]=N.useState(!1),{settings:A}=vr(),C=(A==null?void 0:A.productGridStyle)||"standard",S=y.get("view")==="list"?"list":"grid",{addToCart:k}=ga();N.useEffect(()=>{(async()=>{s(!0);try{v&&c(v),await Promise.all([E(v),T()])}catch(P){}finally{s(!1)}})()},[v]),N.useEffect(()=>{a||E()},[d,l]),N.useEffect(()=>{v&&c(v)},[v]);const E=async O=>{try{o(null),m(!0),f.current&&f.current.abort();const P=new AbortController;f.current=P;const W=new URLSearchParams,q=O||l;q&&q!=="all"&&W.append("category",q);const D=d.filter(le=>/^[A-Za-z0-9]{1,4}$/.test(le)),M=d.filter(le=>!D.includes(le)&&!le.includes("-")),H=d.find(le=>/^(\d+(?:\.\d+)?)-(\d+(?:\.\d+)?|up)$/.test(le));if(D.length&&W.append("sizes",D.join(",")),M.length&&(A==null?void 0:A.showColorFilter)!==!1&&W.append("colors",M.join(",")),H){const[le,G]=H.split("-");W.append("minPrice",le),G&&G!=="up"&&W.append("maxPrice",G)}const ee=W.toString(),X=`/products${ee?`?${ee}`:""}`,de=await ue.getWithRetry(X);r(de.data)}catch(P){if((P==null?void 0:P.name)==="AbortError")return;o(P instanceof Error?P.message:"An error occurred"),z.error("Failed to fetch products")}finally{m(!1),f.current&&(f.current=null)}},T=async()=>{try{const P=(await ue.getWithRetry("/categories")).data.filter(W=>W.isActive).sort((W,q)=>W.name.localeCompare(q.name));x(P)}catch(O){z.error("Failed to fetch categories")}},F=t;return a?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):i?n.jsx("div",{className:"flex items-center justify-center min-h-[400px] text-red-600",children:i}):n.jsx("section",{className:"py-8 lg:py-16 bg-white",children:n.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"lg:hidden mb-6",children:n.jsxs("button",{onClick:()=>j(!w),className:"w-full flex items-center justify-center gap-2 bg-gray-100 px-4 py-3 rounded-lg text-gray-700 font-medium",children:[n.jsx(p6,{size:20}),"Filters"]})}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[n.jsx(NMe,{categories:p.map(O=>({id:O._id,name:O.name})),selectedCategory:l,selectedFilters:d,onCategoryChange:c,onFilterChange:u,isOpen:w,onClose:()=>j(!1)}),n.jsxs("div",{className:"flex-1",children:[h&&n.jsx("div",{className:"mb-4 text-sm text-gray-500",children:"Updating products…"}),F.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Products Found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or search criteria."})]}):e?n.jsxs(n.Fragment,{children:[S==="grid"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-2 gap-3 md:hidden",children:F.map(O=>{var q,D;const{primary:P,hover:W}=as(O);return n.jsx(Yl,{product:{id:O._id,name:O.name,price:O.price,image:P,hoverImage:W,rating:O.rating,reviews:(D=(q=O.reviews)==null?void 0:q.length)!=null?D:0,originalPrice:O.originalPrice,discount:O.discount?`-${O.discount}%`:void 0,isNew:O.isNew},layoutVariant:C,forceAlwaysShowInfo:C==="gallery"},O._id)})}),n.jsx("div",{className:"hidden md:grid md:grid-cols-3 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:F.map(O=>{var q,D;const{primary:P,hover:W}=as(O);return n.jsx(Yl,{product:{id:O._id,name:O.name,price:O.price,image:P,hoverImage:W,rating:O.rating,reviews:(D=(q=O.reviews)==null?void 0:q.length)!=null?D:0,originalPrice:O.originalPrice,discount:O.discount?`-${O.discount}%`:void 0,isNew:O.isNew},layoutVariant:C,forceAlwaysShowInfo:C==="gallery"},O._id)})})]}),S==="list"&&n.jsx("div",{className:"space-y-4",children:F.map(O=>{const{primary:P,hover:W}=as(O);return n.jsxs("div",{className:"group p-4 bg-white border border-gray-100 rounded-lg flex gap-4 hover:shadow-sm transition-shadow",children:[n.jsxs("div",{className:"relative w-24 aspect-square overflow-hidden rounded-md bg-gray-100 flex-shrink-0",children:[n.jsx("img",{src:P,alt:O.name,className:`absolute inset-0 w-full h-full object-cover ${W?"transition-opacity duration-300 group-hover:opacity-0":""}`}),W&&n.jsx("img",{src:W,alt:`${O.name} alternate view`,className:"absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}),n.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1 line-clamp-1",children:O.name}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:O.isNew?"New Arrival":"Product"})]}),n.jsxs("div",{className:"flex items-center gap-2 w-full",children:[O.originalPrice&&n.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["$",O.originalPrice.toFixed(2)]}),n.jsxs("span",{className:"text-sm font-semibold text-indigo-600",children:["$",O.price.toFixed(2)]}),n.jsx("button",{type:"button",onClick:async q=>{q.stopPropagation(),await k({id:O._id,name:O.name,price:O.price,image:P})&&z.success("Added to cart")},className:"ml-auto p-2 rounded-md border border-gray-200 hover:bg-gray-50 text-gray-700","aria-label":"Add to cart",title:"Add to cart",children:n.jsx(Xs,{className:"w-4 h-4"})})]})]})]},O._id)})})]}):n.jsx("div",{className:C==="list"?"space-y-4":C==="compact"?"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 gap-1.5 sm:gap-3 md:gap-4":C==="masonry"?"columns-2 md:columns-3 lg:columns-4 gap-4 [column-fill:_balance]":C==="wide"?"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6":C==="gallery"?"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 xl:grid-cols-6 gap-2 sm:gap-3":C==="carousel"?"overflow-x-auto flex gap-4 pb-2 snap-x snap-mandatory":"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-3 md:gap-6 lg:gap-8",children:F.map(O=>{var D,M;const{primary:P,hover:W}=as(O),q=n.jsx(Yl,{product:{id:O._id,name:O.name,price:O.price,image:P,hoverImage:W,rating:O.rating,reviews:(M=(D=O.reviews)==null?void 0:D.length)!=null?M:0,originalPrice:O.originalPrice,discount:O.discount?`-${O.discount}%`:void 0,isNew:O.isNew},layoutVariant:C,forceAlwaysShowInfo:C==="gallery"},O._id);return C==="list"?n.jsxs("div",{className:"group p-4 bg-white border border-gray-100 rounded-lg flex gap-4 hover:shadow-sm transition-shadow",children:[n.jsxs("div",{className:"relative w-24 aspect-square overflow-hidden rounded-md bg-gray-100 flex-shrink-0",children:[n.jsx("img",{src:P,alt:O.name,className:`absolute inset-0 w-full h-full object-cover ${W?"transition-opacity duration-300 group-hover:opacity-0":""}`}),W&&n.jsx("img",{src:W,alt:`${O.name} alternate view`,className:"absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-300 group-hover:opacity-100"})]}),n.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1 line-clamp-1",children:O.name}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:O.isNew?"New Arrival":"Product"})]}),n.jsxs("div",{className:"flex items-center gap-2 w-full",children:[O.originalPrice&&n.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["$",O.originalPrice.toFixed(2)]}),n.jsxs("span",{className:"text-sm font-semibold text-indigo-600",children:["$",O.price.toFixed(2)]}),n.jsx("button",{type:"button",onClick:async H=>{H.stopPropagation(),await k({id:O._id,name:O.name,price:O.price,image:P})&&z.success("Added to cart")},className:"ml-auto p-2 rounded-md border border-gray-200 hover:bg-gray-50 text-gray-700","aria-label":"Add to cart",title:"Add to cart",children:n.jsx(Xs,{className:"w-4 h-4"})})]})]})]},O._id):C==="masonry"?n.jsx("div",{className:"mb-4 break-inside-avoid",children:q},O._id):C==="carousel"?n.jsx("div",{className:"snap-start min-w-[220px] w-[220px] flex-shrink-0",children:q},O._id):q})})]})]})]})})}function SMe(){return n.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute top-0 inset-x-0 h-64 bg-gradient-to-b from-indigo-50/50 to-transparent"}),n.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-100/50 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute top-1/3 -left-40 w-96 h-96 bg-indigo-100/50 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-violet-100/50 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-0 inset-x-0 h-64 bg-gradient-to-t from-white to-transparent"}),n.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNjB2NjBIMHoiLz48cGF0aCBkPSJNMiAyaDU2djU2SDJ6IiBzdHJva2U9IiNFMkU4RjAiIHN0cm9rZS13aWR0aD0iMiIvPjwvZz48L3N2Zz4=')] opacity-[0.03]"})]})}function kMe(){return n.jsxs("div",{className:"relative min-h-screen bg-white products-page",children:[n.jsx("style",{children:`
          /* Force readable product names on category/products listing page */
          .products-page h3.theme-text { color: #111827 !important; }
          .products-page .group h3.theme-text { color: #111827 !important; }
          @media (prefers-color-scheme: dark) {
            .products-page h3.theme-text { color: #e5e7eb !important; }
          }
        `}),n.jsx(SMe,{}),n.jsxs("div",{className:"relative max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24",children:[n.jsx("div",{className:"hidden lg:block",children:n.jsx(P6,{})}),n.jsx(b8,{responsiveListMode:!0})]})]})}function CMe({images:e,productName:t}){const[r,a]=N.useState(0),[s,i]=N.useState(!1),o=()=>{a(c=>(c+1)%e.length)},l=()=>{a(c=>(c-1+e.length)%e.length)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-gray-100",children:[n.jsx("img",{src:e[r],alt:`${t} - View ${r+1}`,className:"w-full h-full object-cover"}),e.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:l,className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-colors",children:n.jsx(Tv,{className:"w-6 h-6 text-gray-900"})}),n.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-colors",children:n.jsx(_f,{className:"w-6 h-6 text-gray-900"})})]}),n.jsx("button",{onClick:()=>i(!0),className:"absolute bottom-4 right-4 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-colors",children:n.jsx(iq,{className:"w-5 h-5 text-gray-900"})})]}),e.length>1&&n.jsx("div",{className:"grid grid-cols-5 gap-4",children:e.map((c,d)=>n.jsx("button",{onClick:()=>a(d),className:`relative aspect-square rounded-lg overflow-hidden ${d===r?"ring-2 ring-indigo-600":""}`,children:n.jsx("img",{src:c,alt:`${t} thumbnail ${d+1}`,className:"w-full h-full object-cover"})},d))}),s&&n.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center",children:[n.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 p-2 text-white hover:text-gray-300",children:n.jsx(xt,{className:"w-6 h-6"})}),n.jsx("img",{src:e[r],alt:`${t} - View ${r+1}`,className:"max-w-full max-h-[90vh] object-contain"})]})]})}function AMe({colors:e,selectedColor:t,onColorChange:r}){const{t:a}=$t();return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:a("product.color","Color")}),n.jsx("span",{className:"text-sm text-gray-500",children:a("product.colorSelected",{color:t,defaultValue:"{{color}} Selected"})})]}),n.jsx("div",{className:"flex gap-3",children:e.map(({name:s,code:i})=>n.jsxs("button",{onClick:()=>r(s),className:`group relative w-12 h-12 rounded-full ${s===t?"ring-2 ring-indigo-600 ring-offset-2":"ring-2 ring-transparent hover:ring-gray-300"} transition-all duration-200`,children:[n.jsx("span",{className:"absolute inset-2 rounded-full",style:{backgroundColor:i}}),n.jsx("span",{className:"sr-only",children:s}),n.jsx("span",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:s})]},s))})]})}function _Me({sizes:e,selectedSize:t,onSizeChange:r,onOpenSizeGuide:a}){const[s,i]=N.useState(null),{t:o}=$t();return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:o("product.size","Size")}),a&&n.jsx("button",{type:"button",onClick:a,className:"text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:o("product.sizeGuide","Size Guide")})]}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:e.map(({name:l,stock:c})=>{const d=l===t,u=c===0,f=l===s;return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>!u&&r(l),onMouseEnter:()=>i(l),onMouseLeave:()=>i(null),disabled:u,className:`
                  relative w-full py-3 text-sm font-medium rounded-md transition-all duration-200
                  outline-none
                  ${d?"bg-white text-indigo-700 ring-2 ring-indigo-600 shadow-sm":u?"bg-gray-100 text-gray-400 cursor-not-allowed ring-1 ring-gray-200":"bg-white text-gray-900 ring-1 ring-gray-300 hover:ring-indigo-400 hover:text-indigo-600"}
                  ${!u&&!d?"focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-1":""}
                  ${d?"focus-visible:ring-2 focus-visible:ring-indigo-600 focus-visible:ring-offset-1":""}
                `,children:[l,!u&&c<=3&&!d&&n.jsx("span",{className:"absolute top-1 right-1 text-[10px] font-semibold text-amber-600",children:c}),d&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-md ring-2 ring-indigo-600 ring-offset-0"})]}),f&&n.jsxs("div",{className:`absolute -top-10 left-1/2 -translate-x-1/2 px-2 py-1 text-xs font-medium shadow-lg ${u?"bg-red-700":"bg-gray-800"} text-white rounded whitespace-nowrap z-10`,children:[u?o("common.outOfStock","Out of Stock"):o("common.inStockCount",{count:c}),n.jsx("div",{className:`absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 ${u?"bg-red-700":"bg-gray-800"} transform rotate-45`})]})]},l)})})]})}function EMe({onSubmit:e,onCancel:t,loading:r=!1}){const{t:a}=$t(),[s,i]=N.useState(0),[o,l]=N.useState(0),[c,d]=N.useState(""),[u,f]=N.useState([]),[h,m]=N.useState([]),p=v=>{const w=Array.from(v.target.files||[]);if(w.length+u.length>5){z.error(a("reviews.form.maxPhotos","Maximum 5 photos allowed"));return}const j=10*1024*1024,A=w.filter(S=>S.size>j?(z.error(a("reviews.form.fileSizeLimit","{{fileName}} exceeds 10MB size limit",{fileName:S.name})),!1):S.type.startsWith("image/")?!0:(z.error(a("reviews.form.invalidFileType","{{fileName}} is not an image file",{fileName:S.name})),!1));if(A.length===0)return;f(S=>[...S,...A]);const C=A.map(S=>URL.createObjectURL(S));m(S=>[...S,...C])},x=v=>{URL.revokeObjectURL(h[v]),f(w=>w.filter((j,A)=>A!==v)),m(w=>w.filter((j,A)=>A!==v))},y=async v=>{if(v.preventDefault(),s===0){z.error("Please select a rating");return}if(!c.trim()){z.error("Please write a review comment");return}if(c.trim().length<10){z.error("Review comment must be at least 10 characters long");return}try{await e({rating:s,comment:c.trim(),photos:u}),i(0),d(""),f([]),m([])}catch(w){}};return n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[a("reviews.form.yourRating","Your Rating")," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(v=>n.jsx("button",{type:"button",onClick:()=>i(v),onMouseEnter:()=>l(v),onMouseLeave:()=>l(0),className:"p-1 focus:outline-none",children:n.jsx(Dr,{className:`w-6 h-6 transition-colors ${(o||s)>=v?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},v))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[a("reviews.form.writeComment","Your Review")," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:c,onChange:v=>d(v.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:a("reviews.form.commentPlaceholder","Share your experience with this product..."),required:!0,minLength:10}),n.jsx("p",{className:"text-sm text-gray-500",children:"Minimum 10 characters required"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:a("reviews.form.addPhotos","Add Photos (Optional)")}),n.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg",children:n.jsxs("div",{className:"space-y-1 text-center",children:[n.jsx(Gn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsxs("div",{className:"flex text-sm text-gray-600",children:[n.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[n.jsx("span",{children:"Upload photos"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:p,className:"sr-only",disabled:u.length>=5})]}),n.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB (max 5 photos)"})]})}),h.length>0&&n.jsx("div",{className:"grid grid-cols-5 gap-4 mt-4",children:h.map((v,w)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:v,alt:`Preview ${w+1}`,className:"w-full h-24 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>x(w),className:"absolute -top-2 -right-2 p-1 bg-white rounded-full shadow-md hover:bg-gray-100",children:n.jsx(xt,{className:"w-4 h-4 text-gray-500"})})]},w))})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[t&&n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:a("reviews.form.cancel","Cancel")}),n.jsx("button",{type:"submit",disabled:r||s===0,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:r?a("reviews.form.submitting","Submitting..."):a("reviews.form.submit","Submit Review")})]})]})}function TMe({reviews:e,onHelpful:t,onReport:r}){const{t:a}=$t(),[s,i]=N.useState(null);return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-8",children:e.map(o=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Tf,{name:o.user.name,image:o.user.image,size:"md"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:o.user.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("div",{className:"flex",children:[...Array(5)].map((l,c)=>n.jsx(Dr,{className:`w-4 h-4 ${c<o.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},c))}),n.jsx("span",{className:"text-sm text-gray-500",children:Co(new Date(o.createdAt),{addSuffix:!0})}),o.verified&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:a("reviews.verified","Verified Purchase")})]})]})]})}),n.jsx("p",{className:"text-gray-600",children:o.comment}),o.photos&&o.photos.length>0&&n.jsx("div",{className:"flex gap-4",children:o.photos.map((l,c)=>n.jsxs("button",{onClick:()=>i(l),className:"relative w-24 h-24 rounded-lg overflow-hidden group",children:[n.jsx("img",{src:l,alt:`Review photo ${c+1}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),n.jsx(zn,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})]},c))}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{onClick:()=>t(o._id),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700",children:[n.jsx(k6,{className:"w-4 h-4"}),n.jsxs("span",{children:[a("reviews.helpful","Helpful")," (",o.helpful,")"]})]}),n.jsxs("button",{onClick:()=>r(o._id),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700",children:[n.jsx(g6,{className:"w-4 h-4"}),n.jsx("span",{children:a("reviews.report","Report")})]})]})]},o._id))}),s&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",children:[n.jsx("button",{onClick:()=>i(null),className:"absolute top-4 right-4 p-2 text-white hover:text-gray-300",children:n.jsx(xt,{className:"w-6 h-6"})}),n.jsx("img",{src:s,alt:"Review photo",className:"max-w-full max-h-[90vh] object-contain"})]})]})}function OMe({averageRating:e,totalReviews:t,ratingDistribution:r}){const{t:a}=$t(),s=i=>t>0?Math.round(i/t*100):0;return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 bg-gray-50 rounded-xl p-6",children:[n.jsxs("div",{className:"text-center md:text-left",children:[n.jsx("div",{className:"text-5xl font-bold text-gray-900 mb-2",children:e.toFixed(1)}),n.jsx("div",{className:"flex items-center justify-center md:justify-start gap-1 mb-2",children:[1,2,3,4,5].map(i=>n.jsx(Dr,{className:`w-5 h-5 ${i<=Math.round(e)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},i))}),n.jsx("p",{className:"text-sm text-gray-500",children:a("reviews.basedOn","Based on {{count}} reviews",{count:t})})]}),n.jsx("div",{className:"space-y-3",children:[5,4,3,2,1].map(i=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 w-12",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:i}),n.jsx(Dr,{className:"w-4 h-4 text-gray-400"})]}),n.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-yellow-400 rounded-full",style:{width:`${s(r[i])}%`}})}),n.jsx("div",{className:"w-12 text-right",children:n.jsxs("span",{className:"text-sm text-gray-500",children:[s(r[i]),"%"]})})]},i))})]})}function PMe({productId:e,reviews:t,onReviewAdded:r}){const{t:a}=$t(),{isAuthenticated:s}=ln(),[i,o]=N.useState(!1),[l,c]=N.useState(!1),d=Array.isArray(t)?t:[],u=d.length>0?d.reduce((y,v)=>y+v.rating,0)/d.length:0,f=d.reduce((y,v)=>(y[v.rating]=(y[v.rating]||0)+1,y),{}),h={5:f[5]||0,4:f[4]||0,3:f[3]||0,2:f[2]||0,1:f[1]||0},m=async y=>{var v,w;if(!s){z.error(a("reviews.loginToReview","Please log in to write a review"));return}c(!0);try{const j=await Promise.all(y.photos.map(A=>Ys(A)));await ue.postWithRetry(`/products/${e}/reviews`,{rating:y.rating,comment:y.comment,photos:j}),o(!1),r(),z.success(a("reviews.form.submit","Review submitted successfully"))}catch(j){const A=((w=(v=j.response)==null?void 0:v.data)==null?void 0:w.message)||a("reviews.errors.submitFailed","Failed to submit review");z.error(A)}finally{c(!1)}},p=async y=>{if(!s){z.error(a("reviews.loginToHelpful","Please log in to mark reviews as helpful"));return}try{await ue.postWithRetry(`/products/${e}/reviews/${y}/helpful`),r(),z.success(a("reviews.reviewMarkedHelpful","Review marked as helpful"))}catch(v){z.error(a("reviews.errors.helpfulFailed","Failed to mark review as helpful"))}},x=async y=>{if(!s){z.error(a("reviews.loginToReport","Please log in to report reviews"));return}try{await ue.postWithRetry(`/products/${e}/reviews/${y}/report`),z.success(a("reviews.reviewReported","Review reported successfully"))}catch(v){z.error(a("reviews.errors.reportFailed","Failed to report review"))}};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a("reviews.title","Customer Reviews")}),!i&&n.jsx("button",{onClick:()=>{if(!s){z.error(a("reviews.loginToReview","Please log in to write a review"));return}o(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:a("reviews.writeReview","Write a Review")})]}),n.jsx(OMe,{averageRating:u,totalReviews:d.length,ratingDistribution:h}),i&&n.jsx("div",{className:"bg-gray-50 rounded-xl p-6",children:n.jsx(EMe,{onSubmit:m,onCancel:()=>o(!1),loading:l})}),n.jsx(TMe,{reviews:d,onHelpful:p,onReport:x})]})}const IMe=({open:e,onClose:t,guide:r})=>{if(!e)return null;const a=(r==null?void 0:r.rows)||[],s=(r==null?void 0:r.unit)||"cm";return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(r==null?void 0:r.title)||"Size Guide"}),n.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100",children:n.jsx(xt,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[a.length?n.jsx("div",{className:"overflow-x-auto border rounded-lg",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 text-gray-600",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Size"}),["chest","waist","hip","length","sleeve"].map(i=>n.jsxs("th",{className:"px-3 py-2 text-left font-medium capitalize",children:[i," (",s,")"]},i))]})}),n.jsx("tbody",{className:"divide-y",children:a.map((i,o)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2 font-medium text-gray-900",children:i.size}),["chest","waist","hip","length","sleeve"].map(l=>{var c;return n.jsx("td",{className:"px-3 py-2 text-gray-700",children:(c=i[l])!=null?c:"-"},l)})]},o))})]})}):n.jsx("p",{className:"text-sm text-gray-500",children:"No size data available for this product."}),(r==null?void 0:r.note)&&n.jsx("div",{className:"bg-gray-50 border rounded-lg p-4 text-xs text-gray-600 whitespace-pre-line",children:r.note})]})]})]})};function FMe(){const[e,t]=N.useState([]),[r,a]=N.useState(0),[s,i]=N.useState(!0),{t:o}=$t(),l=window.innerWidth>=1024?4:window.innerWidth>=640?2:1;N.useEffect(()=>{(async()=>{try{const m=await ue.getWithRetry("/products");t(m.data.slice(0,6))}catch(m){z.error(o("featured.related.errors.fetchFailed","Failed to fetch related products"))}finally{i(!1)}})()},[]);const c=r>0,d=r<e.length-l,u=()=>{c&&a(Math.max(0,r-1))},f=()=>{d&&a(Math.min(e.length-l,r+1))};return s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):e.length===0?null:n.jsxs("section",{className:"py-16",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:o("featured.related.title")}),n.jsx("p",{className:"mt-2 text-gray-600",children:o("featured.related.subtitle")})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:u,className:`p-2 rounded-full border ${c?"border-gray-200 hover:border-gray-300 text-gray-600 hover:text-gray-900":"border-gray-100 text-gray-300 cursor-not-allowed"} transition-colors`,disabled:!c,"aria-label":o("featured.related.prevAria","Previous products"),children:n.jsx(Zl,{className:"w-5 h-5"})}),n.jsx("button",{onClick:f,className:`p-2 rounded-full border ${d?"border-gray-200 hover:border-gray-300 text-gray-600 hover:text-gray-900":"border-gray-100 text-gray-300 cursor-not-allowed"} transition-colors`,disabled:!d,"aria-label":o("featured.related.nextAria","Next products"),children:n.jsx(hl,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"overflow-hidden",children:n.jsx("div",{className:"flex gap-8 transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${r*(100/l)}%)`},children:e.map(h=>{const{primary:m,hover:p}=as(h);return n.jsx("div",{className:"w-full min-w-[calc(100%/4-1.5rem)] sm:min-w-[calc(50%-1rem)] lg:min-w-[calc(25%-1.5rem)]",children:n.jsx(Yl,{product:{id:h._id,name:h.name,price:h.price,image:m,hoverImage:p,rating:h.rating,reviews:h.reviews.length,isNew:h.isNew}})},h._id)})})}),c&&n.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-16 bg-gradient-to-r from-white to-transparent pointer-events-none"}),d&&n.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-16 bg-gradient-to-l from-white to-transparent pointer-events-none"})]})]})}function DMe(){var K;const{id:e}=RP(),[t,r]=N.useState(null),[a,s]=N.useState(""),[i,o]=N.useState(""),[l,c]=N.useState(!0),[d,u]=N.useState(null),[f,h]=N.useState(null),[m,p]=N.useState(null),[x,y]=N.useState(!1),[v,w]=N.useState(!1),{addToCart:j}=ga(),{addToWishlist:A,removeFromWishlist:C,isInWishlist:S}=Sd(),{isAuthenticated:k,user:E}=ln(),T=Dd(),{t:F}=$t(),O=t==null?void 0:t.colors.find(Z=>Z.name===a),P=(O==null?void 0:O.sizes)||[],W=(K=P.find(Z=>Z.name===i))==null?void 0:K.stock,q=(()=>{if(!(t!=null&&t.colors))return[];if(O&&Array.isArray(O.images)&&O.images.length>0)return O.images;const Z=t.colors.find(I=>Array.isArray(I.images)&&I.images.length>0);return(Z==null?void 0:Z.images)||[]})(),D=Array.isArray(t==null?void 0:t.images)?t.images.filter(Boolean):[],M=(()=>{if(v){if(D.length===0&&q.length)return q;const Z=[...D,...q],I=new Set;return Z.filter(V=>!V||I.has(V)?!1:(I.add(V),!0))}return q.length>0?q:D})(),H=M.length?M:["/placeholder-image.svg"],ee=t==null?void 0:t.imagesVersion,X=H.map((Z,I)=>Z&&(typeof ee=="number"?Z+(Z.includes("?")?`&v=${ee}`:`?v=${ee}`):Z+(Z.includes("?")?`&v=${M.length}-${I}`:`?v=${M.length}-${I}`)));N.useEffect(()=>{(async()=>{try{if(!e)return;const R=(await ue.getWithRetry(`/products/${e}`)).data;r(R),typeof(R==null?void 0:R.imagesVersion)=="number"&&R.imagesVersion>0&&w(!0),R.colors.length>0&&(s(R.colors[0].name),R.colors[0].sizes.length>0&&o(R.colors[0].sizes[0].name)),u(R.price),R.originalPrice&&h(R.originalPrice)}catch(te){z.error(F("products.loadError"))}finally{c(!1)}})();const I=te=>{const R=te.detail;!R||R.productId!==e||(r(U=>{var Q;return U&&{...U,images:R.images,imagesVersion:(Q=R.imagesVersion)!=null?Q:(U.imagesVersion||0)+1}}),R.forceGlobal&&w(!0))},V=async te=>{const R=te.detail;if(!(!R||R.productId!==e))try{const U=await ue.getWithRetry(`/products/${e}`);r(U.data)}catch(U){}};return window.addEventListener("product-images-updated",I),window.addEventListener("product-variant-images-updated",V),()=>{window.removeEventListener("product-images-updated",I),window.removeEventListener("product-variant-images-updated",V)}},[e]),N.useEffect(()=>{(async()=>{if(e)try{const I=await ue.getWithRetry(`/products/${e}/stock`);p(I.data)}catch(I){p(null)}})()},[e]);const de=async()=>{var V;if(!t||!d)return;if(!i){z.error(F("product.selectSize","Please select a size"));return}if(!a){z.error(F("product.selectColor","Please select a color"));return}if((((V=P.find(te=>te.name===i))==null?void 0:V.stock)||0)===0){z.error(F("product.sizeOutOfStock","Selected size is out of stock"));return}await j({id:t._id,name:t.name,price:d,image:Wa(as(t).primary),color:a,size:i})&&z.success(F("cart.added","Added to cart"))},le=()=>{if(!(!t||!d)){if(!k){z.error(F("wishlist.toasts.loginRequired"));return}S(t._id)?(C(t._id),z.success(F("wishlist.toasts.removed"))):(A({id:t._id,name:t.name,price:d,image:Wa(as(t).primary)}),z.success(F("wishlist.toasts.added")))}},G=async()=>{try{if(!e)return;const Z=await ue.getWithRetry(`/products/${e}`);r(Z.data)}catch(Z){console.error("Error refreshing product data:",Z)}};return l?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):!t||d===null?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("p",{className:"text-gray-500",children:F("product.notFound","Product not found")})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"min-h-screen bg-white pt-20 pb-16 product-details-page",children:[n.jsx("style",{children:`
          /* Force readable product names within product details page (cards & related) */
          .product-details-page h3.theme-text { color: #111827 !important; }
          @media (prefers-color-scheme: dark) {
            .product-details-page h3.theme-text { color: #e5e7eb !important; }
          }
        `}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[n.jsxs("div",{children:[n.jsx(CMe,{images:X,productName:t.name},(t==null?void 0:t.imagesVersion)||X.length),n.jsx(x8,{productId:t._id,images:t.images,isAdmin:!!E&&E.role==="admin",onChange:Z=>{r(I=>I&&{...I,images:Z}),w(!0)}})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[t.isNew&&n.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-xs font-medium rounded-full",children:F("product.badges.new","New")}),f&&n.jsx("span",{className:"px-3 py-1 bg-rose-600 text-white text-xs font-medium rounded-full",children:F("product.badges.savePercent",{percent:Math.round((f-d)/f*100)})}),m&&n.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${m.stock===0?"bg-red-600 text-white":"bg-green-100 text-green-800"}`,children:m.stock===0?F("common.outOfStock","Out of Stock"):F("common.inStockCount",{count:m.stock})})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Dr,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"font-medium text-gray-900",children:t.rating.toFixed(1)})]}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.reviews.length," ",F("common.reviews"),")"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-3xl font-bold text-indigo-600",children:lt(d,T)}),f&&n.jsx("span",{className:"text-xl text-gray-500 line-through",children:lt(f,T)})]}),n.jsx("p",{className:"text-gray-600",children:t.description}),a&&i&&n.jsxs("div",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:F("product.stock.stockFor",{color:a,size:i})})," ",W!=null?W:F("product.stock.na","N/A")]}),t.colors.length>0&&(()=>{const Z=t.colors.filter(I=>(I.sizes||[]).reduce((te,R)=>te+(R.stock||0),0)>0);return Z.length===0?null:(a&&!Z.some(I=>I.name===a)&&s(Z[0].name),n.jsx(AMe,{colors:Z,selectedColor:a,onColorChange:s}))})(),P.length>0&&n.jsx(_Me,{sizes:P,selectedSize:i,onSizeChange:o,onOpenSizeGuide:t.sizeGuide&&t.sizeGuide.rows&&t.sizeGuide.rows.length>0?()=>y(!0):void 0}),n.jsxs("div",{className:"space-y-4 pt-6",children:[n.jsxs("button",{onClick:de,className:"w-full py-4 theme-atc-button theme-button-radius font-semibold flex items-center justify-center gap-2 group",disabled:!!m&&m.stock===0,children:[n.jsx(Xs,{className:"w-5 h-5 transition-transform group-hover:-translate-y-0.5"}),F("wishlist.actions.addToCart")]}),n.jsxs("button",{onClick:le,className:`w-full py-4 rounded-full font-semibold flex items-center justify-center gap-2 transition-colors ${S(t._id)?"bg-rose-50 text-rose-600":"bg-white text-gray-900 border border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Si,{className:`w-5 h-5 ${S(t._id)?"fill-current":""}`}),S(t._id)?F("wishlist.buttons.remove"):F("wishlist.buttons.add")]})]})]})]}),n.jsx("div",{className:"mt-16",children:n.jsx(PMe,{productId:t._id,reviews:t.reviews,onReviewAdded:G})}),n.jsx("div",{className:"mt-16",children:n.jsx(FMe,{})})]})]}),n.jsx(IMe,{open:x,onClose:()=>y(!1),guide:(t==null?void 0:t.sizeGuide)||void 0})]})}function RMe(e,t){const[r,a]=N.useState(e);return N.useEffect(()=>{const s=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(s)}},[e,t]),r}function MMe(){const[e,t]=T2(),[r,a]=N.useState([]),[s,i]=N.useState(!1),o=e.get("q")||"",[l,c]=N.useState(o),d=RMe(l,300);ne.useEffect(()=>{(async()=>{if(!d){a([]);return}i(!0);try{const h=await ue.getWithRetry("/products/search",{params:{query:d}});a(h.data)}catch(h){z.error("Failed to search products")}finally{i(!1)}})()},[d]);const u=f=>{const h=f.target.value;c(h),t(h?{q:h}:{})};return n.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"relative mb-8 lg:hidden",children:[n.jsx(Mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{id:"productSearch",name:"productSearch",type:"search",placeholder:"Search products...",value:l,onChange:u,className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoComplete:"search",autoFocus:!0})]}),s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):r.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(f=>{var x,y;const{primary:h,hover:m}=as(f),p=Array.isArray(f.reviews)?f.reviews.length:(x=f.reviewsCount)!=null?x:0;return n.jsx(Yl,{product:{id:f._id,name:f.name,price:f.price,image:h,hoverImage:m,rating:(y=f.rating)!=null?y:0,reviews:p,isNew:f.isNew}},f._id)})}):l?n.jsx("div",{className:"text-center py-12",children:n.jsxs("p",{className:"text-gray-500",children:['No products found for "',l,'"']})}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"Start typing to search products"})})]})})}function w8(){const{activeBackground:e}=BV();if(!e)return n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-96 h-96 -top-10 -right-10 bg-purple-200/30 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute w-96 h-96 top-1/3 -left-10 bg-indigo-200/30 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute w-96 h-96 bottom-0 right-1/3 bg-violet-200/30 rounded-full blur-3xl"})]});const t=()=>{switch(e.type){case"color":return{backgroundColor:e.value};case"gradient":return{backgroundImage:e.value.replace(/^background:\s*/,"").replace(/;$/,"")};case"pattern":return{backgroundImage:`url(${e.value})`,backgroundSize:"cover",backgroundPosition:"center"};default:return{}}};return n.jsx("div",{className:"absolute inset-0 overflow-hidden transition-all duration-500",style:t()})}function LMe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),{settings:s}=vr(),i=!!(s!=null&&s.newArrivalsBannerEnabled&&(s!=null&&s.newArrivalsBannerImage));return N.useEffect(()=>{(async()=>{try{const l=await ue.getWithRetry("/products",{params:{isNew:!0}});t(l.data)}catch(l){z.error("Failed to fetch new arrivals")}finally{a(!1)}})()},[]),r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:`relative min-h-screen ${i?"pt-0":"pt-20"}`,"data-page":"new-arrivals",children:[n.jsx("div",{className:"block lg:hidden absolute inset-0 z-0",children:n.jsx(w8,{})}),n.jsx("div",{className:"block lg:hidden absolute inset-0 z-[1]","aria-hidden":"true",style:{background:(s==null?void 0:s.newArrivalsMobileOverlayBg)||"rgba(0,0,0,0.4)"}}),i?n.jsx("div",{className:"relative z-10 mb-10",children:n.jsxs("div",{className:"relative rounded-xl overflow-hidden group",children:[n.jsx("img",{src:s.newArrivalsBannerImage,alt:s.newArrivalsBannerHeading||"New Arrivals Banner",className:"w-full h-auto block object-cover max-h-[520px]",loading:"lazy"}),n.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-black/10"}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center px-4 text-center",children:[n.jsx("h1",{className:"text-3xl sm:text-5xl font-bold tracking-tight text-white drop-shadow-lg",style:{color:s.newArrivalsMobileHeadingColor||void 0},children:s.newArrivalsBannerHeading||"New Arrivals"}),s.newArrivalsBannerSubheading&&n.jsx("p",{className:"mt-4 text-base sm:text-lg md:text-xl max-w-3xl text-gray-200/90 drop-shadow",style:{color:s.newArrivalsMobileTextColor||void 0},children:s.newArrivalsBannerSubheading})]})]})}):n.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl font-bold sm:text-4xl lg:text-gray-900 drop-shadow-md",style:{color:(s==null?void 0:s.newArrivalsMobileHeadingColor)||void 0},children:"New Arrivals"}),n.jsx("p",{className:"mt-4 text-base sm:text-lg lg:text-gray-600 max-w-2xl mx-auto drop-shadow",style:{color:(s==null?void 0:s.newArrivalsMobileTextColor)||void 0},children:"Discover our latest collection of fresh styles and trends"})]})}),n.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(o=>{const{primary:l,hover:c}=as(o);return n.jsx(Yl,{product:{id:o._id,name:o.name,price:o.price,image:l,hoverImage:c,rating:o.rating,reviews:o.reviews.length,isNew:!0}},o._id)})})]})}function $Me(){const e=Ea(),{t}=$t();return n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 lg:hidden",children:n.jsx(Zl,{className:"w-5 h-5 text-gray-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t("cart.title")}),n.jsx("div",{className:"w-10"})," "]})}function BMe({item:e}){const{updateQuantity:t,removeFromCart:r}=ga(),{currency:a}=Ta(),{t:s}=$t();return n.jsxs("div",{className:"flex gap-4 p-4 border-b last:border-b-0",children:[n.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:n.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-medium text-gray-900 truncate",children:e.name}),(e.color||e.size)&&n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:[e.color,e.size].filter(Boolean).join(" / ")})]}),n.jsx("button",{onClick:()=>r(e.id),className:"p-1 text-gray-400 hover:text-gray-500","aria-label":s("cart.item.remove"),title:s("cart.item.remove"),children:n.jsx(xt,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center border rounded-lg",children:[n.jsx("button",{onClick:()=>t(e.id,e.quantity-1),className:"p-2 hover:bg-gray-50 transition-colors",disabled:e.quantity<=1,"aria-label":s("cart.item.decreaseQty"),title:s("cart.item.decreaseQty"),children:n.jsx(Ov,{className:"w-4 h-4 text-gray-600"})}),n.jsx("span",{className:"w-12 text-center text-sm font-medium",children:e.quantity}),n.jsx("button",{onClick:()=>t(e.id,e.quantity+1),className:"p-2 hover:bg-gray-50 transition-colors","aria-label":s("cart.item.increaseQty"),title:s("cart.item.increaseQty"),children:n.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),n.jsx("p",{className:"text-base font-medium text-gray-900",children:lt(e.price*e.quantity,a)})]})]})]})}function UMe(){const{items:e}=ga();return n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.map(t=>n.jsx(BMe,{item:t},t.id))})}function WMe(){const{items:e}=ga(),t=e.reduce((r,a)=>r+a.price*a.quantity,0);return n.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx($Me,{}),e.length>0?n.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(UMe,{})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 h-fit lg:sticky lg:top-24",children:n.jsx(E6,{subtotal:t})})]}):n.jsx("div",{className:"bg-white rounded-xl shadow-sm",children:n.jsx(T6,{onClose:()=>{}})})]})})}function zMe({order:e,isOpen:t,onClose:r}){const[a,s]=N.useState("items");if(!t)return null;const i=f=>{switch(f){case"pending":return n.jsx(wn,{className:"w-5 h-5 text-yellow-500"});case"processing":return n.jsx(rr,{className:"w-5 h-5 text-blue-500"});case"shipped":return n.jsx(ua,{className:"w-5 h-5 text-indigo-500"});case"delivered":return n.jsx(jn,{className:"w-5 h-5 text-green-500"});case"cancelled":return n.jsx(Wu,{className:"w-5 h-5 text-red-500"});default:return n.jsx(rr,{className:"w-5 h-5 text-gray-500"})}},o=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=f=>{switch(f){case"assigned":return"bg-blue-100 text-blue-800";case"picked_up":return"bg-purple-100 text-purple-800";case"in_transit":return"bg-indigo-100 text-indigo-800";case"out_for_delivery":return"bg-orange-100 text-orange-800";case"delivered":return"bg-green-100 text-green-800";case"delivery_failed":return"bg-red-100 text-red-800";case"returned":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=f=>f.split("_").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" "),d=()=>{e.deliveryTrackingNumber&&(navigator.clipboard.writeText(e.deliveryTrackingNumber),z.success("Tracking number copied to clipboard"))},u=[{id:"items",label:"Order Items",icon:rr},{id:"delivery",label:"Delivery Info",icon:ua},{id:"customer",label:"Customer Info",icon:jn}];return n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"order-details-modal",role:"dialog","aria-modal":"true",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true",onClick:r}),n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Order #",e.orderNumber]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${o(e.status)}`,children:[i(e.status),c(e.status)]}),n.jsx("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleString()})]})]}),n.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx(xt,{className:"w-6 h-6 text-gray-500"})})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"flex px-6",children:u.map(f=>{const h=f.icon;return n.jsxs("button",{onClick:()=>s(f.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${a===f.id?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(h,{className:"w-4 h-4"}),f.label]},f.id)})})}),n.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[a==="items"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Order Items"}),n.jsx("div",{className:"space-y-3",children:e.items.map((f,h)=>n.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg",children:[f.image&&n.jsx("img",{src:f.image,alt:f.name,className:"w-16 h-16 object-cover rounded-lg"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:f.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",f.quantity]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[e.currency," ",f.price.toFixed(2)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",e.currency," ",(f.price*f.quantity).toFixed(2)]})]})]},h))}),(()=>{var m,p,x;const f=(x=(p=(m=e.shippingFee)!=null?m:e.deliveryFee)!=null?p:e.effectiveShippingFee)!=null?x:0,h=e.totalWithShipping&&e.totalWithShipping>=e.totalAmount?e.totalWithShipping:e.totalAmount+f;return n.jsxs("div",{className:"border-t pt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:"text-gray-900 font-medium",children:[e.currency," ",e.totalAmount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Shipping"}),n.jsx("span",{className:"text-gray-900 font-medium",children:f>0?`${e.currency} ${f.toFixed(2)}`:"Free"})]}),n.jsxs("div",{className:"flex justify-between items-center text-lg font-bold border-t pt-2",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:[e.currency," ",h.toFixed(2)]})]})]})})()]}),a==="delivery"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delivery Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-gray-500",children:"Subtotal"}),n.jsxs("p",{className:"font-medium text-gray-900",children:[e.currency," ",e.totalAmount.toFixed(2)]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-gray-500",children:"Shipping Fee"}),n.jsx("p",{className:"font-medium text-gray-900",children:(()=>{var h,m,p;const f=(p=(m=(h=e.shippingFee)!=null?h:e.deliveryFee)!=null?m:e.effectiveShippingFee)!=null?p:0;return f>0?`${e.currency} ${f.toFixed(2)}`:"Free"})()})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-gray-500",children:"Total With Shipping"}),n.jsx("p",{className:"font-medium text-gray-900",children:(()=>{var m,p,x;const f=(x=(p=(m=e.shippingFee)!=null?m:e.deliveryFee)!=null?p:e.effectiveShippingFee)!=null?x:0,h=e.totalWithShipping&&e.totalWithShipping>=e.totalAmount?e.totalWithShipping:e.totalAmount+f;return`${e.currency} ${h.toFixed(2)}`})()})]})]}),e.deliveryCompany?n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Delivery Company"}),n.jsx("p",{className:"text-gray-600",children:e.deliveryCompany.name}),e.deliveryCompany.code&&e.deliveryCompany.code.trim()!==""?n.jsx("span",{className:"inline-block mt-1 text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded",children:e.deliveryCompany.code}):n.jsx("span",{className:"inline-block mt-1 text-xs text-gray-400 italic",children:"No code assigned"})]}),e.deliveryStatus&&n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${l(e.deliveryStatus)}`,children:c(e.deliveryStatus)})]}),e.deliveryTrackingNumber&&n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-900",children:"Tracking Number"}),n.jsx("p",{className:"text-gray-600 font-mono",children:e.deliveryTrackingNumber})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:d,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Copy tracking number",children:n.jsx(Bu,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>window.open(`#track/${e.deliveryTrackingNumber}`,"_blank"),className:"p-2 text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-lg transition-colors",title:"Track package",children:n.jsx(EG,{className:"w-4 h-4"})})]})]})}),(e.deliveryEstimatedDate||e.deliveryActualDate)&&n.jsxs("div",{className:"border-t pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.deliveryEstimatedDate&&n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-900",children:"Estimated Delivery"}),n.jsx("p",{className:"text-gray-600",children:new Date(e.deliveryEstimatedDate).toLocaleDateString()})]}),e.deliveryActualDate&&n.jsxs("div",{children:[n.jsx("h5",{className:"font-medium text-gray-900",children:"Actual Delivery"}),n.jsx("p",{className:"text-gray-600",children:new Date(e.deliveryActualDate).toLocaleDateString()})]})]})]})}):n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wn,{className:"w-5 h-5 text-yellow-600"}),n.jsx("p",{className:"text-yellow-800",children:"No delivery company assigned yet"})]})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Shipping Address"}),n.jsxs("div",{className:"text-gray-600",children:[n.jsx("p",{children:e.shippingAddress.street}),n.jsxs("p",{children:[e.shippingAddress.city,", ",e.shippingAddress.state]}),n.jsx("p",{children:e.shippingAddress.country})]})]})]}),a==="customer"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Contact Details"}),n.jsxs("div",{className:"space-y-2 text-gray-600",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",e.customerInfo.firstName," ",e.customerInfo.lastName]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",e.customerInfo.email]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Mobile:"})," ",e.customerInfo.mobile]}),e.customerInfo.secondaryMobile&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Secondary Mobile:"})," ",e.customerInfo.secondaryMobile]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Payment Information"}),n.jsxs("div",{className:"space-y-2 text-gray-600",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Payment Status:"}),n.jsx("span",{className:`ml-2 inline-flex px-2 py-1 rounded-full text-xs font-medium ${e.paymentStatus==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c(e.paymentStatus)})]}),(()=>{var m,p,x;const f=(x=(p=(m=e.shippingFee)!=null?m:e.deliveryFee)!=null?p:e.effectiveShippingFee)!=null?x:0,h=e.totalWithShipping&&e.totalWithShipping>=e.totalAmount?e.totalWithShipping:e.totalAmount+f;return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Subtotal:"})," ",e.currency," ",e.totalAmount.toFixed(2)]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Shipping:"})," ",f>0?`${e.currency} ${f.toFixed(2)}`:"Free"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Total:"})," ",e.currency," ",h.toFixed(2)]})]})})()]})]})]})]})]}),n.jsx("div",{className:"border-t px-6 py-4 bg-gray-50",children:n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})})]})]})})}function HMe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState(null),[o,l]=N.useState(null),[c,d]=N.useState(!1);N.useEffect(()=>{u()},[]);const u=async()=>{try{a(!0),i(null);const y=await ue.getWithRetry("/orders/my-orders");t(y.data)}catch(y){console.error("Error fetching orders:",y),i("Failed to load orders")}finally{a(!1)}},f=y=>{switch(y){case"pending":return n.jsx(wn,{className:"w-5 h-5 text-yellow-500"});case"processing":return n.jsx(rr,{className:"w-5 h-5 text-blue-500"});case"shipped":return n.jsx(ua,{className:"w-5 h-5 text-indigo-500"});case"delivered":return n.jsx(jn,{className:"w-5 h-5 text-green-500"});case"cancelled":return n.jsx(Wu,{className:"w-5 h-5 text-red-500"});default:return n.jsx(rr,{className:"w-5 h-5 text-gray-500"})}},h=y=>{switch(y){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=y=>{switch(y){case"assigned":return"bg-blue-100 text-blue-800";case"picked_up":return"bg-purple-100 text-purple-800";case"in_transit":return"bg-indigo-100 text-indigo-800";case"out_for_delivery":return"bg-orange-100 text-orange-800";case"delivered":return"bg-green-100 text-green-800";case"delivery_failed":return"bg-red-100 text-red-800";case"returned":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=y=>y.split("_").map(v=>v.charAt(0).toUpperCase()+v.slice(1)).join(" "),x=y=>{l(y),d(!0)};return r?n.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-48"}),[1,2,3].map(y=>n.jsxs("div",{className:"bg-white rounded-lg p-6 space-y-4",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-32"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},y))]})})}):s?n.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[n.jsx(Wu,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-lg font-medium text-red-800 mb-2",children:"Failed to Load Orders"}),n.jsx("p",{className:"text-red-600 mb-4",children:s}),n.jsx("button",{onClick:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})})}):n.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Orders"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Track and manage your orders"})]}),e.length===0?n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[n.jsx(rr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Orders Yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to see your orders here"}),n.jsx("a",{href:"/products",className:"inline-flex items-center px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Browse Products"})]}):n.jsx("div",{className:"space-y-6",children:e.map(y=>n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Order #",y.orderNumber]}),n.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${h(y.status)}`,children:[f(y.status),p(y.status)]})]}),n.jsxs("button",{onClick:()=>x(y),className:"flex items-center gap-2 px-4 py-2 text-indigo-600 border border-indigo-600 rounded-lg hover:bg-indigo-50 transition-colors",children:[n.jsx(cs,{className:"w-4 h-4"}),"View Details"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),n.jsxs("p",{className:"font-medium text-gray-900",children:[y.currency," ",y.totalAmount.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Shipping"}),(()=>{var w,j,A;const v=(A=(j=(w=y.effectiveShippingFee)!=null?w:y.shippingFee)!=null?j:y.deliveryFee)!=null?A:0;return n.jsx("p",{className:"font-medium text-gray-900",children:v>0?`${y.currency} ${v.toFixed(2)}`:"Free"})})()]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Order Date"}),n.jsx("p",{className:"font-medium text-gray-900",children:new Date(y.createdAt).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Customer"}),n.jsxs("p",{className:"font-medium text-gray-900",children:[y.customerInfo.firstName," ",y.customerInfo.lastName]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Items"}),n.jsxs("p",{className:"font-medium text-gray-900",children:[y.items.length," item",y.items.length!==1?"s":""]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total (With Shipping)"}),(()=>{var j,A,C;const v=(C=(A=(j=y.effectiveShippingFee)!=null?j:y.shippingFee)!=null?A:y.deliveryFee)!=null?C:0,w=y.totalWithShipping&&y.totalWithShipping>=y.totalAmount?y.totalWithShipping:y.totalAmount+v;return n.jsxs("p",{className:"font-medium text-gray-900",children:[y.currency," ",w.toFixed(2)]})})()]})]}),y.deliveryCompany?n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ua,{className:"w-5 h-5 text-gray-600"}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[y.deliveryCompany.name,y.deliveryCompany.code&&n.jsx("span",{className:"ml-2 text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded",children:y.deliveryCompany.code})]}),y.deliveryTrackingNumber&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Tracking: ",y.deliveryTrackingNumber]})]})]}),y.deliveryStatus&&n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${m(y.deliveryStatus)}`,children:p(y.deliveryStatus)})]})}):n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ka,{className:"w-5 h-5 text-yellow-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-yellow-800",children:"Order not sent to delivery"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"This order hasn't been assigned to a delivery company yet."})]})]})})})]})},y._id))}),o&&n.jsx(zMe,{order:o,isOpen:c,onClose:()=>{d(!1),l(null)}})]})})}const VMe=({order:e,storeCurrency:t,storeLogo:r,storePhone:a})=>{const s=()=>{var i,o,l,c,d;try{const u=e.currency||t||"USD",f=new Date(e.createdAt),h=f.toLocaleDateString("ar-EG"),m=f.toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"}),p=e.customerInfo?`${e.customerInfo.firstName||""} ${e.customerInfo.lastName||""}`.trim():"-",x=((i=e.customerInfo)==null?void 0:i.mobile)||((o=e.customerInfo)==null?void 0:o.secondaryMobile)||"-",y=e.shippingAddress?`${e.shippingAddress.city||""}${e.shippingAddress.street?" - "+e.shippingAddress.street:""}`:"-",v=e.deliveryTrackingNumber||e.trackingNumber||e.orderNumber||e._id;let w=(d=(c=(l=e.shippingFee)!=null?l:e.deliveryFee)!=null?c:e.effectiveShippingFee)!=null?d:0;const j=e.totalAmount||0;(!w||w===0)&&typeof e.totalWithShipping=="number"&&e.totalWithShipping>j&&(w=e.totalWithShipping-j);const A=lt(j,u),C=lt(w,u),S=lt(e.totalWithShipping||j+w,u),k=(e.items||[]).map(M=>{var le;const H=M.name||((le=M.product)==null?void 0:le.name)||"منتج",ee=[];M.size&&ee.push(M.size),M.color&&ee.push(M.color);const X=[H,ee.join(" ")].filter(Boolean).join(" - ");return`<tr class="prod-row">
            <td class="p-n">${lt((M.price||0)*(M.quantity||0),u)}</td>
            <td class="p-q">X${M.quantity}</td>
            <td class="p-d">${X}</td>
        </tr>`}).join("")||'<tr class="prod-row"><td colspan="3" class="empty">لا توجد عناصر</td></tr>',E=["11011001100","11001101100","11001100110","10010011000","10010001100","10001001100","10011001000","10011000100","10001100100","11001001000","11001000100","11000100100","10110011100","10011011100","10011001110","10111001100","10011101100","10011100110","11001110010","11001011100","11001001110","11011100100","11001110100","11101101110","11101001100","11100101100","11100100110","11101100100","11100110100","11100110010","11011011000","11011000110","11000110110","10100011000","10001011000","10001000110","10110001000","10001101000","10001100010","11010001000","11000101000","11000100010","10110111000","10110001110","10001101110","10111011000","10111000110","10001110110","11101110110","11010001110","11000101110","11011101000","11011100010","11011101110","11101011000","11101000110","11100010110","11101101000","11101100010","11100011010","11101111010","11001000010","11110001010","10100110000","10100001100","10010110000","10010000110","10000101100","10000100110","10110010000","10110000100","10011010000","10011000010","10000110100","10000110010","11000010010","11001010000","11110111010","11000010100","10001111010","10100111100","10010111100","10010011110","10111100100","10011110100","10011110010","11110100100","11110010100","11110010010","11011011110","11011110110","11110110110","10101111000","10100011110","10001011110","10111101000","10111100010","11110101000","11110100010","10111011110","10111101110","11101011110","11110101110","11010000100","11010010000","11010011100","11000111010","11010111000","1100011101011"],T=104,F=M=>{const H=(M||"").replace(/[^\x20-\x7E]/g,"");if(!H)return"";const ee=[];for(const Q of H)ee.push(Q.charCodeAt(0)-32);let X=T;ee.forEach((Q,J)=>{X+=Q*(J+1)}),X=X%103;const de=[T,...ee,X,106];let le="";de.forEach(Q=>{const J=E[Q];J&&(le+=J)});let G=le[0],K=0;const Z=[];for(const Q of le)Q===G?K++:(Z.push({bar:G==="1",width:K}),G=Q,K=1);Z.push({bar:G==="1",width:K});const I=1,V=60;let te=0;const R=[];Z.forEach(Q=>{Q.bar&&R.push(`<rect x='${te}' y='0' width='${Q.width*I}' height='${V}' fill='#000' />`),te+=Q.width*I});const U=te;return`<svg xmlns='http://www.w3.org/2000/svg' width='${U}' height='${V+14}' viewBox='0 0 ${U} ${V+14}' shape-rendering='crispEdges'><g>${R.join("")}</g><text x='50%' y='${V+12}' font-size='10' text-anchor='middle' font-family='monospace'>${H}</text></svg>`},O=M=>{const H=F(M);return H?`<div class='barcode-wrapper'>${H}</div>`:`<div class='barcode-text'>${M}</div>`},P=r?`<img src="${la(r)}" class="logo" />`:"",W=a||x||"",q=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8" />
        <title>Waybill ${e.orderNumber||e._id}</title>
        <style>
          @page { size: 100mm 100mm; margin: 4mm; }
          * { box-sizing: border-box; }
          body { margin:0; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans Arabic', 'Noto Sans', Arial, sans-serif; }
          .waybill { width:92mm; height:92mm; border:1px solid #111; padding:4mm; display:grid; grid-template-rows: auto 1fr auto; }
          header { display:flex; justify-content:space-between; align-items:flex-start; font-size:10px; }
          header .dt { font-weight:600; }
          header .logo-box { text-align:center; }
          header .logo { max-width:38mm; max-height:14mm; object-fit:contain; }
          header .phone { font-size:9px; margin-top:2px; }
          .grid { display:grid; grid-template-columns:1fr 1fr; gap:2mm; height:100%; }
          .panel { border:1px solid #000; padding:1mm 1.5mm; display:flex; flex-direction:column; }
          .panel h4 { margin:0 0 1mm; font-size:10px; text-align:center; border-bottom:1px solid #000; padding-bottom:1mm; }
          table { width:100%; border-collapse:collapse; font-size:8.5px; }
          .products .prod-row td { border-top:1px solid #000; padding:0.5mm 0; vertical-align:top; }
          .products .p-n { width:18%; text-align:center; }
          .products .p-q { width:10%; text-align:center; }
          .products .p-d { width:72%; font-weight:500; }
          .empty { text-align:center; padding:4mm 0; }
          .recipient .row { display:flex; flex-direction:column; font-size:8.2px; padding:0.6mm 0; border-top:1px solid #000; }
          .recipient .row:first-of-type { border-top:none; }
          .recipient .lbl { font-weight:600; }
          .totals { margin-top:2mm; border:1px solid #000; padding:1mm; font-size:8px; }
          .totals h5 { margin:0 0 1mm; font-size:9px; text-align:center; }
          .totals .row { display:flex; justify-content:space-between; padding:0.5mm 0; border-top:1px solid #000; }
          .totals .row:first-of-type { border-top:none; }
          .totals .amt { font-size:11px; font-weight:700; }
          footer { margin-top:2mm; display:grid; grid-template-columns:1fr 1fr; gap:2mm; }
          .barcode-wrapper { display:flex; flex-direction:column; align-items:center; justify-content:center; }
          .barcode-text { font-size:7px; letter-spacing:1px; margin-top:1mm; font-family:monospace; }
        </style></head><body onload="setTimeout(()=>{window.print();},300)">
          <div class="waybill">
            <header>
              <div class="dt">${m} ${h}</div>
              <div class="logo-box">${P}<div class="phone">${W}</div></div>
            </header>
            <div class="grid">
              <div class="panel products">
                <h4>المنتجات</h4>
                <table><tbody>${k}</tbody></table>
              </div>
              <div class="panel recipient">
                <h4>المستلم</h4>
                <div class="row"><span class="lbl">الاسم</span><span>${p||"-"}</span></div>
                <div class="row"><span class="lbl">الهاتف</span><span>${x||"-"}</span></div>
                <div class="row"><span class="lbl">العنوان</span><span>${y||"-"}</span></div>
                <div class="row"><span class="lbl">تسلسل التوصيل</span><span>${v}</span></div>
                <div class="totals">
                  <h5>قيمة الطلب</h5>
                  <div class="row"><span>إجمالي المنتجات</span><span>${A}</span></div>
                  <div class="row"><span>رسوم الشحن</span><span>${C}</span></div>
                  <div class="row"><span class="amt">الإجمالي مع الشحن</span><span class="amt">${S}</span></div>
                </div>
              </div>
            </div>
            <footer>
              ${O(v)}
              ${O(e.orderNumber||e._id)}
            </footer>
          </div>
        </body></html>`,D=window.open("","_blank","width=420,height=420");if(!D)return;D.document.write(q),D.document.close()}catch(u){console.error("Failed to print waybill",u)}};return n.jsxs("button",{type:"button",onClick:s,className:"px-5 py-2.5 rounded-md bg-white text-indigo-900 font-semibold border border-indigo-300 hover:bg-indigo-50 flex items-center gap-2 text-xs",title:"طباعة بوليصة الشحن",children:[n.jsx("span",{children:"🖨"}),n.jsx("span",{children:"بوليصة"})]})};function GMe(e){switch(e){case"pending":return"انتظار";case"processing":return"قيد التجهيز";case"shipped":return"تم الشحن";case"delivered":return"تم التسليم";case"cancelled":return"ملغي";default:return e}}const am=({label:e,value:t,icon:r})=>n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 text-[13px]",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r&&n.jsx("span",{className:"text-indigo-500 text-sm",children:r}),n.jsxs("span",{className:"font-medium",children:[e,":"]})]}),n.jsx("span",{className:"text-gray-900 font-semibold truncate max-w-[60%] text-right",children:t||"-"})]}),bu=({label:e,icon:t,onClick:r,variant:a="icon"})=>{let s="";return a==="icon"?s="w-10 h-10 flex items-center justify-center rounded-md bg-indigo-900 text-white hover:bg-indigo-800 shadow":a==="primary"?s="px-6 py-2.5 rounded-md bg-indigo-900 text-white font-semibold hover:bg-indigo-800 shadow flex flex-col text-[12px] leading-tight items-center justify-center":a==="outline"&&(s="px-5 py-2.5 rounded-md bg-white text-indigo-900 font-semibold border border-indigo-300 hover:bg-indigo-50 flex items-center gap-2"),n.jsxs("button",{onClick:r,className:s,children:[n.jsx("span",{className:a==="primary"?"text-lg":"text-base",children:t}),e&&a!=="icon"&&n.jsx("span",{className:a==="primary"?"mt-0.5":"",children:e})]})},qMe=15e3;function KMe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState(null),[o,l]=N.useState("all"),[c,d]=N.useState(!1),[u,f]=N.useState(""),[h,m]=N.useState(null),[p,x]=N.useState(void 0),[y,v]=N.useState(""),[w,j]=N.useState(null),[A,C]=N.useState(null),[S,k]=N.useState(null),[E,T]=N.useState([]),[F,O]=N.useState(!0),[P,W]=N.useState(!1),[q,D]=N.useState(new Set),[M,H]=N.useState(!1),[ee,X]=N.useState(!1),de=N.useRef(null),{user:le}=ln(),G=N.useCallback(async()=>{var J;try{c||a(he=>he&&e.length===0),i(null);const L=await ue.getWithRetry("/orders/all");t(L.data)}catch(L){console.error("AdminOrders fetch error",L),((J=L==null?void 0:L.response)==null?void 0:J.status)===403?i("You do not have permission to view all orders."):i("Failed to load orders")}finally{a(!1),d(!1)}},[c,e.length]);N.useEffect(()=>(G(),de.current=setInterval(G,qMe),()=>{de.current&&clearInterval(de.current)}),[G]),N.useEffect(()=>{(async()=>{var J,L,he,ge,Ae,Ee,xe;try{const Te=await ue.getWithRetry("/settings");(J=Te==null?void 0:Te.data)!=null&&J.currency&&f(Te.data.currency),(L=Te==null?void 0:Te.data)!=null&&L.logo&&m(Te.data.logo),(he=Te==null?void 0:Te.data)!=null&&he.phone&&x(Te.data.phone),(Ae=(ge=Te==null?void 0:Te.data)==null?void 0:ge.checkoutForm)!=null&&Ae.cities&&Array.isArray(Te.data.checkoutForm.cities)&&T(Te.data.checkoutForm.cities.filter(Ue=>typeof Ue=="string"&&Ue.trim()).map(Ue=>Ue.trim())),typeof((xe=(Ee=Te==null?void 0:Te.data)==null?void 0:Ee.checkoutForm)==null?void 0:xe.allowOtherCity)=="boolean"&&O(Te.data.checkoutForm.allowOtherCity)}catch(Te){try{console.warn("AdminOrders: failed to load settings (currency/cities)")}catch(Ue){}}})()},[]);const K=()=>{d(!0),G()},Z=N.useMemo(()=>{const J=e.filter(he=>o==="all"||he.status===o);if(!y.trim())return J;const L=y.trim().toLowerCase();return J.filter(he=>{var Ae,Ee;const ge=he.customerInfo?`${he.customerInfo.firstName||""} ${he.customerInfo.lastName||""}`.toLowerCase():"";return he.orderNumber&&he.orderNumber.toLowerCase().includes(L)||ge.includes(L)||((Ee=(Ae=he.customerInfo)==null?void 0:Ae.email)==null?void 0:Ee.toLowerCase().includes(L))})},[e,o,y]),I=N.useMemo(()=>{if(!Z.length)return[];const J=new Map;for(const L of Z){const he=(L.currency||u||"USD").toUpperCase();J.set(he,(J.get(he)||0)+(Number(L.totalAmount)||0))}return Array.from(J.entries()).map(([L,he])=>({currency:L,total:he}))},[Z,u]),V=N.useMemo(()=>{if(!P||q.size===0)return[];const J=new Map;for(const L of Z){if(!q.has(L._id))continue;const he=(L.currency||u||"USD").toUpperCase();J.set(he,(J.get(he)||0)+(Number(L.totalAmount)||0))}return Array.from(J.entries()).map(([L,he])=>({currency:L,total:he}))},[P,q,Z,u]),te=P&&Z.length>0&&Z.every(J=>q.has(J._id)),R=()=>{D(te?new Set:new Set(Z.map(J=>J._id)))},U=J=>{D(L=>{const he=new Set(L);return he.has(J)?he.delete(J):he.add(J),he})},Q=N.useCallback(()=>{if(!P||q.size===0)return;const J=e.filter(Ae=>q.has(Ae._id));if(!J.length)return;const L=window.open("","_blank");if(!L)return;const he=[];J.forEach((Ae,Ee)=>{var mt,ut,it,At,Bt,vt,Gt,Ut;const xe=(Ae.currency||u||"USD").toUpperCase(),Te=Number(Ae.totalAmount||0),Ue=Number((it=(ut=(mt=Ae.deliveryFee)!=null?mt:Ae.effectiveShippingFee)!=null?ut:Ae.shippingFee)!=null?it:0),tt=Te+Ue,ct=(Ae.items||[]).map((ft,Ht)=>{var St,ir,Kr;const dr=((St=ft.product)==null?void 0:St.name)||ft.name||`منتج ${Ht+1}`;return`<tr><td>${Ht+1}</td><td>${dr}</td><td>x${ft.quantity}</td><td>${((Kr=(ir=ft.price)==null?void 0:ir.toFixed)==null?void 0:Kr.call(ir,2))||"0.00"}</td><td>${(ft.price*ft.quantity).toFixed(2)}</td></tr>`}).join("");he.push(`
        <section class="sheet">
          <header class="wb-head">
            <div class="wb-store">
              ${h?`<img src="${h}" class="wb-logo" />`:'<div class="wb-logo-fallback">LOGO</div>'}
              <div class="wb-meta">${p||""}</div>
            </div>
            <div class="wb-title">
              <h1>بيان شحنة</h1>
              <div class="wb-number">#${Ae.orderNumber||Ae._id}</div>
              <div class="wb-date">${new Date(Ae.createdAt).toLocaleDateString("ar-EG")} - ${new Date(Ae.createdAt).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})}</div>
            </div>
          </header>
          <div class="wb-grid">
            <div class="wb-box">
              <h3>العميل</h3>
              <p>${((At=Ae.customerInfo)==null?void 0:At.firstName)||""} ${((Bt=Ae.customerInfo)==null?void 0:Bt.lastName)||""}</p>
              <p>${((vt=Ae.customerInfo)==null?void 0:vt.mobile)||((Gt=Ae.customerInfo)==null?void 0:Gt.secondaryMobile)||""}</p>
              <p>${((Ut=Ae.shippingAddress)==null?void 0:Ut.city)||""}</p>
            </div>
            <div class="wb-box">
              <h3>الحالة</h3>
              <p>طلب: ${Ae.status}</p>
              <p>توصيل: ${Ae.deliveryStatus||"-"}</p>
              <p>تتبع: ${Ae.deliveryTrackingNumber||Ae.trackingNumber||"-"}</p>
            </div>
            <div class="wb-box wb-total">
              <h3>الإجمالي</h3>
              <p class="amt">${Te.toFixed(2)} <span>${xe}</span></p>
              <p class="fee">رسوم التوصيل: ${Ue.toFixed(2)} ${xe}</p>
              <p class="grand">الإجمالي الكلي: ${tt.toFixed(2)} ${xe}</p>
            </div>
          </div>
          <table class="wb-items">
            <thead><tr><th>#</th><th>الصنف</th><th>الكمية</th><th>السعر</th><th>المجموع</th></tr></thead>
            <tbody>${ct||'<tr><td colspan="5">لا توجد عناصر</td></tr>'}</tbody>
          </table>
          <footer class="wb-footer">صفحة ${Ee+1} / ${J.length}</footer>
        </section>`)});const ge=`<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="utf-8" />
    <title>طباعة طلبات (${J.length})</title>
    <style>
      @page { margin: 10mm; }
      body { font-family: 'Segoe UI', Tahoma, sans-serif; margin:0; padding:0; }
      .sheet { page-break-after: always; padding:12px 16px 24px; }
      .sheet:last-of-type { page-break-after: auto; }
      .wb-head { display:flex; justify-content:space-between; align-items:flex-start; border-bottom:2px solid #444; padding-bottom:8px; margin-bottom:12px; }
      .wb-store { text-align:center; }
      .wb-logo { max-height:48px; max-width:140px; object-fit:contain; display:block; margin:0 auto 4px; }
      .wb-logo-fallback { width:120px; height:48px; background:#eee; display:flex; align-items:center; justify-content:center; font-size:14px; font-weight:600; margin:0 auto 4px; }
      .wb-title { text-align:center; flex:1; }
      .wb-title h1 { font-size:18px; margin:0 0 4px; }
      .wb-number { font-weight:600; font-size:14px; }
      .wb-date { font-size:11px; color:#555; }
      .wb-grid { display:flex; gap:12px; margin-bottom:12px; }
      .wb-box { flex:1; border:1px solid #ccc; border-radius:6px; padding:8px 10px; font-size:12px; }
      .wb-box h3 { margin:0 0 6px; font-size:13px; border-bottom:1px solid #e0e0e0; padding-bottom:4px; }
      .wb-box p { margin:2px 0; }
      .wb-total { background:#f5f7ff; }
  .wb-total .amt { font-size:18px; font-weight:700; margin:2px 0 6px; }
  .wb-total .fee { font-size:11px; margin:2px 0; color:#222; }
  .wb-total .grand { font-size:13px; font-weight:700; margin-top:6px; border-top:1px solid #ddd; padding-top:6px; }
      table.wb-items { width:100%; border-collapse:collapse; font-size:11px; }
      table.wb-items th, table.wb-items td { border:1px solid #999; padding:4px 6px; text-align:center; }
      table.wb-items th { background:#fafafa; }
      .wb-footer { margin-top:10px; font-size:10px; text-align:center; color:#666; }
      @media print { .sheet { page-break-inside:avoid; } }
    </style></head><body>${he.join(`
`)}</body></html>`;L.document.open(),L.document.write(ge),L.document.close(),L.focus(),setTimeout(()=>{try{L.print()}catch(Ae){}},150)},[e,q,P,u,h,p]);return n.jsxs("div",{className:"space-y-8",dir:"rtl",children:[n.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 rounded-2xl p-6 text-white shadow-md relative",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center overflow-hidden",children:le!=null&&le.image?n.jsx("img",{src:la(le.image),alt:le.name||"avatar",className:"w-full h-full object-cover",onError:J=>{J.currentTarget.style.display="none"}}):n.jsx("span",{className:"text-xl font-semibold",children:le!=null&&le.name?le.name.charAt(0).toUpperCase():"A"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold",children:(le==null?void 0:le.name)||"المسؤول"}),n.jsx("p",{className:"text-xs text-indigo-100",children:"مدير عام"})]})]}),n.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-4 flex-wrap",children:[n.jsx("span",{children:P&&q.size>0?n.jsxs(n.Fragment,{children:["محدد # ",q.size]}):n.jsxs(n.Fragment,{children:["طلبات # ",Z.length]})}),(P&&q.size>0?V:I).length>0&&n.jsx("span",{className:"flex flex-wrap gap-2 text-sm font-normal",children:(P&&q.size>0?V:I).map(J=>n.jsxs("span",{className:"bg-white/15 px-3 py-1 rounded-full backdrop-blur border border-white/20 flex items-center gap-1",children:[n.jsx("span",{className:"text-[11px] opacity-80",children:J.currency}),n.jsx("span",{className:"font-semibold",children:lt(J.total,J.currency)})]},J.currency))})]}),n.jsx("p",{className:"mt-1 text-indigo-100 text-xs",children:"مراقبة الطلبات الجديدة وتحديث حالتها بشكل فوري"})]}),n.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"بحث عن رقم الطلب أو اسم العميل",value:y,onChange:J=>v(J.target.value),className:"w-full rounded-xl bg-white/95 text-gray-800 placeholder-gray-400 pr-4 pl-12 py-3 text-sm shadow-inner focus:outline-none focus:ring-2 focus:ring-indigo-300",dir:"rtl"}),n.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"🔍"})]}),n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium bg-indigo-500/40 border border-white/20 px-3 py-2 rounded-lg",children:[n.jsx("span",{className:"opacity-90",children:"تصفية حسب الحالة"}),n.jsxs("select",{value:o,onChange:J=>l(J.target.value),className:"bg-transparent text-white text-xs font-semibold focus:outline-none",children:[n.jsx("option",{value:"all",className:"text-gray-900",children:"الكل"}),n.jsx("option",{value:"pending",className:"text-gray-900",children:"قيد المراجعة"}),n.jsx("option",{value:"processing",className:"text-gray-900",children:"قيد التجهيز"}),n.jsx("option",{value:"shipped",className:"text-gray-900",children:"تم الشحن"}),n.jsx("option",{value:"delivered",className:"text-gray-900",children:"تم التسليم"}),n.jsx("option",{value:"cancelled",className:"text-gray-900",children:"ملغي"})]})]}),n.jsxs("button",{onClick:K,disabled:c,className:"inline-flex items-center gap-2 bg-white text-indigo-700 hover:bg-indigo-50 transition px-4 py-2 rounded-lg text-xs font-semibold shadow disabled:opacity-60",children:[n.jsx(Pn,{className:`w-4 h-4 ${c?"animate-spin":""}`}),c?"تحديث...":"تحديث"]}),n.jsx("button",{type:"button",onClick:()=>{W(J=>!J),D(new Set)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-semibold shadow transition ${P?"bg-indigo-900 text-white":"bg-indigo-50 text-indigo-800 hover:bg-indigo-100"}`,children:P?"إنهاء التحديد":"وضع التحديد"}),P&&n.jsxs("button",{type:"button",onClick:R,className:`px-4 py-2 rounded-lg text-xs font-semibold shadow transition ${te?"bg-green-600 text-white":"bg-gray-500 text-white hover:bg-gray-600"}`,children:[te?"إلغاء الكل":"حدد الكل"," ",q.size>0&&`(${q.size})`]}),P&&n.jsxs("button",{type:"button",onClick:Q,disabled:q.size===0,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-semibold shadow transition border ${q.size===0?"bg-gray-200 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-indigo-800 border-indigo-300 hover:bg-indigo-50"}`,title:q.size===0?"اختر طلبات أولاً":`طباعة ${q.size} طلب`,children:[n.jsx(L2,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"طباعة المحدد"}),q.size>0&&n.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-indigo-600 text-white text-[10px] font-bold",children:q.size})]})]})]})]})}),r&&n.jsx("div",{className:"flex items-center justify-center min-h-[160px]",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-600"})}),s&&!r&&n.jsx("div",{className:"bg-red-50 p-4 rounded-lg text-red-600 text-sm",children:s}),!r&&!s&&Z.length===0&&n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"w-12 h-12 mx-auto mb-4 flex items-center justify-center text-3xl text-gray-400",children:"📦"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"لا توجد طلبات"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"جرّب تعديل البحث أو الحالة."})]}),n.jsx("div",{className:"space-y-4",children:Z.map(J=>{var ct,mt,ut;const L=J.currency||u||"USD",he=lt(J.totalAmount||0,L);let ge=(ut=(mt=(ct=J.shippingFee)!=null?ct:J.deliveryFee)!=null?mt:J.effectiveShippingFee)!=null?ut:0;const Ae=J.totalWithShipping;(!ge||ge===0)&&Ae&&Ae>(J.totalAmount||0)&&(ge=Ae-(J.totalAmount||0));const Ee=lt(ge,L),xe=lt(Ae||(J.totalAmount||0)+ge,L),Te=J.customerInfo?`${J.customerInfo.firstName||""} ${J.customerInfo.lastName||""}`.trim():"",Ue=J.shippingAddress?`${J.shippingAddress.city||""}${J.shippingAddress.street?" - "+J.shippingAddress.street:""}`:"",tt=J.deliveryTrackingNumber||J.trackingNumber||"-";return n.jsxs("div",{className:`relative bg-white rounded-2xl border shadow-sm overflow-hidden transition ${q.has(J._id)?"border-indigo-500 ring-2 ring-indigo-300":"border-gray-200"}`,dir:"rtl",children:[P&&n.jsx("div",{className:"absolute top-2 right-2 z-10",children:n.jsx("label",{className:"inline-flex items-center cursor-pointer select-none",children:n.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-400",checked:q.has(J._id),onChange:()=>U(J._id)})})}),!P&&n.jsx("button",{type:"button",onClick:()=>{W(!0),D(new Set([J._id]))},className:"absolute top-2 right-2 z-10 w-6 h-6 rounded-full border-2 border-gray-300 flex items-center justify-center bg-white hover:border-indigo-500 transition","aria-label":"بدء التحديد",children:n.jsx("span",{className:"w-3 h-3 rounded-full bg-gray-200"})}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 px-4 pt-3 pb-2 text-xs",children:[n.jsxs("div",{className:"flex flex-col items-start pr-8",children:[n.jsx("span",{className:"font-mono text-sm font-semibold text-gray-800",children:J.orderNumber||J._id}),n.jsx("span",{className:"text-[11px] text-indigo-600",children:new Date(J.createdAt).toLocaleString("ar-EG")})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[(J.deliveryCompany||J.deliveryStatus||J.deliveryTrackingNumber)&&n.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-[11px] font-medium",children:"مع شركة التوصيل"}),n.jsx("span",{className:"bg-indigo-900 text-white px-4 py-1 rounded-full text-[11px] font-semibold",children:GMe(J.status)})]})]}),n.jsxs("div",{className:"border-t border-gray-200 divide-y divide-gray-200 text-[13px]",children:[n.jsx(am,{label:"النوع",value:"عادي",icon:"✈"}),n.jsx(am,{label:"اسم المستلم",value:Te||"-",icon:"✉"}),n.jsx(am,{label:"العنوان",value:Ue||"-",icon:"❖"}),n.jsx(am,{label:"تم الإنشاء بواسطة",value:Te||"-",icon:"✎"}),n.jsx(am,{label:"تسلسل التوصيل",value:tt,icon:"📄"}),n.jsxs("div",{className:"flex items-stretch text-center",children:[n.jsxs("div",{className:"flex-1 p-3 flex flex-col gap-1",children:[n.jsx("span",{className:"text-gray-500 text-[11px]",children:"الإجمالي (بدون شحن)"}),n.jsx("span",{className:"font-semibold text-sm",children:he})]}),n.jsx("div",{className:"w-px bg-gray-200"}),n.jsxs("div",{className:"flex-1 p-3 flex flex-col gap-1",children:[n.jsx("span",{className:"text-gray-500 text-[11px]",children:"رسوم الشحن"}),n.jsx("span",{className:"font-semibold text-sm",children:Ee})]}),n.jsx("div",{className:"w-px bg-gray-200"}),n.jsxs("div",{className:"flex-1 p-3 flex flex-col gap-1 bg-indigo-50/40",children:[n.jsx("span",{className:"text-gray-500 text-[11px]",children:"الإجمالي مع الشحن"}),n.jsx("span",{className:"font-semibold text-sm",children:xe})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between px-3 py-3 bg-white border-t border-gray-200 text-xs",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(bu,{icon:"📊",variant:"icon"}),n.jsx(bu,{icon:"🕒",variant:"icon"}),n.jsx(bu,{icon:"📘",variant:"icon"}),n.jsx(bu,{icon:"📞",variant:"icon",onClick:()=>j(J)})]}),n.jsxs("div",{className:"flex gap-2 ml-auto items-center",children:[n.jsx(bu,{icon:"🛒",label:"تصفح\\nجميع المنتجات",variant:"primary",onClick:()=>C(J)}),n.jsx(bu,{icon:"✎",label:"تعديل",variant:"outline",onClick:()=>k(J)}),n.jsx(VMe,{order:J,storeCurrency:u,storeLogo:h||void 0,storePhone:p})]})]})]},J._id)})}),w&&n.jsx(XMe,{order:w,onClose:()=>j(null)}),A&&n.jsx(YMe,{order:A,onClose:()=>C(null),storeCurrency:u}),S&&n.jsx(JMe,{order:S,cities:E,allowOtherCity:F,onClose:()=>k(null),onSaved:J=>{t(L=>L.map(he=>he._id===J._id?{...he,...J}:he)),k(null)}}),P&&q.size>0&&n.jsxs("div",{className:"fixed bottom-4 right-4 left-4 md:left-auto md:w-auto z-40 flex flex-col md:flex-row gap-3 items-stretch md:items-center justify-between bg-white/95 backdrop-blur border border-gray-200 shadow-xl rounded-2xl px-4 py-3",dir:"rtl",children:[n.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium text-gray-700",children:[n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-600 text-white text-xs font-bold",children:q.size}),n.jsx("span",{children:"طلبات محددة"}),V.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 pr-2 mr-2 border-r border-gray-200",children:V.map(J=>n.jsxs("span",{className:"inline-flex items-center gap-1 bg-indigo-50 text-indigo-700 px-2 py-0.5 rounded-full text-[11px] font-semibold",children:[n.jsx("span",{children:J.currency}),n.jsx("span",{className:"font-bold",children:lt(J.total,J.currency)})]},J.currency))})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{disabled:ee,onClick:async()=>{var J;if(!ee){X(!0);try{const L=await ue.getWithRetry("delivery/companies/public/active"),he=L==null?void 0:L.data,ge=Array.isArray(he==null?void 0:he.data)?he.data:Array.isArray(he)?he:[];if(ge.length===1){const Ae=ge[0]._id||ge[0].id,Ee={orderIds:Array.from(q),companyId:Ae};let xe="delivery/send/batch";try{const Te=await ue.postWithRetry(xe,Ee);if(((J=Te==null?void 0:Te.data)==null?void 0:J.success)===!1)throw new Error(Te.data.message||"فشل الإرسال");t(Ue=>Ue.map(tt=>q.has(tt._id)?{...tt,deliveryCompany:Ae,deliveryStatus:tt.deliveryStatus||"assigned"}:tt)),D(new Set),W(!1)}catch(Te){console.warn("Auto send failed, opening modal",Te.message),H(!0)}}else H(!0)}finally{X(!1)}}},className:"px-5 py-2.5 rounded-lg bg-blue-600 hover:bg-blue-500 disabled:opacity-60 text-white text-sm font-semibold shadow flex items-center gap-2",children:[ee&&n.jsx("span",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"})," ",n.jsx("span",{children:"تعيين شركة التوصيل"})]}),n.jsx("button",{onClick:()=>{D(new Set),W(!1)},className:"px-4 py-2.5 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-medium",children:"إلغاء"})]})]}),M&&P&&q.size>0&&n.jsx(QMe,{count:q.size,selectedIds:q,onClose:()=>H(!1),onApplied:J=>{t(L=>L.map(he=>q.has(he._id)?{...he,deliveryCompany:J.companyId,deliveryTrackingNumber:J.trackingNumber||he.deliveryTrackingNumber,trackingNumber:J.trackingNumber||he.trackingNumber,deliveryStatus:J.deliveryStatus||he.deliveryStatus,status:J.orderStatus||he.status}:he)),H(!1)}})]})}const XMe=({order:e,onClose:t})=>{var l,c;const r=((l=e.customerInfo)==null?void 0:l.mobile)||((c=e.customerInfo)==null?void 0:c.secondaryMobile)||"",a=r.replace(/^\+?/,""),s=r.replace(/[^0-9]/g,""),i=s?`tel:${s.startsWith("+")?s:"+"+s}`:"#",o=s?`https://wa.me/${s.startsWith("+")?s.substring(1):s}`:"#";return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",dir:"rtl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl w-[92%] max-w-sm overflow-hidden border border-gray-200 animate-fade-in",children:[n.jsx("div",{className:"px-5 pt-5 pb-3 text-center",children:n.jsx("h3",{className:"text-sm font-semibold text-gray-500 mb-1",children:"اتصال بالعميل"})}),n.jsxs("div",{className:"divide-y divide-gray-200 text-sm",children:[n.jsxs("a",{href:i,onClick:d=>{s||d.preventDefault()},className:"flex items-center justify-between gap-4 px-5 py-4 hover:bg-indigo-50 transition",children:[n.jsxs("span",{className:"flex-1 text-right font-medium text-indigo-900",children:["الاتصال عبر الهاتف ",n.jsx("span",{className:"font-mono ltr:ml-2 rtl:mr-2 tracking-wide",children:a||"—"})]}),n.jsx("span",{className:"text-xl text-indigo-700",children:"📞"})]}),n.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",onClick:d=>{s||d.preventDefault()},className:"flex items-center justify-between gap-4 px-5 py-4 hover:bg-green-50 transition",children:[n.jsx("span",{className:"flex-1 text-right font-medium text-indigo-900",children:"الاتصال عبر الواتس اب"}),n.jsx("span",{className:"text-2xl text-green-600",children:"🟢"})]})]}),n.jsx("button",{onClick:t,className:"w-full py-3 text-sm font-medium text-gray-500 hover:text-gray-700",children:"إغلاق"})]})]})},YMe=({order:e,onClose:t,storeCurrency:r})=>{N.useEffect(()=>{function i(o){o.key==="Escape"&&t()}return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[t]);const a=e.currency||r||"USD",s=e.items.reduce((i,o)=>i+o.price*o.quantity,0);return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",dir:"rtl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl w-[95%] max-w-2xl overflow-hidden border border-gray-200 animate-fade-in flex flex-col max-h-[85vh]",children:[n.jsxs("div",{className:"px-6 pt-5 pb-3 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-800",children:"منتجات الطلب"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-sm",children:"✕"})]}),n.jsxs("div",{className:"overflow-y-auto p-4 space-y-3",children:[e.items.map((i,o)=>{var c;const l=i.price*i.quantity;return n.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border border-gray-100 hover:border-indigo-200 transition",children:[n.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-md overflow-hidden flex items-center justify-center text-gray-400 text-xs",children:i.image?n.jsx("img",{src:la(i.image),alt:"item",className:"w-full h-full object-cover"}):"IMG"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:((c=i.product)==null?void 0:c.name)||i.name||"منتج"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-0.5 text-[11px] text-gray-500",children:[n.jsxs("span",{children:["الكمية: ",i.quantity]}),i.size&&n.jsxs("span",{className:"inline-block px-2 py-0.5 rounded bg-indigo-50 text-indigo-700 border border-indigo-100",children:["المقاس: ",i.size]}),i.color&&n.jsxs("span",{className:"inline-block px-2 py-0.5 rounded bg-pink-50 text-pink-700 border border-pink-100",children:["اللون: ",i.color]})]})]}),n.jsx("div",{className:"text-right text-sm font-semibold text-gray-800 whitespace-nowrap",children:lt(l,a)})]},o)}),e.items.length===0&&n.jsx("div",{className:"text-center text-sm text-gray-500 py-8",children:"لا توجد عناصر في هذا الطلب"})]}),n.jsxs("div",{className:"border-t border-gray-200 p-4 flex items-center justify-between text-sm bg-gray-50",children:[n.jsx("span",{className:"text-gray-600 font-medium",children:"الإجمالي"}),n.jsx("span",{className:"font-semibold text-gray-900",children:lt(s,a)})]}),n.jsx("button",{onClick:t,className:"w-full py-3 text-sm font-medium text-gray-600 hover:text-gray-800",children:"إغلاق"})]})]})},JMe=({order:e,onClose:t,onSaved:r,cities:a,allowOtherCity:s})=>{var te,R,U,Q,J,L,he,ge,Ae,Ee;const[i,o]=N.useState(((te=e.customerInfo)==null?void 0:te.firstName)||""),[l,c]=N.useState(((R=e.customerInfo)==null?void 0:R.lastName)||""),d=((U=e.customerInfo)==null?void 0:U.mobile)||((Q=e.customerInfo)==null?void 0:Q.secondaryMobile)||"";function u(xe){if(!xe)return{code:"+972",local:""};const Te=xe.replace(/\s+/g,""),Ue=Te.match(/^(\+\d{1,4})(\d{5,})$/);return Ue?{code:Ue[1],local:Ue[2]}:Te.startsWith("+")&&Te.length>7?{code:Te.slice(0,4),local:Te.slice(4)}:{code:"+972",local:Te.replace(/^\+/,"")}}const f=u(d),[h,m]=N.useState(f.code),[p,x]=N.useState(f.local),[y,v]=N.useState(((J=e.shippingAddress)==null?void 0:J.city)||""),[w,j]=N.useState(((L=e.shippingAddress)==null?void 0:L.street)||""),[A,C]=N.useState(e.status),S=N.useRef({firstName:((he=e.customerInfo)==null?void 0:he.firstName)||"",lastName:((ge=e.customerInfo)==null?void 0:ge.lastName)||"",mobile:d,city:((Ae=e.shippingAddress)==null?void 0:Ae.city)||"",street:((Ee=e.shippingAddress)==null?void 0:Ee.street)||"",status:e.status}),[k,E]=N.useState(!1),[T,F]=N.useState(null),O=N.useMemo(()=>Array.from(new Set(a)).sort((xe,Te)=>xe.localeCompare(Te,"ar")).filter(Boolean),[a]),P=y&&!O.includes(y),[W,q]=N.useState(!1),[D,M]=N.useState(""),[H,ee]=N.useState(0),X=N.useRef(null),de=N.useRef(null),le=N.useMemo(()=>{const xe=D.trim();return xe?O.filter(Te=>Te.includes(xe)).slice(0,50):O.slice(0,50)},[O,D]);N.useEffect(()=>{function xe(Te){Te.key==="Escape"&&!W&&t()}return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[t,W]),N.useEffect(()=>{if(!W)return;function xe(Ue){const tt=Ue.target;X.current&&X.current.contains(tt)||de.current&&de.current.contains(tt)||q(!1)}function Te(Ue){Ue.key==="ArrowDown"?(Ue.preventDefault(),ee(tt=>Math.min(tt+1,Math.max(le.length-1,0)))):Ue.key==="ArrowUp"?(Ue.preventDefault(),ee(tt=>Math.max(tt-1,0))):Ue.key==="Enter"?(Ue.preventDefault(),le[H]?(v(le[H]),M(""),q(!1)):s&&D&&(v(D),q(!1))):Ue.key==="Escape"&&q(!1)}return document.addEventListener("mousedown",xe),window.addEventListener("keydown",Te),()=>{document.removeEventListener("mousedown",xe),window.removeEventListener("keydown",Te)}},[W,le,H,D,s]),N.useEffect(()=>{function xe(Te){Te.key==="Escape"&&t()}return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[t]);const G=y||D,K=h+p,I=i.trim()&&i.trim()!==S.current.firstName||l.trim()&&l.trim()!==S.current.lastName||p.trim()&&K.trim()!==S.current.mobile||G.trim()&&G.trim()!==S.current.city||w.trim()&&w.trim()!==S.current.street||A!==S.current.status,V=async xe=>{var Te,Ue,tt;if(xe.preventDefault(),!I){t();return}E(!0),F(null);try{const ct=s?G||((Te=e.shippingAddress)==null?void 0:Te.city):y||((Ue=e.shippingAddress)==null?void 0:Ue.city),mt={},ut={};i&&i!==S.current.firstName&&(ut.firstName=i),l&&l!==S.current.lastName&&(ut.lastName=l),K&&K!==S.current.mobile&&(ut.mobile=K),Object.keys(ut).length&&(mt.customerInfo=ut);const it={};if(ct&&ct!==S.current.city&&(it.city=ct),w&&w!==S.current.street&&(it.street=w),Object.keys(it).length&&(mt.shippingAddress=it),A!==S.current.status&&(mt.status=A),!Object.keys(mt).length){t();return}const At=await ue.put(`/orders/${e._id}`,mt),Bt=(tt=At.data)!=null&&tt.order?At.data.order:{...e,...mt};r(Bt)}catch(ct){F("فشل حفظ التعديلات")}finally{E(!1)}};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",dir:"rtl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:t}),n.jsxs("form",{onSubmit:V,className:"relative bg-white w-full sm:max-w-lg sm:rounded-2xl sm:shadow-xl max-h-[92vh] flex flex-col animate-fade-in border-t sm:border border-gray-200",children:[n.jsxs("div",{className:"px-6 pt-5 pb-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-800",children:"تعديل الطلب"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"تحديث بيانات المستلم والعنوان وحالة الطلب"})]}),n.jsxs("div",{className:"overflow-y-auto px-6 py-5 space-y-5 text-sm",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 text-[12px] mb-1 font-medium",children:"الاسم الأول"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{value:i,onChange:xe=>o(xe.target.value),className:"w-full pr-8 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 px-3 py-2 text-sm bg-white",placeholder:"الاسم الأول"}),i&&n.jsx("button",{type:"button",onClick:()=>o(""),className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-xs",children:"✕"})]}),n.jsx("div",{className:"mt-1 text-[10px] text-gray-400",children:i&&i!==S.current.firstName?"تم التعديل":"بدون تغيير"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 text-[12px] mb-1 font-medium",children:"الاسم الأخير"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{value:l,onChange:xe=>c(xe.target.value),className:"w-full pr-8 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 px-3 py-2 text-sm bg-white",placeholder:"الاسم الأخير"}),l&&n.jsx("button",{type:"button",onClick:()=>c(""),className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-xs",children:"✕"})]}),n.jsx("div",{className:"mt-1 text-[10px] text-gray-400",children:l&&l!==S.current.lastName?"تم التعديل":"بدون تغيير"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 text-[12px] mb-1 font-medium",children:"رقم الهاتف"}),n.jsxs("div",{className:"flex gap-2",dir:"ltr",children:[n.jsxs("div",{className:"relative w-28",children:[n.jsx("select",{value:h,onChange:xe=>m(xe.target.value),className:"w-full appearance-none rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 px-2 py-2 text-sm bg-white pr-6 font-mono",children:["+972","+966","+970","+971","+965","+974","+973","+968","+20","+962","+961","+964"].map(xe=>n.jsx("option",{value:xe,children:xe},xe))}),n.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:"⌄"})]}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx("input",{value:p,onChange:xe=>x(xe.target.value.replace(/[^0-9]/g,"")),className:"w-full rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 px-3 py-2 text-sm bg-white font-mono pr-8",placeholder:"5xxxxxxxx"}),p&&n.jsx("button",{type:"button",onClick:()=>x(""),className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-xs",children:"✕"})]})]}),n.jsxs("div",{className:"mt-1 flex items-center justify-between text-[10px] text-gray-400",children:[n.jsx("span",{children:K!==S.current.mobile?"تم التعديل":"بدون تغيير"}),n.jsxs("span",{dir:"ltr",className:p.length<5?"text-red-500":"",children:[h,p||""]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 text-[12px] mb-1 font-medium",children:"المدينة"}),n.jsxs("div",{className:"relative",dir:"rtl",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{ref:X,value:D||y,onChange:xe=>{M(xe.target.value),W||q(!0)},onFocus:()=>q(!0),onBlur:()=>{const xe=(D||"").trim();xe&&s&&!O.includes(xe)&&(v(xe),M(""))},placeholder:"اكتب للبحث عن مدينة",className:"w-full rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 px-3 py-2 text-sm bg-white"})}),y&&n.jsx("button",{type:"button",onClick:()=>{v(""),M(""),q(!0)},className:"px-3 rounded-lg border border-gray-200 text-gray-400 hover:text-gray-600 text-sm",children:"✕"})]}),W&&n.jsxs("div",{ref:de,className:"absolute z-10 mt-2 w-full max-h-64 overflow-y-auto rounded-lg border border-gray-200 bg-white shadow-lg animate-fade-in text-sm",children:[le.length===0&&n.jsx("div",{className:"px-3 py-3 text-gray-500 text-xs",children:"لا نتائج"}),le.map((xe,Te)=>n.jsx("button",{type:"button",onClick:()=>{v(xe),M(""),q(!1)},onMouseEnter:()=>ee(Te),className:`w-full text-right px-3 py-2 hover:bg-indigo-50 ${Te===H?"bg-indigo-50 text-indigo-700":""}`,children:xe},xe)),s&&D&&!O.includes(D)&&n.jsxs("button",{type:"button",onClick:()=>{v(D),q(!1)},className:"w-full text-right px-3 py-2 bg-green-50 hover:bg-green-100 text-green-700",children:['استخدام "',D,'" كمدينة جديدة']})]})]}),n.jsxs("div",{className:"mt-1 flex items-center justify-between text-[11px] text-gray-400",children:[n.jsx("span",{children:y?P?"مدينة مخصصة":"تم اختيار مدينة":"لم يتم اختيار مدينة"}),n.jsxs("span",{children:[le.length," نتائج"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 text-[12px] mb-1 font-medium",children:"العنوان المختصر"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{value:w,onChange:xe=>j(xe.target.value),className:"w-full pr-8 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 px-3 py-2 text-sm bg-white",placeholder:"الشارع / المبنى"}),w&&n.jsx("button",{type:"button",onClick:()=>j(""),className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-xs",children:"✕"})]}),n.jsx("div",{className:"mt-1 text-[10px] text-gray-400",children:w&&w!==S.current.street?"تم التعديل":"بدون تغيير"})]})]}),n.jsx(ZMe,{value:A,onChange:C}),T&&n.jsx("div",{className:"text-xs text-red-600 bg-red-50 border border-red-100 rounded-lg px-3 py-2",children:T})]}),n.jsxs("div",{className:"mt-auto flex",children:[n.jsx("button",{type:"button",onClick:t,className:"w-1/2 py-4 text-sm font-semibold text-gray-500 bg-gray-50 hover:bg-gray-100 border-t border-gray-200",children:"إغلاق"}),n.jsxs("button",{type:"submit",disabled:k||!I,className:"w-1/2 py-4 text-sm font-semibold text-white bg-green-600 hover:bg-green-500 disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition",children:[k&&n.jsx("span",{className:"animate-spin h-4 w-4 rounded-full border-2 border-white border-t-transparent"}),n.jsx("span",{children:k?"جارِ الحفظ":"تعديل"})]})]})]})]})},kx=[{value:"pending",label:"قيد المراجعة"},{value:"processing",label:"قيد التجهيز"},{value:"shipped",label:"تم الشحن"},{value:"delivered",label:"تم التسليم"},{value:"cancelled",label:"ملغي"}],ZMe=({value:e,onChange:t})=>{const[r,a]=N.useState(!1),[s,i]=N.useState(""),o=N.useRef(null),l=N.useRef(null),[c,d]=N.useState(0),u=N.useMemo(()=>s.trim()?kx.filter(h=>h.label.includes(s)||h.value.includes(s)):kx,[s]);N.useEffect(()=>{if(!r)return;function h(p){var y,v;const x=p.target;(y=o.current)!=null&&y.contains(x)||(v=l.current)!=null&&v.contains(x)||a(!1)}function m(p){p.key==="ArrowDown"?(p.preventDefault(),d(x=>Math.min(x+1,Math.max(u.length-1,0)))):p.key==="ArrowUp"?(p.preventDefault(),d(x=>Math.max(x-1,0))):p.key==="Enter"?(p.preventDefault(),u[c]&&(t(u[c].value),a(!1))):p.key==="Escape"&&a(!1)}return document.addEventListener("mousedown",h),window.addEventListener("keydown",m),()=>{document.removeEventListener("mousedown",h),window.removeEventListener("keydown",m)}},[r,u,c,t]);const f=kx.find(h=>h.value===e);return n.jsxs("div",{className:"mt-4",dir:"rtl",children:[n.jsx("label",{className:"block text-gray-600 text-[12px] mb-1 font-medium",children:"حالة الطلب"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:o,value:s||(f==null?void 0:f.label)||"",onChange:h=>{i(h.target.value),r||a(!0)},onFocus:()=>a(!0),placeholder:"ابحث عن الحالة",className:"w-full pr-8 rounded-lg border border-gray-200 focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 px-3 py-2 text-sm bg-white"}),(s||f)&&n.jsx("button",{type:"button",onClick:()=>{i(""),a(!0)},className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 text-xs",children:"✕"}),r&&n.jsxs("div",{ref:l,className:"absolute z-20 mt-2 w-full bg-white border border-gray-200 rounded-lg shadow max-h-60 overflow-y-auto text-sm animate-fade-in",children:[u.map((h,m)=>n.jsx("button",{type:"button",onClick:()=>{t(h.value),a(!1),i("")},onMouseEnter:()=>d(m),className:`w-full text-right px-3 py-2 hover:bg-indigo-50 ${h.value===e?"font-semibold text-indigo-700":""} ${m===c?"bg-indigo-50":""}`,children:h.label},h.value)),u.length===0&&n.jsx("div",{className:"px-3 py-2 text-xs text-gray-500",children:"لا نتائج"})]})]}),n.jsxs("div",{className:"mt-1 text-[10px] text-gray-400",children:[e!==kx[0].value?"قد تكون الحالة معدلة":"الحالة الأساسية"," "]})]})},QMe=({count:e,selectedIds:t,onClose:r,onApplied:a})=>{const[s,i]=N.useState([]),[o,l]=N.useState(""),[c,d]=N.useState(""),[u,f]=N.useState("assigned"),[h,m]=N.useState("processing"),[p,x]=N.useState(!1),[y,v]=N.useState(!1),[w,j]=N.useState(null),[A,C]=N.useState(!1),S=N.useRef(!1),k=N.useRef(!1),E=!!o||c.trim()||u!=="assigned"||h!=="processing";N.useEffect(()=>{let F=!1;return(async()=>{var O,P;x(!0),j(null);try{const W=await ue.getWithRetry("delivery/companies/public/active"),q=W==null?void 0:W.data,D=Array.isArray(q==null?void 0:q.data)?q.data:Array.isArray(q)?q:[];if(!F){const M=D.map(ee=>({id:ee._id||ee.id,name:ee.name,isActive:ee.isActive!==!1,isDefault:ee.isDefault}));i(M);const H=M.find(ee=>ee.isDefault)||M[0];H&&l(H.id)}}catch(W){F||j(((P=(O=W.response)==null?void 0:O.data)==null?void 0:P.message)||W.message||"خطأ")}finally{F||x(!1)}})(),()=>{F=!0}},[]),N.useEffect(()=>{k.current||S.current||!p&&s.length===1&&o&&(k.current=!0,C(!0),setTimeout(()=>{T({preventDefault(){}},{forceSendNow:!0})},0))},[p,s,o]);const T=async(F,O)=>{var W,q,D,M,H;F.preventDefault();const P=O!=null&&O.forceSendNow?!0:A;if(!(!E||!o)){v(!0),j(null);try{const ee={orderIds:Array.from(t),companyId:o,trackingNumber:c.trim()||void 0,deliveryStatus:u||void 0,orderStatus:h||void 0},X=P?"delivery/send/batch":"delivery/assign/batch",de=await ue.postWithRetry(X,ee);if(((W=de==null?void 0:de.data)==null?void 0:W.success)===!1)throw new Error(de.data.message||"فشل الحفظ");const le=(q=s.find(G=>G.id===o))==null?void 0:q.name;if(P&&Array.isArray((D=de.data)==null?void 0:D.results)){a({companyId:o,trackingNumber:c.trim()||void 0,deliveryStatus:u,orderStatus:h,companyName:le});const G=de.data.results.filter(K=>!K.success);G.length&&j(`تم الإرسال مع ${G.length} فشل`)}else a({companyId:o,trackingNumber:c.trim()||void 0,deliveryStatus:u,orderStatus:h,companyName:le})}catch(ee){if(((M=ee==null?void 0:ee.response)==null?void 0:M.status)===404){const de=(H=s.find(le=>le.id===o))==null?void 0:H.name;console.warn("Batch assign route 404 – applying local optimistic update only. Redeploy backend to enable persistence."),a({companyId:o,trackingNumber:c.trim()||void 0,deliveryStatus:u,orderStatus:h,companyName:de}),j("تم تحديث الواجهة فقط (لم يتم الحفظ في الخادم – أعد نشر الخادم لإتاحة المسار)")}else j(ee.message||"خطأ")}finally{v(!1)}}};return N.useEffect(()=>{function F(O){O.key==="Escape"&&r()}return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[r]),n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",dir:"rtl",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r}),n.jsxs("form",{onSubmit:T,className:"relative bg-white w-[95%] max-w-xl rounded-2xl shadow-xl border border-gray-200 flex flex-col max-h-[90vh]",children:[n.jsxs("div",{className:"px-6 pt-5 pb-4 border-b border-gray-200",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-800",children:"تعيين شركة التوصيل"}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["تطبيق الإعدادات على ",n.jsx("span",{className:"font-semibold text-indigo-600",children:e})," طلبات"]})]}),n.jsxs("div",{className:"overflow-y-auto px-6 py-5 space-y-5 text-sm",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-[12px] mb-1 font-medium text-gray-600",children:"شركة التوصيل"}),p?n.jsx("div",{className:"h-10 flex items-center text-xs text-gray-500",children:"تحميل..."}):n.jsxs("select",{value:o,onChange:F=>{S.current=!0,l(F.target.value)},className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400",children:[n.jsx("option",{value:"",children:"اختر شركة"}),s.map(F=>n.jsxs("option",{value:F.id,children:[F.name,F.isDefault?" (افتراضي)":""]},F.id))]}),w&&n.jsx("div",{className:"text-red-500 text-[11px] mt-1",children:w})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-[12px] mb-1 font-medium text-gray-600",children:"رقم التتبع"}),n.jsx("input",{value:c,onChange:F=>{S.current=!0,d(F.target.value)},placeholder:"# Tracking",className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 font-mono"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-[12px] mb-1 font-medium text-gray-600",children:"حالة التوصيل"}),n.jsxs("select",{value:u,onChange:F=>{S.current=!0,f(F.target.value)},className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400",children:[n.jsx("option",{value:"assigned",children:"تم التعيين"}),n.jsx("option",{value:"picked_up",children:"تم الاستلام"}),n.jsx("option",{value:"in_transit",children:"في الطريق"}),n.jsx("option",{value:"out_for_delivery",children:"خارج للتسليم"}),n.jsx("option",{value:"delivered",children:"تم التسليم"}),n.jsx("option",{value:"delivery_failed",children:"فشل التسليم"}),n.jsx("option",{value:"returned",children:"مرتجع"}),n.jsx("option",{value:"cancelled",children:"ملغي"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-[12px] mb-1 font-medium text-gray-600",children:"تحديث حالة الطلب"}),n.jsxs("select",{value:h,onChange:F=>{S.current=!0,m(F.target.value)},className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm bg-white focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400",children:[n.jsx("option",{value:"processing",children:"قيد التجهيز"}),n.jsx("option",{value:"shipped",children:"تم الشحن"}),n.jsx("option",{value:"delivered",children:"تم التسليم"}),n.jsx("option",{value:"cancelled",children:"ملغي"})]})]})]}),n.jsx("div",{className:"text-[11px] text-gray-500 leading-relaxed",children:A?"سيتم إرسال الطلبات فعلياً إلى مزود التوصيل (قد يستغرق ثوانٍ).":"سيتم فقط تعيين الشركة وتحديث الحالة داخلياً."}),n.jsxs("label",{className:"flex items-center gap-2 text-[12px] font-medium text-gray-700 cursor-pointer select-none",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300",checked:A,onChange:F=>{S.current=!0,C(F.target.checked)}}),n.jsx("span",{children:"إرسال فعلي الآن (تكامل)"})]})]}),n.jsxs("div",{className:"mt-auto flex border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:r,className:"w-1/2 py-4 text-sm font-semibold text-gray-500 bg-gray-50 hover:bg-gray-100",children:"إلغاء"}),n.jsxs("button",{type:"submit",disabled:!E||y||!o,className:"w-1/2 py-4 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-500 disabled:opacity-60 flex items-center justify-center gap-2",children:[y&&n.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),n.jsx("span",{children:"تطبيق"})]})]})]})]})};function eLe(){const{user:e}=ln();return e?e.role!=="admin"?n.jsx(Lm,{to:"/",replace:!0}):n.jsx(KMe,{}):n.jsx(Lm,{to:"/login",replace:!0})}function tLe(){const e=Ea(),{items:t,removeFromWishlist:r}=Sd(),{addToCart:a}=ga(),[s,i]=N.useState(null),[o,l]=N.useState({}),{t:c}=$t(),d=N.useMemo(()=>{const f={};for(const h of t)f[h.id]=Wa(h.image);return f},[t]);N.useEffect(()=>{let f=!0;return(async()=>{const h=await Promise.all(t.map(async p=>{const x=d[p.id];if(!(!p.image||x==="/placeholder-image.svg"||/^[a-fA-F0-9]{24}$/.test(String(p.image))))return[p.id,x];try{const v=await ue.getWithRetry(`/products/${p.id}`),w=v==null?void 0:v.data;if(w){const j=Wa(as(w).primary);return[p.id,j]}}catch(v){}return[p.id,x]}));if(!f)return;const m={};for(const[p,x]of h)m[p]=x;l(m)})(),()=>{f=!1}},[t,d]);const u=async f=>{try{i(f.id),await a({id:f.id,name:f.name,price:f.price,image:Wa(f.image)})&&r(f.id)}finally{i(null)}};return t.length?n.jsxs("div",{className:"max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:c("wishlist.title")}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t.map(f=>n.jsxs("div",{className:"group border border-gray-200 rounded-lg overflow-hidden bg-white",children:[n.jsx("div",{className:"aspect-[4/5] bg-gray-50 overflow-hidden",children:n.jsx("img",{src:o[f.id]||d[f.id],alt:f.name,className:"w-full h-full object-cover group-hover:scale-[1.02] transition-transform duration-300",onError:h=>{h.currentTarget.src="/placeholder-image.svg"}})}),n.jsxs("div",{className:"p-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f.name}),n.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[n.jsxs("span",{className:"text-sm font-semibold text-indigo-600",children:["$",f.price.toFixed(2)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>r(f.id),className:"p-2 rounded-md border border-gray-200 text-gray-700 hover:bg-gray-50",title:c("wishlist.actions.remove"),"aria-label":c("wishlist.actions.remove"),children:n.jsx(en,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>u(f),disabled:s===f.id,className:"p-2 rounded-md border border-gray-200 text-gray-700 hover:bg-gray-50 disabled:opacity-60 disabled:cursor-not-allowed",title:c("wishlist.actions.addToCart"),children:n.jsx($2,{className:"w-4 h-4"})})]})]})]})]},f.id))})]}):n.jsx("div",{className:"max-w-[720px] mx-auto px-4 sm:px-6 lg:px-8 py-10",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-gray-100 flex items-center justify-center mb-4",children:n.jsx(Si,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:c("wishlist.title")}),n.jsxs("div",{className:"mt-4 flex items-center justify-center gap-10",children:[n.jsx("button",{className:"relative text-gray-900 font-semibold after:block after:h-[2px] after:bg-gray-900 after:mt-1",children:c("wishlist.tabs.items")}),n.jsx("button",{className:"text-gray-400 font-semibold",children:c("wishlist.tabs.boards")})]}),n.jsx("p",{className:"mt-10 text-gray-600",children:c("wishlist.empty.page")}),n.jsx("button",{onClick:()=>e("/products"),className:"mt-6 inline-flex items-center justify-center bg-gray-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-800",children:c("wishlist.actions.shopNow")})]})})}function rLe({onSubmit:e,onCitySelect:t}){const{t:r}=$t(),[a,s]=N.useState({showEmail:!1,showLastName:!1,showSecondaryMobile:!1,showCountry:!1,allowOtherCity:!0,cities:["ابو قويدر","الجولان","الريحانية","الظهرية","ام الفحم","بديا","بيت شيمش","جفعات شموئل","جولس","حزمه","حسنيه","خضيرة","دير رافات","راس علي","رحوفوت","رمانه","رموت هشفيم","صندله","طيرة الكرمل","عين الاسد","عين حوض","كريات اتا","كسرى سميع","لهافيم","معليا","معلي افريم","نهاريا","نوف هجليل","هود هشارون","يوكنعام","ירושלים","الضفة الغربية","منطقة ابو غوش","الداخل","قرى الخليل","قباطية","اريحا","العيزرية","الزعيم","يطا","بيت لحم","الخليل","طوباس","طولكرم","سلفيت","ابو غوش","جنين","قلقيلية","ابو ديس","عين رافا","حيفا","عناتا","سخنين","ضواحي بيت لحم","مخيم شعفاط","ضواحي القدس","السواحرة الشرقية","إم الفحم","البيرة","عين نقوبا","كفر عقب","غزة","ضواحي رام الله","الرام","رام الله","نابلس","ابطن","ابو اسنان","ابو تلول","ابو سنان","ابو قرينات","اريال","اشدود","اشكلون","اعبلين","اكسال","البعنه","البعينة نجيدات","البقيعة","البلدة القديمة أبواب","التله الفرنسيه","الثوري ابوطور","الجش","الجولان","الرامة","الرامه","الرملة","الرينه","الزرازير","الشبلة","الشيخ جراح","الشيخ دنون","الضاحية","الطور","الطيبة","الطيبة الزعبية","الطيرة","العزير","العيسويه","الغجر","الفريديس","القدس","الكعبية","اللد","اللقية","المركز","المزرعة","المزرعه","المشهد","المشيرفه","المغار","الناصرة","الناصره العليا","الناعورة","النقب","النين","ام الغنم","ام القطف","ام بطين","اور يهودا","ايلات","بات يام","بار يعكوف","باقة الغربية","برطعة","بسمة طبعون","بقعاتا","بني براك","بيت جان","بيتح تكفا","بيت حنينا","بيت صفافا","بير السبع","بير السكة","بير المشاش","بير المكسور","ترشيحا","تل ابيب","تل السبع","تل عراد","جبل المكبر","جت","جت الجليل","جديدة","جديده المكر","جسر الزرقاء","جلجوليا","جلجولية","جنوب","حجاجره","حرفيش","حريش","حورة","حولون","خوالد","دالية الكرمل","دبورية","دير الاسد","دير حنا","ديمونا","راس العامود","رعنانا","رمات جان","رمات خوڤاڤ","رهط","روش هعاين","رومانه","ريشون لتسيون","زلفة","زيمر","ساجور","سالم","سلوان","سولم","شارع يافا","شبلي","شعب","شعفاط","شفاعمر","شفاعمرو","شقيب السلام","شمال بعيد","شمال قريب","شمال وسط","صفد","صور باهر","ضميده","طباش","طبريا","طرعان","طمرة","طمرة الزعبية","طوبا الزنجريه","عارة","عرابة","عرابه","عراد","عرب العرامشة","عرب الهيب","عرعرة (الشمال)","عرعره النقب","عسفيا","عطروت","عفولة","عكا","عيلبون","عيلوط","عين السهلة","عين قينيا","عين ماهل","فريديس","فسوطه","قرية دريجات","قصر السر","قلنسوة","كابول","كرمئيل","كريات اونو","كريات شمونه","كسيفه","كعيبة","كفر برا","كفر سميع","كفر قاسم","كفرقرع","كفر قرع","كفر كما","كفر كنا","كفر مصر","كفر مندا","كفر ياسيف","كمانة","كوكب ابو الهيجا","كيبوتس دان","مثلث","مجد الكروم","مجدل شمس","مسعدة","مشيرفة","مصمص","معاوية","مقيبلة","مكر","منشية الزبدة","مولادا","ميسر","نتانيا","نتانياا","نتانيااا","نحف","نين","هرتسيليا","واد سلامة","وادي الجوز","وادي الحمام","وادي سلامه","وادي عارة","يافا","يافة الناصرة","يانوح","يركا","כפר סבא"]}),[i,o]=N.useState(""),[l,c]=N.useState(""),[d,u]=N.useState(""),[f,h]=N.useState(!1),[m,p]=N.useState(-1),x=N.useRef(null),[y,v]=N.useState(""),w=Array.from(new Set((a.cities||[]).map(A=>A!=null?A:"").map(A=>A.replace(/\s+/g," ").trim()).filter(Boolean)));N.useEffect(()=>{let A=!0;return(async()=>{try{const{data:C}=await ue.getWithRetry("/settings/checkout");if(A&&C){const S=Array.isArray(C.cities)&&C.cities.length?C.cities:a.cities||[],k=Array.from(new Set(S.map(E=>String(E||"").replace(/\s+/g," ").trim()).filter(Boolean)));s(E=>({...E,...C,cities:k,showEmail:!!C.showEmail,showLastName:!!C.showLastName,showSecondaryMobile:!!C.showSecondaryMobile,showCountry:!!C.showCountry,allowOtherCity:C.allowOtherCity!==void 0?!!C.allowOtherCity:E.allowOtherCity}))}}catch(C){}})(),()=>{A=!1}},[]),N.useEffect(()=>{const A=C=>{x.current&&!x.current.contains(C.target)&&(h(!1),p(-1))};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const j=A=>{if(A.preventDefault(),!i){v(r("checkout.shipping.errors.selectCity"));return}if(i==="other"&&!l.trim()){v(r("checkout.shipping.errors.enterCity"));return}const C=new FormData(A.currentTarget),S=Object.fromEntries(C.entries());if(S.lastName||(S.lastName=S.firstName||""),!S.email||String(S.email).trim()===""){const k=String(S.firstName||"guest").toLowerCase().replace(/[^a-z0-9]+/g,"")||"guest",E=String(S.mobile||"").replace(/\D/g,"");S.email=`${k}${E?`.${E}`:""}@noemail.local`}S.city==="other"&&(S.city=S.cityOther||""),e(S)};return N.useEffect(()=>{if(!t)return;let A="";i==="other"?A=l.trim():i&&(A=i),A&&t(A)},[i,l,t]),n.jsxs("form",{onSubmit:j,className:"px-8 py-6 space-y-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkout.shipping.firstName")}),n.jsx("input",{type:"text",id:"firstName",name:"firstName",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.showLastName&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkout.shipping.lastName")}),n.jsx("input",{type:"text",id:"lastName",name:"lastName",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),a.showEmail&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkout.shipping.email")}),n.jsx("input",{type:"email",id:"email",name:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsx("input",{type:"hidden",id:"country",name:"country",value:"PS"}),a.showCountry&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkout.shipping.country")}),n.jsx("div",{className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-700",children:r("checkout.shipping.countryValue")})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkout.shipping.mobile")}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"hidden",name:"countryCode",value:"+972"}),n.jsx("div",{className:"px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 select-none",children:"+972"}),n.jsx("input",{type:"tel",id:"mobile",name:"mobile",required:!0,pattern:"[0-9]{9,10}",placeholder:r("checkout.shipping.mobilePlaceholder"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:r("checkout.shipping.mobileHint")})]}),a.showSecondaryMobile&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"secondaryMobile",className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkout.shipping.secondaryMobile")}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"hidden",name:"secondaryCountryCode",value:"+972"}),n.jsx("div",{className:"px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-700 select-none",children:"+972"}),n.jsx("input",{type:"tel",id:"secondaryMobile",name:"secondaryMobile",pattern:"[0-9]{9,10}",placeholder:r("checkout.shipping.mobilePlaceholder"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkout.shipping.address")}),n.jsx("input",{type:"text",id:"address",name:"address",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:r("checkout.shipping.addressPlaceholder")})]}),n.jsxs("div",{ref:x,className:"relative",children:[n.jsx("label",{htmlFor:"city-combobox",className:"block text-sm font-medium text-gray-700 mb-1",children:r("checkout.shipping.city")}),n.jsx("input",{id:"city-combobox",type:"text",value:d,onFocus:()=>{h(!0),p(0),v("")},onChange:A=>{u(A.target.value),h(!0),p(0),y&&v("")},onKeyDown:A=>{const C=d.trim().toLowerCase(),k=[...C?w.filter(E=>E.toLowerCase().includes(C)):w,...a.allowOtherCity?[r("checkout.shipping.other")]:[]];if(A.key==="ArrowDown")A.preventDefault(),h(!0),p(E=>Math.min((E<0?-1:E)+1,k.length-1));else if(A.key==="ArrowUp")A.preventDefault(),p(E=>Math.max((E<0?0:E)-1,0));else if(A.key==="Enter"){if(f&&k.length>0&&m>=0){A.preventDefault();const E=k[m];E===r("checkout.shipping.other")?(o("other"),u(r("checkout.shipping.other"))):(o(E),u(E)),h(!1),v("")}}else A.key==="Escape"&&(h(!1),p(-1))},placeholder:r("checkout.shipping.citySearchPlaceholder"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoComplete:"off",spellCheck:!1}),n.jsx("input",{type:"hidden",name:"city",value:i}),f&&n.jsx("div",{className:"absolute z-20 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:(()=>{const A=d.trim().toLowerCase(),S=[...A?w.filter(k=>k.toLowerCase().includes(A)):w,...a.allowOtherCity?[r("checkout.shipping.other")]:[]];return S.length===0?n.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:r("checkout.shipping.noMatches")}):S.map((k,E)=>{const T=E===m,F=k===r("checkout.shipping.other")?i==="other":i===k;return n.jsxs("div",{onMouseEnter:()=>p(E),onMouseDown:O=>O.preventDefault(),onClick:()=>{k===r("checkout.shipping.other")?(o("other"),u(r("checkout.shipping.other"))):(o(k),u(k)),h(!1),v("")},className:`${T?"bg-indigo-600 text-white":"bg-white text-gray-900"} cursor-pointer px-4 py-2 text-sm flex items-center justify-between`,children:[n.jsx("span",{children:k}),F&&n.jsx("span",{className:"text-xs opacity-80",children:r("checkout.shipping.selected")})]},`${k}__${E}`)})})()}),y&&n.jsx("div",{className:"mt-1 text-sm text-red-600",children:y}),a.allowOtherCity&&i==="other"&&n.jsx("input",{type:"text",name:"cityOther",placeholder:r("checkout.shipping.enterCity"),value:l,onChange:A=>{c(A.target.value),y&&v("")},required:!0,className:"mt-2 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),n.jsx("div",{className:"flex items-center justify-between pt-6 border-t",children:n.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-full font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:r("checkout.shipping.continueToPayment")})})]})}function nLe({orderNumber:e,email:t,mobile:r,onClose:a}){return n.jsxs("div",{className:"px-8 py-12 text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center",children:n.jsx(jn,{className:"w-8 h-8 text-green-600"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Successfully Placed!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your order. We'll send you shipping confirmation soon."}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-lg font-semibold text-gray-900 mb-4",children:[n.jsx(rr,{className:"w-5 h-5 text-indigo-600"}),"Order #",e]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[n.jsx(to,{className:"w-4 h-4"}),"Confirmation sent to ",t]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[n.jsx(Ef,{className:"w-4 h-4"}),"Updates will be sent to ",r]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(Vn,{to:"/orders",className:"w-full inline-flex items-center justify-center gap-2 bg-indigo-600 text-white py-3 rounded-full font-semibold hover:bg-indigo-700 transition-colors",children:["View Order Status",n.jsx(hl,{className:"w-4 h-4"})]}),n.jsx("button",{onClick:a,className:"w-full bg-gray-100 text-gray-900 py-3 rounded-full font-semibold hover:bg-gray-200 transition-colors",children:"Continue Shopping"})]})]})}/*!
 * react-paypal-js v8.9.1 (2025-09-03T21:12:12.855Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ws;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(ws||(ws={}));var Jl;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Jl||(Jl={}));var K5;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(K5||(K5={}));var On=function(){return On=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},On.apply(this,arguments)};function j8(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function X5(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var X0="data-react-paypal-script-id",Yc={DATA_CLIENT_TOKEN:"dataClientToken",DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource",DATA_USER_ID_TOKEN:"dataUserIdToken"},aLe="Failed to load the PayPal JS SDK script.",N8="paypal",sLe="usePayPalScriptReducer must be used within a PayPalScriptProvider";function iLe(e){return e===void 0&&(e=N8),window[e]}function oLe(e){for(var t="",r=0;r<e.length;r++){var a=e[r].charCodeAt(0)*r;e[r+1]&&(a+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(a)%26)}return t}function lLe(e){var t=e.reactComponentName,r=e.sdkComponentKey,a=e.sdkRequestedComponents,s=a===void 0?"":a,i=e.sdkDataNamespace,o=i===void 0?N8:i,l=r.charAt(0).toUpperCase().concat(r.substring(1)),c="Unable to render <".concat(t," /> because window.").concat(o,".").concat(l," is undefined."),d=typeof s=="string"?s:s.join(",");if(!d.includes(r)){var u=[d,r].filter(Boolean).join();c+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(u,"'}}>`.")}return c}function S8(e){var t=e,r=X0;t[r];var a=j8(t,[r+""]);return"react-paypal-js-".concat(oLe(JSON.stringify(a)))}function cLe(e){var t=self.document.querySelector("script[".concat(X0,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function dLe(e,t){var r,a;switch(t.type){case Jl.LOADING_STATUS:return typeof t.value=="object"?On(On({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):On(On({},e),{loadingStatus:t.value});case Jl.RESET_OPTIONS:return cLe(e.options[X0]),On(On({},e),{loadingStatus:ws.PENDING,options:On(On((r={},r[Yc.DATA_SDK_INTEGRATION_SOURCE]=Yc.DATA_LIBRARY_VALUE,r),t.value),(a={},a[X0]="".concat(S8(t.value)),a))});case Jl.SET_BRAINTREE_INSTANCE:return On(On({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var k8=N.createContext(null);function uLe(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(sLe)}function C8(){var e=uLe(N.useContext(k8)),t=On(On({},e),{isInitial:e.loadingStatus===ws.INITIAL,isPending:e.loadingStatus===ws.PENDING,isResolved:e.loadingStatus===ws.RESOLVED,isRejected:e.loadingStatus===ws.REJECTED});return[t,e.dispatch]}N.createContext({});function fLe(e){var t=N.useRef(new Proxy({},{get:function(r,a,s){return typeof r[a]=="function"?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r[a].apply(r,i)}:Reflect.get(r,a,s)}}));return t.current=Object.assign(t.current,e),t.current}var uC=function(e){var t,r=e.className,a=r===void 0?"":r,s=e.disabled,i=s===void 0?!1:s,o=e.children,l=e.forceReRender,c=l===void 0?[]:l,d=j8(e,["className","disabled","children","forceReRender"]),u=i?{opacity:.38}:{},f="".concat(a," ").concat(i?"paypal-buttons-disabled":"").trim(),h=N.useRef(null),m=N.useRef(null),p=fLe(d),x=C8()[0],y=x.isResolved,v=x.options,w=N.useState(null),j=w[0],A=w[1],C=N.useState(!0),S=C[0],k=C[1],E=N.useState(null),T=E[1];function F(){m.current!==null&&m.current.close().catch(function(){})}return!((t=m.current)===null||t===void 0)&&t.updateProps&&m.current.updateProps({message:d.message}),N.useEffect(function(){if(y===!1)return F;var O=iLe(v.dataNamespace);if(O===void 0||O.Buttons===void 0)return T(function(){throw new Error(lLe({reactComponentName:uC.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:v.components,sdkDataNamespace:v[Yc.DATA_NAMESPACE]}))}),F;var P=function(W,q){A(q),typeof d.onInit=="function"&&d.onInit(W,q)};try{m.current=O.Buttons(On(On({},p),{onInit:P}))}catch(W){return T(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(W))})}return m.current.isEligible()===!1?(k(!1),F):(h.current&&m.current.render(h.current).catch(function(W){h.current===null||h.current.children.length===0||T(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(W))})}),F)},X5(X5([y],c,!0),[d.fundingSource],!1)),N.useEffect(function(){j!==null&&(i===!0?j.disable().catch(function(){}):j.enable().catch(function(){}))},[i,j]),ne.createElement(ne.Fragment,null,S?ne.createElement("div",{ref:h,style:u,className:f}):o)};uC.displayName="PayPalButtons";function hLe(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function mLe(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var a=A8(e,t),s=r.cloneNode();if(delete s.dataset.uidAuto,Object.keys(s.dataset).length!==Object.keys(a.dataset).length)return null;var i=!0;return Object.keys(s.dataset).forEach(function(o){s.dataset[o]!==a.dataset[o]&&(i=!1)}),i?r:null}function pLe(e){var t=e.url,r=e.attributes,a=e.onSuccess,s=e.onError,i=A8(t,r);i.onerror=s,i.onload=a,document.head.insertBefore(i,document.head.firstElementChild)}function gLe(e){var t=e.sdkBaseUrl,r=e.environment,a=hLe(e,["sdkBaseUrl","environment"]),s=t||vLe(r),i=a,o=Object.keys(i).filter(function(d){return typeof i[d]!="undefined"&&i[d]!==null&&i[d]!==""}).reduce(function(d,u){var f=i[u].toString();return u=xLe(u),u.substring(0,4)==="data"||u==="crossorigin"?d.attributes[u]=f:d.queryParams[u]=f,d},{queryParams:{},attributes:{}}),l=o.queryParams,c=o.attributes;return l["merchant-id"]&&l["merchant-id"].indexOf(",")!==-1&&(c["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(s,"?").concat(yLe(l)),attributes:c}}function xLe(e){var t=function(r,a){return(a?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function yLe(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function vLe(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function A8(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(a){r.setAttribute(a,t[a]),a==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function bLe(e,t){if(t===void 0&&(t=Promise),_8(e,t),typeof document=="undefined")return t.resolve(null);var r=gLe(e),a=r.url,s=r.attributes,i=s["data-namespace"]||"paypal",o=Y5(i);return s["data-js-sdk-library"]||(s["data-js-sdk-library"]="paypal-js"),mLe(a,s)&&o?t.resolve(o):wLe({url:a,attributes:s},t).then(function(){var l=Y5(i);if(l)return l;throw new Error("The window.".concat(i," global variable is not available."))})}function wLe(e,t){t===void 0&&(t=Promise),_8(e,t);var r=e.url,a=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof a!="undefined"&&typeof a!="object")throw new Error("Expected attributes to be an object.");return new t(function(s,i){if(typeof document=="undefined")return s();pLe({url:r,attributes:a,onSuccess:function(){return s()},onError:function(){var o=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function Y5(e){return window[e]}function _8(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t!="undefined"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var jLe=function(e){var t,r=e.options,a=r===void 0?{clientId:"test"}:r,s=e.children,i=e.deferLoading,o=i===void 0?!1:i,l=N.useReducer(dLe,{options:On(On({},a),(t={},t[Yc.DATA_JS_SDK_LIBRARY]=Yc.DATA_LIBRARY_VALUE,t[Yc.DATA_SDK_INTEGRATION_SOURCE]=Yc.DATA_LIBRARY_VALUE,t[X0]="".concat(S8(a)),t)),loadingStatus:o?ws.INITIAL:ws.PENDING}),c=l[0],d=l[1];return N.useEffect(function(){if(o===!1&&c.loadingStatus===ws.INITIAL)return d({type:Jl.LOADING_STATUS,value:ws.PENDING});if(c.loadingStatus===ws.PENDING){var u=!0;return bLe(c.options).then(function(){u&&d({type:Jl.LOADING_STATUS,value:ws.RESOLVED})}).catch(function(f){console.error("".concat(aLe," ").concat(f)),u&&d({type:Jl.LOADING_STATUS,value:{state:ws.REJECTED,message:String(f)}})}),function(){u=!1}}},[c.options,o,c.loadingStatus]),ne.createElement(k8.Provider,{value:On(On({},c),{dispatch:d})},s)};function J5(){}N.createContext({cardFieldsForm:null,fields:{},registerField:J5,unregisterField:J5});function NLe({orderId:e,onSuccess:t,onError:r}){const[{isPending:a}]=C8();return n.jsxs(n.Fragment,{children:[a&&n.jsx("div",{className:"text-sm text-gray-500",children:"Loading PayPal…"}),n.jsx(uC,{style:{layout:"vertical"},forceReRender:[e],createOrder:async()=>{var s,i;try{const{data:o}=await ue.postWithRetry("/paypal/create-order",{orderId:e});return o.id}catch(o){throw r(((i=(s=o==null?void 0:o.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to create PayPal order"),o}},onApprove:async s=>{var i,o;try{await ue.postWithRetry("/paypal/capture-order",{paypalOrderId:s.orderID}),t()}catch(l){r(((o=(i=l==null?void 0:l.response)==null?void 0:i.data)==null?void 0:o.message)||"Failed to capture PayPal payment")}},onError:s=>{r(typeof s=="string"?s:"PayPal error")}})]})}function SLe({orderId:e,clientId:t,currency:r,onSuccess:a,onError:s}){const i=(r||"USD").toUpperCase(),o=N.useMemo(()=>`${t}_${i}`,[t,i]);return n.jsx(jLe,{options:{clientId:t,currency:i},children:n.jsx(NLe,{orderId:e,onSuccess:a,onError:s})},o)}function kLe({total:e,shipping:t,onBack:r,onComplete:a,shippingData:s}){const{t:i}=$t(),[o,l]=N.useState("paypal"),[c,d]=N.useState(!1),[u,f]=N.useState(!1),[h,m]=N.useState(""),[p,x]=N.useState(null),{items:y,clearCart:v,appliedCoupon:w}=ga(),{currency:j}=Ta(),A=ne.useMemo(()=>y.reduce((ge,Ae)=>ge+Ae.price*Ae.quantity,0),[y]),C=ne.useMemo(()=>{if(typeof t=="number"&&t>=0)return t;const ge=e-A;return ge>0?ge:0},[t,e,A]),S=(w==null?void 0:w.discount)||0,k=Math.max(0,e-S),[E,T]=N.useState(""),[F,O]=N.useState(!0),[P,W]=N.useState({card:!0,cod:!0,paypal:!0});N.useEffect(()=>{(async()=>{var ge,Ae,Ee,xe,Te,Ue,tt,ct,mt,ut,it,At,Bt;try{const vt=await ue.getWithRetry("/settings"),Gt=((Ee=(Ae=(ge=vt==null?void 0:vt.data)==null?void 0:ge.payments)==null?void 0:Ae.paypal)==null?void 0:Ee.clientId)||((Te=(xe=import.meta)==null?void 0:xe.env)==null?void 0:Te.VITE_PAYPAL_CLIENT_ID)||"";T(Gt),O(!!((mt=(ct=(tt=(Ue=vt==null?void 0:vt.data)==null?void 0:Ue.payments)==null?void 0:tt.paypal)==null?void 0:ct.enabled)==null||mt)),(it=(ut=vt==null?void 0:vt.data)==null?void 0:ut.payments)!=null&&it.visibility&&W({card:!!vt.data.payments.visibility.card,cod:!!vt.data.payments.visibility.cod,paypal:!!vt.data.payments.visibility.paypal})}catch(vt){T(((Bt=(At=import.meta)==null?void 0:At.env)==null?void 0:Bt.VITE_PAYPAL_CLIENT_ID)||"")}})()},[]);const[q,D]=N.useState(""),[M,H]=N.useState(null),[ee,X]=N.useState(!1),[de,le]=N.useState(""),[G,K]=N.useState(""),[Z,I]=N.useState(!1),[V,te]=N.useState(0),[R,U]=N.useState(0),Q=async()=>{var Ae,Ee;const ge=q.trim();if(!ge){le(i("checkout.payment.gift.enterCode")),z.error(i("checkout.payment.gift.enterCode"));return}try{X(!0);const xe=new AbortController,Te=window.setTimeout(()=>xe.abort(),2e4),Ue=await ue.getWithRetry(`/gift-cards/balance/${encodeURIComponent(ge)}`,{signal:xe.signal});window.clearTimeout(Te),H(Ue.data),K(""),te(0),U(0),le(""),Ue.data.status!=="active"?z.error(i("checkout.payment.gift.inactive",{status:Ue.data.status})):z.success(i("checkout.payment.gift.found"))}catch(xe){H(null);const Ue=(xe==null?void 0:xe.name)==="CanceledError"||(xe==null?void 0:xe.message)==="canceled"||(xe==null?void 0:xe.code)==="ERR_CANCELED"?i("checkout.payment.timeout"):((Ee=(Ae=xe==null?void 0:xe.response)==null?void 0:Ae.data)==null?void 0:Ee.message)||i("checkout.payment.gift.notFound");le(Ue),z.error(Ue)}finally{X(!1)}},J=async()=>{if(!M)return;const ge=Number(G);if(!ge||ge<=0){z.error(i("checkout.payment.gift.enterValidAmount"));return}if(ge>M.balance){z.error(i("checkout.payment.gift.exceedsBalance"));return}try{I(!0),te(ge),U(ge),z.success(i("checkout.payment.gift.appliedAmount"))}catch(Ae){z.error(i("checkout.payment.gift.computeFailed"))}finally{I(!1)}},L=()=>{te(0),U(0)},he=async ge=>{var Ae,Ee,xe,Te,Ue,tt,ct;if(ge.preventDefault(),!(s!=null&&s.city)||String(s.city).trim()===""){z.error(i("checkout.shipping.errors.selectCity"));return}if(o==="paypal"){try{d(!0);const mt=y.map(vt=>({product:vt.id,quantity:vt.quantity,price:vt.price,size:vt.size,color:vt.color})),ut=k,it=C,At={items:mt,shippingAddress:{street:s.address,city:s.city,country:s.country},customerInfo:{firstName:s.firstName,lastName:s.lastName,email:s.email,mobile:`${s.countryCode}${s.mobile.replace(/\D/g,"")}`,secondaryMobile:s.secondaryMobile?`${s.secondaryCountryCode}${s.secondaryMobile.replace(/\D/g,"")}`:void 0},paymentMethod:"paypal",totalAmount:ut,currency:j,shippingFee:it,totalWithShipping:ut+it,coupon:w?{code:w.code,discount:w.discount}:void 0};console.log("[Checkout][PAYPAL] Sending orderData:",At);const Bt=await ue.postWithRetry("/orders",At);x((Ae=Bt.data.order)==null?void 0:Ae._id),m((Ee=Bt.data.order)==null?void 0:Ee.orderNumber)}catch(mt){const ut=((Te=(xe=mt.response)==null?void 0:xe.data)==null?void 0:Te.message)||i("checkout.payment.createOrderFailed");z.error(ut)}finally{d(!1)}return}d(!0);try{const mt=y.map(vt=>({product:vt.id,quantity:vt.quantity,price:vt.price,size:vt.size,color:vt.color})),ut=k,it=C,At={items:mt,shippingAddress:{street:s.address,city:s.city,country:s.country},customerInfo:{firstName:s.firstName,lastName:s.lastName,email:s.email,mobile:`${s.countryCode}${s.mobile.replace(/\D/g,"")}`,secondaryMobile:s.secondaryMobile?`${s.secondaryCountryCode}${s.secondaryMobile.replace(/\D/g,"")}`:void 0},paymentMethod:o,totalAmount:ut,currency:j,shippingFee:it,totalWithShipping:ut+it,coupon:w?{code:w.code,discount:w.discount}:void 0};console.log("[Checkout][STANDARD] Sending orderData:",At);const Bt=await ue.postWithRetry("/orders",At);if(M&&V>0)try{const{data:vt}=await ue.postWithRetry("/gift-cards/apply/guest",{code:M.code,amount:V,orderId:(Ue=Bt.data.order)==null?void 0:Ue._id,email:s.email});H({...M,balance:vt.remainingBalance})}catch(vt){z.error(i("checkout.payment.gift.applyFailedAfter"))}m(Bt.data.order.orderNumber),f(!0),v(),z.success(i("checkout.payment.orderPlaced"))}catch(mt){const ut=((ct=(tt=mt.response)==null?void 0:tt.data)==null?void 0:ct.message)||i("checkout.payment.createOrderFailed");z.error(ut),console.error("Error creating order:",mt)}finally{d(!1)}};return u?n.jsx(nLe,{orderNumber:h,email:s.email,mobile:`${s.countryCode} ${s.mobile}`,onClose:a}):n.jsxs("form",{onSubmit:he,className:"px-8 py-6 space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("checkout.payment.gift.title")}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",placeholder:i("checkout.payment.gift.placeholder"),value:q,onChange:ge=>{D(ge.target.value.toUpperCase()),de&&le("")},className:"flex-1 rounded-lg border border-gray-300 px-3 py-2"}),n.jsx("button",{type:"button",onClick:Q,disabled:ee,className:"px-4 py-2 rounded-lg border bg-white hover:bg-gray-50 disabled:opacity-60",children:i(ee?"checkout.payment.gift.checking":"checkout.payment.gift.check")})]}),de&&n.jsx("div",{className:"text-sm text-red-600",children:de}),M&&n.jsxs("div",{className:"rounded-lg border p-3 text-sm space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rp,{className:"w-4 h-4 text-indigo-600"}),n.jsx("span",{className:"font-mono",children:M.code})]}),n.jsx("span",{className:"text-gray-500",children:M.status})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-700",children:[n.jsxs("div",{children:[i("checkout.payment.gift.balance"),": ",lt(M.balance,M.currency)]}),n.jsxs("div",{children:[i("checkout.payment.gift.currency"),": ",M.currency]}),n.jsxs("div",{children:[i("checkout.payment.gift.expiry"),": ",M.expiryDate?new Date(M.expiryDate).toLocaleDateString(void 0,{timeZone:"UTC"}):"—"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",min:0,step:.01,value:G,onChange:ge=>K(ge.target.value),placeholder:i("checkout.payment.gift.amountPlaceholder",{currency:M.currency}),className:"flex-1 rounded-lg border border-gray-300 px-3 py-2"}),n.jsx("button",{type:"button",onClick:J,disabled:Z||V>0||M.status!=="active",className:"px-4 py-2 rounded-lg bg-indigo-600 text-white disabled:opacity-60",children:i(Z?"checkout.payment.gift.applying":"checkout.payment.gift.apply")}),V>0&&n.jsx("button",{type:"button",onClick:L,className:"px-3 py-2 rounded-lg border",children:i("checkout.payment.gift.remove")})]}),V>0&&n.jsxs("div",{className:"text-green-700",children:[i("checkout.payment.gift.applied"),": ",V," ",M.currency]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:i("checkout.payment.selectMethod")}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[P.card&&n.jsxs("button",{type:"button",onClick:()=>l("card"),className:`p-4 border rounded-lg flex items-center gap-3 transition-all ${o==="card"?"border-indigo-600 bg-indigo-50 text-indigo-600":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Cd,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:i("checkout.payment.methods.card")})]}),P.cod&&n.jsxs("button",{type:"button",onClick:()=>l("cod"),className:`p-4 border rounded-lg flex items-center gap-3 transition-all ${o==="cod"?"border-indigo-600 bg-indigo-50 text-indigo-600":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Nj,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:i("checkout.payment.methods.cod")})]}),P.paypal&&n.jsxs("button",{type:"button",onClick:()=>l("paypal"),className:`p-4 border rounded-lg flex items-center gap-3 transition-all ${o==="paypal"?"border-indigo-600 bg-indigo-50 text-indigo-600":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(aq,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:i("checkout.payment.methods.paypal")})]})]})]}),o==="card"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700",children:i("checkout.payment.card.numberLabel")}),n.jsx("input",{type:"text",id:"cardNumber",required:!0,placeholder:i("checkout.payment.card.numberPlaceholder"),className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium text-gray-700",children:i("checkout.payment.card.expiryLabel")}),n.jsx("input",{type:"text",id:"expiry",required:!0,placeholder:i("checkout.payment.card.expiryPlaceholder"),className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"cvc",className:"block text-sm font-medium text-gray-700",children:i("checkout.payment.card.cvcLabel")}),n.jsx("input",{type:"text",id:"cvc",required:!0,placeholder:i("checkout.payment.card.cvcPlaceholder"),className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200"})]})]})]}),o==="cod"&&n.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:n.jsx("p",{className:"text-amber-800 text-sm",children:i("checkout.payment.cod.note")})}),o==="paypal"&&n.jsx("div",{className:"space-y-4",children:F?E?p?n.jsx(SLe,{orderId:p,clientId:E,currency:j,onSuccess:()=>{z.success(i("checkout.payment.paypal.completed")),f(!0),v()},onError:ge=>z.error(ge)}):n.jsx("div",{className:"text-sm text-gray-600",children:i("checkout.payment.paypal.prompt")}):n.jsx("div",{className:"text-sm text-red-600",children:i("checkout.payment.paypal.notConfigured")}):n.jsx("div",{className:"text-sm text-gray-600",children:i("checkout.payment.paypal.disabled")})})]}),n.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t",children:[n.jsxs("button",{type:"button",onClick:r,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[n.jsx(Zl,{className:"w-4 h-4"}),i("checkout.payment.buttons.back")]}),o==="paypal"?n.jsx("button",{type:"submit",disabled:c||!E,className:"flex-1 bg-indigo-600 text-white py-3 rounded-full font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-75",children:i(c?"checkout.payment.paypal.creatingOrder":"checkout.payment.paypal.continue")}):n.jsx("button",{type:"submit",disabled:c,className:"flex-1 bg-indigo-600 text-white py-3 rounded-full font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-75",children:c?n.jsx(n.Fragment,{children:i("checkout.payment.buttons.processing")}):n.jsxs(n.Fragment,{children:[i(o==="card"?"checkout.payment.buttons.pay":"checkout.payment.buttons.placeOrder")," ",(()=>{const Ae=Math.max(0,k-(M?R:0));return lt(Ae,j)})(),n.jsx(jo,{className:"w-4 h-4"})]})})]})]})}function CLe({currentStep:e}){const{t}=$t(),r=[{id:"shipping",label:t("checkout.steps.shipping"),icon:ua},{id:"payment",label:t("checkout.steps.payment"),icon:Cd}];return n.jsx("div",{className:"flex gap-2 px-8 py-4 bg-gray-50 overflow-x-auto",children:r.map((a,s)=>{const i=a.icon,o=e===a.id,l=r.findIndex(c=>c.id===e)>s;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium transition-all ${o?"bg-indigo-600 text-white":l?"bg-green-100 text-green-800":"bg-white text-gray-600"}`,children:[n.jsx(i,{className:"w-4 h-4"}),a.label]}),s<r.length-1&&n.jsx("div",{className:"w-8 h-px bg-gray-300"})]},a.id)})})}function ALe(){const{items:e,appliedCoupon:t}=ga(),{currency:r}=Ta(),a=Ea(),{t:s}=$t(),i=e.reduce((j,A)=>j+A.price*A.quantity,0),[o,l]=N.useState(""),[c,d]=N.useState(()=>{try{const j=localStorage.getItem("selectedShippingOption");if(j){const A=JSON.parse(j);if(A&&typeof A.cost=="number")return A.cost}}catch(j){}return Hc}),[u,f]=N.useState(!1),h=i+c,m=(t==null?void 0:t.discount)||0,p=Math.max(0,i-m)+c;N.useEffect(()=>{let j=!0;const A=setTimeout(()=>{j&&f(!1)},4e3),S=setTimeout(async()=>{if(!o||i<=0){d(Hc);return}f(!0);try{const k=await sa.getOptions({city:o,subtotal:i,weight:0});if(!j)return;if(k.length){k.sort((E,T)=>E.cost-T.cost),d(k[0].cost);try{localStorage.setItem("selectedShippingOption",JSON.stringify(k[0]))}catch(E){}}else d(Hc)}catch(k){j&&d(Hc)}finally{j&&f(!1)}},350);return()=>{j=!1,clearTimeout(S),clearTimeout(A)}},[o,i]);const[x,y]=N.useState("shipping"),[v,w]=N.useState(null);return e.length===0?n.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s("cart.empty.title")}),n.jsx(Vn,{to:"/products",className:"inline-block bg-indigo-600 text-white px-6 py-3 rounded-full font-medium hover:bg-indigo-700",children:s("checkout.browseProducts")})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-8 lg:pb-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4 pt-4",children:[n.jsx("button",{onClick:()=>a(-1),className:"p-2 rounded-full hover:bg-white border bg-gray-100",children:n.jsx(Zl,{className:"w-5 h-5"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s("checkout.title")})]}),n.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8 relative",children:[n.jsx("div",{className:"lg:col-span-8",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden flex flex-col max-h-[calc(100vh-9rem)]",children:[n.jsx("div",{className:"shrink-0",children:n.jsx(CLe,{currentStep:x})}),n.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:x==="shipping"?n.jsx(rLe,{onSubmit:j=>{w(j),y("payment")},onCitySelect:j=>l(j)}):n.jsx(kLe,{total:h,shipping:c,onBack:()=>y("shipping"),onComplete:()=>a("/"),shippingData:v})})]})}),n.jsx("aside",{className:"mt-8 lg:mt-0 lg:col-span-4",children:n.jsx("div",{className:"lg:sticky lg:top-24 space-y-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4",children:s("checkout.orderSummary")}),n.jsx("ul",{className:"divide-y max-h-64 overflow-y-auto pr-2 custom-scrollbar",children:e.map(j=>n.jsxs("li",{className:"py-3 flex gap-4",children:[n.jsx(id,{src:j.image,alt:j.name,className:"w-16 h-16 object-cover rounded"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:j.name}),n.jsxs("div",{className:"text-xs text-gray-500 flex gap-2 mt-1",children:[j.size&&n.jsxs("span",{children:[s("product.size"),": ",j.size]}),j.color&&n.jsxs("span",{children:[s("product.color"),": ",j.color]})]}),n.jsxs("div",{className:"mt-1 text-sm text-gray-600",children:[s("common.qty"),": ",j.quantity]})]}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:lt(j.price*j.quantity,r)})]},j.id))}),n.jsxs("div",{className:"border-t mt-4 pt-4 space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:s("cart.summary.subtotal")}),n.jsx("span",{children:lt(i,r)})]}),m>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:s("cart.summary.discount")}),n.jsxs("span",{children:["-",lt(m,r)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:s("cart.summary.shipping")}),n.jsx("span",{children:u?s("common.loading")||"...":lt(c,r)})]}),n.jsxs("div",{className:"flex justify-between text-base font-semibold",children:[n.jsx("span",{children:s("cart.summary.total")}),n.jsx("span",{children:lt(p,r)})]})]}),x==="shipping"&&n.jsx("p",{className:"mt-4 text-xs text-gray-500",children:s("checkout.orderSummaryNote")})]})})})]})]})})}const _Le=()=>{const{t:e}=$t(),{settings:t}=vr(),r=(t==null?void 0:t.name)||(t==null?void 0:t.siteTitle)||"Store",a=(t==null?void 0:t.email)||"support@example.com";return N.useEffect(()=>{ue.post("/legal/view",{page:"privacy"}).catch(()=>{})},[]),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 text-gray-800 prose prose-indigo",children:[n.jsx("h1",{children:e("legal.privacy.title")}),n.jsx("p",{children:e("legal.lastUpdated",{date:new Date().toISOString().split("T")[0]})}),n.jsx("p",{children:e("legal.privacy.intro",{storeName:r})}),n.jsx("h2",{children:e("legal.privacy.sections.collection.title")}),n.jsx("p",{children:e("legal.privacy.sections.collection.body",{storeName:r})}),n.jsx("h2",{children:e("legal.privacy.sections.use.title")}),n.jsx("ul",{children:["perform","orders","auth","improve","emails"].map(s=>n.jsx("li",{children:e(`legal.privacy.sections.use.items.${s}`)},s))}),n.jsx("h2",{children:e("legal.privacy.sections.google.title")}),n.jsx("p",{children:e("legal.privacy.sections.google.body")}),n.jsx("h2",{children:e("legal.privacy.sections.cookies.title")}),n.jsx("p",{children:e("legal.privacy.sections.cookies.body")}),n.jsx("h2",{children:e("legal.privacy.sections.sharing.title")}),n.jsx("p",{children:e("legal.privacy.sections.sharing.body")}),n.jsx("h2",{children:e("legal.privacy.sections.retention.title")}),n.jsx("p",{children:e("legal.privacy.sections.retention.body")}),n.jsx("h2",{children:e("legal.privacy.sections.children.title")}),n.jsx("p",{children:e("legal.privacy.sections.children.body")}),n.jsx("h2",{children:e("legal.privacy.sections.security.title")}),n.jsx("p",{children:e("legal.privacy.sections.security.body")}),n.jsx("h2",{children:e("legal.privacy.sections.rights.title")}),n.jsx("p",{children:e("legal.privacy.sections.rights.body")}),n.jsx("h2",{children:e("legal.privacy.sections.transfers.title")}),n.jsx("p",{children:e("legal.privacy.sections.transfers.body")}),n.jsx("h2",{children:e("legal.privacy.sections.thirdParty.title")}),n.jsx("p",{children:e("legal.privacy.sections.thirdParty.body")}),n.jsx("h2",{children:e("legal.privacy.sections.updates.title")}),n.jsx("p",{children:e("legal.privacy.sections.updates.body")}),n.jsx("h2",{children:e("legal.contact.title")}),n.jsx("p",{children:e("legal.contact.body",{email:a,storeName:r})}),n.jsx("p",{className:"text-sm text-gray-500",children:e("legal.disclaimer")})]})},ELe=()=>{const{t:e}=$t(),{settings:t}=vr(),r=(t==null?void 0:t.name)||(t==null?void 0:t.siteTitle)||"Store",a=(t==null?void 0:t.email)||"support@example.com";N.useEffect(()=>{ue.post("/legal/view",{page:"terms"}).catch(()=>{})},[]);const s=o=>({title:e(`legal.terms.sections.${o}.title`),body:e(`legal.terms.sections.${o}.body`,{storeName:r})}),i=["agreement","eligibility","accounts","orders","payments","shipping","returns","prohibited","ip","disclaimers","liability","indemnity","changes","governing","contact"];return n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 text-gray-800 prose prose-indigo",children:[n.jsx("h1",{children:e("legal.terms.title")}),n.jsx("p",{children:e("legal.lastUpdated",{date:new Date().toISOString().split("T")[0]})}),n.jsx("p",{children:e("legal.terms.intro",{storeName:r})}),i.map(o=>{const l=s(o);return n.jsxs("div",{children:[n.jsx("h2",{children:l.title}),n.jsx("p",{children:l.body})]},o)}),n.jsx("h2",{children:e("legal.contact.title")}),n.jsx("p",{children:e("legal.contact.body",{email:a,storeName:r})}),n.jsx("p",{className:"text-sm text-gray-500",children:e("legal.disclaimer")})]})};function TLe(){const{t:e}=$t(),{user:t}=ln(),r=[{name:e("profile.stats.orders","Orders"),icon:rr,value:"12"},{name:e("profile.stats.wishlist","Wishlist"),icon:Si,value:"8"},{name:e("profile.stats.reviews","Reviews"),icon:Dr,value:"5"}];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e("profile.title","Profile Overview")}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e("profile.subtitle","View and manage your account information.")})]}),n.jsx("div",{className:"grid grid-cols-3 gap-6",children:r.map(a=>n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsx(a.icon,{className:"w-8 h-8 text-indigo-600"}),n.jsx("p",{className:"mt-4 text-2xl font-semibold text-gray-900",children:a.value}),n.jsx("p",{className:"text-sm text-gray-500",children:a.name})]},a.name))}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:e("profile.recentActivity","Recent Activity")}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(rr,{className:"w-8 h-8 text-indigo-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:e("profile.activity.orderDelivered","Order Delivered")}),n.jsx("p",{className:"text-sm text-gray-500",children:e("profile.activity.orderDeliveredDesc","Your order #{{orderNumber}} has been delivered",{orderNumber:"1234"})}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e("profile.activity.timeAgo.hoursAgo","{{count}} hours ago",{count:2})})]})]})}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Dr,{className:"w-8 h-8 text-indigo-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:e("profile.activity.reviewPosted","Review Posted")}),n.jsx("p",{className:"text-sm text-gray-500",children:e("profile.activity.reviewPostedDesc","You reviewed {{productName}}",{productName:"Wool Blend Coat"})}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e("profile.activity.timeAgo.dayAgo","{{count}} day ago",{count:1})})]})]})})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:e("profile.accountDetails","Account Details")}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500",children:e("profile.fields.name","Name")}),n.jsx("p",{className:"mt-1 text-gray-900",children:t==null?void 0:t.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500",children:e("profile.fields.email","Email")}),n.jsx("p",{className:"mt-1 text-gray-900",children:t==null?void 0:t.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500",children:e("profile.fields.memberSince","Member Since")}),n.jsx("p",{className:"mt-1 text-gray-900",children:"January 2024"})]})]})]})]})}const Z5={pending:wn,processing:rr,shipped:rr,delivered:jn,cancelled:Wu},Q5={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};function OLe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState(null);N.useEffect(()=>{o()},[]);const o=async()=>{try{const l=await ue.getWithRetry("/orders/my-orders");t(l.data)}catch(l){z.error("Failed to fetch orders")}finally{a(!1)}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Orders"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"View and track your orders."})]}),e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[n.jsx(rr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Orders Yet"}),n.jsx("p",{className:"text-gray-500",children:"You haven't placed any orders yet."})]}):n.jsx("div",{className:"space-y-6",children:e.map(l=>{const c=Z5[l.status];return n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium text-gray-900",children:["Order #",l.orderNumber]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Placed ",Co(new Date(l.createdAt),{addSuffix:!0})]})]}),n.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${Q5[l.status]}`,children:[n.jsx(c,{className:"w-4 h-4"}),l.status.charAt(0).toUpperCase()+l.status.slice(1)]})]}),n.jsx("div",{className:"space-y-4",children:l.items.filter(d=>d.product).map((d,u)=>{var f,h,m;return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("img",{src:(f=d.product)!=null&&f.images&&d.product.images.length>0?d.product.images[0]:"/placeholder-image.svg",alt:((h=d.product)==null?void 0:h.name)||"Product",className:"w-16 h-16 rounded-lg object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:((m=d.product)==null?void 0:m.name)||"Unknown Product"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",d.quantity]})]}),n.jsxs("p",{className:"font-medium text-gray-900",children:[l.currency||"USD"," ",d.price.toFixed(2)]})]},u)})}),n.jsxs("div",{className:"mt-6 pt-6 border-t flex items-center justify-between",children:[n.jsx("button",{onClick:()=>i(l),className:"text-indigo-600 hover:text-indigo-700 font-medium text-sm",children:"View Details"}),(()=>{var f,h,m;const d=(m=(h=(f=l.shippingFee)!=null?f:l.deliveryFee)!=null?h:l.effectiveShippingFee)!=null?m:0,u=l.totalWithShipping&&l.totalWithShipping>=l.totalAmount?l.totalWithShipping:l.totalAmount+d;return n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium text-gray-900",children:["Total: ",l.currency||"USD"," ",u.toFixed(2)]}),d>0&&n.jsxs("p",{className:"text-xs text-gray-500",children:["(Incl. Shipping ",d.toFixed(2),")"]})]})})()]})]},l._id)})}),s&&n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:()=>i(null)}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Order Details"}),n.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-500",children:n.jsx(Wu,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Order Number"}),n.jsxs("p",{className:"font-medium text-gray-900",children:["#",s.orderNumber]})]}),n.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${Q5[s.status]}`,children:[ne.createElement(Z5[s.status],{className:"w-4 h-4"}),s.status.charAt(0).toUpperCase()+s.status.slice(1)]})]}),n.jsx("div",{className:"space-y-4",children:s.items.filter(l=>l.product).map((l,c)=>{var d,u,f;return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("img",{src:(d=l.product)!=null&&d.images&&l.product.images.length>0?l.product.images[0]:"/placeholder-image.svg",alt:((u=l.product)==null?void 0:u.name)||"Product",className:"w-16 h-16 rounded-lg object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:((f=l.product)==null?void 0:f.name)||"Unknown Product"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",l.quantity]})]}),n.jsxs("p",{className:"font-medium text-gray-900",children:[s.currency||"USD"," ",l.price.toFixed(2)]})]},c)})}),n.jsx("div",{className:"pt-6 border-t",children:(()=>{var d,u,f;const l=(f=(u=(d=s.shippingFee)!=null?d:s.deliveryFee)!=null?u:s.effectiveShippingFee)!=null?f:0,c=s.totalWithShipping&&s.totalWithShipping>=s.totalAmount?s.totalWithShipping:s.totalAmount+l;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Subtotal"}),n.jsxs("span",{className:"text-gray-900",children:[s.currency||"USD"," ",s.totalAmount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[n.jsx("span",{className:"text-gray-500",children:"Shipping"}),n.jsx("span",{className:"text-gray-900",children:l>0?`${s.currency||"USD"} ${l.toFixed(2)}`:"Free"})]}),n.jsxs("div",{className:"flex justify-between text-base font-medium mt-4",children:[n.jsx("span",{className:"text-gray-900",children:"Total"}),n.jsxs("span",{className:"text-gray-900",children:[s.currency||"USD"," ",c.toFixed(2)]})]})]})})()})]})]})]})})]})}const PLe=e=>/^[a-fA-F0-9]{24}$/.test(e);function ILe(){const{items:e,removeFromWishlist:t}=Sd(),{addToCart:r}=ga(),a=ne.useRef({}),{t:s}=$t();ne.useEffect(()=>{const l=[];e.forEach(c=>{const d=c.image;typeof d=="string"&&PLe(d)&&!a.current[d]&&l.push(d)}),l.length!==0&&Promise.all(l.map(c=>ue.getWithRetry(`/products/${c}`).then(d=>({id:c,data:d.data})).catch(()=>({id:c,data:null})))).then(c=>{let d=!1;c.forEach(u=>{u.data&&Array.isArray(u.data.images)&&u.data.images[0]&&(a.current[u.id]=Wa(u.data.images[0]),d=!0)}),d&&i(u=>u+1)})},[e]);const[,i]=ne.useState(0),o=l=>{r(l),t(l.id),z.success("Added to cart")};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s("wishlist.myWishlist")}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s("wishlist.empty.description")})]}),e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[n.jsx(Si,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s("wishlist.empty.title")}),n.jsx("p",{className:"text-gray-500",children:s("wishlist.empty.description")})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[n.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-4 bg-gray-100",children:n.jsx("img",{src:typeof l.image=="string"&&a.current[l.image]?a.current[l.image]:Wa(l.image),alt:l.name,className:"w-full h-full object-cover",onError:c=>{const d=c.currentTarget;d.src.includes("/placeholder-image.svg")||(d.src="/placeholder-image.svg")}})}),n.jsx("h3",{className:"font-medium text-gray-900",children:l.name}),n.jsxs("p",{className:"text-indigo-600 font-medium mt-1",children:["$",l.price.toFixed(2)]}),n.jsx("p",{className:"mt-1 text-xs text-gray-400 break-all",children:typeof l.image=="string"&&a.current[l.image]?a.current[l.image]:Wa(l.image)}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsxs("button",{onClick:()=>o(l),className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[n.jsx(Xs,{className:"w-4 h-4"}),s("wishlist.actions.addToCart")]}),n.jsx("button",{onClick:()=>t(l.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(Si,{className:"w-5 h-5 fill-current"})})]})]},l.id))})]})}function FLe(){var f;const{t:e}=$t(),{user:t,logout:r,updateUser:a}=ln(),[s,i]=N.useState(!1),[o,l]=N.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),c=async h=>{h.preventDefault(),i(!0);try{await a({name:o.name,email:o.email}),z.success(e("profile.messages.profileUpdated","Profile updated successfully"))}catch(m){z.error(e("profile.messages.profileUpdateFailed","Failed to update profile"))}finally{i(!1)}},d=async h=>{if(h.preventDefault(),o.newPassword!==o.confirmPassword){z.error(e("profile.messages.passwordsNotMatch","Passwords do not match"));return}i(!0);try{await ue.patch("/users/password",{currentPassword:o.currentPassword,newPassword:o.newPassword}),z.success("Password updated successfully"),l(m=>({...m,currentPassword:"",newPassword:"",confirmPassword:""}))}catch(m){z.error("Failed to update password")}finally{i(!1)}},u=async h=>{var p;const m=(p=h.target.files)==null?void 0:p[0];if(m){i(!0);try{const x=await Ys(m);await a({image:x}),z.success("Profile picture updated successfully")}catch(x){z.error("Failed to update profile picture")}finally{i(!1)}}};return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Settings"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account settings and preferences."})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:e("profile.settings.profilePicture","Profile Picture")}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[t!=null&&t.image?n.jsx("img",{src:la(t.image)||t.image,alt:t.name,className:"w-24 h-24 rounded-full object-cover ring-2 ring-white shadow-sm bg-gray-100",onError:h=>{h.currentTarget.style.display="none"}}):n.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-100 flex items-center justify-center text-3xl font-semibold text-indigo-600",children:((f=t==null?void 0:t.name)==null?void 0:f.charAt(0))||"?"}),n.jsxs("label",{className:"absolute bottom-0 right-0 w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center cursor-pointer hover:bg-gray-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[n.jsx(I2,{className:"w-4 h-4 text-gray-600"}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:u,disabled:s})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:e("profile.settings.changeProfilePicture","Change Profile Picture")}),n.jsx("p",{className:"text-sm text-gray-500",children:e("profile.settings.uploadDescription","Upload a new profile picture. JPG, PNG or GIF.")})]})]})]}),n.jsxs("form",{onSubmit:c,className:"bg-gray-50 rounded-xl p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:e("profile.settings.profileInformation","Profile Information")}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("profile.fields.name","Name")}),n.jsx("input",{type:"text",value:o.name,onChange:h=>l(m=>({...m,name:h.target.value})),className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("profile.fields.email","Email")}),n.jsx("input",{type:"email",value:o.email,onChange:h=>l(m=>({...m,email:h.target.value})),className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200"})]}),n.jsx("button",{type:"submit",disabled:s,className:"w-full bg-indigo-600 text-white py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:s?e("profile.settings.updating","Updating..."):e("profile.settings.updateProfile","Update Profile")})]})]}),n.jsxs("form",{onSubmit:d,className:"bg-gray-50 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(jo,{className:"w-6 h-6 text-indigo-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e("profile.settings.changePassword","Change Password")})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("profile.settings.currentPassword","Current Password")}),n.jsx("input",{type:"password",value:o.currentPassword,onChange:h=>l(m=>({...m,currentPassword:h.target.value})),className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("profile.settings.newPassword","New Password")}),n.jsx("input",{type:"password",value:o.newPassword,onChange:h=>l(m=>({...m,newPassword:h.target.value})),className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e("profile.settings.confirmPassword","Confirm New Password")}),n.jsx("input",{type:"password",value:o.confirmPassword,onChange:h=>l(m=>({...m,confirmPassword:h.target.value})),className:"mt-1 block w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:ring focus:ring-indigo-200"})]}),n.jsx("button",{type:"submit",disabled:s,className:"w-full bg-indigo-600 text-white py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50",children:s?e("profile.settings.updating","Updating..."):e("profile.settings.changePasswordBtn","Change Password")})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(Px,{className:"w-6 h-6 text-indigo-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",defaultChecked:!0}),n.jsx("span",{className:"text-sm text-gray-700",children:"Order updates"})]}),n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",defaultChecked:!0}),n.jsx("span",{className:"text-sm text-gray-700",children:"New arrivals"})]}),n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",defaultChecked:!0}),n.jsx("span",{className:"text-sm text-gray-700",children:"Special offers"})]})]})]}),n.jsxs("div",{className:"bg-red-50 rounded-xl p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-red-900 mb-4",children:"Danger Zone"}),n.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),n.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")},className:"bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Delete Account"})]})]})}function DLe(){return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Methods"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your saved payment methods."})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[n.jsxs("button",{className:"h-48 rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center hover:border-indigo-500 hover:bg-indigo-50 transition-colors group",children:[n.jsx(fr,{className:"w-8 h-8 text-gray-400 group-hover:text-indigo-600 mb-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-600 group-hover:text-indigo-600",children:"Add New Card"})]}),n.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-xl p-6 text-white overflow-hidden",children:[n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx(Cd,{className:"w-8 h-8 opacity-50"})}),n.jsxs("div",{className:"mt-8 space-y-4",children:[n.jsx("div",{className:"text-xl tracking-widest",children:"•••• •••• •••• 4242"}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"John Doe"}),n.jsx("span",{children:"12/24"})]})]})]})]}),n.jsxs("div",{className:"mt-12",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment History"}),n.jsxs("div",{className:"bg-gray-50 rounded-xl divide-y",children:[n.jsxs("div",{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Order #1234"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Dec 12, 2023"})]}),n.jsx("span",{className:"font-medium text-gray-900",children:"$299.00"})]}),n.jsxs("div",{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Order #1233"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Dec 1, 2023"})]}),n.jsx("span",{className:"font-medium text-gray-900",children:"$199.00"})]})]})]})]})}function RLe({isOpen:e,onClose:t,review:r,onReviewUpdated:a}){const[s,i]=N.useState((r==null?void 0:r.rating)||5),[o,l]=N.useState((r==null?void 0:r.comment)||""),[c,d]=N.useState((r==null?void 0:r.photos)||[]),[u,f]=N.useState(!1),[h,m]=N.useState(0),p=y=>{d(v=>v.filter((w,j)=>j!==y))},x=async y=>{if(y.preventDefault(),!!r){if(!o.trim()){z.error("Please add a comment");return}f(!0);try{await ue.patchWithRetry(`/products/${r.product._id}/reviews/${r._id}`,{rating:s,comment:o,existingPhotos:JSON.stringify(c)}),z.success("Review updated successfully"),a(),t()}catch(v){z.error("Failed to update review")}finally{f(!1)}}};return!e||!r?null:n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-lg w-full p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Edit Review"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:n.jsx(xt,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("img",{src:r.product.images&&r.product.images.length>0?r.product.images[0]:"/placeholder-image.svg",alt:r.product.name,className:"w-12 h-12 rounded-lg object-cover"}),n.jsx("div",{children:n.jsx("h4",{className:"font-medium text-gray-900",children:r.product.name})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(y=>n.jsx("button",{type:"button",onClick:()=>i(y),onMouseEnter:()=>m(y),onMouseLeave:()=>m(0),className:"p-1",children:n.jsx(Dr,{className:`w-8 h-8 transition-colors ${y<=(h||s)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},y))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),n.jsx("textarea",{id:"comment",value:o,onChange:y=>l(y.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Share your experience with this product...",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos"}),c.length>0&&n.jsx("div",{className:"grid grid-cols-3 gap-3 mb-3",children:c.map((y,v)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:y,alt:`Review photo ${v+1}`,className:"w-full h-20 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>p(v),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(xt,{className:"w-4 h-4"})})]},`existing-${v}`))})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Updating...":"Update Review"})]})]})]})]})})}function MLe(){const[e,t]=N.useState([]),[r,a]=N.useState(!0),[s,i]=N.useState(null),[o,l]=N.useState(!1);N.useEffect(()=>{c()},[]);const c=async()=>{try{const u=await ue.getWithRetry("/users/reviews");t(u.data)}catch(u){z.error("Failed to fetch reviews")}finally{a(!1)}},d=async(u,f)=>{if(window.confirm("Are you sure you want to delete this review?"))try{await ue.deleteWithRetry(`/products/${u}/reviews/${f}`),z.success("Review deleted successfully"),c()}catch(h){z.error("Failed to delete review")}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Reviews"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your product reviews and ratings."})]}),e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[n.jsx(Dr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reviews Yet"}),n.jsx("p",{className:"text-gray-500",children:"You haven't written any reviews yet."})]}):n.jsx("div",{className:"space-y-6",children:e.map(u=>n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("img",{src:u.product.images&&u.product.images.length>0?u.product.images[0]:"/placeholder-image.svg",alt:u.product.name,className:"w-16 h-16 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:u.product.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("div",{className:"flex",children:[...Array(5)].map((f,h)=>n.jsx(Dr,{className:`w-4 h-4 ${h<u.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},h))}),n.jsx("span",{className:"text-sm text-gray-500",children:Co(new Date(u.createdAt),{addSuffix:!0})})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{i(u),l(!0)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:n.jsx(JG,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>d(u.product._id,u._id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",children:n.jsx(en,{className:"w-5 h-5"})})]})]}),n.jsx("p",{className:"mt-4 text-gray-600",children:u.comment}),u.photos&&u.photos.length>0&&n.jsx("div",{className:"flex gap-4 mt-4",children:u.photos.map((f,h)=>n.jsx("img",{src:f,alt:`Review photo ${h+1}`,className:"w-20 h-20 rounded-lg object-cover"},h))}),n.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[u.helpful," people found this review helpful"]})]},u._id))}),n.jsx(RLe,{isOpen:o,onClose:()=>{l(!1),i(null)},review:s,onReviewUpdated:c})]})}function LLe(){const{user:e}=ln(),t=Nd(),{t:r}=$t(),a=[{name:r("profile.navigation.profile","Profile"),icon:ec,to:"/profile"},{name:r("profile.navigation.orders","Orders"),icon:rr,to:"/profile/orders"},{name:r("profile.navigation.wishlist","Wishlist"),icon:Si,to:"/profile/wishlist"},{name:r("profile.navigation.reviews","Reviews"),icon:Dr,to:"/profile/reviews"},{name:r("profile.navigation.payments","Payment Methods"),icon:Cd,to:"/profile/payments"},{name:r("profile.navigation.settings","Settings"),icon:Ha,to:"/profile/settings"}];return(e==null?void 0:e.role)==="admin"&&a.splice(2,0,{name:r("profile.navigation.adminOrders","Admin Orders"),icon:rr,to:"/admin-orders"}),e?n.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[280px,1fr] gap-8",children:[n.jsxs("aside",{className:"space-y-6",children:[n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Tf,{name:e.name,image:e.image,size:"lg"}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold text-gray-900",children:e.name}),n.jsx("p",{className:"text-sm text-gray-500",children:e.email})]})]})}),n.jsx("nav",{className:"bg-white rounded-xl shadow-sm divide-y",children:a.map(s=>{const i=t.pathname===s.to;return n.jsxs(Vn,{to:s.to,className:`flex items-center gap-3 px-6 py-4 transition-colors ${i?"text-indigo-600 bg-indigo-50":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(s.icon,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:s.name})]},s.name)})})]}),n.jsx("main",{className:"bg-white rounded-xl shadow-sm p-6",children:n.jsxs(MP,{children:[n.jsx(Pl,{path:"/",element:n.jsx(TLe,{})}),n.jsx(Pl,{path:"/orders",element:n.jsx(OLe,{})}),n.jsx(Pl,{path:"/wishlist",element:n.jsx(ILe,{})}),n.jsx(Pl,{path:"/reviews",element:n.jsx(MLe,{})}),n.jsx(Pl,{path:"/payments",element:n.jsx(DLe,{})}),n.jsx(Pl,{path:"/settings",element:n.jsx(FLe,{})})]})})]})})}):null}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:E8,setPrototypeOf:eP,isFrozen:$Le,getPrototypeOf:BLe,getOwnPropertyDescriptor:ULe}=Object;let{freeze:ds,seal:_i,create:T8}=Object,{apply:j2,construct:N2}=typeof Reflect!="undefined"&&Reflect;ds||(ds=function(t){return t});_i||(_i=function(t){return t});j2||(j2=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i];return t.apply(r,s)});N2||(N2=function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return new t(...a)});const Cx=us(Array.prototype.forEach),WLe=us(Array.prototype.lastIndexOf),tP=us(Array.prototype.pop),sm=us(Array.prototype.push),zLe=us(Array.prototype.splice),Mx=us(String.prototype.toLowerCase),cj=us(String.prototype.toString),dj=us(String.prototype.match),im=us(String.prototype.replace),HLe=us(String.prototype.indexOf),VLe=us(String.prototype.trim),Ui=us(Object.prototype.hasOwnProperty),es=us(RegExp.prototype.test),om=GLe(TypeError);function us(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return j2(e,t,a)}}function GLe(e){return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return N2(e,r)}}function ar(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mx;eP&&eP(e,null);let a=t.length;for(;a--;){let s=t[a];if(typeof s=="string"){const i=r(s);i!==s&&($Le(t)||(t[a]=i),s=i)}e[s]=!0}return e}function qLe(e){for(let t=0;t<e.length;t++)Ui(e,t)||(e[t]=null);return e}function Ho(e){const t=T8(null);for(const[r,a]of E8(e))Ui(e,r)&&(Array.isArray(a)?t[r]=qLe(a):a&&typeof a=="object"&&a.constructor===Object?t[r]=Ho(a):t[r]=a);return t}function lm(e,t){for(;e!==null;){const a=ULe(e,t);if(a){if(a.get)return us(a.get);if(typeof a.value=="function")return us(a.value)}e=BLe(e)}function r(){return null}return r}const rP=ds(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),uj=ds(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),fj=ds(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),KLe=ds(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),hj=ds(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),XLe=ds(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),nP=ds(["#text"]),aP=ds(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),mj=ds(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sP=ds(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ax=ds(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),YLe=_i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),JLe=_i(/<%[\w\W]*|[\w\W]*%>/gm),ZLe=_i(/\$\{[\w\W]*/gm),QLe=_i(/^data-[\-\w.\u00B7-\uFFFF]+$/),e$e=_i(/^aria-[\-\w]+$/),O8=_i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),t$e=_i(/^(?:\w+script|data):/i),r$e=_i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),P8=_i(/^html$/i),n$e=_i(/^[a-z][.\w]*(-[.\w]+)+$/i);var iP=Object.freeze({__proto__:null,ARIA_ATTR:e$e,ATTR_WHITESPACE:r$e,CUSTOM_ELEMENT:n$e,DATA_ATTR:QLe,DOCTYPE_NAME:P8,ERB_EXPR:JLe,IS_ALLOWED_URI:O8,IS_SCRIPT_OR_DATA:t$e,MUSTACHE_EXPR:YLe,TMPLIT_EXPR:ZLe});const cm={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},a$e=function(){return typeof window=="undefined"?null:window},s$e=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let a=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(a=r.getAttribute(s));const i="dompurify"+(a?"#"+a:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch(o){return console.warn("TrustedTypes policy "+i+" could not be created."),null}},oP=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function I8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a$e();const t=we=>I8(we);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==cm.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const a=r,s=a.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:m}=e,p=c.prototype,x=lm(p,"cloneNode"),y=lm(p,"remove"),v=lm(p,"nextSibling"),w=lm(p,"childNodes"),j=lm(p,"parentNode");if(typeof o=="function"){const we=r.createElement("template");we.content&&we.content.ownerDocument&&(r=we.content.ownerDocument)}let A,C="";const{implementation:S,createNodeIterator:k,createDocumentFragment:E,getElementsByTagName:T}=r,{importNode:F}=a;let O=oP();t.isSupported=typeof E8=="function"&&typeof j=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:P,ERB_EXPR:W,TMPLIT_EXPR:q,DATA_ATTR:D,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:H,ATTR_WHITESPACE:ee,CUSTOM_ELEMENT:X}=iP;let{IS_ALLOWED_URI:de}=iP,le=null;const G=ar({},[...rP,...uj,...fj,...hj,...nP]);let K=null;const Z=ar({},[...aP,...mj,...sP,...Ax]);let I=Object.seal(T8(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,te=null,R=!0,U=!0,Q=!1,J=!0,L=!1,he=!0,ge=!1,Ae=!1,Ee=!1,xe=!1,Te=!1,Ue=!1,tt=!0,ct=!1;const mt="user-content-";let ut=!0,it=!1,At={},Bt=null;const vt=ar({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Gt=null;const Ut=ar({},["audio","video","img","source","image","track"]);let ft=null;const Ht=ar({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dr="http://www.w3.org/1998/Math/MathML",St="http://www.w3.org/2000/svg",ir="http://www.w3.org/1999/xhtml";let Kr=ir,Jn=!1,Zn=null;const qa=ar({},[dr,St,ir],cj);let gn=ar({},["mi","mo","mn","ms","mtext"]),tn=ar({},["annotation-xml"]);const va=ar({},["title","style","font","a","script"]);let je=null;const Oe=["application/xhtml+xml","text/html"],Ze="text/html";let He=null,dt=null;const be=r.createElement("form"),Ke=function(ae){return ae instanceof RegExp||ae instanceof Function},at=function(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(dt&&dt===ae)){if((!ae||typeof ae!="object")&&(ae={}),ae=Ho(ae),je=Oe.indexOf(ae.PARSER_MEDIA_TYPE)===-1?Ze:ae.PARSER_MEDIA_TYPE,He=je==="application/xhtml+xml"?cj:Mx,le=Ui(ae,"ALLOWED_TAGS")?ar({},ae.ALLOWED_TAGS,He):G,K=Ui(ae,"ALLOWED_ATTR")?ar({},ae.ALLOWED_ATTR,He):Z,Zn=Ui(ae,"ALLOWED_NAMESPACES")?ar({},ae.ALLOWED_NAMESPACES,cj):qa,ft=Ui(ae,"ADD_URI_SAFE_ATTR")?ar(Ho(Ht),ae.ADD_URI_SAFE_ATTR,He):Ht,Gt=Ui(ae,"ADD_DATA_URI_TAGS")?ar(Ho(Ut),ae.ADD_DATA_URI_TAGS,He):Ut,Bt=Ui(ae,"FORBID_CONTENTS")?ar({},ae.FORBID_CONTENTS,He):vt,V=Ui(ae,"FORBID_TAGS")?ar({},ae.FORBID_TAGS,He):Ho({}),te=Ui(ae,"FORBID_ATTR")?ar({},ae.FORBID_ATTR,He):Ho({}),At=Ui(ae,"USE_PROFILES")?ae.USE_PROFILES:!1,R=ae.ALLOW_ARIA_ATTR!==!1,U=ae.ALLOW_DATA_ATTR!==!1,Q=ae.ALLOW_UNKNOWN_PROTOCOLS||!1,J=ae.ALLOW_SELF_CLOSE_IN_ATTR!==!1,L=ae.SAFE_FOR_TEMPLATES||!1,he=ae.SAFE_FOR_XML!==!1,ge=ae.WHOLE_DOCUMENT||!1,xe=ae.RETURN_DOM||!1,Te=ae.RETURN_DOM_FRAGMENT||!1,Ue=ae.RETURN_TRUSTED_TYPE||!1,Ee=ae.FORCE_BODY||!1,tt=ae.SANITIZE_DOM!==!1,ct=ae.SANITIZE_NAMED_PROPS||!1,ut=ae.KEEP_CONTENT!==!1,it=ae.IN_PLACE||!1,de=ae.ALLOWED_URI_REGEXP||O8,Kr=ae.NAMESPACE||ir,gn=ae.MATHML_TEXT_INTEGRATION_POINTS||gn,tn=ae.HTML_INTEGRATION_POINTS||tn,I=ae.CUSTOM_ELEMENT_HANDLING||{},ae.CUSTOM_ELEMENT_HANDLING&&Ke(ae.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(I.tagNameCheck=ae.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ae.CUSTOM_ELEMENT_HANDLING&&Ke(ae.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(I.attributeNameCheck=ae.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ae.CUSTOM_ELEMENT_HANDLING&&typeof ae.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(I.allowCustomizedBuiltInElements=ae.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),L&&(U=!1),Te&&(xe=!0),At&&(le=ar({},nP),K=[],At.html===!0&&(ar(le,rP),ar(K,aP)),At.svg===!0&&(ar(le,uj),ar(K,mj),ar(K,Ax)),At.svgFilters===!0&&(ar(le,fj),ar(K,mj),ar(K,Ax)),At.mathMl===!0&&(ar(le,hj),ar(K,sP),ar(K,Ax))),ae.ADD_TAGS&&(le===G&&(le=Ho(le)),ar(le,ae.ADD_TAGS,He)),ae.ADD_ATTR&&(K===Z&&(K=Ho(K)),ar(K,ae.ADD_ATTR,He)),ae.ADD_URI_SAFE_ATTR&&ar(ft,ae.ADD_URI_SAFE_ATTR,He),ae.FORBID_CONTENTS&&(Bt===vt&&(Bt=Ho(Bt)),ar(Bt,ae.FORBID_CONTENTS,He)),ut&&(le["#text"]=!0),ge&&ar(le,["html","head","body"]),le.table&&(ar(le,["tbody"]),delete V.tbody),ae.TRUSTED_TYPES_POLICY){if(typeof ae.TRUSTED_TYPES_POLICY.createHTML!="function")throw om('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ae.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw om('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=ae.TRUSTED_TYPES_POLICY,C=A.createHTML("")}else A===void 0&&(A=s$e(m,s)),A!==null&&typeof C=="string"&&(C=A.createHTML(""));ds&&ds(ae),dt=ae}},bt=ar({},[...uj,...fj,...KLe]),yt=ar({},[...hj,...XLe]),_e=function(ae){let Se=j(ae);(!Se||!Se.tagName)&&(Se={namespaceURI:Kr,tagName:"template"});const De=Mx(ae.tagName),Ye=Mx(Se.tagName);return Zn[ae.namespaceURI]?ae.namespaceURI===St?Se.namespaceURI===ir?De==="svg":Se.namespaceURI===dr?De==="svg"&&(Ye==="annotation-xml"||gn[Ye]):!!bt[De]:ae.namespaceURI===dr?Se.namespaceURI===ir?De==="math":Se.namespaceURI===St?De==="math"&&tn[Ye]:!!yt[De]:ae.namespaceURI===ir?Se.namespaceURI===St&&!tn[Ye]||Se.namespaceURI===dr&&!gn[Ye]?!1:!yt[De]&&(va[De]||!bt[De]):!!(je==="application/xhtml+xml"&&Zn[ae.namespaceURI]):!1},Xe=function(ae){sm(t.removed,{element:ae});try{j(ae).removeChild(ae)}catch(Se){y(ae)}},st=function(ae,Se){try{sm(t.removed,{attribute:Se.getAttributeNode(ae),from:Se})}catch(De){sm(t.removed,{attribute:null,from:Se})}if(Se.removeAttribute(ae),ae==="is")if(xe||Te)try{Xe(Se)}catch(De){}else try{Se.setAttribute(ae,"")}catch(De){}},_t=function(ae){let Se=null,De=null;if(Ee)ae="<remove></remove>"+ae;else{const Je=dj(ae,/^[\r\n\t ]+/);De=Je&&Je[0]}je==="application/xhtml+xml"&&Kr===ir&&(ae='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ae+"</body></html>");const Ye=A?A.createHTML(ae):ae;if(Kr===ir)try{Se=new h().parseFromString(Ye,je)}catch(Je){}if(!Se||!Se.documentElement){Se=S.createDocument(Kr,"template",null);try{Se.documentElement.innerHTML=Jn?C:Ye}catch(Je){}}const Ve=Se.body||Se.documentElement;return ae&&De&&Ve.insertBefore(r.createTextNode(De),Ve.childNodes[0]||null),Kr===ir?T.call(Se,ge?"html":"body")[0]:ge?Se.documentElement:Ve},re=function(ae){return k.call(ae.ownerDocument||ae,ae,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},fe=function(ae){return ae instanceof f&&(typeof ae.nodeName!="string"||typeof ae.textContent!="string"||typeof ae.removeChild!="function"||!(ae.attributes instanceof u)||typeof ae.removeAttribute!="function"||typeof ae.setAttribute!="function"||typeof ae.namespaceURI!="string"||typeof ae.insertBefore!="function"||typeof ae.hasChildNodes!="function")},oe=function(ae){return typeof l=="function"&&ae instanceof l};function ce(we,ae,Se){Cx(we,De=>{De.call(t,ae,Se,dt)})}const me=function(ae){let Se=null;if(ce(O.beforeSanitizeElements,ae,null),fe(ae))return Xe(ae),!0;const De=He(ae.nodeName);if(ce(O.uponSanitizeElement,ae,{tagName:De,allowedTags:le}),he&&ae.hasChildNodes()&&!oe(ae.firstElementChild)&&es(/<[/\w!]/g,ae.innerHTML)&&es(/<[/\w!]/g,ae.textContent)||ae.nodeType===cm.progressingInstruction||he&&ae.nodeType===cm.comment&&es(/<[/\w]/g,ae.data))return Xe(ae),!0;if(!le[De]||V[De]){if(!V[De]&&Pe(De)&&(I.tagNameCheck instanceof RegExp&&es(I.tagNameCheck,De)||I.tagNameCheck instanceof Function&&I.tagNameCheck(De)))return!1;if(ut&&!Bt[De]){const Ye=j(ae)||ae.parentNode,Ve=w(ae)||ae.childNodes;if(Ve&&Ye){const Je=Ve.length;for(let gt=Je-1;gt>=0;--gt){const Qt=x(Ve[gt],!0);Qt.__removalCount=(ae.__removalCount||0)+1,Ye.insertBefore(Qt,v(ae))}}}return Xe(ae),!0}return ae instanceof c&&!_e(ae)||(De==="noscript"||De==="noembed"||De==="noframes")&&es(/<\/no(script|embed|frames)/i,ae.innerHTML)?(Xe(ae),!0):(L&&ae.nodeType===cm.text&&(Se=ae.textContent,Cx([P,W,q],Ye=>{Se=im(Se,Ye," ")}),ae.textContent!==Se&&(sm(t.removed,{element:ae.cloneNode()}),ae.textContent=Se)),ce(O.afterSanitizeElements,ae,null),!1)},pe=function(ae,Se,De){if(tt&&(Se==="id"||Se==="name")&&(De in r||De in be))return!1;if(!(U&&!te[Se]&&es(D,Se))){if(!(R&&es(M,Se))){if(!K[Se]||te[Se]){if(!(Pe(ae)&&(I.tagNameCheck instanceof RegExp&&es(I.tagNameCheck,ae)||I.tagNameCheck instanceof Function&&I.tagNameCheck(ae))&&(I.attributeNameCheck instanceof RegExp&&es(I.attributeNameCheck,Se)||I.attributeNameCheck instanceof Function&&I.attributeNameCheck(Se,ae))||Se==="is"&&I.allowCustomizedBuiltInElements&&(I.tagNameCheck instanceof RegExp&&es(I.tagNameCheck,De)||I.tagNameCheck instanceof Function&&I.tagNameCheck(De))))return!1}else if(!ft[Se]){if(!es(de,im(De,ee,""))){if(!((Se==="src"||Se==="xlink:href"||Se==="href")&&ae!=="script"&&HLe(De,"data:")===0&&Gt[ae])){if(!(Q&&!es(H,im(De,ee,"")))){if(De)return!1}}}}}}return!0},Pe=function(ae){return ae!=="annotation-xml"&&dj(ae,X)},Me=function(ae){ce(O.beforeSanitizeAttributes,ae,null);const{attributes:Se}=ae;if(!Se||fe(ae))return;const De={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:K,forceKeepAttr:void 0};let Ye=Se.length;for(;Ye--;){const Ve=Se[Ye],{name:Je,namespaceURI:gt,value:Qt}=Ve,or=He(Je),Hr=Qt;let Nr=Je==="value"?Hr:VLe(Hr);if(De.attrName=or,De.attrValue=Nr,De.keepAttr=!0,De.forceKeepAttr=void 0,ce(O.uponSanitizeAttribute,ae,De),Nr=De.attrValue,ct&&(or==="id"||or==="name")&&(st(Je,ae),Nr=mt+Nr),he&&es(/((--!?|])>)|<\/(style|title|textarea)/i,Nr)){st(Je,ae);continue}if(or==="attributename"&&dj(Nr,"href")){st(Je,ae);continue}if(De.forceKeepAttr)continue;if(!De.keepAttr){st(Je,ae);continue}if(!J&&es(/\/>/i,Nr)){st(Je,ae);continue}L&&Cx([P,W,q],Es=>{Nr=im(Nr,Es," ")});const fs=He(ae.nodeName);if(!pe(fs,or,Nr)){st(Je,ae);continue}if(A&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!gt)switch(m.getAttributeType(fs,or)){case"TrustedHTML":{Nr=A.createHTML(Nr);break}case"TrustedScriptURL":{Nr=A.createScriptURL(Nr);break}}if(Nr!==Hr)try{gt?ae.setAttributeNS(gt,Je,Nr):ae.setAttribute(Je,Nr),fe(ae)?Xe(ae):tP(t.removed)}catch(Es){st(Je,ae)}}ce(O.afterSanitizeAttributes,ae,null)},Ie=function we(ae){let Se=null;const De=re(ae);for(ce(O.beforeSanitizeShadowDOM,ae,null);Se=De.nextNode();)ce(O.uponSanitizeShadowNode,Se,null),me(Se),Me(Se),Se.content instanceof i&&we(Se.content);ce(O.afterSanitizeShadowDOM,ae,null)};return t.sanitize=function(we){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=null,De=null,Ye=null,Ve=null;if(Jn=!we,Jn&&(we="<!-->"),typeof we!="string"&&!oe(we))if(typeof we.toString=="function"){if(we=we.toString(),typeof we!="string")throw om("dirty is not a string, aborting")}else throw om("toString is not a function");if(!t.isSupported)return we;if(Ae||at(ae),t.removed=[],typeof we=="string"&&(it=!1),it){if(we.nodeName){const Qt=He(we.nodeName);if(!le[Qt]||V[Qt])throw om("root node is forbidden and cannot be sanitized in-place")}}else if(we instanceof l)Se=_t("<!---->"),De=Se.ownerDocument.importNode(we,!0),De.nodeType===cm.element&&De.nodeName==="BODY"||De.nodeName==="HTML"?Se=De:Se.appendChild(De);else{if(!xe&&!L&&!ge&&we.indexOf("<")===-1)return A&&Ue?A.createHTML(we):we;if(Se=_t(we),!Se)return xe?null:Ue?C:""}Se&&Ee&&Xe(Se.firstChild);const Je=re(it?we:Se);for(;Ye=Je.nextNode();)me(Ye),Me(Ye),Ye.content instanceof i&&Ie(Ye.content);if(it)return we;if(xe){if(Te)for(Ve=E.call(Se.ownerDocument);Se.firstChild;)Ve.appendChild(Se.firstChild);else Ve=Se;return(K.shadowroot||K.shadowrootmode)&&(Ve=F.call(a,Ve,!0)),Ve}let gt=ge?Se.outerHTML:Se.innerHTML;return ge&&le["!doctype"]&&Se.ownerDocument&&Se.ownerDocument.doctype&&Se.ownerDocument.doctype.name&&es(P8,Se.ownerDocument.doctype.name)&&(gt="<!DOCTYPE "+Se.ownerDocument.doctype.name+`>
`+gt),L&&Cx([P,W,q],Qt=>{gt=im(gt,Qt," ")}),A&&Ue?A.createHTML(gt):gt},t.setConfig=function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};at(we),Ae=!0},t.clearConfig=function(){dt=null,Ae=!1},t.isValidAttribute=function(we,ae,Se){dt||at({});const De=He(we),Ye=He(ae);return pe(De,Ye,Se)},t.addHook=function(we,ae){typeof ae=="function"&&sm(O[we],ae)},t.removeHook=function(we,ae){if(ae!==void 0){const Se=WLe(O[we],ae);return Se===-1?void 0:zLe(O[we],Se,1)[0]}return tP(O[we])},t.removeHooks=function(we){O[we]=[]},t.removeAllHooks=function(){O=oP()},t}var i$e=I8();const o$e=({html:e,className:t="",allowedTags:r=["p","br","b","strong","i","em","u","span","div","h1","h2","h3","h4","h5","h6","ul","ol","li","a","img","blockquote","pre","code"],allowedAttributes:a=["href","src","alt","title","class","id"]})=>{const s=ne.useMemo(()=>i$e.sanitize(e,{ALLOWED_TAGS:r,ALLOWED_ATTR:a,ALLOW_DATA_ATTR:!1,ALLOW_UNKNOWN_PROTOCOLS:!1,RETURN_DOM_FRAGMENT:!1,RETURN_DOM:!1,FORBID_TAGS:["script","iframe","object","embed","form","input","textarea","button"],FORBID_ATTR:["onload","onerror","onclick","onmouseover","onmouseout","onkeydown","onkeyup","onfocus","onblur","onchange","onsubmit"]}),[e,r,a]);return n.jsx("div",{className:t,dangerouslySetInnerHTML:{__html:s}})};function l$e(e){return Object.prototype.toString.call(e)==="[object Object]"}function lP(e){return l$e(e)||Array.isArray(e)}function c$e(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}function fC(e,t){const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),i=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==i?!1:r.every(o=>{const l=e[o],c=t[o];return typeof l=="function"?`${l}`==`${c}`:!lP(l)||!lP(c)?l===c:fC(l,c)})}function cP(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function d$e(e,t){if(e.length!==t.length)return!1;const r=cP(e),a=cP(t);return r.every((s,i)=>{const o=a[i];return fC(s,o)})}function hC(e){return typeof e=="number"}function S2(e){return typeof e=="string"}function Jb(e){return typeof e=="boolean"}function dP(e){return Object.prototype.toString.call(e)==="[object Object]"}function an(e){return Math.abs(e)}function mC(e){return Math.sign(e)}function Rm(e,t){return an(e-t)}function u$e(e,t){if(e===0||t===0||an(e)<=an(t))return 0;const r=Rm(an(e),an(t));return an(r/e)}function f$e(e){return Math.round(e*100)/100}function Y0(e){return J0(e).map(Number)}function eo(e){return e[kp(e)]}function kp(e){return Math.max(0,e.length-1)}function pC(e,t){return t===kp(e)}function uP(e,t=0){return Array.from(Array(e),(r,a)=>t+a)}function J0(e){return Object.keys(e)}function F8(e,t){return[e,t].reduce((r,a)=>(J0(a).forEach(s=>{const i=r[s],o=a[s],l=dP(i)&&dP(o);r[s]=l?F8(i,o):o}),r),{})}function k2(e,t){return typeof t.MouseEvent!="undefined"&&e instanceof t.MouseEvent}function h$e(e,t){const r={start:a,center:s,end:i};function a(){return 0}function s(c){return i(c)/2}function i(c){return t-c}function o(c,d){return S2(e)?r[e](c):e(t,c,d)}return{measure:o}}function Z0(){let e=[];function t(s,i,o,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(i,o,l),c=()=>s.removeEventListener(i,o,l);else{const d=s;d.addListener(o),c=()=>d.removeListener(o)}return e.push(c),a}function r(){e=e.filter(s=>s())}const a={add:t,clear:r};return a}function m$e(e,t,r,a){const s=Z0(),i=1e3/60;let o=null,l=0,c=0;function d(){s.add(e,"visibilitychange",()=>{e.hidden&&p()})}function u(){m(),s.clear()}function f(y){if(!c)return;o||(o=y,r(),r());const v=y-o;for(o=y,l+=v;l>=i;)r(),l-=i;const w=l/i;a(w),c&&(c=t.requestAnimationFrame(f))}function h(){c||(c=t.requestAnimationFrame(f))}function m(){t.cancelAnimationFrame(c),o=null,l=0,c=0}function p(){o=null,l=0}return{init:d,destroy:u,start:h,stop:m,update:r,render:a}}function p$e(e,t){const r=t==="rtl",a=e==="y",s=a?"y":"x",i=a?"x":"y",o=!a&&r?-1:1,l=u(),c=f();function d(p){const{height:x,width:y}=p;return a?x:y}function u(){return a?"top":r?"right":"left"}function f(){return a?"bottom":r?"left":"right"}function h(p){return p*o}return{scroll:s,cross:i,startEdge:l,endEdge:c,measureSize:d,direction:h}}function wd(e=0,t=0){const r=an(e-t);function a(d){return d<e}function s(d){return d>t}function i(d){return a(d)||s(d)}function o(d){return i(d)?a(d)?e:t:d}function l(d){return r?d-r*Math.ceil((d-t)/r):d}return{length:r,max:t,min:e,constrain:o,reachedAny:i,reachedMax:s,reachedMin:a,removeOffset:l}}function D8(e,t,r){const{constrain:a}=wd(0,e),s=e+1;let i=o(t);function o(h){return r?an((s+h)%s):a(h)}function l(){return i}function c(h){return i=o(h),f}function d(h){return u().set(l()+h)}function u(){return D8(e,l(),r)}const f={get:l,set:c,add:d,clone:u};return f}function g$e(e,t,r,a,s,i,o,l,c,d,u,f,h,m,p,x,y,v,w){const{cross:j,direction:A}=e,C=["INPUT","SELECT","TEXTAREA"],S={passive:!1},k=Z0(),E=Z0(),T=wd(50,225).constrain(m.measure(20)),F={mouse:300,touch:400},O={mouse:500,touch:600},P=p?43:25;let W=!1,q=0,D=0,M=!1,H=!1,ee=!1,X=!1;function de(L){if(!w)return;function he(Ae){(Jb(w)||w(L,Ae))&&V(Ae)}const ge=t;k.add(ge,"dragstart",Ae=>Ae.preventDefault(),S).add(ge,"touchmove",()=>{},S).add(ge,"touchend",()=>{}).add(ge,"touchstart",he).add(ge,"mousedown",he).add(ge,"touchcancel",R).add(ge,"contextmenu",R).add(ge,"click",U,!0)}function le(){k.clear(),E.clear()}function G(){const L=X?r:t;E.add(L,"touchmove",te,S).add(L,"touchend",R).add(L,"mousemove",te,S).add(L,"mouseup",R)}function K(L){const he=L.nodeName||"";return C.includes(he)}function Z(){return(p?O:F)[X?"mouse":"touch"]}function I(L,he){const ge=f.add(mC(L)*-1),Ae=u.byDistance(L,!p).distance;return p||an(L)<T?Ae:y&&he?Ae*.5:u.byIndex(ge.get(),0).distance}function V(L){const he=k2(L,a);X=he,ee=p&&he&&!L.buttons&&W,W=Rm(s.get(),o.get())>=2,!(he&&L.button!==0)&&(K(L.target)||(M=!0,i.pointerDown(L),d.useFriction(0).useDuration(0),s.set(o),G(),q=i.readPoint(L),D=i.readPoint(L,j),h.emit("pointerDown")))}function te(L){if(!k2(L,a)&&L.touches.length>=2)return R(L);const ge=i.readPoint(L),Ae=i.readPoint(L,j),Ee=Rm(ge,q),xe=Rm(Ae,D);if(!H&&!X&&(!L.cancelable||(H=Ee>xe,!H)))return R(L);const Te=i.pointerMove(L);Ee>x&&(ee=!0),d.useFriction(.3).useDuration(.75),l.start(),s.add(A(Te)),L.preventDefault()}function R(L){const ge=u.byDistance(0,!1).index!==f.get(),Ae=i.pointerUp(L)*Z(),Ee=I(A(Ae),ge),xe=u$e(Ae,Ee),Te=P-10*xe,Ue=v+xe/50;H=!1,M=!1,E.clear(),d.useDuration(Te).useFriction(Ue),c.distance(Ee,!p),X=!1,h.emit("pointerUp")}function U(L){ee&&(L.stopPropagation(),L.preventDefault(),ee=!1)}function Q(){return M}return{init:de,destroy:le,pointerDown:Q}}function x$e(e,t){let a,s;function i(f){return f.timeStamp}function o(f,h){const p=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(k2(f,t)?f:f.touches[0])[p]}function l(f){return a=f,s=f,o(f)}function c(f){const h=o(f)-o(s),m=i(f)-i(a)>170;return s=f,m&&(a=f),h}function d(f){if(!a||!s)return 0;const h=o(s)-o(a),m=i(f)-i(a),p=i(f)-i(s)>170,x=h/m;return m&&!p&&an(x)>.1?x:0}return{pointerDown:l,pointerMove:c,pointerUp:d,readPoint:o}}function y$e(){function e(r){const{offsetTop:a,offsetLeft:s,offsetWidth:i,offsetHeight:o}=r;return{top:a,right:s+i,bottom:a+o,left:s,width:i,height:o}}return{measure:e}}function v$e(e){function t(a){return e*(a/100)}return{measure:t}}function b$e(e,t,r,a,s,i,o){const l=[e].concat(a);let c,d,u=[],f=!1;function h(y){return s.measureSize(o.measure(y))}function m(y){if(!i)return;d=h(e),u=a.map(h);function v(w){for(const j of w){if(f)return;const A=j.target===e,C=a.indexOf(j.target),S=A?d:u[C],k=h(A?e:a[C]);if(an(k-S)>=.5){y.reInit(),t.emit("resize");break}}}c=new ResizeObserver(w=>{(Jb(i)||i(y,w))&&v(w)}),r.requestAnimationFrame(()=>{l.forEach(w=>c.observe(w))})}function p(){f=!0,c&&c.disconnect()}return{init:m,destroy:p}}function w$e(e,t,r,a,s,i){let o=0,l=0,c=s,d=i,u=e.get(),f=0;function h(){const S=a.get()-e.get(),k=!c;let E=0;return k?(o=0,r.set(a),e.set(a),E=S):(r.set(e),o+=S/c,o*=d,u+=o,e.add(o),E=u-f),l=mC(E),f=u,C}function m(){const S=a.get()-t.get();return an(S)<.001}function p(){return c}function x(){return l}function y(){return o}function v(){return j(s)}function w(){return A(i)}function j(S){return c=S,C}function A(S){return d=S,C}const C={direction:x,duration:p,velocity:y,seek:h,settled:m,useBaseFriction:w,useBaseDuration:v,useFriction:A,useDuration:j};return C}function j$e(e,t,r,a,s){const i=s.measure(10),o=s.measure(50),l=wd(.1,.99);let c=!1;function d(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function u(m){if(!d())return;const p=e.reachedMin(t.get())?"min":"max",x=an(e[p]-t.get()),y=r.get()-t.get(),v=l.constrain(x/o);r.subtract(y*v),!m&&an(y)<i&&(r.set(e.constrain(r.get())),a.useDuration(25).useBaseFriction())}function f(m){c=!m}return{shouldConstrain:d,constrain:u,toggleActive:f}}function N$e(e,t,r,a,s){const i=wd(-t+e,0),o=f(),l=u(),c=h();function d(p,x){return Rm(p,x)<=1}function u(){const p=o[0],x=eo(o),y=o.lastIndexOf(p),v=o.indexOf(x)+1;return wd(y,v)}function f(){return r.map((p,x)=>{const{min:y,max:v}=i,w=i.constrain(p),j=!x,A=pC(r,x);return j?v:A||d(y,w)?y:d(v,w)?v:w}).map(p=>parseFloat(p.toFixed(3)))}function h(){if(t<=e+s)return[i.max];if(a==="keepSnaps")return o;const{min:p,max:x}=l;return o.slice(p,x)}return{snapsContained:c,scrollContainLimit:l}}function S$e(e,t,r){const a=t[0],s=r?a-e:eo(t);return{limit:wd(s,a)}}function k$e(e,t,r,a){const i=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:c}=wd(i,o);function d(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function u(h){if(!d(h))return;const m=e*(h*-1);a.forEach(p=>p.add(m))}return{loop:u}}function C$e(e){const{max:t,length:r}=e;function a(i){const o=i-t;return r?o/-r:0}return{get:a}}function A$e(e,t,r,a,s){const{startEdge:i,endEdge:o}=e,{groupSlides:l}=s,c=f().map(t.measure),d=h(),u=m();function f(){return l(a).map(x=>eo(x)[o]-x[0][i]).map(an)}function h(){return a.map(x=>r[i]-x[i]).map(x=>-an(x))}function m(){return l(d).map(x=>x[0]).map((x,y)=>x+c[y])}return{snaps:d,snapsAligned:u}}function _$e(e,t,r,a,s,i){const{groupSlides:o}=s,{min:l,max:c}=a,d=u();function u(){const h=o(i),m=!e||t==="keepSnaps";return r.length===1?[i]:m?h:h.slice(l,c).map((p,x,y)=>{const v=!x,w=pC(y,x);if(v){const j=eo(y[0])+1;return uP(j)}if(w){const j=kp(i)-eo(y)[0]+1;return uP(j,eo(y)[0])}return p})}return{slideRegistry:d}}function E$e(e,t,r,a,s){const{reachedAny:i,removeOffset:o,constrain:l}=a;function c(p){return p.concat().sort((x,y)=>an(x)-an(y))[0]}function d(p){const x=e?o(p):l(p),y=t.map((w,j)=>({diff:u(w-x,0),index:j})).sort((w,j)=>an(w.diff)-an(j.diff)),{index:v}=y[0];return{index:v,distance:x}}function u(p,x){const y=[p,p+r,p-r];if(!e)return p;if(!x)return c(y);const v=y.filter(w=>mC(w)===x);return v.length?c(v):eo(y)-r}function f(p,x){const y=t[p]-s.get(),v=u(y,x);return{index:p,distance:v}}function h(p,x){const y=s.get()+p,{index:v,distance:w}=d(y),j=!e&&i(y);if(!x||j)return{index:v,distance:p};const A=t[v]-w,C=p+u(A,0);return{index:v,distance:C}}return{byDistance:h,byIndex:f,shortcut:u}}function T$e(e,t,r,a,s,i,o){function l(f){const h=f.distance,m=f.index!==t.get();i.add(h),h&&(a.duration()?e.start():(e.update(),e.render(1),e.update())),m&&(r.set(t.get()),t.set(f.index),o.emit("select"))}function c(f,h){const m=s.byDistance(f,h);l(m)}function d(f,h){const m=t.clone().set(f),p=s.byIndex(m.get(),h);l(p)}return{distance:c,index:d}}function O$e(e,t,r,a,s,i,o,l){const c={passive:!0,capture:!0};let d=0;function u(m){if(!l)return;function p(x){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const w=r.findIndex(j=>j.includes(x));hC(w)&&(s.useDuration(0),a.index(w,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),t.forEach((x,y)=>{i.add(x,"focus",v=>{(Jb(l)||l(m,v))&&p(y)},c)})}function f(m){m.code==="Tab"&&(d=new Date().getTime())}return{init:u}}function xm(e){let t=e;function r(){return t}function a(c){t=o(c)}function s(c){t+=o(c)}function i(c){t-=o(c)}function o(c){return hC(c)?c:c.get()}return{get:r,set:a,add:s,subtract:i}}function R8(e,t){const r=e.scroll==="x"?o:l,a=t.style;let s=null,i=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function c(h){if(i)return;const m=f$e(e.direction(h));m!==s&&(a.transform=r(m),s=m)}function d(h){i=!h}function u(){i||(a.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:c,toggleActive:d}}function P$e(e,t,r,a,s,i,o,l,c){const u=Y0(s),f=Y0(s).reverse(),h=v().concat(w());function m(k,E){return k.reduce((T,F)=>T-s[F],E)}function p(k,E){return k.reduce((T,F)=>m(T,E)>0?T.concat([F]):T,[])}function x(k){return i.map((E,T)=>({start:E-a[T]+.5+k,end:E+t-.5+k}))}function y(k,E,T){const F=x(E);return k.map(O=>{const P=T?0:-r,W=T?r:0,q=T?"end":"start",D=F[O][q];return{index:O,loopPoint:D,slideLocation:xm(-1),translate:R8(e,c[O]),target:()=>l.get()>D?P:W}})}function v(){const k=o[0],E=p(f,k);return y(E,r,!1)}function w(){const k=t-o[0]-1,E=p(u,k);return y(E,-r,!0)}function j(){return h.every(({index:k})=>{const E=u.filter(T=>T!==k);return m(E,t)<=.1})}function A(){h.forEach(k=>{const{target:E,translate:T,slideLocation:F}=k,O=E();O!==F.get()&&(T.to(O),F.set(O))})}function C(){h.forEach(k=>k.translate.clear())}return{canLoop:j,clear:C,loop:A,loopPoints:h}}function I$e(e,t,r){let a,s=!1;function i(c){if(!r)return;function d(u){for(const f of u)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}a=new MutationObserver(u=>{s||(Jb(r)||r(c,u))&&d(u)}),a.observe(e,{childList:!0})}function o(){a&&a.disconnect(),s=!0}return{init:i,destroy:o}}function F$e(e,t,r,a){const s={};let i=null,o=null,l,c=!1;function d(){l=new IntersectionObserver(p=>{c||(p.forEach(x=>{const y=t.indexOf(x.target);s[y]=x}),i=null,o=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:a}),t.forEach(p=>l.observe(p))}function u(){l&&l.disconnect(),c=!0}function f(p){return J0(s).reduce((x,y)=>{const v=parseInt(y),{isIntersecting:w}=s[v];return(p&&w||!p&&!w)&&x.push(v),x},[])}function h(p=!0){if(p&&i)return i;if(!p&&o)return o;const x=f(p);return p&&(i=x),p||(o=x),x}return{init:d,destroy:u,get:h}}function D$e(e,t,r,a,s,i){const{measureSize:o,startEdge:l,endEdge:c}=e,d=r[0]&&s,u=p(),f=x(),h=r.map(o),m=y();function p(){if(!d)return 0;const w=r[0];return an(t[l]-w[l])}function x(){if(!d)return 0;const w=i.getComputedStyle(eo(a));return parseFloat(w.getPropertyValue(`margin-${c}`))}function y(){return r.map((w,j,A)=>{const C=!j,S=pC(A,j);return C?h[j]+u:S?h[j]+f:A[j+1][l]-w[l]}).map(an)}return{slideSizes:h,slideSizesWithGaps:m,startGap:u,endGap:f}}function R$e(e,t,r,a,s,i,o,l,c){const{startEdge:d,endEdge:u,direction:f}=e,h=hC(r);function m(v,w){return Y0(v).filter(j=>j%w===0).map(j=>v.slice(j,j+w))}function p(v){return v.length?Y0(v).reduce((w,j,A)=>{const C=eo(w)||0,S=C===0,k=j===kp(v),E=s[d]-i[C][d],T=s[d]-i[j][u],F=!a&&S?f(o):0,O=!a&&k?f(l):0,P=an(T-O-(E+F));return A&&P>t+c&&w.push(j),k&&w.push(v.length),w},[]).map((w,j,A)=>{const C=Math.max(A[j-1]||0);return v.slice(C,w)}):[]}function x(v){return h?m(v,r):p(v)}return{groupSlides:x}}function M$e(e,t,r,a,s,i,o){const{align:l,axis:c,direction:d,startIndex:u,loop:f,duration:h,dragFree:m,dragThreshold:p,inViewThreshold:x,slidesToScroll:y,skipSnaps:v,containScroll:w,watchResize:j,watchSlides:A,watchDrag:C,watchFocus:S}=i,k=2,E=y$e(),T=E.measure(t),F=r.map(E.measure),O=p$e(c,d),P=O.measureSize(T),W=v$e(P),q=h$e(l,P),D=!f&&!!w,M=f||!!w,{slideSizes:H,slideSizesWithGaps:ee,startGap:X,endGap:de}=D$e(O,T,F,r,M,s),le=R$e(O,P,y,f,T,F,X,de,k),{snaps:G,snapsAligned:K}=A$e(O,q,T,F,le),Z=-eo(G)+eo(ee),{snapsContained:I,scrollContainLimit:V}=N$e(P,Z,K,w,k),te=D?I:K,{limit:R}=S$e(Z,te,f),U=D8(kp(te),u,f),Q=U.clone(),J=Y0(r),L=({dragHandler:ft,scrollBody:Ht,scrollBounds:dr,options:{loop:St}})=>{St||dr.constrain(ft.pointerDown()),Ht.seek()},he=({scrollBody:ft,translate:Ht,location:dr,offsetLocation:St,previousLocation:ir,scrollLooper:Kr,slideLooper:Jn,dragHandler:Zn,animation:qa,eventHandler:gn,scrollBounds:tn,options:{loop:va}},je)=>{const Oe=ft.settled(),Ze=!tn.shouldConstrain(),He=va?Oe:Oe&&Ze,dt=He&&!Zn.pointerDown();dt&&qa.stop();const be=dr.get()*je+ir.get()*(1-je);St.set(be),va&&(Kr.loop(ft.direction()),Jn.loop()),Ht.to(St.get()),dt&&gn.emit("settle"),He||gn.emit("scroll")},ge=m$e(a,s,()=>L(Ut),ft=>he(Ut,ft)),Ae=.68,Ee=te[U.get()],xe=xm(Ee),Te=xm(Ee),Ue=xm(Ee),tt=xm(Ee),ct=w$e(xe,Ue,Te,tt,h,Ae),mt=E$e(f,te,Z,R,tt),ut=T$e(ge,U,Q,ct,mt,tt,o),it=C$e(R),At=Z0(),Bt=F$e(t,r,o,x),{slideRegistry:vt}=_$e(D,w,te,V,le,J),Gt=O$e(e,r,vt,ut,ct,At,o,S),Ut={ownerDocument:a,ownerWindow:s,eventHandler:o,containerRect:T,slideRects:F,animation:ge,axis:O,dragHandler:g$e(O,e,a,s,tt,x$e(O,s),xe,ge,ut,ct,mt,U,o,W,m,p,v,Ae,C),eventStore:At,percentOfView:W,index:U,indexPrevious:Q,limit:R,location:xe,offsetLocation:Ue,previousLocation:Te,options:i,resizeHandler:b$e(t,o,s,r,O,j,E),scrollBody:ct,scrollBounds:j$e(R,Ue,tt,ct,W),scrollLooper:k$e(Z,R,Ue,[xe,Ue,Te,tt]),scrollProgress:it,scrollSnapList:te.map(it.get),scrollSnaps:te,scrollTarget:mt,scrollTo:ut,slideLooper:P$e(O,P,Z,H,ee,G,te,Ue,r),slideFocus:Gt,slidesHandler:I$e(t,o,A),slidesInView:Bt,slideIndexes:J,slideRegistry:vt,slidesToScroll:le,target:tt,translate:R8(O,t)};return Ut}function L$e(){let e={},t;function r(d){t=d}function a(d){return e[d]||[]}function s(d){return a(d).forEach(u=>u(t,d)),c}function i(d,u){return e[d]=a(d).concat([u]),c}function o(d,u){return e[d]=a(d).filter(f=>f!==u),c}function l(){e={}}const c={init:r,emit:s,off:o,on:i,clear:l};return c}const $$e={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function B$e(e){function t(i,o){return F8(i,o||{})}function r(i){const o=i.breakpoints||{},l=J0(o).filter(c=>e.matchMedia(c).matches).map(c=>o[c]).reduce((c,d)=>t(c,d),{});return t(i,l)}function a(i){return i.map(o=>J0(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:a}}function U$e(e){let t=[];function r(i,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(i,e)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function a(){t=t.filter(i=>i.destroy())}return{init:r,destroy:a}}function bv(e,t,r){const a=e.ownerDocument,s=a.defaultView,i=B$e(s),o=U$e(i),l=Z0(),c=L$e(),{mergeOptions:d,optionsAtMedia:u,optionsMediaQueries:f}=i,{on:h,off:m,emit:p}=c,x=O;let y=!1,v,w=d($$e,bv.globalOptions),j=d(w),A=[],C,S,k;function E(){const{container:J,slides:L}=j;S=(S2(J)?e.querySelector(J):J)||e.children[0];const ge=S2(L)?S.querySelectorAll(L):L;k=[].slice.call(ge||S.children)}function T(J){const L=M$e(e,S,k,a,s,J,c);if(J.loop&&!L.slideLooper.canLoop()){const he=Object.assign({},J,{loop:!1});return T(he)}return L}function F(J,L){y||(w=d(w,J),j=u(w),A=L||A,E(),v=T(j),f([w,...A.map(({options:he})=>he)]).forEach(he=>l.add(he,"change",O)),j.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(Q),v.eventHandler.init(Q),v.resizeHandler.init(Q),v.slidesHandler.init(Q),v.options.loop&&v.slideLooper.loop(),S.offsetParent&&k.length&&v.dragHandler.init(Q),C=o.init(Q,A)))}function O(J,L){const he=le();P(),F(d({startIndex:he},J),L),c.emit("reInit")}function P(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),o.destroy(),l.clear()}function W(){y||(y=!0,l.clear(),P(),c.emit("destroy"),c.clear())}function q(J,L,he){!j.active||y||(v.scrollBody.useBaseFriction().useDuration(L===!0?0:j.duration),v.scrollTo.index(J,he||0))}function D(J){const L=v.index.add(1).get();q(L,J,-1)}function M(J){const L=v.index.add(-1).get();q(L,J,1)}function H(){return v.index.add(1).get()!==le()}function ee(){return v.index.add(-1).get()!==le()}function X(){return v.scrollSnapList}function de(){return v.scrollProgress.get(v.offsetLocation.get())}function le(){return v.index.get()}function G(){return v.indexPrevious.get()}function K(){return v.slidesInView.get()}function Z(){return v.slidesInView.get(!1)}function I(){return C}function V(){return v}function te(){return e}function R(){return S}function U(){return k}const Q={canScrollNext:H,canScrollPrev:ee,containerNode:R,internalEngine:V,destroy:W,off:m,on:h,emit:p,plugins:I,previousScrollSnap:G,reInit:x,rootNode:te,scrollNext:D,scrollPrev:M,scrollProgress:de,scrollSnapList:X,scrollTo:q,selectedScrollSnap:le,slideNodes:U,slidesInView:K,slidesNotInView:Z};return F(t,r),setTimeout(()=>c.emit("init"),0),Q}bv.globalOptions=void 0;function Zb(e={},t=[]){const r=N.useRef(e),a=N.useRef(t),[s,i]=N.useState(),[o,l]=N.useState(),c=N.useCallback(()=>{s&&s.reInit(r.current,a.current)},[s]);return N.useEffect(()=>{fC(r.current,e)||(r.current=e,c())},[e,c]),N.useEffect(()=>{d$e(a.current,t)||(a.current=t,c())},[t,c]),N.useEffect(()=>{if(c$e()&&o){bv.globalOptions=Zb.globalOptions;const d=bv(o,r.current,a.current);return i(d),()=>d.destroy()}else i(void 0)},[o,i]),[l,s]}Zb.globalOptions=void 0;const W$e={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function z$e(e,t){const r=e.scrollSnapList();return typeof t=="number"?r.map(()=>t):t(r,e)}function H$e(e,t){const r=e.rootNode();return t&&t(r)||r}function Qb(e={}){let t,r,a,s,i=null,o=0,l=!1,c=!1,d=!1,u=!1;function f(q,D){r=q;const{mergeOptions:M,optionsAtMedia:H}=D,ee=M(W$e,Qb.globalOptions),X=M(ee,e);if(t=H(X),r.scrollSnapList().length<=1)return;u=t.jump,a=!1,s=z$e(r,t.delay);const{eventStore:de,ownerDocument:le}=r.internalEngine(),G=!!r.internalEngine().options.watchDrag,K=H$e(r,t.rootNode);de.add(le,"visibilitychange",v),G&&r.on("pointerDown",j),G&&!t.stopOnInteraction&&r.on("pointerUp",A),t.stopOnMouseEnter&&de.add(K,"mouseenter",C),t.stopOnMouseEnter&&!t.stopOnInteraction&&de.add(K,"mouseleave",S),t.stopOnFocusIn&&r.on("slideFocusStart",y),t.stopOnFocusIn&&!t.stopOnInteraction&&de.add(r.containerNode(),"focusout",x),t.playOnInit&&x()}function h(){r.off("pointerDown",j).off("pointerUp",A).off("slideFocusStart",y),y(),a=!0,l=!1}function m(){const{ownerWindow:q}=r.internalEngine();q.clearTimeout(o),o=q.setTimeout(O,s[r.selectedScrollSnap()]),i=new Date().getTime(),r.emit("autoplay:timerset")}function p(){const{ownerWindow:q}=r.internalEngine();q.clearTimeout(o),o=0,i=null,r.emit("autoplay:timerstopped")}function x(){if(!a){if(w()){d=!0;return}l||r.emit("autoplay:play"),m(),l=!0}}function y(){a||(l&&r.emit("autoplay:stop"),p(),l=!1)}function v(){if(w())return d=l,y();d&&x()}function w(){const{ownerDocument:q}=r.internalEngine();return q.visibilityState==="hidden"}function j(){c||y()}function A(){c||x()}function C(){c=!0,y()}function S(){c=!1,x()}function k(q){typeof q!="undefined"&&(u=q),x()}function E(){l&&y()}function T(){l&&x()}function F(){return l}function O(){const{index:q}=r.internalEngine(),D=q.clone().add(1).get(),M=r.scrollSnapList().length-1,H=t.stopOnLastSnap&&D===M;if(r.canScrollNext()?r.scrollNext(u):r.scrollTo(0,u),r.emit("autoplay:select"),H)return y();x()}function P(){if(!i)return null;const q=s[r.selectedScrollSnap()],D=new Date().getTime()-i;return q-D}return{name:"autoplay",options:e,init:f,destroy:h,play:k,stop:E,reset:T,isPlaying:F,timeUntilNext:P}}Qb.globalOptions=void 0;function V$e({message:e="Loading..."}){return n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mb-4"}),n.jsx("p",{className:"text-gray-600",children:e})]})}function G$e({error:e,onRetry:t}){return n.jsxs("div",{className:"text-center py-12 bg-red-50 rounded-xl",children:[n.jsx(Ur,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Error Loading Data"}),n.jsx("p",{className:"text-red-600 mb-4",children:e}),t&&n.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}function q$e({hero:e}){const{t}=$t(),r=!!e.video;return n.jsxs("section",{className:"relative w-full min-h-[70vh] md:min-h-[75vh] lg:min-h-[80vh] overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[r?n.jsx("video",{className:"w-full h-full object-cover",src:e.video,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:e.image}):n.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/10"})]}),n.jsx("div",{className:"relative z-10 flex items-center justify-center h-full px-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl md:text-6xl font-semibold tracking-tight text-black drop-shadow-sm",children:e.title}),e.subtitle&&n.jsx("p",{className:"mt-4 text-base md:text-lg text-black/70 max-w-2xl mx-auto",children:e.subtitle}),n.jsx("div",{className:"mt-8 flex items-center justify-center",children:n.jsx("button",{className:"px-6 py-3 rounded-md",style:{backgroundColor:e.primaryButtonBgColor||"#b58955",color:e.primaryButtonTextColor||"#ffffff",fontFamily:e.primaryButtonFontFamily||"inherit"},onClick:()=>{window.location.href="/products"},children:e.primaryButtonText||t("hero.shopNow")})})]})})]})}function K$e({hero:e,extraSlides:t=[],intervalMs:r=5e3}){var y,v,w,j;const{t:a,i18n:s}=$t(),i=s.language==="ar",o=[{id:e._id,image:e.image,video:e.video,title:e.title,subtitle:e.subtitle,cta:e.primaryButtonText,link:"/products"},...t.map(A=>({id:A._id||A.imageUrl,image:A.imageUrl,title:A.title,link:A.linkUrl}))],l=r>0?[Qb({delay:r,stopOnInteraction:!1,stopOnMouseEnter:!0})]:[],c=`hero-${i}-${o.length}`,[d,u]=Zb({loop:o.length>1,align:"start",direction:i?"rtl":"ltr",containScroll:"trimSnaps",slidesToScroll:1,skipSnaps:!1},l),[f,h]=N.useState(0),m=N.useCallback(()=>{u&&h(u.selectedScrollSnap())},[u]);N.useEffect(()=>{u&&(m(),u.on("select",m))},[u,m]),N.useEffect(()=>{u&&(u.reInit(),console.log("OverlayHeroCarousel: Carousel reinitialized for RTL:",i))},[u,i]);const p=()=>u==null?void 0:u.scrollPrev(),x=()=>u==null?void 0:u.scrollNext();return n.jsxs("section",{className:"relative w-full min-h-[70vh] md:min-h-[75vh] lg:min-h-[80vh] overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0",ref:d,children:n.jsx("div",{className:"h-full flex",children:o.map(A=>n.jsxs("div",{className:"relative shrink-0 grow-0 basis-full h-full",children:[A.video?n.jsx("video",{className:"w-full h-full object-cover",src:A.video,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:A.image}):n.jsx(id,{className:"w-full h-full object-cover",src:A.image,alt:A.title||"Slide"}),n.jsx("div",{className:"absolute inset-0 bg-black/10"})]},`${c}-${A.id}`))})},c),n.jsx("div",{className:"relative z-10 flex items-center justify-center h-full px-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl md:text-6xl font-semibold tracking-tight text-black drop-shadow-sm",children:((y=o[f])==null?void 0:y.title)||e.title}),((v=o[f])==null?void 0:v.subtitle)&&n.jsx("p",{className:"mt-4 text-base md:text-lg text-black/70 max-w-2xl mx-auto",children:(w=o[f])==null?void 0:w.subtitle}),n.jsx("div",{className:"mt-8 flex items-center justify-center",children:n.jsx("button",{className:"px-6 py-3 rounded-md",style:{backgroundColor:e.primaryButtonBgColor||"#b58955",color:e.primaryButtonTextColor||"#ffffff",fontFamily:e.primaryButtonFontFamily||"inherit"},onClick:()=>{var C;const A=((C=o[f])==null?void 0:C.link)||"/products";window.location.href=A},children:((j=o[f])==null?void 0:j.cta)||e.primaryButtonText||a("hero.shopNow")})})]})}),o.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{"aria-label":i?"Next slide":"Previous slide",onClick:i?x:p,className:`absolute ${i?"right-4":"left-4"} top-1/2 -translate-y-1/2 z-20 bg-black/40 hover:bg-black/60 text-white p-3 rounded-full transition-all duration-300 hover:scale-110`,children:n.jsx("span",{className:"text-xl font-bold",children:i?"›":"‹"})}),n.jsx("button",{"aria-label":i?"Previous slide":"Next slide",onClick:i?p:x,className:`absolute ${i?"left-4":"right-4"} top-1/2 -translate-y-1/2 z-20 bg-black/40 hover:bg-black/60 text-white p-3 rounded-full transition-all duration-300 hover:scale-110`,children:n.jsx("span",{className:"text-xl font-bold",children:i?"‹":"›"})})]}),n.jsx("div",{className:"absolute bottom-6 inset-x-0 flex items-center justify-center gap-2 z-10",children:o.map((A,C)=>n.jsx("button",{onClick:()=>u==null?void 0:u.scrollTo(C),className:`h-3 w-3 rounded-full transition-all duration-300 ${C===f?"bg-white scale-110":"bg-white/60 hover:bg-white/80"}`,"aria-label":`Go to slide ${C+1}`},C))})]})}function X$e(){return n.jsxs("div",{className:"inline-flex items-center px-6 py-2.5 rounded-full text-sm font-medium bg-white shadow-xl shadow-indigo-100 text-indigo-800 border border-indigo-100/50",children:[n.jsx(Pv,{className:"w-4 h-4 mr-2 text-indigo-600"}),"New Arrivals for Spring 2024"]})}function Y$e(){const{t:e}=$t();return n.jsx("div",{className:"min-h-[70vh] bg-gradient-to-b from-indigo-50 via-white to-white",children:n.jsxs("div",{className:"relative",children:[n.jsx(w8,{}),n.jsx("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 pt-24 lg:pt-32",children:n.jsxs("div",{className:"text-center",children:[n.jsx(X$e,{}),n.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-bold tracking-tight text-gray-900 mt-8",children:e("hero.welcome")}),n.jsx("p",{className:"mt-6 text-lg text-gray-600",children:e("hero.subtitle")})]})})]})})}function J$e({}){var f;const{hero:e,settings:t,loading:r,error:a,refreshData:s}=vr();if(r)return n.jsx(V$e,{message:"Loading hero section..."});if(a)return n.jsx(G$e,{error:a,onRetry:s});if(!e)return n.jsx(Y$e,{});const[i,o]=N.useState([]);N.useEffect(()=>{let h=!0;return(async()=>{try{const m=await mo.getHeroSlider();h&&o(m||[])}catch(m){}})(),()=>{h=!1}},[]);const l=i.filter(h=>h._id!==e._id),d=1+l.length>1,u=(f=t==null?void 0:t.heroAutoplayMs)!=null?f:5e3;return n.jsx("div",{className:"min-h-[70vh] overflow-hidden theme-font",children:n.jsx("div",{className:"relative",children:d?n.jsx(K$e,{hero:e,extraSlides:l.map(h=>({imageUrl:h.image,title:h.title,linkUrl:"/products",_id:h._id})),intervalMs:u}):n.jsx(q$e,{hero:e})})})}var M8={};function Z$e(e){if(typeof window=="undefined")return;const t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}Object.defineProperty(M8,"__esModule",{value:!0});var dn=N;function Q$e(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Ol=Q$e(dn);Z$e(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const e8e=dn.forwardRef(function({style:t={},className:r="",autoFill:a=!1,play:s=!0,pauseOnHover:i=!1,pauseOnClick:o=!1,direction:l="left",speed:c=50,delay:d=0,loop:u=0,gradient:f=!1,gradientColor:h="white",gradientWidth:m=200,onFinish:p,onCycleComplete:x,onMount:y,children:v},w){const[j,A]=dn.useState(0),[C,S]=dn.useState(0),[k,E]=dn.useState(1),[T,F]=dn.useState(!1),O=dn.useRef(null),P=w||O,W=dn.useRef(null),q=dn.useCallback(()=>{if(W.current&&P.current){const le=P.current.getBoundingClientRect(),G=W.current.getBoundingClientRect();let K=le.width,Z=G.width;(l==="up"||l==="down")&&(K=le.height,Z=G.height),E(a&&K&&Z&&Z<K?Math.ceil(K/Z):1),A(K),S(Z)}},[a,P,l]);dn.useEffect(()=>{if(T&&(q(),W.current&&P.current)){const le=new ResizeObserver(()=>q());return le.observe(P.current),le.observe(W.current),()=>{le&&le.disconnect()}}},[q,P,T]),dn.useEffect(()=>{q()},[q,v]),dn.useEffect(()=>{F(!0)},[]),dn.useEffect(()=>{typeof y=="function"&&y()},[]);const D=dn.useMemo(()=>a?C*k/c:C<j?j/c:C/c,[a,j,C,k,c]),M=dn.useMemo(()=>Object.assign(Object.assign({},t),{"--pause-on-hover":!s||i?"paused":"running","--pause-on-click":!s||i&&!o||o?"paused":"running","--width":l==="up"||l==="down"?"100vh":"100%","--transform":l==="up"?"rotate(-90deg)":l==="down"?"rotate(90deg)":"none"}),[t,s,i,o,l]),H=dn.useMemo(()=>({"--gradient-color":h,"--gradient-width":typeof m=="number"?`${m}px`:m}),[h,m]),ee=dn.useMemo(()=>({"--play":s?"running":"paused","--direction":l==="left"?"normal":"reverse","--duration":`${D}s`,"--delay":`${d}s`,"--iteration-count":u?`${u}`:"infinite","--min-width":a?"auto":"100%"}),[s,l,D,d,u,a]),X=dn.useMemo(()=>({"--transform":l==="up"?"rotate(90deg)":l==="down"?"rotate(-90deg)":"none"}),[l]),de=dn.useCallback(le=>[...Array(Number.isFinite(le)&&le>=0?le:0)].map((G,K)=>Ol.default.createElement(dn.Fragment,{key:K},dn.Children.map(v,Z=>Ol.default.createElement("div",{style:X,className:"rfm-child"},Z)))),[X,v]);return T?Ol.default.createElement("div",{ref:P,style:M,className:"rfm-marquee-container "+r},f&&Ol.default.createElement("div",{style:H,className:"rfm-overlay"}),Ol.default.createElement("div",{className:"rfm-marquee",style:ee,onAnimationIteration:x,onAnimationEnd:p},Ol.default.createElement("div",{className:"rfm-initial-child-container",ref:W},dn.Children.map(v,le=>Ol.default.createElement("div",{style:X,className:"rfm-child"},le))),de(k-1)),Ol.default.createElement("div",{className:"rfm-marquee",style:ee},de(k))):null});M8.default=e8e;function t8e(){const[e,t]=N.useState([]),[r,a]=N.useState(0),[s,i]=N.useState(!0),{addToCart:o}=ga(),{addToWishlist:l,isInWishlist:c,removeFromWishlist:d}=Sd(),u=Dd(),{t:f}=$t();N.useEffect(()=>{h()},[]);const h=async()=>{try{const j=(await ue.getWithRetry("/products")).data.filter(A=>A.isFeatured).sort((A,C)=>{var S,k;return((S=A.order)!=null?S:0)-((k=C.order)!=null?k:0)});t(j)}catch(w){z.error(f("featured.errors.fetchFailed","Failed to fetch featured products"))}finally{i(!1)}},m=()=>{a(w=>(w-1+e.length)%e.length)},p=()=>{a(w=>(w+1)%e.length)},x=async(w,j)=>{j.stopPropagation();try{o({id:w._id,name:w.name,price:w.price,image:Wa(as(w).primary)}),z.success(f("cart.added","Added to cart"))}catch(A){z.error(f("cart.addFailed","Failed to add to cart"))}},y=async(w,j)=>{j.stopPropagation();try{c(w._id)?(d(w._id),z.success(f("wishlist.toasts.removed"))):(l({id:w._id,name:w.name,price:w.price,image:Wa(as(w).primary)}),z.success(f("wishlist.toasts.added")))}catch(A){z.error(f("wishlist.toasts.updateFailed"))}};if(s)return n.jsx("div",{className:"min-h-[600px] flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"})});if(e.length===0)return null;const v=e[r];return n.jsxs("section",{className:"py-16 lg:py-24 bg-white relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-50/50 to-transparent"}),n.jsx("div",{className:"absolute top-1/2 left-0 w-96 h-96 bg-purple-100/50 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-indigo-100/50 rounded-full blur-3xl"})]}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:f("featured.title")}),n.jsx("p",{className:"mt-2 text-lg text-gray-600",children:f("featured.subtitle")})]}),n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"relative aspect-[4/5] rounded-2xl overflow-hidden bg-gray-100",children:[n.jsx("div",{className:"absolute inset-0 flex transition-transform duration-500 ease-out",style:{transform:`translateX(-${r*100}%)`},children:e.map((w,j)=>n.jsxs("div",{className:"min-w-full h-full relative",style:{display:j===r?"block":"none"},children:[n.jsx("img",{src:Wa(as(w).primary),alt:w.name,className:"w-full h-full object-cover object-center"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]},w._id))}),n.jsx("button",{onClick:m,className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-colors",children:n.jsx(Zl,{className:"w-6 h-6 text-gray-900"})}),n.jsx("button",{onClick:p,className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center hover:bg-white transition-colors",children:n.jsx(hl,{className:"w-6 h-6 text-gray-900"})}),n.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:e.map((w,j)=>n.jsx("button",{onClick:()=>a(j),className:`w-2 h-2 rounded-full transition-all ${j===r?"w-8 bg-white":"bg-white/50 hover:bg-white/75"}`},j))})]}),n.jsx("div",{className:"flex flex-col justify-center",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Dr,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"font-medium text-gray-900",children:v.rating.toFixed(1)})]}),n.jsxs("span",{className:"text-sm text-gray-500",children:["(",v.reviews.length," ",f("common.reviews"),")"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:v.name}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("p",{className:"text-2xl font-semibold text-indigo-600",children:lt(v.price,u)}),v.originalPrice&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xl text-gray-500 line-through",children:lt(v.originalPrice,u)}),n.jsx("span",{className:"px-2 py-1 text-sm font-medium bg-rose-100 text-rose-700 rounded-full",children:f("product.badges.savePercent",{percent:Math.round((v.originalPrice-v.price)/v.originalPrice*100)})})]})]})]}),n.jsx("p",{className:"text-gray-600",children:v.description||f("featured.descriptionFallback")}),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsxs("button",{onClick:w=>x(v,w),className:"flex-1 bg-indigo-600 text-white h-14 rounded-full font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 group",children:[n.jsx(Xs,{className:"w-5 h-5 transition-transform group-hover:-translate-y-0.5"}),f("common.addToCart","Add to Cart")]}),n.jsx("button",{onClick:w=>y(v,w),className:"w-14 h-14 flex items-center justify-center rounded-full border border-gray-200 hover:border-gray-300 transition-colors",children:n.jsx(Si,{className:`w-6 h-6 ${c(v._id)?"fill-rose-600 text-rose-600":"text-gray-600"}`})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-8",children:[n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:f("featured.features.freeShipping.title")}),n.jsx("p",{className:"text-sm text-gray-600",children:f("featured.features.freeShipping.subtitle",{amount:lt(100,u)})})]}),n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:f("featured.features.easyReturns.title")}),n.jsx("p",{className:"text-sm text-gray-600",children:f("featured.features.easyReturns.subtitle")})]})]})]})})]})]})]})}const pj=({name:e,image:t,onClick:r,variant:a="circle"})=>a==="lux"?n.jsxs("button",{onClick:r,className:"w-full group text-center",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white",children:[n.jsx("div",{className:"aspect-[5/4]",children:n.jsx("img",{src:t,alt:e,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"})}),n.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-black/0 via-black/0 to-black/5"})]}),n.jsx("div",{className:"mt-2",children:n.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-900 tracking-tight text-center",children:e})})]}):n.jsxs("button",{onClick:r,className:"w-full text-center group",children:[n.jsx("div",{className:"aspect-square relative",children:n.jsxs("div",{className:"absolute inset-0 rounded-full overflow-hidden border-2 border-white",children:[n.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover transform transition-transform duration-300 group-hover:scale-110",loading:"lazy"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/0 to-black/40 group-hover:to-black/50 transition-colors"})]})}),n.jsxs("div",{className:"relative mt-4",children:[n.jsx("h3",{className:"text-gray-900 font-bold text-lg transition-colors group-hover:text-indigo-600",children:e}),n.jsx("p",{className:"text-sm text-gray-500 mt-1 group-hover:text-indigo-500 transition-colors",children:"Shop Now"})]})]});function r8e({variant:e="circle",showHeader:t=!0}){const[r,a]=N.useState([]),[s,i]=N.useState(0),[o,l]=N.useState(!0),c=Ea(),d=Math.min(e==="lux"?3:5,r.length);N.useEffect(()=>{u()},[]);const u=async()=>{try{const v=(await ue.getWithRetry("/categories")).data.filter(w=>w.isActive).sort((w,j)=>w.order-j.order);a(v)}catch(y){z.error("Failed to fetch categories")}finally{l(!1)}},f=()=>{i(y=>y+1>=r.length?0:y+1)},h=()=>{i(y=>y-1<0?r.length-1:y-1)},m=()=>{const y=[];let v=0,w=s;for(;v<d&&v<r.length;)y.push(r[w]),v++,w=(w+1)%r.length;return y},p=y=>{c(`/products?category=${y._id}`)};if(N.useEffect(()=>{if(r.length<=d)return;const y=setInterval(f,5e3);return()=>clearInterval(y)},[s,r.length,d]),o)return n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-600"})});if(r.length===0)return null;const x=r.length>d;return n.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t&&x&&e!=="lux"&&n.jsx("div",{className:"mb-8 text-center",children:n.jsxs("div",{className:"flex justify-center gap-2",children:[n.jsx("button",{onClick:h,className:"p-2 rounded-full border border-gray-200 hover:border-gray-300 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"Previous category",children:n.jsx(Tv,{className:"w-5 h-5"})}),n.jsx("button",{onClick:f,className:"p-2 rounded-full border border-gray-200 hover:border-gray-300 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"Next category",children:n.jsx(_f,{className:"w-5 h-5"})})]})}),n.jsxs("div",{className:"relative",children:[e==="lux"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"md:hidden -mx-4 px-4 overflow-x-auto scroll-smooth",children:n.jsx("div",{className:"flex gap-4 snap-x snap-mandatory",children:r.map(y=>n.jsx("div",{className:"snap-start shrink-0 w-[82%] sm:w-[70%]",children:n.jsx(pj,{name:y.name,image:y.image,variant:"lux",onClick:()=>p(y)})},y._id))})}),n.jsx("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8",children:m().map(y=>n.jsx(pj,{name:y.name,image:y.image,variant:"lux",onClick:()=>p(y)},y._id))})]}):n.jsx("div",{className:"grid grid-cols-5 gap-6 sm:gap-8",children:m().map(y=>n.jsx(pj,{name:y.name,image:y.image,variant:e,onClick:()=>p(y)},y._id))}),x&&e!=="lux"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-32 bg-gradient-to-r from-white via-white/80 to-transparent pointer-events-none"}),n.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-32 bg-gradient-to-l from-white via-white/80 to-transparent pointer-events-none"})]})]}),x&&e!=="lux"&&n.jsx("div",{className:"flex justify-center gap-2 mt-8",children:r.map((y,v)=>n.jsx("button",{onClick:()=>i(v),className:`w-2 h-2 rounded-full transition-all duration-300 ${v===s?"w-6 bg-indigo-600":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Go to category ${v+1}`},v))})]})})}const fP="/placeholder-image.jpg",n8e=({className:e="",height:t=80,speedSeconds:r=60,cardSize:a="lg"})=>{const[s,i]=N.useState([]),[o,l]=N.useState(!0),c=ne.useRef(null);N.useEffect(()=>{(async()=>{try{l(!0),console.log("🔥 [SimpleBrandDisplay] Fetching brands...");const y=(await ue.get($r.BRANDS.ACTIVE)).data||[],v=Array.isArray(y)?y:[];console.log("🔥 [SimpleBrandDisplay] Got brands:",v.length,v),console.log("🔥 [SimpleBrandDisplay] Will create seamless scroll with",v.length*2,"total instances"),i(v)}catch(x){console.error("❌ [SimpleBrandDisplay] Error:",x),i([])}finally{l(!1)}})()},[]),N.useEffect(()=>{var j;if(!c.current||s.length===0)return;let p,x;const y=r*1e3,v=A=>{x||(x=A);const S=(A-x)/y%1;if(c.current){const k=c.current.scrollWidth/3;c.current.style.transform=`translateX(-${S*k}px)`}p=requestAnimationFrame(v)};return((j=window.matchMedia)==null?void 0:j.call(window,"(prefers-reduced-motion: reduce)").matches)&&(p=requestAnimationFrame(v)),()=>{p&&cancelAnimationFrame(p)}},[s]);const d=KP(),u=p=>p?/^https?:\/\//i.test(p)?p:p.startsWith("/uploads")?`${d}${p}`:p:fP;if(o)return n.jsx("div",{className:`w-full flex items-center justify-center text-sm text-gray-500 ${e}`,style:{height:t},children:"Loading brands..."});if(s.length===0)return n.jsx("div",{className:`w-full flex items-center justify-center text-sm text-gray-400 ${e}`,style:{height:t},children:"No brands available"});const f=[...s,...s,...s,...s,...s],h={sm:{wrapper:"w-16 h-16 p-2",img:"h-10"},md:{wrapper:"w-20 h-20 p-3",img:"h-12"},lg:{wrapper:"w-24 h-24 p-4",img:"h-16"},xl:{wrapper:"w-32 h-32 p-5",img:"h-20"},xxl:{wrapper:"w-40 h-40 p-6",img:"h-24"}},m=h[a]||h.lg;return n.jsxs("div",{className:`simple-brand-display relative w-full overflow-hidden ${e}`,style:{height:t},children:[n.jsx("div",{ref:c,className:"infinite-brand-scroll",style:{"--brand-marquee-duration":`${r}s`},children:f.map((p,x)=>n.jsx("div",{className:`brand-item flex-shrink-0 bg-white rounded-lg shadow-sm border border-gray-100 flex items-center justify-center mx-3 ${m.wrapper}`,children:p.imageUrl&&p.imageUrl!==fP?n.jsx("img",{src:u(p.imageUrl),alt:p.name||"Brand",className:`${m.img} w-auto object-contain max-w-full filter grayscale hover:grayscale-0 transition-all duration-300`,onError:y=>{y.target.style.display="none";const v=y.target.parentElement;v&&(v.innerHTML=`<span class="text-xs text-center font-medium">${p.name||"Brand"}</span>`)}}):n.jsx("span",{className:"text-xs text-center font-medium px-1",children:p.name||"Brand"})},`${p._id}-${x}`))}),n.jsx("div",{className:"absolute inset-y-0 left-0 w-8 bg-gradient-to-r from-white to-transparent pointer-events-none"}),n.jsx("div",{className:"absolute inset-y-0 right-0 w-8 bg-gradient-to-l from-white to-transparent pointer-events-none"})]})},a8e=({title:e="Our Brands",subtitle:t="Trusted by leading brands worldwide",className:r=""})=>n.jsxs("section",{className:`py-8 md:py-12 ${r}`,"aria-label":e,children:[n.jsx("div",{className:"mx-auto w-full max-w-7xl px-4",children:(e||t)&&n.jsxs("div",{className:"mb-6 md:mb-8 text-center",children:[e&&n.jsx("h2",{className:"text-xl md:text-2xl font-semibold tracking-wide",children:e}),t&&n.jsx("p",{className:"mt-2 text-sm md:text-base text-gray-500 dark:text-gray-400",children:t})]})}),n.jsx(n8e,{height:80,className:"px-4"})]});function s8e({title:e="",subtitle:t="",backgroundColor:r="#FFFFFF",maxItems:a=8,fullBackground:s=!0,paddingScale:i="md",collapseTopPadding:o=!1,tabContainerBg:l="linear-gradient(to right, #e5e7eb, #d1d5db)",tabActiveBg:c="#ffffff",tabActiveText:d="#111827",tabInactiveText:u="#374151",tabHoverText:f="#111827",seeMoreEnabled:h=!0,seeMoreText:m="",seeMoreHref:p="/new-arrivals",seeMoreBg:x="linear-gradient(90deg, #F6D365 0%, #C27D3B 100%)",seeMoreTextColor:y="#ffffff",seeMoreFontClass:v="font-medium",headerImage:w="",overlayPosition:j="bottom",headerImageHeightMode:A="fixed",overlapPrevious:C=!1,overlapAmount:S=40,overlapShadow:k=!1,headerImageFit:E="cover",headerImageUncapped:T=!1}){const{t:F}=$t(),[O,P]=N.useState("new"),[W,q]=N.useState(!0),[D,M]=N.useState([]),[H,ee]=N.useState([]);N.useEffect(()=>{let Q=!0;return(async()=>{q(!0);try{const[J,L]=await Promise.all([ue.getWithRetry("/products",{params:{isNew:"true"}}),ue.getWithRetry("/products",{params:{isFeatured:"true"}})]);if(!Q)return;M(Array.isArray(J.data)?J.data:[]),ee(Array.isArray(L.data)?L.data:[])}catch(J){z.error(F("products.loadError"))}finally{Q&&q(!1)}})(),()=>{Q=!1}},[F]);const X=N.useMemo(()=>(O==="new"?D:H).slice(0,a),[O,D,H,a]),de=N.useMemo(()=>!h||O!=="new"?!1:D.length>a,[h,O,D.length,a]),le=Q=>{var he;const{primary:J,hover:L}=as(Q);return{id:Q._id,name:Q.name,price:Q.price,image:J,hoverImage:L,originalPrice:Q.originalPrice,discount:Q.discount?`-${Q.discount}%`:void 0,isNew:Q.isNew,rating:Number(Q.rating||0),reviews:((he=Q.reviews)==null?void 0:he.length)||0}},G={none:"py-0",xs:"py-4 sm:py-5",sm:"py-6 sm:py-8",md:"py-12 sm:py-16",lg:"py-16 sm:py-20"},K=G[i]||G.md,I=o||w&&s?K.replace(/py-(\d+)/g,"pb-$1").replace(/sm:py-(\d+)/g,"sm:pb-$1")+" pt-0 sm:pt-0":K,V=!w&&(e||t),te=w&&!s,R=T&&C&&S<100?Math.min(120,S+60):S,U=C&&w?{marginTop:`-${R}px`,position:"relative",zIndex:10}:{};return n.jsxs("section",{className:I+" relative tabbed-products-section",style:s?{backgroundColor:r,...U}:U,children:[n.jsx("style",{children:`
          /* Ensure product names are visible without hover (override very light global text colors) */
          section.tabbed-products-section .grid h3.theme-text { color: #111827 !important; }
          @media (prefers-color-scheme: dark) {
            section.tabbed-products-section .grid h3.theme-text { color: #e5e7eb !important; }
          }
        `}),w&&n.jsxs("div",{className:`relative w-full ${C?"mb-6 sm:mb-8":"mb-10 sm:mb-12"} ${C&&k?"shadow-2xl shadow-black/20 rounded-b-xl":""}`,children:[n.jsx("img",{src:w,alt:e||"Section header",className:`w-full ${E==="cover"?"object-cover":"object-contain"} ${T?"h-auto":A==="fixed"?s?E==="cover"?"h-52 sm:h-64 md:h-72":"h-60 sm:h-72 md:h-80":E==="cover"?"h-44 sm:h-52 md:h-60 rounded-b-xl":"h-56 sm:h-64 md:h-72 rounded-b-xl":E==="cover"?"max-h-[500px] md:max-h-[600px]":"max-h-[600px] md:max-h-[720px]"} ${A==="auto"&&!T?"rounded-b-xl":""} ${E==="contain"?"bg-white/5":""}`,style:E==="contain"?{objectPosition:"center",padding:"0.5rem"}:void 0,loading:"lazy"}),n.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-black/10 via-black/5 to-black/40"}),n.jsx("div",{className:`absolute w-full px-4 flex justify-center ${j==="top"?"top-3 sm:top-4 left-1/2 -translate-x-1/2":"bottom-3 sm:bottom-4 left-1/2 -translate-x-1/2"}`,children:n.jsxs("div",{className:"inline-flex rounded-full p-1 backdrop-blur-sm/10",style:{background:l,"--tab-active-bg":c,"--tab-active-text":d,"--tab-inactive-text":u,"--tab-hover-text":f},children:[n.jsx("button",{className:`px-4 sm:px-6 py-2 rounded-full text-sm font-medium transition-colors ${O==="new"?"bg-[var(--tab-active-bg)] shadow text-[var(--tab-active-text)]":"text-[var(--tab-inactive-text)] hover:text-[var(--tab-hover-text)]"}`,onClick:()=>P("new"),children:F("products.tabs.new")}),n.jsx("button",{className:`px-4 sm:px-6 py-2 rounded-full text-sm font-medium transition-colors ${O==="best"?"bg-[var(--tab-active-bg)] shadow text-[var(--tab-active-text)]":"text-[var(--tab-inactive-text)] hover:text-[var(--tab-hover-text)]"}`,onClick:()=>P("best"),children:F("products.tabs.best")})]})})]}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"w-full",style:s?void 0:{backgroundColor:r,borderRadius:16,padding:"2rem 1rem"},children:[!w&&(V||te)&&n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-8 sm:justify-between",children:[n.jsxs("div",{className:"flex-1 w-full",children:[te&&n.jsx("img",{src:w,alt:e||"Section header",className:"w-full h-40 sm:h-52 object-cover rounded-xl shadow-sm",loading:"lazy"}),V&&n.jsxs("div",{children:[e&&n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:e}),t&&n.jsx("p",{className:"text-gray-600 mt-1",children:t})]})]}),n.jsxs("div",{className:"inline-flex rounded-full p-1",style:{background:l,"--tab-active-bg":c,"--tab-active-text":d,"--tab-inactive-text":u,"--tab-hover-text":f},children:[n.jsx("button",{className:`px-4 sm:px-6 py-2 rounded-full text-sm font-medium transition-colors ${O==="new"?"bg-[var(--tab-active-bg)] shadow text-[var(--tab-active-text)]":"text-[var(--tab-inactive-text)] hover:text-[var(--tab-hover-text)]"}`,onClick:()=>P("new"),children:F("products.tabs.new")}),n.jsx("button",{className:`px-4 sm:px-6 py-2 rounded-full text-sm font-medium transition-colors ${O==="best"?"bg-[var(--tab-active-bg)] shadow text-[var(--tab-active-text)]":"text-[var(--tab-inactive-text)] hover:text-[var(--tab-hover-text)]"}`,onClick:()=>P("best"),children:F("products.tabs.best")})]})]}),W?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:Array.from({length:8}).map((Q,J)=>n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"aspect-[3/4] bg-gray-100 rounded-xl"}),n.jsx("div",{className:"mt-3 h-4 bg-gray-100 rounded w-3/4"}),n.jsx("div",{className:"mt-2 h-4 bg-gray-100 rounded w-1/2"})]},J))}):X.length===0?n.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-xl text-gray-600",children:F("products.empty")}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6 lg:gap-8",children:X.map(Q=>n.jsx(Yl,{product:le(Q)},Q._id))}),de&&n.jsx("div",{className:"mt-8 flex justify-center",children:n.jsx(Vn,{to:p,className:`px-6 py-3 rounded-xl shadow-sm hover:opacity-95 transition-opacity ${v}`,style:{background:x,color:y},children:m||F("products.seeMore")})})]})]})})]})}function i8e({title:e,subtitle:t,backgroundColor:r="#FFFFFF",maxItems:a=8}){const{t:s}=$t(),[i,o]=N.useState(!0),[l,c]=N.useState([]),d=e||s("saleProducts.title","Sale Products"),u=t||s("saleProducts.subtitle","Discover amazing deals and discounts");N.useEffect(()=>{let m=!0;return(async()=>{o(!0);try{const x=await ue.getWithRetry("/products",{params:{onSale:"true"}});if(!m)return;const w=(Array.isArray(x==null?void 0:x.data)?x.data:[]).filter(j=>Number(j==null?void 0:j.originalPrice)>Number(j==null?void 0:j.price)).sort((j,A)=>{const C=j.originalPrice&&j.price?(j.originalPrice-j.price)/j.originalPrice:0,S=A.originalPrice&&A.price?(A.originalPrice-A.price)/A.originalPrice:0;return S!==C?S-C:new Date(A.createdAt||0).getTime()-new Date(j.createdAt||0).getTime()});c(w)}catch(x){z.error(s("saleProducts.loadError","Failed to load sale products")),c([])}finally{m&&o(!1)}})(),()=>{m=!1}},[]);const f=N.useMemo(()=>l.slice(0,a),[l,a]),h=m=>{var v;const{primary:p,hover:x}=as(m),y=m.originalPrice&&m.price?Math.round((m.originalPrice-m.price)/m.originalPrice*100):void 0;return{id:m._id,name:m.name,price:m.price,image:p,hoverImage:x,originalPrice:m.originalPrice,discount:y?`-${y}%`:void 0,isNew:m.isNew,rating:Number(m.rating||0),reviews:((v=m.reviews)==null?void 0:v.length)||0}};return i?n.jsx("section",{className:"py-12 sm:py-16",style:{backgroundColor:r},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d&&n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"h-7 w-48 bg-gray-100 animate-pulse rounded"})}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:Array.from({length:8}).map((m,p)=>n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"aspect-[3/4] bg-gray-100 rounded-xl"}),n.jsx("div",{className:"mt-3 h-4 bg-gray-100 rounded w-3/4"}),n.jsx("div",{className:"mt-2 h-4 bg-gray-100 rounded w-1/2"})]},p))})]})}):f.length?n.jsx("section",{className:"py-12 sm:py-16",style:{backgroundColor:r},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d&&n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:d}),u?n.jsx("p",{className:"text-gray-600 mt-1",children:u}):null]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6 lg:gap-8",children:f.map(m=>n.jsx(Yl,{product:h(m)},m._id))})]})}):null}const Rn=e=>({paddingTop:e?0:"var(--section-padding-y, 2.5rem)",paddingBottom:"var(--section-padding-y, 2.5rem)",marginTop:e?void 0:"calc(var(--section-overlay-enabled, 0) * -1 * var(--section-overlap, 0px))"}),o8e=({settings:e,isFirst:t})=>{const[r,a]=N.useState([]),[s,i]=N.useState(!0),[o,l]=N.useState(0),{i18n:c}=$t(),d=e.layout||"carousel",u=e.autoplay!==!1,f=e.pauseOnHover!==!1,h=(typeof e.interval=="number"?e.interval:e.intervalMs)||5e3,m=e.showControls!==!1,p=e.showDots!==!1&&e.showIndicators!==!1,x=c.language==="ar",y=`${x}-${r.length}`,[v,w]=Zb({loop:r.length>1,duration:20,direction:x?"rtl":"ltr",align:"start",containScroll:"trimSnaps",slidesToScroll:1,skipSnaps:!1},u?[Qb({delay:h,stopOnMouseEnter:f,stopOnInteraction:!1,stopOnFocusIn:!1})]:[]);if(N.useEffect(()=>{let C=!0;return i(!0),ue.getWithRetry($r.BANNERS.ACTIVE,{params:{_ts:Date.now()}}).then(S=>{let k=S.data;Array.isArray(k)||(k=[]),console.log("DynamicBannersSection: Fetched",k.length,"banners",k),console.log("DynamicBannersSection: RTL mode:",x,"Language:",c.language),console.log("DynamicBannersSection: Image URLs:",k.map(E=>E.imageUrl)),C&&a(k)}).catch(S=>{console.error("DynamicBannersSection: Failed to fetch banners:",S),C&&a([])}).finally(()=>{C&&i(!1)}),()=>{C=!1}},[]),N.useEffect(()=>{if(!w)return;const C=()=>l(w.selectedScrollSnap());return C(),w.on("select",C),()=>{try{w.off("select",C)}catch(S){}}},[w,r.length]),N.useEffect(()=>{w&&(w.reInit(),console.log("DynamicBannersSection: Carousel reinitialized for RTL:",x))},[w,x]),s)return n.jsx("div",{className:"flex items-center justify-center min-h-[120px]",children:n.jsx("span",{className:"animate-spin h-8 w-8 border-4 border-indigo-500 rounded-full border-t-transparent"})});if(!r.length)return null;if(d==="grid")return n.jsx("section",{className:`${t?"pt-0 pb-8":"py-8"}`,style:{backgroundColor:e.backgroundColor||"#F9FAFB",marginTop:t?void 0:"calc(var(--section-overlay-enabled, 0) * -1 * var(--section-overlap, 0px))"},dir:x?"rtl":"ltr",children:n.jsx("div",{className:"mx-auto w-full px-4 sm:px-6 lg:px-0 lg:max-w-none",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.map((C,S)=>n.jsx("a",{href:C.linkUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden shadow hover:shadow-lg transition",children:n.jsx(id,{src:C.imageUrl,alt:C.title||`Banner ${S+1}`,className:"w-full h-auto object-cover",loading:"lazy"})},C._id||`banner-${S}`))})})});if(d==="single"){const C=r[0];return n.jsx("section",{className:`${t?"pt-0 pb-8":"py-8"}`,style:{backgroundColor:e.backgroundColor||"#F9FAFB",marginTop:t?void 0:"calc(var(--section-overlay-enabled, 0) * -1 * var(--section-overlap, 0px))"},dir:x?"rtl":"ltr",children:n.jsx("div",{className:"mx-auto w-full px-4 sm:px-6 lg:px-0 lg:max-w-none",children:n.jsx("a",{href:C.linkUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"block overflow-hidden transition",children:n.jsx(id,{src:C.imageUrl,alt:C.title||"Banner",className:"w-full h-auto object-cover",loading:"lazy"})})})})}const j=()=>w==null?void 0:w.scrollPrev(),A=()=>w==null?void 0:w.scrollNext();return n.jsx("section",{className:`${t?"pt-0 pb-8":"py-8"}`,style:{backgroundColor:e.backgroundColor||"#F9FAFB",marginTop:t?void 0:"calc(var(--section-overlay-enabled, 0) * -1 * var(--section-overlap, 0px))"},children:n.jsx("div",{className:"mx-auto w-full px-4 sm:px-6 lg:px-0 lg:max-w-none",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"overflow-hidden",ref:v,children:n.jsx("div",{className:"flex",children:r.map((C,S)=>n.jsx("div",{className:"flex-[0_0_100%] min-w-0",children:n.jsx("a",{href:C.linkUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"block overflow-hidden",children:n.jsx(id,{src:C.imageUrl,alt:C.title||`Banner ${S+1}`,className:"w-full h-auto object-cover",loading:"lazy"})})},`${y}-${C._id||S}`))})}),r.length>1&&m&&n.jsxs(n.Fragment,{children:[n.jsx("button",{"aria-label":x?"Next banner":"Previous banner",onClick:x?A:j,className:`hidden sm:flex absolute ${x?"right-3":"left-3"} top-1/2 -translate-y-1/2 bg-black/40 hover:bg-black/60 text-white p-2 rounded-full`,children:x?"›":"‹"}),n.jsx("button",{"aria-label":x?"Previous banner":"Next banner",onClick:x?j:A,className:`hidden sm:flex absolute ${x?"left-3":"right-3"} top-1/2 -translate-y-1/2 bg-black/40 hover:bg-black/60 text-white p-2 rounded-full`,children:x?"‹":"›"}),p&&n.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2",children:r.map((C,S)=>n.jsx("button",{"aria-label":`Go to slide ${S+1}`,onClick:()=>w==null?void 0:w.scrollTo(S),className:`h-2 w-2 rounded-full transition-colors ${S===o?"bg-white":"bg-white/50"}`},S))})]})]},y)})})},l8e=({settings:e,isFirst:t})=>n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#FFFFFF",...Rn(t)},children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"text-center",children:[e.title&&n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title}),e.subtitle&&n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:e.subtitle}),e.content&&n.jsx(o$e,{html:e.content,className:"prose max-w-none mx-auto"})]})})}),c8e=({settings:e,isFirst:t})=>{const r=`
    ${e.width==="3/4"?"w-3/4":e.width==="1/2"?"w-1/2":e.width==="1/3"?"w-1/3":e.width==="auto"?"w-auto":"w-full"}
    ${e.objectFit==="contain"?"object-contain":e.objectFit==="fill"?"object-fill":e.objectFit==="scale-down"?"object-scale-down":e.objectFit==="none"?"object-none":"object-cover"}
    ${e.aspectRatio==="16/9"?"aspect-video":e.aspectRatio==="4/3"?"aspect-[4/3]":e.aspectRatio==="1/1"?"aspect-square":e.aspectRatio==="3/2"?"aspect-[3/2]":e.aspectRatio==="21/9"?"aspect-[21/9]":"h-auto"}
    rounded-lg shadow-lg
  `,a=n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:e.imageUrl,alt:e.altText||"Image",className:r,loading:e.lazy?"lazy":"eager"}),e.caption&&n.jsx("p",{className:"text-sm text-gray-500 mt-4 italic",children:e.caption})]});return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#FFFFFF",...Rn(t)},children:n.jsx("div",{className:"mx-auto w-full px-4 sm:px-6 lg:px-0 lg:max-w-none",children:n.jsxs("div",{className:"text-center",children:[e.title&&n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:e.title}),e.imageUrl&&(e.clickable&&e.linkUrl?n.jsx("a",{href:e.linkUrl,className:"inline-block",children:a}):a)]})})})},d8e=({settings:e,isFirst:t})=>{const r=o=>{var l;return o.includes("youtube.com/watch")||o.includes("youtu.be/")?`https://www.youtube.com/embed/${o.includes("youtu.be/")?o.split("youtu.be/")[1].split("?")[0]:(l=o.split("v=")[1])==null?void 0:l.split("&")[0]}`:o.includes("vimeo.com/")?`https://player.vimeo.com/video/${o.split("vimeo.com/")[1].split("?")[0]}`:o},a=e.videoUrl&&(e.videoUrl.includes("youtube.com")||e.videoUrl.includes("youtu.be")||e.videoUrl.includes("vimeo.com")),i={"16:9":"aspect-video","4:3":"aspect-[4/3]","1:1":"aspect-square","21:9":"aspect-[21/9]"}[e.aspectRatio||"16:9"]||"aspect-video";return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#FFFFFF",...Rn(t)},children:n.jsx("div",{className:"mx-auto w-full px-4 sm:px-6 lg:px-0 lg:max-w-none",children:n.jsxs("div",{className:"text-center",children:[e.title&&n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:e.title}),e.videoUrl&&n.jsx("div",{className:`relative ${i} max-w-4xl mx-auto`,children:a?n.jsx("iframe",{src:r(e.videoUrl),className:"absolute inset-0 w-full h-full rounded-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Video"}):n.jsx("video",{src:e.videoUrl,className:"absolute inset-0 w-full h-full rounded-lg object-cover",controls:e.controls!==!1,autoPlay:e.autoplay||!1,muted:e.muted||!1,loop:e.loop||!1,poster:e.posterUrl,preload:"metadata",children:"Your browser does not support the video tag."})}),e.description&&n.jsx("p",{className:"text-gray-600 mt-6 max-w-2xl mx-auto",children:e.description})]})})})},u8e=({settings:e,isFirst:t})=>n.jsx("section",{className:`${t?"pt-0 pb-4":"py-4"}`,style:{backgroundColor:e.backgroundColor||"#EF4444",color:e.textColor||"#FFFFFF",marginTop:t?void 0:"calc(var(--section-overlay-enabled, 0) * -1 * var(--section-overlap, 0px))"},children:n.jsx("div",{className:"px-4 sm:px-6 lg:px-0 w-full",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"font-medium",children:e.text||"🎉 Special Offer! Free shipping on orders over $50"})})})}),f8e=({settings:e,isFirst:t})=>{const r=new Date(e.targetDate||Date.now()+6048e5),a=new Date,s=r.getTime()-a.getTime(),i=Math.floor(s/(1e3*60*60*24)),o=Math.floor(s%(1e3*60*60*24)/(1e3*60*60)),l=Math.floor(s%(1e3*60*60)/(1e3*60)),c=Math.floor(s%(1e3*60)/1e3);return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#1F2937",...Rn(t)},children:n.jsx("div",{className:"mx-auto w-full px-4 sm:px-6 lg:px-0 lg:max-w-none",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:e.title||"Limited Time Offer!"}),n.jsx("p",{className:"text-lg text-gray-300 mb-8",children:e.subtitle||"Hurry up! Sale ends in:"}),n.jsx("div",{className:"flex justify-center space-x-4",children:[{label:"Days",value:i},{label:"Hours",value:o},{label:"Minutes",value:l},{label:"Seconds",value:c}].map(d=>n.jsxs("div",{className:"bg-white rounded-lg p-4 min-w-[80px]",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:d.value.toString().padStart(2,"0")}),n.jsx("div",{className:"text-sm text-gray-500",children:d.label})]},d.label))})]})})})},h8e=({settings:e,isFirst:t})=>n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#F3F4F6",...Rn(t)},children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title||"Stay in the Loop"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:e.subtitle||"Subscribe to our newsletter for the latest updates and exclusive offers"}),n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsxs("div",{className:"flex",children:[n.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),n.jsx("button",{className:"px-6 py-3 bg-indigo-600 text-white rounded-r-lg hover:bg-indigo-700 transition-colors",children:"Subscribe"})]}),e.showBenefits&&n.jsx("div",{className:"mt-4 text-sm text-gray-500",children:n.jsx("p",{children:"✓ Exclusive deals  ✓ New product alerts  ✓ Style tips"})})]})]})})}),m8e=({settings:e,isFirst:t})=>{const r=[{text:"Amazing quality and fast delivery! Highly recommend this store.",author:"Sarah Johnson",rating:5},{text:"Great customer service and beautiful products. Will shop again!",author:"Mike Chen",rating:5},{text:"Love the variety and competitive prices. My go-to store now.",author:"Emma Davis",rating:5}];return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#FFFFFF",...Rn(t)},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title||"What Our Customers Say"}),n.jsx("p",{className:"text-lg text-gray-600",children:e.subtitle||"Real reviews from real customers"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((a,s)=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.showRatings&&n.jsx("div",{className:"flex mb-4",children:[...Array(a.rating)].map((i,o)=>n.jsx("span",{className:"text-yellow-400",children:"★"},o))}),n.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',a.text,'"']}),n.jsxs("p",{className:"font-medium text-gray-900",children:["- ",a.author]})]},s))})]})})},p8e=({settings:e,isFirst:t})=>{const r=e.images||[{url:"/placeholder-image.jpg",alt:"Gallery Image 1"},{url:"/placeholder-image.jpg",alt:"Gallery Image 2"},{url:"/placeholder-image.jpg",alt:"Gallery Image 3"},{url:"/placeholder-image.jpg",alt:"Gallery Image 4"}];return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#FFFFFF",...Rn(t)},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.title&&n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title}),e.subtitle&&n.jsx("p",{className:"text-lg text-gray-600",children:e.subtitle})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.map((a,s)=>n.jsxs("div",{className:"relative group cursor-pointer",children:[n.jsx("img",{src:a.url,alt:a.alt,className:"w-full h-48 object-cover rounded-lg transition-transform group-hover:scale-105"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-opacity rounded-lg flex items-center justify-center",children:n.jsx(I2,{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity",size:24})})]},s))})]})})},g8e=({settings:e,isFirst:t})=>{const r=[{title:"10 Tips for Better Shopping",excerpt:"Discover the best ways to find great deals and quality products.",date:"2025-07-15",image:"/placeholder-image.jpg"},{title:"Summer Collection Launch",excerpt:"Check out our latest summer arrivals and trending styles.",date:"2025-07-10",image:"/placeholder-image.jpg"},{title:"Customer Success Stories",excerpt:"Read about how our products made a difference for customers.",date:"2025-07-05",image:"/placeholder-image.jpg"}];return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#F9FAFB",...Rn(t)},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title||"Latest Blog Posts"}),n.jsx("p",{className:"text-lg text-gray-600",children:e.subtitle||"Stay updated with our latest news and insights"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((a,s)=>n.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[n.jsx("img",{src:a.image,alt:a.title,className:"w-full h-48 object-cover"}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"text-sm text-gray-500 mb-2",children:a.date}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:a.excerpt}),n.jsx("button",{className:"text-indigo-600 font-medium hover:text-indigo-700",children:"Read More →"})]})]},s))})]})})},x8e=({settings:e,isFirst:t})=>{const r=[{name:"Sarah Johnson",role:"CEO & Founder",image:"/placeholder-image.jpg",bio:"Leading the company with 10+ years of experience"},{name:"Mike Chen",role:"CTO",image:"/placeholder-image.jpg",bio:"Technical visionary driving innovation"},{name:"Emma Davis",role:"Head of Design",image:"/placeholder-image.jpg",bio:"Creating beautiful user experiences"}];return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#FFFFFF",...Rn(t)},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title||"Meet Our Team"}),n.jsx("p",{className:"text-lg text-gray-600",children:e.subtitle||"The talented people behind our success"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((a,s)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"relative mb-4",children:n.jsx("img",{src:a.image,alt:a.name,className:"w-32 h-32 rounded-full mx-auto object-cover"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:a.name}),n.jsx("p",{className:"text-indigo-600 font-medium mb-2",children:a.role}),n.jsx("p",{className:"text-gray-600",children:a.bio})]},s))})]})})},y8e=({settings:e,isFirst:t})=>{const r=[{value:"10K+",label:"Happy Customers",icon:ec},{value:"500+",label:"Products Sold",icon:Dr},{value:"99%",label:"Satisfaction Rate",icon:jn},{value:"24/7",label:"Customer Support",icon:wn}];return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#1F2937",...Rn(t)},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.title&&n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:e.title}),e.subtitle&&n.jsx("p",{className:"text-lg text-gray-300",children:e.subtitle})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:r.map((a,s)=>{const i=a.icon;return n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx(i,{className:"text-indigo-400",size:32})}),n.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:a.value}),n.jsx("div",{className:"text-gray-300",children:a.label})]},s)})})]})})},v8e=({settings:e,isFirst:t})=>{const r=[{name:"Basic",price:"$29",period:"/month",features:["5 Products","Basic Support","1 Store"],popular:!1},{name:"Pro",price:"$79",period:"/month",features:["50 Products","Priority Support","3 Stores","Analytics"],popular:!0},{name:"Enterprise",price:"$199",period:"/month",features:["Unlimited Products","24/7 Support","Unlimited Stores","Advanced Analytics","Custom Integration"],popular:!1}];return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#F9FAFB",...Rn(t)},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title||"Choose Your Plan"}),n.jsx("p",{className:"text-lg text-gray-600",children:e.subtitle||"Select the perfect plan for your business needs"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((a,s)=>n.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${a.popular?"ring-2 ring-indigo-500":""}`,children:[a.popular&&n.jsx("div",{className:"bg-indigo-500 text-white text-center py-2 font-medium",children:"Most Popular"}),n.jsxs("div",{className:"p-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:a.name}),n.jsxs("div",{className:"flex items-baseline mb-6",children:[n.jsx("span",{className:"text-4xl font-bold text-gray-900",children:a.price}),n.jsx("span",{className:"text-gray-600 ml-1",children:a.period})]}),n.jsx("ul",{className:"space-y-3 mb-8",children:a.features.map((i,o)=>n.jsxs("li",{className:"flex items-center",children:[n.jsx(jn,{className:"text-green-500 mr-3",size:16}),n.jsx("span",{className:"text-gray-700",children:i})]},o))}),n.jsx("button",{className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${a.popular?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:"Get Started"})]})]},s))})]})})},b8e=({settings:e,isFirst:t})=>{const r=[{icon:jn,title:"Easy to Use",description:"Intuitive interface that anyone can master"},{icon:Nn,title:"Analytics Included",description:"Track your performance with detailed insights"},{icon:Bx,title:"Award Winning",description:"Recognized by industry leaders worldwide"},{icon:wn,title:"24/7 Support",description:"Get help whenever you need it"}];return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#FFFFFF",...Rn(t)},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title||"Why Choose Us"}),n.jsx("p",{className:"text-lg text-gray-600",children:e.subtitle||"Discover what makes us different"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((a,s)=>{const i=a.icon;return n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:n.jsx(i,{className:"text-indigo-600",size:24})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.title}),n.jsx("p",{className:"text-gray-600",children:a.description})]},s)})})]})})},w8e=({settings:e,isFirst:t})=>{const r=[{year:"2020",title:"Company Founded",description:"Started with a simple idea"},{year:"2021",title:"First Product Launch",description:"Launched our flagship product"},{year:"2022",title:"10K Customers",description:"Reached our first major milestone"},{year:"2023",title:"International Expansion",description:"Expanded to 5 new countries"},{year:"2024",title:"Award Recognition",description:"Won industry excellence award"}];return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#F9FAFB",...Rn(t)},children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title||"Our Journey"}),n.jsx("p",{className:"text-lg text-gray-600",children:e.subtitle||"The milestones that shaped our story"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-1/2 transform -translate-x-px h-full w-0.5 bg-gray-300"}),r.map((a,s)=>n.jsxs("div",{className:`relative flex items-center ${s%2===0?"justify-start":"justify-end"} mb-8`,children:[n.jsx("div",{className:`w-1/2 ${s%2===0?"pr-8 text-right":"pl-8 text-left"}`,children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("div",{className:"text-sm font-medium text-indigo-600 mb-1",children:a.year}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.title}),n.jsx("p",{className:"text-gray-600",children:a.description})]})}),n.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-indigo-600 rounded-full border-4 border-white"})]},s))]})]})})},j8e=({settings:e,isFirst:t})=>{const[r,a]=N.useState(0),s=[{title:"What is your return policy?",content:"We offer a 30-day return policy for all unused items in original condition."},{title:"How long does shipping take?",content:"Standard shipping takes 3-5 business days. Express shipping is 1-2 business days."},{title:"Do you offer international shipping?",content:"Yes, we ship to most countries worldwide. Shipping costs vary by location."},{title:"How can I track my order?",content:"You'll receive a tracking number via email once your order ships."}];return n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#FFFFFF",...Rn(t)},children:n.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title||"Frequently Asked Questions"}),n.jsx("p",{className:"text-lg text-gray-600",children:e.subtitle||"Find answers to common questions"})]}),n.jsx("div",{className:"space-y-4",children:s.map((i,o)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[n.jsxs("button",{className:"w-full px-6 py-4 text-left flex justify-between items-center hover:bg-gray-50",onClick:()=>a(r===o?null:o),children:[n.jsx("span",{className:"font-medium text-gray-900",children:i.title}),r===o?n.jsx(F2,{className:"text-gray-500",size:20}):n.jsx(kd,{className:"text-gray-500",size:20})]}),r===o&&n.jsx("div",{className:"px-6 pb-4",children:n.jsx("p",{className:"text-gray-600",children:i.content})})]},o))})]})})},N8e=({settings:e,isFirst:t})=>n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#F9FAFB",...Rn(t)},children:n.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title||"Find What You're Looking For"}),n.jsx("p",{className:"text-lg text-gray-600",children:e.subtitle||"Search through our entire product catalog"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Mn,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",placeholder:"Search products...",className:"block w-full pl-10 pr-3 py-4 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 text-lg"})]}),n.jsx("div",{className:"mt-6 flex flex-wrap justify-center gap-2",children:["Electronics","Fashion","Home","Sports","Books"].map(r=>n.jsx("button",{className:"px-4 py-2 bg-white border border-gray-300 rounded-full text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:r},r))})]})}),S8e=({settings:e,isFirst:t})=>n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#FFFFFF",...Rn(t)},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:e.title||"Visit Our Store"}),n.jsx("p",{className:"text-lg text-gray-600",children:e.subtitle||"Find us at our physical location"})]}),n.jsx("div",{className:"bg-gray-200 h-96 rounded-lg flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Vs,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"Interactive map will be displayed here"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:e.address||"123 Main Street, City, State 12345"})]})})]})}),k8e=({settings:e,isFirst:t})=>n.jsx("section",{style:{backgroundColor:e.backgroundColor||"#1F2937",...Rn(t)},children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:e.title||"Ready to Get Started?"}),n.jsx("p",{className:"text-xl text-gray-300 mb-8",children:e.subtitle||"Join thousands of satisfied customers today"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs("button",{className:"px-8 py-4 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center",children:[e.primaryButtonText||"Get Started Now",n.jsx(hl,{className:"ml-2",size:20})]}),n.jsx("button",{className:"px-8 py-4 border border-gray-300 text-white rounded-lg font-medium hover:bg-gray-800 transition-colors",children:e.secondaryButtonText||"Learn More"})]})]})}),C8e=({settings:e,isFirst:t})=>n.jsx("section",{className:`${t?"pt-0 pb-8":"py-8"}`,style:{backgroundColor:e.backgroundColor||"transparent",marginTop:t?void 0:"calc(var(--section-overlay-enabled, 0) * -1 * var(--section-overlap, 0px))"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-1 border-t border-gray-300"}),e.text&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"px-4 text-gray-500 text-sm",children:e.text}),n.jsx("div",{className:"flex-1 border-t border-gray-300"})]})]})})}),A8e=({settings:e,isFirst:t})=>{const r=e.height||60;return n.jsx("div",{style:{height:`${r}px`,backgroundColor:e.backgroundColor||"transparent",marginTop:t?0:void 0}})},_8e=({settings:e,isFirst:t})=>{const r={info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:ka},success:{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",icon:jn},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:ka},error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:ka}},a=r[e.type]||r.info,s=a.icon;return n.jsx("section",{className:`${t?"pt-0 pb-4":"py-4"}`,style:{marginTop:t?void 0:"calc(var(--section-overlay-enabled, 0) * -1 * var(--section-overlap, 0px))"},children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:`${a.bg} ${a.border} border rounded-lg p-4`,children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(s,{className:`${a.text} mr-3 mt-0.5`,size:20}),n.jsxs("div",{className:a.text,children:[n.jsx("p",{className:"font-medium",children:e.title||"Information"}),e.message&&n.jsx("p",{className:"mt-1",children:e.message})]})]})})})})};function E8e(){const{t:e}=$t(),{sections:t,isLoading:r,sectionGap:a}=Ev();if(r)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx(kf,{})});const s=t.filter(o=>o.enabled).sort((o,l)=>o.order-l.order),i=(a*.25).toFixed(2);return n.jsx("div",{className:"min-h-screen",style:{display:"flex",flexDirection:"column",rowGap:`${i}rem`},children:s.map((o,l)=>{var u,f,h;const c={className:`section-${o.type}`,style:{animationName:((u=o.animations)==null?void 0:u.entrance)||"fadeIn",animationDuration:`${((f=o.animations)==null?void 0:f.duration)||600}ms`,animationDelay:`${((h=o.animations)==null?void 0:h.delay)||0}ms`,animationFillMode:"both"}},d=l===0;switch(o.type){case"hero":return n.jsx("div",{...c,children:n.jsx(J$e,{})},o.id);case"featured":return n.jsx("div",{...c,children:n.jsx("section",{style:{backgroundColor:o.settings.backgroundColor||"#FFFFFF",...Rn(d)},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(o.settings.title||o.title)&&n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:o.settings.title||o.title}),(o.settings.subtitle||o.subtitle)&&n.jsx("p",{className:"text-lg text-gray-600",children:o.settings.subtitle||o.subtitle})]}),n.jsx(t8e,{})]})})},o.id);case"categories":return n.jsx("div",{...c,children:n.jsx("section",{style:{backgroundColor:o.settings.backgroundColor||"#F9FAFB",...Rn(d)},children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx(r8e,{variant:o.settings.variant||"lux",showHeader:!1})})})},o.id);case"products":return n.jsx("div",{...c,children:n.jsx("section",{style:{backgroundColor:o.settings.backgroundColor||"#FFFFFF",...Rn(d)},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(o.settings.title||o.title)&&n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:o.settings.title||o.title}),(o.settings.subtitle||o.subtitle)&&n.jsx("p",{className:"text-lg text-gray-600",children:o.settings.subtitle||o.subtitle})]}),n.jsx(b8,{})]})})},o.id);case"tabbedProducts":return n.jsx("div",{...c,children:n.jsx(s8e,{title:o.settings.title,subtitle:o.settings.subtitle,backgroundColor:o.settings.backgroundColor||"#FFFFFF",maxItems:o.settings.maxItems||8,tabContainerBg:o.settings.tabContainerBg,tabActiveBg:o.settings.tabActiveBg,tabActiveText:o.settings.tabActiveText,tabInactiveText:o.settings.tabInactiveText,tabHoverText:o.settings.tabHoverText,paddingScale:o.settings.paddingScale,collapseTopPadding:o.settings.collapseTopPadding,fullBackground:o.settings.fullBackground!==!1,headerImage:o.settings.headerImage,headerImageFit:o.settings.headerImageFit,headerImageUncapped:o.settings.headerImageUncapped,overlapPrevious:typeof o.settings.overlapPrevious=="boolean"?o.settings.overlapPrevious:!!o.settings.headerImage,overlapAmount:o.settings.overlapAmount||60,overlapShadow:o.settings.overlapShadow!==void 0?o.settings.overlapShadow:!0})},o.id);case"saleProducts":return n.jsx("div",{...c,children:n.jsx(i8e,{title:o.settings.title||e("saleProducts.title","Sale Products"),subtitle:o.settings.subtitle,backgroundColor:o.settings.backgroundColor||"#FFFFFF",maxItems:o.settings.maxItems||8})},o.id);case"text":return n.jsx("div",{...c,children:n.jsx(l8e,{settings:o.settings,isFirst:d})},o.id);case"image":return n.jsx("div",{...c,children:n.jsx(c8e,{settings:o.settings,isFirst:d})},o.id);case"video":return n.jsx("div",{...c,children:n.jsx(d8e,{settings:o.settings,isFirst:d})},o.id);case"banner":return n.jsx("div",{...c,children:n.jsx(u8e,{settings:o.settings,isFirst:d})},o.id);case"banners":return n.jsx("div",{...c,children:n.jsx(o8e,{settings:o.settings,isFirst:d})},o.id);case"countdown":return n.jsx("div",{...c,children:n.jsx(f8e,{settings:o.settings,isFirst:d})},o.id);case"newsletter":return n.jsx("div",{...c,children:n.jsx(h8e,{settings:o.settings,isFirst:d})},o.id);case"testimonials":return n.jsx("div",{...c,children:n.jsx(m8e,{settings:o.settings,isFirst:d})},o.id);case"gallery":return n.jsx("div",{...c,children:n.jsx(p8e,{settings:o.settings,isFirst:d})},o.id);case"blog":return n.jsx("div",{...c,children:n.jsx(g8e,{settings:o.settings,isFirst:d})},o.id);case"team":return n.jsx("div",{...c,children:n.jsx(x8e,{settings:o.settings,isFirst:d})},o.id);case"stats":return n.jsx("div",{...c,children:n.jsx(y8e,{settings:o.settings,isFirst:d})},o.id);case"pricing":return n.jsx("div",{...c,children:n.jsx(v8e,{settings:o.settings,isFirst:d})},o.id);case"brands":return n.jsx("div",{...c,children:n.jsx(a8e,{title:o.settings.title||e("brands.title","Our Brands"),subtitle:o.settings.subtitle||o.settings.description||e("brands.subtitle","Trusted by leading brands worldwide"),layout:o.settings.layout||"marquee",items:o.settings.items,speed:o.settings.speed,pauseOnHover:o.settings.pauseOnHover,source:o.settings.source||"api",size:o.settings.size||"xl",containerHeight:o.settings.containerHeight||"h-28",paddingScale:o.settings.paddingScale||"tight"})},o.id);case"features":return n.jsx("div",{...c,children:n.jsx(b8e,{settings:o.settings,isFirst:d})},o.id);case"timeline":return n.jsx("div",{...c,children:n.jsx(w8e,{settings:o.settings,isFirst:d})},o.id);case"accordion":return n.jsx("div",{...c,children:n.jsx(j8e,{settings:o.settings,isFirst:d})},o.id);case"search":return n.jsx("div",{...c,children:n.jsx(N8e,{settings:o.settings,isFirst:d})},o.id);case"map":return n.jsx("div",{...c,children:n.jsx(S8e,{settings:o.settings,isFirst:d})},o.id);case"cta":return n.jsx("div",{...c,children:n.jsx(k8e,{settings:o.settings,isFirst:d})},o.id);case"divider":return n.jsx("div",{...c,children:n.jsx(C8e,{settings:o.settings,isFirst:d})},o.id);case"spacer":return n.jsx("div",{...c,children:n.jsx(A8e,{settings:o.settings,isFirst:d})},o.id);case"alert":return n.jsx("div",{...c,children:n.jsx(_8e,{settings:o.settings,isFirst:d})},o.id);default:return null}})})}function T8e({behavior:e="auto"}){const t=Nd();return N.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")},[]),N.useEffect(()=>{if(t.hash){const r=t.hash.replace("#",""),a=document.getElementById(r);if(a){a.scrollIntoView({behavior:"smooth",block:"start"});return}}window.scrollTo({top:0,left:0,behavior:e})},[t.pathname,t.hash,e]),null}const O8e=()=>n.jsxs(ZV,{children:[n.jsx(T8e,{behavior:"smooth"}),n.jsx(NV,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}}),n.jsx(wH,{})]}),P8e=()=>n.jsxs("div",{style:{padding:"2rem",fontFamily:"sans-serif"},children:[n.jsx("h1",{style:{fontSize:"1.25rem",fontWeight:600},children:"Something went wrong"}),n.jsx("p",{children:"Try refreshing the page. If the problem persists, contact support."})]}),I8e=bH([{path:"/",element:n.jsx(O8e,{}),errorElement:n.jsx(P8e,{}),children:[{index:!0,element:n.jsx(Ds,{children:n.jsx(E8e,{})})},{path:"search",element:n.jsx(Ds,{children:n.jsx(MMe,{})})},{path:"new-arrivals",element:n.jsx(Ds,{children:n.jsx(LMe,{})})},{path:"cart",element:n.jsx(Ds,{children:n.jsx(WMe,{})})},{path:"checkout",element:n.jsx(Ds,{children:n.jsx(ALe,{})})},{path:"products",element:n.jsx(Ds,{children:n.jsx(kMe,{})})},{path:"wishlist",element:n.jsx(Ds,{children:n.jsx(tLe,{})})},{path:"product/:id",element:n.jsx(Ds,{children:n.jsx(DMe,{})})},{path:"privacy-policy",element:n.jsx(Ds,{children:n.jsx(_Le,{})})},{path:"terms-of-service",element:n.jsx(Ds,{children:n.jsx(ELe,{})})},{path:"login",element:n.jsx(wMe,{})},{path:"register",element:n.jsx(jMe,{})},{path:"orders",element:n.jsx(Nx,{children:n.jsx(Ds,{children:n.jsx(HMe,{})})})},{path:"profile/*",element:n.jsx(Nx,{children:n.jsx(Ds,{children:n.jsx(LLe,{})})})},{path:"admin-orders",element:n.jsx(Nx,{requireAdmin:!0,children:n.jsx(Ds,{hideFooter:!0,hideBottomNav:!0,hideWhatsApp:!0,children:n.jsx(eLe,{})})})},{path:"admin/*",element:n.jsx(Nx,{requireAdmin:!0,children:n.jsx(bMe,{})})},{path:"*",element:n.jsx(Lm,{to:"/",replace:!0})}]}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0,v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_skipActionErrorRevalidation:!0}}),Lt=e=>typeof e=="string",dm=()=>{let e,t;const r=new Promise((a,s)=>{e=a,t=s});return r.resolve=e,r.reject=t,r},hP=e=>e==null?"":""+e,F8e=(e,t,r)=>{e.forEach(a=>{t[a]&&(r[a]=t[a])})},D8e=/###/g,mP=e=>e&&e.indexOf("###")>-1?e.replace(D8e,"."):e,pP=e=>!e||Lt(e),Mm=(e,t,r)=>{const a=Lt(t)?t.split("."):t;let s=0;for(;s<a.length-1;){if(pP(e))return{};const i=mP(a[s]);!e[i]&&r&&(e[i]=new r),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return pP(e)?{}:{obj:e,k:mP(a[s])}},gP=(e,t,r)=>{const{obj:a,k:s}=Mm(e,t,Object);if(a!==void 0||t.length===1){a[s]=r;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=Mm(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=Mm(e,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]!="undefined"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=r},R8e=(e,t,r,a)=>{const{obj:s,k:i}=Mm(e,t,Object);s[i]=s[i]||[],s[i].push(r)},wv=(e,t)=>{const{obj:r,k:a}=Mm(e,t);if(r)return r[a]},M8e=(e,t,r)=>{const a=wv(e,r);return a!==void 0?a:wv(t,r)},L8=(e,t,r)=>{for(const a in t)a!=="__proto__"&&a!=="constructor"&&(a in e?Lt(e[a])||e[a]instanceof String||Lt(t[a])||t[a]instanceof String?r&&(e[a]=t[a]):L8(e[a],t[a],r):e[a]=t[a]);return e},wu=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var L8e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $8e=e=>Lt(e)?e.replace(/[&<>"'\/]/g,t=>L8e[t]):e;class B8e{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const a=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,a),this.regExpQueue.push(t),a}}const U8e=[" ",",","?","!",";"],W8e=new B8e(20),z8e=(e,t,r)=>{t=t||"",r=r||"";const a=U8e.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(a.length===0)return!0;const s=W8e.getRegExp(`(${a.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(e);if(!i){const o=e.indexOf(r);o>0&&!s.test(e.substring(0,o))&&(i=!0)}return i},C2=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const a=t.split(r);let s=e;for(let i=0;i<a.length;){if(!s||typeof s!="object")return;let o,l="";for(let c=i;c<a.length;++c)if(c!==i&&(l+=r),l+=a[c],o=s[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<a.length-1)continue;i+=c-i+1;break}s=o}return s},jv=e=>e&&e.replace("_","-"),H8e={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Nv{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||H8e,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,a,s){return s&&!this.debug?null:(Lt(t[0])&&(t[0]=`${a}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new Nv(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Nv(this.logger,t)}}var vo=new Nv;class e1{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const s=this.observers[a].get(r)||0;this.observers[a].set(r,s+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,c]=o;for(let d=0;d<c;d++)l.apply(l,[t,...a])})}}class xP extends e1{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,a){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],a&&(Array.isArray(a)?l.push(...a):Lt(a)&&i?l.push(...a.split(i)):l.push(a)));const c=wv(this.data,l);return!c&&!r&&!a&&t.indexOf(".")>-1&&(t=l[0],r=l[1],a=l.slice(2).join(".")),c||!o||!Lt(a)?c:C2(this.data&&this.data[t]&&this.data[t][r],a,i)}addResource(t,r,a,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,r];a&&(l=l.concat(o?a.split(o):a)),t.indexOf(".")>-1&&(l=t.split("."),s=r,r=l[1]),this.addNamespaces(r),gP(this.data,l,s),i.silent||this.emit("added",t,r,a,s)}addResources(t,r,a){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in a)(Lt(a[i])||Array.isArray(a[i]))&&this.addResource(t,r,i,a[i],{silent:!0});s.silent||this.emit("added",t,r,a)}addResourceBundle(t,r,a,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),s=a,a=r,r=l[1]),this.addNamespaces(r);let c=wv(this.data,l)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),s?L8(c,a,i):c={...c,...a},gP(this.data,l,c),o.silent||this.emit("added",t,r,a)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var $8={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,a,s){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,r,a,s))}),t}};const yP={};class Sv extends e1{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),F8e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=vo.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const a=this.resolve(t,r);return a&&a.res!==void 0}extractFromKey(t,r){let a=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=a&&t.indexOf(a)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!z8e(t,a,s);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Lt(i)?[i]:i};const d=t.split(a);(a!==s||a===s&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(s)}return{key:t,namespaces:Lt(i)?[i]:i}}translate(t,r,a){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],r),c=l[l.length-1],d=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(u){const A=r.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${A}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${A}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:o}const f=this.resolve(t,r);let h=f&&f.res;const m=f&&f.usedKey||o,p=f&&f.exactUsedKey||o,x=Object.prototype.toString.apply(h),y=["[object Number]","[object Function]","[object RegExp]"],v=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,j=!Lt(h)&&typeof h!="boolean"&&typeof h!="number";if(w&&h&&j&&y.indexOf(x)<0&&!(Lt(v)&&Array.isArray(h))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,{...r,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(f.res=A,f.usedParams=this.getUsedParamsDetails(r),f):A}if(i){const A=Array.isArray(h),C=A?[]:{},S=A?p:m;for(const k in h)if(Object.prototype.hasOwnProperty.call(h,k)){const E=`${S}${i}${k}`;C[k]=this.translate(E,{...r,joinArrays:!1,ns:l}),C[k]===E&&(C[k]=h[k])}h=C}}else if(w&&Lt(v)&&Array.isArray(h))h=h.join(v),h&&(h=this.extendTranslation(h,t,r,a));else{let A=!1,C=!1;const S=r.count!==void 0&&!Lt(r.count),k=Sv.hasDefaultValue(r),E=S?this.pluralResolver.getSuffix(d,r.count,r):"",T=r.ordinal&&S?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",F=S&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),O=F&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${E}`]||r[`defaultValue${T}`]||r.defaultValue;!this.isValidLookup(h)&&k&&(A=!0,h=O),this.isValidLookup(h)||(C=!0,h=o);const W=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:h,q=k&&O!==h&&this.options.updateMissing;if(C||A||q){if(this.logger.log(q?"updateKey":"missingKey",d,c,o,q?O:h),i){const ee=this.resolve(o,{...r,keySeparator:!1});ee&&ee.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let D=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let ee=0;ee<M.length;ee++)D.push(M[ee]);else this.options.saveMissingTo==="all"?D=this.languageUtils.toResolveHierarchy(r.lng||this.language):D.push(r.lng||this.language);const H=(ee,X,de)=>{const le=k&&de!==h?de:W;this.options.missingKeyHandler?this.options.missingKeyHandler(ee,c,X,le,q,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ee,c,X,le,q,r),this.emit("missingKey",ee,c,X,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?D.forEach(ee=>{const X=this.pluralResolver.getSuffixes(ee,r);F&&r[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(de=>{H([ee],o+de,r[`defaultValue${de}`]||O)})}):H(D,o,O))}h=this.extendTranslation(h,t,r,f,a),C&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${o}`),(C||A)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,A?h:void 0):h=this.options.parseMissingKeyHandler(h))}return s?(f.res=h,f.usedParams=this.getUsedParamsDetails(r),f):h}extendTranslation(t,r,a,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const d=Lt(t)&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(d){const h=t.match(this.interpolator.nestingRegexp);u=h&&h.length}let f=a.replace&&!Lt(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,a.lng||this.language||s.usedLng,a),d){const h=t.match(this.interpolator.nestingRegexp),m=h&&h.length;u<m&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(a.lng=this.language||s.usedLng),a.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];return i&&i[0]===m[0]&&!a.context?(o.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):o.translate(...m,r)},a)),a.interpolation&&this.interpolator.reset()}const l=a.postProcess||this.options.postProcess,c=Lt(l)?[l]:l;return t!=null&&c&&c.length&&a.applyPostProcessor!==!1&&(t=$8.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),t}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,s,i,o,l;return Lt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(a))return;const d=this.extractFromKey(c,r),u=d.key;s=u;let f=d.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Lt(r.count),m=h&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),p=r.context!==void 0&&(Lt(r.context)||typeof r.context=="number")&&r.context!=="",x=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(y=>{this.isValidLookup(a)||(l=y,!yP[`${x[0]}-${y}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(yP[`${x[0]}-${y}`]=!0,this.logger.warn(`key "${s}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(v=>{if(this.isValidLookup(a))return;o=v;const w=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(w,u,v,y,r);else{let A;h&&(A=this.pluralResolver.getSuffix(v,r.count,r));const C=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(w.push(u+A),r.ordinal&&A.indexOf(S)===0&&w.push(u+A.replace(S,this.options.pluralSeparator)),m&&w.push(u+C)),p){const k=`${u}${this.options.contextSeparator}${r.context}`;w.push(k),h&&(w.push(k+A),r.ordinal&&A.indexOf(S)===0&&w.push(k+A.replace(S,this.options.pluralSeparator)),m&&w.push(k+C))}}let j;for(;j=w.pop();)this.isValidLookup(a)||(i=j,a=this.getResource(v,y,j,r))}))})}),{res:a,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,a){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,a,s):this.resourceStore.getResource(t,r,a,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=t.replace&&!Lt(t.replace);let s=a?t.replace:t;if(a&&typeof t.count!="undefined"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!a){s={...s};for(const i of r)delete s[i]}return s}static hasDefaultValue(t){const r="defaultValue";for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&r===a.substring(0,r.length)&&t[a]!==void 0)return!0;return!1}}const gj=e=>e.charAt(0).toUpperCase()+e.slice(1);class vP{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vo.create("languageUtils")}getScriptPartFromCode(t){if(t=jv(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=jv(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Lt(t)&&t.indexOf("-")>-1){if(typeof Intl!="undefined"&&typeof Intl.getCanonicalLocales!="undefined")try{let s=Intl.getCanonicalLocales(t)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch(s){}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let a=t.split("-");return this.options.lowerCaseLng?a=a.map(s=>s.toLowerCase()):a.length===2?(a[0]=a[0].toLowerCase(),a[1]=a[1].toUpperCase(),r.indexOf(a[1].toLowerCase())>-1&&(a[1]=gj(a[1].toLowerCase()))):a.length===3&&(a[0]=a[0].toLowerCase(),a[1].length===2&&(a[1]=a[1].toUpperCase()),a[0]!=="sgn"&&a[2].length===2&&(a[2]=a[2].toUpperCase()),r.indexOf(a[1].toLowerCase())>-1&&(a[1]=gj(a[1].toLowerCase())),r.indexOf(a[2].toLowerCase())>-1&&(a[2]=gj(a[2].toLowerCase()))),a.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(a=>{if(r)return;const s=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&t.forEach(a=>{if(r)return;const s=this.getLanguagePartFromCode(a);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Lt(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let a=t[r];return a||(a=t[this.getScriptPartFromCode(r)]),a||(a=t[this.formatLanguageCode(r)]),a||(a=t[this.getLanguagePartFromCode(r)]),a||(a=t.default),a||[]}toResolveHierarchy(t,r){const a=this.getFallbackCodes(r||this.options.fallbackLng||[],t),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Lt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Lt(t)&&i(this.formatLanguageCode(t)),a.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let V8e=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],G8e={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const q8e=["v1","v2","v3"],K8e=["v4"],bP={zero:0,one:1,two:2,few:3,many:4,other:5},X8e=()=>{const e={};return V8e.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:G8e[t.fc]}})}),e};class Y8e{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=vo.create("pluralResolver"),(!this.options.compatibilityJSON||K8e.includes(this.options.compatibilityJSON))&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=X8e(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const a=jv(t==="dev"?"en":t),s=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:a,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];const o=new Intl.PluralRules(a,{type:s});return this.pluralRulesCache[i]=o,o}catch(a){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getRule(t,r);return this.shouldUseIntlApi()?a&&a.resolvedOptions().pluralCategories.length>1:a&&a.numbers.length>1}getPluralFormsOfKey(t,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,a).map(s=>`${r}${s}`)}getSuffixes(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=this.getRule(t,r);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort((s,i)=>bP[s]-bP[i]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):a.numbers.map(s=>this.getSuffix(t,s,r)):[]}getSuffix(t,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,a);return s?this.shouldUseIntlApi()?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:this.getSuffixRetroCompatible(s,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){const a=t.noAbs?t.plurals(r):t.plurals(Math.abs(r));let s=t.numbers[a];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}shouldUseIntlApi(){return!q8e.includes(this.options.compatibilityJSON)}}const wP=function(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=M8e(e,t,r);return!i&&s&&Lt(r)&&(i=C2(e,r,a),i===void 0&&(i=C2(t,r,a))),i},xj=e=>e.replace(/\$/g,"$$$$");class J8e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=vo.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:a,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:p,nestingSuffixEscaped:x,nestingOptionsSeparator:y,maxReplaces:v,alwaysFormat:w}=t.interpolation;this.escape=r!==void 0?r:$8e,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?wu(i):o||"{{",this.suffix=l?wu(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?wu(h):m||wu("$t("),this.nestingSuffix=p?wu(p):x||wu(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=v||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,a)=>r&&r.source===a?(r.lastIndex=0,r):new RegExp(a,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,a,s){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const v=wP(r,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,a,{...s,...r,interpolationkey:m}):v}const p=m.split(this.formatSeparator),x=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(wP(r,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),y,a,{...s,...r,interpolationkey:x})};this.resetRegExp();const u=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>xj(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?xj(this.escape(m)):xj(m)}].forEach(m=>{for(l=0;i=m.regex.exec(t);){const p=i[1].trim();if(o=d(p),o===void 0)if(typeof u=="function"){const y=u(t,i,s);o=Lt(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,p))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),o="";else!Lt(o)&&!this.useRawValueToEscape&&(o=hP(o));const x=m.safeValue(o);if(t=t.replace(i[0],x),f?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;const l=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const f=c.split(new RegExp(`${u}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);const m=h.match(/'/g),p=h.match(/"/g);(m&&m.length%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${u}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;s=this.nestingRegexp.exec(t);){let c=[];o={...a},o=o.replace&&!Lt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const u=s[1].split(this.formatSeparator).map(f=>f.trim());s[1]=u.shift(),c=u,d=!0}if(i=r(l.call(this,s[1].trim(),o),o),i&&s[0]===t&&!Lt(i))return i;Lt(i)||(i=hP(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),i=""),d&&(i=c.reduce((u,f)=>this.format(u,f,a.lng,{...a,interpolationkey:s[1].trim()}),i.trim())),t=t.replace(s[0],i),this.regexp.lastIndex=0}return t}}const Z8e=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const s=a[1].substring(0,a[1].length-1);t==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();r[u]||(r[u]=d),d==="false"&&(r[u]=!1),d==="true"&&(r[u]=!0),isNaN(d)||(r[u]=parseInt(d,10))}})}return{formatName:t,formatOptions:r}},ju=e=>{const t={};return(r,a,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=a+JSON.stringify(i);let l=t[o];return l||(l=e(jv(a),s),t[o]=l),l(r)}};class Q8e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=vo.create("formatter"),this.options=t,this.formats={number:ju((r,a)=>{const s=new Intl.NumberFormat(r,{...a});return i=>s.format(i)}),currency:ju((r,a)=>{const s=new Intl.NumberFormat(r,{...a,style:"currency"});return i=>s.format(i)}),datetime:ju((r,a)=>{const s=new Intl.DateTimeFormat(r,{...a});return i=>s.format(i)}),relativetime:ju((r,a)=>{const s=new Intl.RelativeTimeFormat(r,{...a});return i=>s.format(i,a.range||"day")}),list:ju((r,a)=>{const s=new Intl.ListFormat(r,{...a});return i=>s.format(i)})},this.init(t)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=ju(r)}format(t,r,a){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{const{formatName:d,formatOptions:u}=Z8e(c);if(this.formats[d]){let f=l;try{const h=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},m=h.locale||h.lng||s.locale||s.lng||a;f=this.formats[d](l,m,{...u,...s,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${d}`);return l},t)}}const eBe=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class tBe extends e1{constructor(t,r,a){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=a,this.languageUtils=a.languageUtils,this.options=s,this.logger=vo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(a,s.backend,s)}queueLoad(t,r,a,s){const i={},o={},l={},c={};return t.forEach(d=>{let u=!0;r.forEach(f=>{const h=`${d}|${f}`;!a.reload&&this.store.hasResourceBundle(d,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,u=!1,o[h]===void 0&&(o[h]=!0),i[h]===void 0&&(i[h]=!0),c[f]===void 0&&(c[f]=!0)))}),u||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,a){const s=t.split("|"),i=s[0],o=s[1];r&&this.emit("failedLoading",i,o,r),!r&&a&&this.store.addResourceBundle(i,o,a,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&a&&(this.state[t]=0);const l={};this.queue.forEach(c=>{R8e(c.loaded,[i],o),eBe(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const u=c.loaded[d];u.length&&u.forEach(f=>{l[d][f]===void 0&&(l[d][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,a){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:a,tried:s,wait:i,callback:o});return}this.readingCalls++;const l=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(d&&u&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,a,s+1,i*2,o)},i);return}o(d,u)},c=this.backend[a].bind(this.backend);if(c.length===2){try{const d=c(t,r);d&&typeof d.then=="function"?d.then(u=>l(null,u)).catch(l):l(null,d)}catch(d){l(d)}return}return c(t,r,l)}prepareLoading(t,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Lt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Lt(r)&&(r=[r]);const i=this.queueLoad(t,r,a,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,a){this.prepareLoading(t,r,{},a)}reload(t,r,a){this.prepareLoading(t,r,{reload:!0},a)}loadOne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const a=t.split("|"),s=a[0],i=a[1];this.read(s,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${s} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${i} for language ${s}`,l),this.loaded(t,o,l)})}saveMissing(t,r,a,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${a}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(t,r,a,s,c):u=d(t,r,a,s),u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}else d(t,r,a,s,l,c)}!t||!t[0]||this.store.addResource(t[0],r,a,s)}}}const jP=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Lt(e[1])&&(t.defaultValue=e[1]),Lt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(a=>{t[a]=r[a]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),NP=e=>(Lt(e.ns)&&(e.ns=[e.ns]),Lt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Lt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),_x=()=>{},rBe=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class Q0 extends e1{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=NP(t),this.services={},this.logger=vo,this.modules={external:[]},rBe(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(a=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(Lt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const s=jP();this.options={...s,...this.options,...NP(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?vo.init(i(this.modules.logger),this.options):vo.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl!="undefined"&&(u=Q8e);const f=new vP(this.options);this.store=new xP(this.options.resources,this.options);const h=this.services;h.logger=vo,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new Y8e(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(h.formatter=i(u),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new J8e(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new tBe(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var p=arguments.length,x=new Array(p>1?p-1:0),y=1;y<p;y++)x[y-1]=arguments[y];t.emit(m,...x)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Sv(this.services,this.options),this.translator.on("*",function(m){for(var p=arguments.length,x=new Array(p>1?p-1:0),y=1;y<p;y++)x[y-1]=arguments[y];t.emit(m,...x)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,a||(a=_x),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return t.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return t.store[u](...arguments),t}});const c=dm(),d=()=>{const u=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),a(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}loadResources(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_x;const s=Lt(t)?t:this.language;if(typeof t=="function"&&(a=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(l)})}else a(null)}reloadResources(t,r,a){const s=dm();return typeof t=="function"&&(a=t,t=void 0),typeof r=="function"&&(a=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),a||(a=_x),this.services.backendConnector.reload(t,r,i=>{s.resolve(),a(i)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&$8.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let r=0;r<this.languages.length;r++){const a=this.languages[r];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}changeLanguage(t,r){var a=this;this.isLanguageChangingTo=t;const s=dm();this.emit("languageChanging",t);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,d)=>{d?(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve(function(){return a.t(...arguments)}),r&&r(c,function(){return a.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const d=Lt(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,u=>{o(u,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),s}getFixedT(t,r,a){var s=this;const i=function(o,l){let c;if(typeof l!="object"){for(var d=arguments.length,u=new Array(d>2?d-2:0),f=2;f<d;f++)u[f-2]=arguments[f];c=s.options.overloadTranslationOptionHandler([o,l].concat(u))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||a||i.keyPrefix);const h=s.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(o)?m=o.map(p=>`${c.keyPrefix}${h}${p}`):m=c.keyPrefix?`${c.keyPrefix}${h}${o}`:o,s.t(m,c)};return Lt(t)?i.lng=t:i.lngs=t,i.ns=r,i.keyPrefix=a,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(a,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(a,t)&&(!s||o(i,t)))}loadNamespaces(t,r){const a=dm();return this.options.ns?(Lt(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{a.resolve(),r&&r(s)}),a):(r&&r(),Promise.resolve())}loadLanguages(t,r){const a=dm();Lt(t)&&(t=[t]);const s=this.options.preload||[],i=t.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{a.resolve(),r&&r(o)}),a):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new vP(jP());return r.indexOf(a.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new Q0(t,r)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_x;const a=t.forkResourceStore;a&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},i=new Q0(s);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a&&(i.store=new xP(this.store.data,s),i.services.resourceStore=i.store),i.translator=new Sv(i.services,s),i.translator.on("*",function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];i.emit(l,...d)}),i.init(s,r),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Yn=Q0.createInstance();Yn.createInstance=Q0.createInstance;Yn.createInstance;Yn.dir;Yn.init;Yn.loadResources;Yn.reloadResources;Yn.use;Yn.changeLanguage;Yn.getFixedT;Yn.t;Yn.exists;Yn.setDefaultNamespace;Yn.hasLoadedNamespace;Yn.loadNamespaces;Yn.loadLanguages;function nBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aBe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XL(a.key),a)}}function sBe(e,t,r){return t&&aBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var B8=[],iBe=B8.forEach,oBe=B8.slice;function lBe(e){return iBe.call(oBe.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var SP=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,cBe=function(t,r,a){var s=a||{};s.path=s.path||"/";var i=encodeURIComponent(r),o="".concat(t,"=").concat(i);if(s.maxAge>0){var l=s.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(l))}if(s.domain){if(!SP.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(s.domain)}if(s.path){if(!SP.test(s.path))throw new TypeError("option path is invalid");o+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.sameSite){var c=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(c){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},kP={create:function(t,r,a,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+a*60*1e3)),s&&(i.domain=s),document.cookie=cBe(t,encodeURIComponent(r),i)},read:function(t){for(var r="".concat(t,"="),a=document.cookie.split(";"),s=0;s<a.length;s++){for(var i=a[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(r)===0)return i.substring(r.length,i.length)}return null},remove:function(t){this.create(t,"",-1)}},dBe={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document!="undefined"){var a=kP.read(t.lookupCookie);a&&(r=a)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document!="undefined"&&kP.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},uBe={name:"querystring",lookup:function(t){var r;if(typeof window!="undefined"){var a=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=a.substring(1),i=s.split("&"),o=0;o<i.length;o++){var l=i[o].indexOf("=");if(l>0){var c=i[o].substring(0,l);c===t.lookupQuerystring&&(r=i[o].substring(l+1))}}}return r}},um=null,CP=function(){if(um!==null)return um;try{um=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch(r){um=!1}return um},fBe={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&CP()){var a=window.localStorage.getItem(t.lookupLocalStorage);a&&(r=a)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&CP()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},fm=null,AP=function(){if(fm!==null)return fm;try{fm=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch(r){fm=!1}return fm},hBe={name:"sessionStorage",lookup:function(t){var r;if(t.lookupSessionStorage&&AP()){var a=window.sessionStorage.getItem(t.lookupSessionStorage);a&&(r=a)}return r},cacheUserLanguage:function(t,r){r.lookupSessionStorage&&AP()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},mBe={name:"navigator",lookup:function(t){var r=[];if(typeof navigator!="undefined"){if(navigator.languages)for(var a=0;a<navigator.languages.length;a++)r.push(navigator.languages[a]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},pBe={name:"htmlTag",lookup:function(t){var r,a=t.htmlTag||(typeof document!="undefined"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(r=a.getAttribute("lang")),r}},gBe={name:"path",lookup:function(t){var r;if(typeof window!="undefined"){var a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(a instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof a[t.lookupFromPathIndex]!="string")return;r=a[t.lookupFromPathIndex].replace("/","")}else r=a[0].replace("/","")}return r}},xBe={name:"subdomain",lookup:function(t){var r=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,a=typeof window!="undefined"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(a)return a[r]}};function yBe(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var U8=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};nBe(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return sBe(e,[{key:"init",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=lBe(a,this.options||{},yBe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(dBe),this.addDetector(uBe),this.addDetector(fBe),this.addDetector(hBe),this.addDetector(mBe),this.addDetector(pBe),this.addDetector(gBe),this.addDetector(xBe)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var a=this;r||(r=this.options.order);var s=[];return r.forEach(function(i){if(a.detectors[i]){var o=a.detectors[i].lookup(a.options);o&&typeof o=="string"&&(o=[o]),o&&(s=s.concat(o))}}),s=s.map(function(i){return a.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(r,a){var s=this;a||(a=this.options.caches),a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||a.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(r,s.options)}))}}]),e}();U8.type="languageDetector";function A2(e){"@babel/helpers - typeof";return A2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A2(e)}function W8(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest=="undefined"?"undefined":A2(XMLHttpRequest))==="object"}function vBe(e){return!!e&&typeof e.then=="function"}function bBe(e){return vBe(e)?e:Promise.resolve(e)}function wBe(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _2={exports:{}},Ex={exports:{}},_P;function jBe(){return _P||(_P=1,function(e,t){var r=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof js!="undefined"&&js,a=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var l=typeof i!="undefined"&&i||typeof self!="undefined"&&self||typeof l!="undefined"&&l,c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(D){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(D){return D&&DataView.prototype.isPrototypeOf(D)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(D){return D&&u.indexOf(Object.prototype.toString.call(D))>-1};function h(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(D)||D==="")throw new TypeError('Invalid character in header field name: "'+D+'"');return D.toLowerCase()}function m(D){return typeof D!="string"&&(D=String(D)),D}function p(D){var M={next:function(){var H=D.shift();return{done:H===void 0,value:H}}};return c.iterable&&(M[Symbol.iterator]=function(){return M}),M}function x(D){this.map={},D instanceof x?D.forEach(function(M,H){this.append(H,M)},this):Array.isArray(D)?D.forEach(function(M){this.append(M[0],M[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(M){this.append(M,D[M])},this)}x.prototype.append=function(D,M){D=h(D),M=m(M);var H=this.map[D];this.map[D]=H?H+", "+M:M},x.prototype.delete=function(D){delete this.map[h(D)]},x.prototype.get=function(D){return D=h(D),this.has(D)?this.map[D]:null},x.prototype.has=function(D){return this.map.hasOwnProperty(h(D))},x.prototype.set=function(D,M){this.map[h(D)]=m(M)},x.prototype.forEach=function(D,M){for(var H in this.map)this.map.hasOwnProperty(H)&&D.call(M,this.map[H],H,this)},x.prototype.keys=function(){var D=[];return this.forEach(function(M,H){D.push(H)}),p(D)},x.prototype.values=function(){var D=[];return this.forEach(function(M){D.push(M)}),p(D)},x.prototype.entries=function(){var D=[];return this.forEach(function(M,H){D.push([H,M])}),p(D)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function y(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function v(D){return new Promise(function(M,H){D.onload=function(){M(D.result)},D.onerror=function(){H(D.error)}})}function w(D){var M=new FileReader,H=v(M);return M.readAsArrayBuffer(D),H}function j(D){var M=new FileReader,H=v(M);return M.readAsText(D),H}function A(D){for(var M=new Uint8Array(D),H=new Array(M.length),ee=0;ee<M.length;ee++)H[ee]=String.fromCharCode(M[ee]);return H.join("")}function C(D){if(D.slice)return D.slice(0);var M=new Uint8Array(D.byteLength);return M.set(new Uint8Array(D)),M.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(D){this.bodyUsed=this.bodyUsed,this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:c.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:c.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():c.arrayBuffer&&c.blob&&d(D)?(this._bodyArrayBuffer=C(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||f(D))?this._bodyArrayBuffer=C(D):this._bodyText=D=Object.prototype.toString.call(D):this._bodyText="",this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var D=y(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var D=y(this);return D||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(w)}),this.text=function(){var D=y(this);if(D)return D;if(this._bodyBlob)return j(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(F)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(D){var M=D.toUpperCase();return k.indexOf(M)>-1?M:D}function T(D,M){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');M=M||{};var H=M.body;if(D instanceof T){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,M.headers||(this.headers=new x(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!H&&D._bodyInit!=null&&(H=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=M.credentials||this.credentials||"same-origin",(M.headers||!this.headers)&&(this.headers=new x(M.headers)),this.method=E(M.method||this.method||"GET"),this.mode=M.mode||this.mode||null,this.signal=M.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(H),(this.method==="GET"||this.method==="HEAD")&&(M.cache==="no-store"||M.cache==="no-cache")){var ee=/([?&])_=[^&]*/;if(ee.test(this.url))this.url=this.url.replace(ee,"$1_="+new Date().getTime());else{var X=/\?/;this.url+=(X.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function F(D){var M=new FormData;return D.trim().split("&").forEach(function(H){if(H){var ee=H.split("="),X=ee.shift().replace(/\+/g," "),de=ee.join("=").replace(/\+/g," ");M.append(decodeURIComponent(X),decodeURIComponent(de))}}),M}function O(D){var M=new x,H=D.replace(/\r?\n[\t ]+/g," ");return H.split("\r").map(function(ee){return ee.indexOf(`
`)===0?ee.substr(1,ee.length):ee}).forEach(function(ee){var X=ee.split(":"),de=X.shift().trim();if(de){var le=X.join(":").trim();M.append(de,le)}}),M}S.call(T.prototype);function P(D,M){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');M||(M={}),this.type="default",this.status=M.status===void 0?200:M.status,this.ok=this.status>=200&&this.status<300,this.statusText=M.statusText===void 0?"":""+M.statusText,this.headers=new x(M.headers),this.url=M.url||"",this._initBody(D)}S.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},P.error=function(){var D=new P(null,{status:0,statusText:""});return D.type="error",D};var W=[301,302,303,307,308];P.redirect=function(D,M){if(W.indexOf(M)===-1)throw new RangeError("Invalid status code");return new P(null,{status:M,headers:{location:D}})},o.DOMException=l.DOMException;try{new o.DOMException}catch(D){o.DOMException=function(M,H){this.message=M,this.name=H;var ee=Error(M);this.stack=ee.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function q(D,M){return new Promise(function(H,ee){var X=new T(D,M);if(X.signal&&X.signal.aborted)return ee(new o.DOMException("Aborted","AbortError"));var de=new XMLHttpRequest;function le(){de.abort()}de.onload=function(){var K={status:de.status,statusText:de.statusText,headers:O(de.getAllResponseHeaders()||"")};K.url="responseURL"in de?de.responseURL:K.headers.get("X-Request-URL");var Z="response"in de?de.response:de.responseText;setTimeout(function(){H(new P(Z,K))},0)},de.onerror=function(){setTimeout(function(){ee(new TypeError("Network request failed"))},0)},de.ontimeout=function(){setTimeout(function(){ee(new TypeError("Network request failed"))},0)},de.onabort=function(){setTimeout(function(){ee(new o.DOMException("Aborted","AbortError"))},0)};function G(K){try{return K===""&&l.location.href?l.location.href:K}catch(Z){return K}}de.open(X.method,G(X.url),!0),X.credentials==="include"?de.withCredentials=!0:X.credentials==="omit"&&(de.withCredentials=!1),"responseType"in de&&(c.blob?de.responseType="blob":c.arrayBuffer&&X.headers.get("Content-Type")&&X.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(de.responseType="arraybuffer")),M&&typeof M.headers=="object"&&!(M.headers instanceof x)?Object.getOwnPropertyNames(M.headers).forEach(function(K){de.setRequestHeader(K,m(M.headers[K]))}):X.headers.forEach(function(K,Z){de.setRequestHeader(Z,K)}),X.signal&&(X.signal.addEventListener("abort",le),de.onreadystatechange=function(){de.readyState===4&&X.signal.removeEventListener("abort",le)}),de.send(typeof X._bodyInit=="undefined"?null:X._bodyInit)})}return q.polyfill=!0,l.fetch||(l.fetch=q,l.Headers=x,l.Request=T,l.Response=P),o.Headers=x,o.Request=T,o.Response=P,o.fetch=q,o})({})})(a),a.fetch.ponyfill=!0,delete a.fetch.polyfill;var s=r.fetch?r:a;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t}(Ex,Ex.exports)),Ex.exports}(function(e,t){var r;if(typeof fetch=="function"&&(typeof js!="undefined"&&js.fetch?r=js.fetch:typeof window!="undefined"&&window.fetch?r=window.fetch:r=fetch),typeof wBe!="undefined"&&typeof window=="undefined"){var a=r||jBe();a.default&&(a=a.default),t.default=a,e.exports=t.default}})(_2,_2.exports);var z8=_2.exports;const H8=yr(z8),EP=NH({__proto__:null,default:H8},[z8]);function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function OP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(a){NBe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function NBe(e,t,r){return(t=SBe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SBe(e){var t=kBe(e,"string");return jd(t)=="symbol"?t:t+""}function kBe(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(jd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}var al;typeof fetch=="function"&&(typeof global!="undefined"&&global.fetch?al=global.fetch:typeof window!="undefined"&&window.fetch?al=window.fetch:al=fetch);var ep;W8()&&(typeof global!="undefined"&&global.XMLHttpRequest?ep=global.XMLHttpRequest:typeof window!="undefined"&&window.XMLHttpRequest&&(ep=window.XMLHttpRequest));var kv;typeof ActiveXObject=="function"&&(typeof global!="undefined"&&global.ActiveXObject?kv=global.ActiveXObject:typeof window!="undefined"&&window.ActiveXObject&&(kv=window.ActiveXObject));!al&&EP&&!ep&&!kv&&(al=H8||EP);typeof al!="function"&&(al=void 0);var E2=function(t,r){if(r&&jd(r)==="object"){var a="";for(var s in r)a+="&"+encodeURIComponent(s)+"="+encodeURIComponent(r[s]);if(!a)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+a.slice(1)}return t},PP=function(t,r,a,s){var i=function(c){if(!c.ok)return a(c.statusText||"Error",{status:c.status});c.text().then(function(d){a(null,{status:c.status,data:d})}).catch(a)};if(s){var o=s(t,r);if(o instanceof Promise){o.then(i).catch(a);return}}typeof fetch=="function"?fetch(t,r).then(i).catch(a):al(t,r).then(i).catch(a)},IP=!1,CBe=function(t,r,a,s){t.queryStringParams&&(r=E2(r,t.queryStringParams));var i=OP({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window=="undefined"&&typeof global!="undefined"&&typeof global.process!="undefined"&&global.process.versions&&global.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),a&&(i["Content-Type"]="application/json");var o=typeof t.requestOptions=="function"?t.requestOptions(a):t.requestOptions,l=OP({method:a?"POST":"GET",body:a?t.stringify(a):void 0,headers:i},IP?{}:o),c=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{PP(r,l,s,c)}catch(d){if(!o||Object.keys(o).length===0||!d.message||d.message.indexOf("not implemented")<0)return s(d);try{Object.keys(o).forEach(function(u){delete l[u]}),PP(r,l,s,c),IP=!0}catch(u){s(u)}}},ABe=function(t,r,a,s){a&&jd(a)==="object"&&(a=E2("",a).slice(1)),t.queryStringParams&&(r=E2(r,t.queryStringParams));try{var i;ep?i=new ep:i=new kv("MSXML2.XMLHTTP.3.0"),i.open(a?"POST":"GET",r,1),t.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!t.withCredentials,a&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=t.customHeaders;if(o=typeof o=="function"?o():o,o)for(var l in o)i.setRequestHeader(l,o[l]);i.onreadystatechange=function(){i.readyState>3&&s(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(a)}catch(c){console&&console.log(c)}},_Be=function(t,r,a,s){if(typeof a=="function"&&(s=a,a=void 0),s=s||function(){},al&&r.indexOf("file:")!==0)return CBe(t,r,a,s);if(W8()||typeof ActiveXObject=="function")return ABe(t,r,a,s);s(new Error("No fetch and no xhr implementation found!"))};function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(a){V8(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function EBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TBe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,G8(a.key),a)}}function OBe(e,t,r){return t&&TBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V8(e,t,r){return(t=G8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8(e){var t=PBe(e,"string");return Cf(t)=="symbol"?t:t+""}function PBe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Cf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IBe=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,a,s){return V8({},a,s||"")},parseLoadPayload:function(r,a){},request:_Be,reloadInterval:typeof window!="undefined"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},q8=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};EBe(this,e),this.services=t,this.options=r,this.allOptions=a,this.type="backend",this.init(t,r,a)}return OBe(e,[{key:"init",value:function(r){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=r,this.options=yj(yj(yj({},IBe()),this.options||{}),s),this.allOptions=i,this.services&&this.options.reloadInterval){var o=setInterval(function(){return a.reload()},this.options.reloadInterval);Cf(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(r,a,s){this._readAny(r,r,a,a,s)}},{key:"read",value:function(r,a,s){this._readAny([r],r,[a],a,s)}},{key:"_readAny",value:function(r,a,s,i,o){var l=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(r,s)),c=bBe(c),c.then(function(d){if(!d)return o(null,{});var u=l.services.interpolator.interpolate(d,{lng:r.join("+"),ns:s.join("+")});l.loadUrl(u,o,a,i)})}},{key:"loadUrl",value:function(r,a,s,i){var o=this,l=typeof s=="string"?[s]:s,c=typeof i=="string"?[i]:i,d=this.options.parseLoadPayload(l,c);this.options.request(this.options,r,d,function(u,f){if(f&&(f.status>=500&&f.status<600||!f.status))return a("failed loading "+r+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return a("failed loading "+r+"; status code: "+f.status,!1);if(!f&&u&&u.message){var h=u.message.toLowerCase(),m=["failed","fetch","network","load"].find(function(y){return h.indexOf(y)>-1});if(m)return a("failed loading "+r+": "+u.message,!0)}if(u)return a(u,!1);var p,x;try{typeof f.data=="string"?p=o.options.parse(f.data,s,i):p=f.data}catch(y){x="failed parsing "+r+" to json"}if(x)return a(x,!1);a(null,p)})}},{key:"create",value:function(r,a,s,i,o){var l=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var c=this.options.parsePayload(a,s,i),d=0,u=[],f=[];r.forEach(function(h){var m=l.options.addPath;typeof l.options.addPath=="function"&&(m=l.options.addPath(h,a));var p=l.services.interpolator.interpolate(m,{lng:h,ns:a});l.options.request(l.options,p,c,function(x,y){d+=1,u.push(x),f.push(y),d===r.length&&typeof o=="function"&&o(u,f)})})}}},{key:"reload",value:function(){var r=this,a=this.services,s=a.backendConnector,i=a.languageUtils,o=a.logger,l=s.language;if(!(l&&l.toLowerCase()==="cimode")){var c=[],d=function(f){var h=i.toResolveHierarchy(f);h.forEach(function(m){c.indexOf(m)<0&&c.push(m)})};d(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(u){return d(u)}),c.forEach(function(u){r.allOptions.ns.forEach(function(f){s.read(u,f,"read",null,null,function(h,m){h&&o.warn("loading namespace ".concat(f," for language ").concat(u," failed"),h),!h&&m&&o.log("loaded namespace ".concat(f," for language ").concat(u),m),s.loaded("".concat(u,"|").concat(f),h,m)})})})}}}])}();q8.type="backend";Yn.use(q8).use(U8).use(uG).init({fallbackLng:"ar",supportedLngs:["ar","en"],lng:"ar",ns:["translation"],defaultNS:"translation",interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},detection:{order:[],caches:[]},react:{useSuspense:!1}});const K8=e=>{const t=Yn.dir(e);document.documentElement.dir=t,document.documentElement.lang=e};K8(Yn.language);Yn.on("languageChanged",K8);function FBe(){return CV([]),null}BP(document.getElementById("root")).render(n.jsx(N.StrictMode,{children:n.jsx(DH,{children:n.jsxs(kV,{children:[n.jsx(FBe,{}),n.jsx(jH,{router:I8e})]})})}));export{ue as e};
